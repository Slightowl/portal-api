!function(){"use strict";var e,n={},r={};function t(e){var o=r[e];if(void 0!==o)return o.exports;var u=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}t.m=n,e=[],t.O=function(n,r,o,u){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],u=e[c][2];for(var f=!0,l=0;l<r.length;l++)(!1&u||i>=u)&&Object.keys(t.O).every(function(e){return t.O[e](r[l])})?r.splice(l--,1):(f=!1,u<i&&(i=u));f&&(e.splice(c--,1),n=o())}return n}u=u||0;for(var c=e.length;c>0&&e[c-1][2]>u;c--)e[c]=e[c-1];e[c]=[r,o,u]},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={666:0};t.O.j=function(n){return 0===e[n]};var n=function(n,r){var o,u,i=r[0],f=r[1],l=r[2],c=0;for(o in f)t.o(f,o)&&(t.m[o]=f[o]);if(l)var a=l(t);for(n&&n(r);c<i.length;c++)t.o(e,u=i[c])&&e[u]&&e[u][0](),e[i[c]]=0;return t.O(a)},r=self.webpackChunkwebpackJsonpFormRendererElements=self.webpackChunkwebpackJsonpFormRendererElements||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}()}();
var formRendererElement;(self.webpackChunkwebpackJsonpFormRendererElements=self.webpackChunkwebpackJsonpFormRendererElements||[]).push([[429],{61605:function(t,e,n){"use strict";n.r(e);var r="undefined"!=typeof globalThis&&globalThis,o="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,a="undefined"!=typeof global&&global;function c(t,e){return":"===e.charAt(0)?t.substring(function(t,e){for(var n=1,r=1;n<t.length;n++,r++)if("\\"===e[r])r++;else if(":"===t[n])return n;throw new Error('Unterminated $localize metadata block in "'.concat(e,'".'))}(t,e)+1):t}(r||a||o||i).$localize=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(t.translate){var i=t.translate(e,r);e=i[0],r=i[1]}for(var a=c(e[0],e.raw[0]),u=1;u<e.length;u++)a+=r[u-1]+c(e[u],e.raw[u]);return a},n(27651),n(67658),n(5935),n(34091),n(28298),n(79719),n(56446),n(28615),n(59134),n(5655),n(35697),n(2057),n(75252),n(20333),n(60117),n(52167),n(21843),window.customElements||document.write('<script src="/assets/webcomponentsjs/webcomponents-loader.js"><\/script>')},21843:function(){!function(){"use strict";!function(){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.polyfillWrapFlushCallback){var t=HTMLElement;window.HTMLElement={HTMLElement:function(){return Reflect.construct(t,[],this.constructor)}}.HTMLElement,HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}()}()},60117:function(){"document"in self&&(!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(t){"use strict";if("Element"in t){var e="classList",n=t.Element.prototype,r=Object,o=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},c=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return i.call(t,e)},u=function(t){for(var e=o.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},s=u.prototype=[],f=function(){return new u(this)};if(a.prototype=Error.prototype,s.item=function(t){return this[t]||null},s.contains=function(t){return-1!==c(this,t+="")},s.add=function(){var t,e=arguments,n=0,r=e.length,o=!1;do{-1===c(this,t=e[n]+"")&&(this.push(t),o=!0)}while(++n<r);o&&this._updateClassName()},s.remove=function(){var t,e,n=arguments,r=0,o=n.length,i=!1;do{for(e=c(this,t=n[r]+"");-1!==e;)this.splice(e,1),i=!0,e=c(this,t)}while(++r<o);i&&this._updateClassName()},s.toggle=function(t,e){var n=this.contains(t+=""),r=n?!0!==e&&"remove":!1!==e&&"add";return r&&this[r](t),!0===e||!1===e?e:!n},s.toString=function(){return this.join(" ")},r.defineProperty){var l={get:f,enumerable:!0,configurable:!0};try{r.defineProperty(n,e,l)}catch(p){-2146823252===p.number&&(l.enumerable=!1,r.defineProperty(n,e,l))}}else r.prototype.__defineGetter__&&n.__defineGetter__(e,f)}}(self):function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;n<r;n++)e.call(this,t=arguments[n])}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}())},52167:function(t,e,n){"use strict";var r=n(45348).default,o=n(81589).default,i=n(62535).default,a=(function(t){var e=t.performance;function n(t){e&&e.mark&&e.mark(t)}function r(t,n){e&&e.measure&&e.measure(t,n)}n("Zone");var a=t.__Zone_symbol_prefix||"__zone_symbol__";function c(t){return a+t}var u=!0===t[c("forceDuplicateZoneCheck")];if(t.Zone){if(u||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}var s=function(){function e(t,n){o(this,e),this._parent=t,this._name=n?n.name||"unnamed":"<root>",this._properties=n&&n.properties||{},this._zoneDelegate=new p(this,this._parent&&this._parent._zoneDelegate,n)}return i(e,[{key:"parent",get:function(){return this._parent}},{key:"name",get:function(){return this._name}},{key:"get",value:function(t){var e=this.getZoneWith(t);if(e)return e._properties[t]}},{key:"getZoneWith",value:function(t){for(var e=this;e;){if(e._properties.hasOwnProperty(t))return e;e=e._parent}return null}},{key:"fork",value:function(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}},{key:"wrap",value:function(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);var n=this._zoneDelegate.intercept(this,t,e),r=this;return function(){return r.runGuarded(n,this,arguments,e)}}},{key:"run",value:function(t,e,n,r){A={parent:A,zone:this};try{return this._zoneDelegate.invoke(this,t,e,n,r)}finally{A=A.parent}}},{key:"runGuarded",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;A={parent:A,zone:this};try{try{return this._zoneDelegate.invoke(this,t,e,n,r)}catch(o){if(this._zoneDelegate.handleError(this,o))throw o}}finally{A=A.parent}}},{key:"runTask",value:function(t,e,n){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||x).name+"; Execution: "+this.name+")");if(t.state!==_||t.type!==M&&t.type!==j){var r=t.state!=w;r&&t._transitionTo(w,S),t.runCount++;var o=D;D=t,A={parent:A,zone:this};try{t.type==j&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,e,n)}catch(i){if(this._zoneDelegate.handleError(this,i))throw i}}finally{t.state!==_&&t.state!==O&&(t.type==M||t.data&&t.data.isPeriodic?r&&t._transitionTo(S,w):(t.runCount=0,this._updateTaskCount(t,-1),r&&t._transitionTo(_,w,_))),A=A.parent,D=o}}}},{key:"scheduleTask",value:function(t){if(t.zone&&t.zone!==this)for(var e=this;e;){if(e===t.zone)throw Error("can not reschedule task to ".concat(this.name," which is descendants of the original zone ").concat(t.zone.name));e=e.parent}t._transitionTo(E,_);var n=[];t._zoneDelegates=n,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(r){throw t._transitionTo(O,E,_),this._zoneDelegate.handleError(this,r),r}return t._zoneDelegates===n&&this._updateTaskCount(t,1),t.state==E&&t._transitionTo(S,E),t}},{key:"scheduleMicroTask",value:function(t,e,n,r){return this.scheduleTask(new h(I,t,e,n,r,void 0))}},{key:"scheduleMacroTask",value:function(t,e,n,r,o){return this.scheduleTask(new h(j,t,e,n,r,o))}},{key:"scheduleEventTask",value:function(t,e,n,r,o){return this.scheduleTask(new h(M,t,e,n,r,o))}},{key:"cancelTask",value:function(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||x).name+"; Execution: "+this.name+")");t._transitionTo(T,S,w);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(O,T),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(_,T),t.runCount=0,t}},{key:"_updateTaskCount",value:function(t,e){var n=t._zoneDelegates;-1==e&&(t._zoneDelegates=null);for(var r=0;r<n.length;r++)n[r]._updateTaskCount(t.type,e)}}],[{key:"assertZonePatched",value:function(){if(t.Promise!==P.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}},{key:"root",get:function(){for(var t=e.current;t.parent;)t=t.parent;return t}},{key:"current",get:function(){return A.zone}},{key:"currentTask",get:function(){return D}},{key:"__load_patch",value:function(o,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(P.hasOwnProperty(o)){if(!a&&u)throw Error("Already loaded patch: "+o)}else if(!t["__Zone_disable_"+o]){var c="Zone:"+o;n(c),P[o]=i(t,e,R),r(c,c)}}}]),e}();s.__symbol__=c;var f,l={name:"",onHasTask:function(t,e,n,r){return t.hasTask(n,r)},onScheduleTask:function(t,e,n,r){return t.scheduleTask(n,r)},onInvokeTask:function(t,e,n,r,o,i){return t.invokeTask(n,r,o,i)},onCancelTask:function(t,e,n,r){return t.cancelTask(n,r)}},p=function(){function t(e,n,r){o(this,t),this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=n,this._forkZS=r&&(r&&r.onFork?r:n._forkZS),this._forkDlgt=r&&(r.onFork?n:n._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:n._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:n._interceptZS),this._interceptDlgt=r&&(r.onIntercept?n:n._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:n._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:n._invokeZS),this._invokeDlgt=r&&(r.onInvoke?n:n._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:n._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:n._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?n:n._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:n._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:n._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?n:n._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:n._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:n._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?n:n._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:n._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:n._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?n:n._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:n._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var i=r&&r.onHasTask;(i||n&&n._hasTaskZS)&&(this._hasTaskZS=i?r:l,this._hasTaskDlgt=n,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=e,r.onScheduleTask||(this._scheduleTaskZS=l,this._scheduleTaskDlgt=n,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=l,this._invokeTaskDlgt=n,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=l,this._cancelTaskDlgt=n,this._cancelTaskCurrZone=this.zone))}return i(t,[{key:"fork",value:function(t,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,e):new s(t,e)}},{key:"intercept",value:function(t,e,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,e,n):e}},{key:"invoke",value:function(t,e,n,r,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,e,n,r,o):e.apply(n,r)}},{key:"handleError",value:function(t,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,e)}},{key:"scheduleTask",value:function(t,e){var n=e;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),(n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,e))||(n=e);else if(e.scheduleFn)e.scheduleFn(e);else{if(e.type!=I)throw new Error("Task is missing scheduleFn.");b(e)}return n}},{key:"invokeTask",value:function(t,e,n,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,e,n,r):e.callback.apply(n,r)}},{key:"cancelTask",value:function(t,e){var n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,e);else{if(!e.cancelFn)throw Error("Task is not cancelable");n=e.cancelFn(e)}return n}},{key:"hasTask",value:function(t,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(n){this.handleError(t,n)}}},{key:"_updateTaskCount",value:function(t,e){var n=this._taskCounts,r=n[t],o=n[t]=r+e;if(o<0)throw new Error("More tasks executed then were scheduled.");0!=r&&0!=o||this.hasTask(this.zone,{microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:t})}}]),t}(),h=function(){function e(n,r,i,a,c,u){if(o(this,e),this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=n,this.source=r,this.data=a,this.scheduleFn=c,this.cancelFn=u,!i)throw new Error("callback is not defined");this.callback=i;var s=this;this.invoke=n===M&&a&&a.useG?e.invokeTask:function(){return e.invokeTask.call(t,s,this,arguments)}}return i(e,[{key:"zone",get:function(){return this._zone}},{key:"state",get:function(){return this._state}},{key:"cancelScheduleRequest",value:function(){this._transitionTo(_,E)}},{key:"_transitionTo",value:function(t,e,n){if(this._state!==e&&this._state!==n)throw new Error("".concat(this.type," '").concat(this.source,"': can not transition to '").concat(t,"', expecting state '").concat(e,"'").concat(n?" or '"+n+"'":"",", was '").concat(this._state,"'."));this._state=t,t==_&&(this._zoneDelegates=null)}},{key:"toString",value:function(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}},{key:"toJSON",value:function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}],[{key:"invokeTask",value:function(t,e,n){t||(t=this),N++;try{return t.runCount++,t.zone.runTask(t,e,n)}finally{1==N&&k(),N--}}}]),e}(),v=c("setTimeout"),d=c("Promise"),g=c("then"),y=[],m=!1;function b(e){if(0===N&&0===y.length)if(f||t[d]&&(f=t[d].resolve(0)),f){var n=f[g];n||(n=f.then),n.call(f,k)}else t[v](k,0);e&&y.push(e)}function k(){if(!m){for(m=!0;y.length;){var t=y;y=[];for(var e=0;e<t.length;e++){var n=t[e];try{n.zone.runTask(n,null,null)}catch(r){R.onUnhandledError(r)}}}R.microtaskDrainDone(),m=!1}}var x={name:"NO ZONE"},_="notScheduled",E="scheduling",S="scheduled",w="running",T="canceling",O="unknown",I="microTask",j="macroTask",M="eventTask",P={},R={symbol:c,currentZoneFrame:function(){return A},onUnhandledError:C,microtaskDrainDone:C,scheduleMicroTask:b,showUncaughtError:function(){return!s[c("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function(){return[]},patchOnProperties:C,patchMethod:function(){return C},bindArguments:function(){return[]},patchThen:function(){return C},patchMacroTask:function(){return C},patchEventPrototype:function(){return C},isIEOrEdge:function(){return!1},getGlobalObjects:function(){},ObjectDefineProperty:function(){return C},ObjectGetOwnPropertyDescriptor:function(){},ObjectCreate:function(){},ArraySlice:function(){return[]},patchClass:function(){return C},wrapWithCurrentZone:function(){return C},filterProperties:function(){return[]},attachOriginToPatched:function(){return C},_redefineProperty:function(){return C},patchCallbacks:function(){return C}},A={parent:null,zone:new s(null,null)},D=null,N=0;function C(){}r("Zone","Zone"),t.Zone=s}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global),Object.getOwnPropertyDescriptor),c=Object.defineProperty,u=Object.getPrototypeOf,s=Object.create,f=Array.prototype.slice,l="addEventListener",p="removeEventListener",h=Zone.__symbol__(l),v=Zone.__symbol__(p),d="true",g="false",y=Zone.__symbol__("");function m(t,e){return Zone.current.wrap(t,e)}function b(t,e,n,r,o){return Zone.current.scheduleMacroTask(t,e,n,r,o)}var k=Zone.__symbol__,x="undefined"!=typeof window,_=x?window:void 0,E=x&&_||"object"==typeof self&&self||global,S=[null];function w(t,e){for(var n=t.length-1;n>=0;n--)"function"==typeof t[n]&&(t[n]=m(t[n],e+"_"+n));return t}function T(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}var O="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,I=!("nw"in E)&&void 0!==E.process&&"[object process]"==={}.toString.call(E.process),j=!I&&!O&&!(!x||!_.HTMLElement),M=void 0!==E.process&&"[object process]"==={}.toString.call(E.process)&&!O&&!(!x||!_.HTMLElement),P={},R=function(t){if(t=t||E.event){var e=P[t.type];e||(e=P[t.type]=k("ON_PROPERTY"+t.type));var n,r=this||t.target||E,o=r[e];if(j&&r===_&&"error"===t.type){var i=t;!0===(n=o&&o.call(this,i.message,i.filename,i.lineno,i.colno,i.error))&&t.preventDefault()}else null==(n=o&&o.apply(this,arguments))||n||t.preventDefault();return n}};function A(t,e,n){var r=a(t,e);if(!r&&n&&a(n,e)&&(r={enumerable:!0,configurable:!0}),r&&r.configurable){var o=k("on"+e+"patched");if(!t.hasOwnProperty(o)||!t[o]){delete r.writable,delete r.value;var i=r.get,u=r.set,s=e.substr(2),f=P[s];f||(f=P[s]=k("ON_PROPERTY"+s)),r.set=function(e){var n=this;n||t!==E||(n=E),n&&(n[f]&&n.removeEventListener(s,R),u&&u.apply(n,S),"function"==typeof e?(n[f]=e,n.addEventListener(s,R,!1)):n[f]=null)},r.get=function(){var n=this;if(n||t!==E||(n=E),!n)return null;var o=n[f];if(o)return o;if(i){var a=i&&i.call(this);if(a)return r.set.call(this,a),"function"==typeof n.removeAttribute&&n.removeAttribute(e),a}return null},c(t,e,r),t[o]=!0}}}function D(t,e,n){if(e)for(var r=0;r<e.length;r++)A(t,"on"+e[r],n);else{var o=[];for(var i in t)"on"==i.substr(0,2)&&o.push(i);for(var a=0;a<o.length;a++)A(t,o[a],n)}}var N=k("originalInstance");function C(t){var e=E[t];if(e){E[k(t)]=e,E[t]=function(){var n=w(arguments,t);switch(n.length){case 0:this[N]=new e;break;case 1:this[N]=new e(n[0]);break;case 2:this[N]=new e(n[0],n[1]);break;case 3:this[N]=new e(n[0],n[1],n[2]);break;case 4:this[N]=new e(n[0],n[1],n[2],n[3]);break;default:throw new Error("Arg list too long.")}},L(E[t],e);var n,r=new e(function(){});for(n in r)"XMLHttpRequest"===t&&"responseBlob"===n||function(e){"function"==typeof r[e]?E[t].prototype[e]=function(){return this[N][e].apply(this[N],arguments)}:c(E[t].prototype,e,{set:function(n){"function"==typeof n?(this[N][e]=m(n,t+"."+e),L(this[N][e],n)):this[N][e]=n},get:function(){return this[N][e]}})}(n);for(n in e)"prototype"!==n&&e.hasOwnProperty(n)&&(E[t][n]=e[n])}}function z(t,e,n){for(var r=t;r&&!r.hasOwnProperty(e);)r=u(r);!r&&t[e]&&(r=t);var o=k(e),i=null;if(r&&(!(i=r[o])||!r.hasOwnProperty(o))&&(i=r[o]=r[e],T(r&&a(r,e)))){var c=n(i,o,e);r[e]=function(){return c(this,arguments)},L(r[e],i)}return i}function Z(t,e,n){var r=null;function o(t){var e=t.data;return e.args[e.cbIdx]=function(){t.invoke.apply(this,arguments)},r.apply(e.target,e.args),t}r=z(t,e,function(t){return function(e,r){var i=n(e,r);return i.cbIdx>=0&&"function"==typeof r[i.cbIdx]?b(i.name,r[i.cbIdx],i,o):t.apply(e,r)}})}function L(t,e){t[k("OriginalDelegate")]=e}var F=!1,U=!1;function G(){if(F)return U;F=!0;try{var t=_.navigator.userAgent;-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(U=!0)}catch(e){}return U}Zone.__load_patch("ZoneAwarePromise",function(t,e,n){var a=Object.getOwnPropertyDescriptor,c=Object.defineProperty,u=n.symbol,s=[],f=!0===t[u("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],l=u("Promise"),p=u("then");n.onUnhandledError=function(t){if(n.showUncaughtError()){var e=t&&t.rejection;e?console.error("Unhandled Promise rejection:",e instanceof Error?e.message:e,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",e,e instanceof Error?e.stack:void 0):console.error(t)}},n.microtaskDrainDone=function(){for(var t=function(){var t=s.shift();try{t.zone.runGuarded(function(){if(t.throwOriginal)throw t.rejection;throw t})}catch(r){!function(t){n.onUnhandledError(t);try{var r=e[h];"function"==typeof r&&r.call(this,t)}catch(o){}}(r)}};s.length;)t()};var h=u("unhandledPromiseRejectionHandler");function v(t){return t&&t.then}function d(t){return t}function g(t){return R.reject(t)}var y=u("state"),m=u("value"),b=u("finally"),k=u("parentPromiseValue"),x=u("parentPromiseState"),_=null,E=!0,S=!1;function w(t,e){return function(n){try{O(t,e,n)}catch(r){O(t,!1,r)}}}var T=u("currentTaskTrace");function O(t,r,o){var i,a,u=(i=!1,function(t){return function(){i||(i=!0,t.apply(null,arguments))}});if(t===o)throw new TypeError("Promise resolved with itself");if(t[y]===_){var l=null;try{"object"!=typeof o&&"function"!=typeof o||(l=o&&o.then)}catch(g){return u(function(){O(t,!1,g)})(),t}if(r!==S&&o instanceof R&&o.hasOwnProperty(y)&&o.hasOwnProperty(m)&&o[y]!==_)j(o),O(t,o[y],o[m]);else if(r!==S&&"function"==typeof l)try{l.call(o,u(w(t,r)),u(w(t,!1)))}catch(g){u(function(){O(t,!1,g)})()}else{t[y]=r;var p=t[m];if(t[m]=o,t[b]===b&&r===E&&(t[y]=t[x],t[m]=t[k]),r===S&&o instanceof Error){var h=e.currentTask&&e.currentTask.data&&e.currentTask.data.__creationTrace__;h&&c(o,T,{configurable:!0,enumerable:!1,writable:!0,value:h})}for(var v=0;v<p.length;)M(t,p[v++],p[v++],p[v++],p[v++]);if(0==p.length&&r==S){t[y]=0;var d=o;try{throw new Error("Uncaught (in promise): "+((a=o)&&a.toString===Object.prototype.toString?(a.constructor&&a.constructor.name||"")+": "+JSON.stringify(a):a?a.toString():Object.prototype.toString.call(a))+(o&&o.stack?"\n"+o.stack:""))}catch(g){d=g}f&&(d.throwOriginal=!0),d.rejection=o,d.promise=t,d.zone=e.current,d.task=e.currentTask,s.push(d),n.scheduleMicroTask()}}}return t}var I=u("rejectionHandledHandler");function j(t){if(0===t[y]){try{var n=e[I];n&&"function"==typeof n&&n.call(this,{rejection:t[m],promise:t})}catch(o){}t[y]=S;for(var r=0;r<s.length;r++)t===s[r].promise&&s.splice(r,1)}}function M(t,e,n,r,o){j(t);var i=t[y],a=i?"function"==typeof r?r:d:"function"==typeof o?o:g;e.scheduleMicroTask("Promise.then",function(){try{var r=t[m],o=!!n&&b===n[b];o&&(n[k]=r,n[x]=i);var c=e.run(a,void 0,o&&a!==g&&a!==d?[]:[r]);O(n,!0,c)}catch(u){O(n,!1,u)}},n)}var P=function(){},R=function(t,n){function a(t){o(this,a);var e=this;if(!(e instanceof a))throw new Error("Must be an instanceof Promise.");e[y]=_,e[m]=[];try{t&&t(w(e,E),w(e,S))}catch(n){O(e,!1,n)}}return i(a,[{key:t,get:function(){return"Promise"}},{key:n,get:function(){return a}},{key:"then",value:function(t,n){var r=this.constructor[Symbol.species];r&&"function"==typeof r||(r=this.constructor||a);var o=new r(P),i=e.current;return this[y]==_?this[m].push(i,o,t,n):M(this,i,o,t,n),o}},{key:"catch",value:function(t){return this.then(null,t)}},{key:"finally",value:function(t){var n=this.constructor[Symbol.species];n&&"function"==typeof n||(n=a);var r=new n(P);r[b]=b;var o=e.current;return this[y]==_?this[m].push(o,r,t,t):M(this,o,r,t,t),r}}],[{key:"toString",value:function(){return"function ZoneAwarePromise() { [native code] }"}},{key:"resolve",value:function(t){return O(new this(null),E,t)}},{key:"reject",value:function(t){return O(new this(null),S,t)}},{key:"race",value:function(t){var e,n,o=new this(function(t,r){e=t,n=r});function i(t){e(t)}function a(t){n(t)}var c,u=r(t);try{for(u.s();!(c=u.n()).done;){var s=c.value;v(s)||(s=this.resolve(s)),s.then(i,a)}}catch(f){u.e(f)}finally{u.f()}return o}},{key:"all",value:function(t){return a.allWithCallback(t)}},{key:"allSettled",value:function(t){return(this&&this.prototype instanceof a?this:a).allWithCallback(t,{thenCallback:function(t){return{status:"fulfilled",value:t}},errorCallback:function(t){return{status:"rejected",reason:t}}})}},{key:"allWithCallback",value:function(t,e){var n,o,i,a=this,c=new this(function(t,e){n=t,o=e}),u=2,s=0,f=[],l=r(t);try{var p=function(){var t=i.value;v(t)||(t=a.resolve(t));var r=s;try{t.then(function(t){f[r]=e?e.thenCallback(t):t,0==--u&&n(f)},function(t){e?(f[r]=e.errorCallback(t),0==--u&&n(f)):o(t)})}catch(c){o(c)}u++,s++};for(l.s();!(i=l.n()).done;)p()}catch(h){l.e(h)}finally{l.f()}return 0==(u-=2)&&n(f),c}}]),a}(Symbol.toStringTag,Symbol.species);R.resolve=R.resolve,R.reject=R.reject,R.race=R.race,R.all=R.all;var A=t[l]=t.Promise;t.Promise=R;var D=u("thenPatched");function N(t){var e=t.prototype,n=a(e,"then");if(!n||!1!==n.writable&&n.configurable){var r=e.then;e[p]=r,t.prototype.then=function(t,e){var n=this;return new R(function(t,e){r.call(n,t,e)}).then(t,e)},t[D]=!0}}return n.patchThen=N,A&&(N(A),z(t,"fetch",function(t){return e=t,function(t,n){var r=e.apply(t,n);if(r instanceof R)return r;var o=r.constructor;return o[D]||N(o),r};var e})),Promise[e.__symbol__("uncaughtPromiseErrors")]=s,R}),Zone.__load_patch("toString",function(t){var e=Function.prototype.toString,n=k("OriginalDelegate"),r=k("Promise"),o=k("Error"),i=function(){if("function"==typeof this){var i=this[n];if(i)return"function"==typeof i?e.call(i):Object.prototype.toString.call(i);if(this===Promise){var a=t[r];if(a)return e.call(a)}if(this===Error){var c=t[o];if(c)return e.call(c)}}return e.call(this)};i[n]=e,Function.prototype.toString=i;var a=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":a.call(this)}});var H=!1;if("undefined"!=typeof window)try{var W=Object.defineProperty({},"passive",{get:function(){H=!0}});window.addEventListener("test",W,W),window.removeEventListener("test",W,W)}catch(yt){H=!1}var q={useG:!0},V={},B={},X=new RegExp("^"+y+"(\\w+)(true|false)$"),$=k("propagationStopped");function Y(t,e){var n=(e?e(t):t)+g,r=(e?e(t):t)+d,o=y+n,i=y+r;V[t]={},V[t].false=o,V[t].true=i}function J(t,e,n){var r=n&&n.add||l,o=n&&n.rm||p,i=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",c=k(r),s="."+r+":",f=function(t,e,n){if(!t.isRemoved){var r=t.callback;"object"==typeof r&&r.handleEvent&&(t.callback=function(t){return r.handleEvent(t)},t.originalDelegate=r),t.invoke(t,e,[n]);var i=t.options;i&&"object"==typeof i&&i.once&&e[o].call(e,n.type,t.originalDelegate?t.originalDelegate:t.callback,i)}},h=function(e){if(e=e||t.event){var n=this||e.target||t,r=n[V[e.type].false];if(r)if(1===r.length)f(r[0],n,e);else for(var o=r.slice(),i=0;i<o.length&&(!e||!0!==e[$]);i++)f(o[i],n,e)}},v=function(e){if(e=e||t.event){var n=this||e.target||t,r=n[V[e.type].true];if(r)if(1===r.length)f(r[0],n,e);else for(var o=r.slice(),i=0;i<o.length&&(!e||!0!==e[$]);i++)f(o[i],n,e)}};function m(e,n){if(!e)return!1;var f=!0;n&&void 0!==n.useG&&(f=n.useG);var l=n&&n.vh,p=!0;n&&void 0!==n.chkDup&&(p=n.chkDup);var m=!1;n&&void 0!==n.rt&&(m=n.rt);for(var b=e;b&&!b.hasOwnProperty(r);)b=u(b);if(!b&&e[r]&&(b=e),!b)return!1;if(b[c])return!1;var x,_=n&&n.eventNameToString,E={},S=b[c]=b[r],w=b[k(o)]=b[o],T=b[k(i)]=b[i],O=b[k(a)]=b[a];function j(t,e){return!H&&"object"==typeof t&&t?!!t.capture:H&&e?"boolean"==typeof t?{capture:t,passive:!0}:t?"object"==typeof t&&!1!==t.passive?Object.assign(Object.assign({},t),{passive:!0}):t:{passive:!0}:t}n&&n.prepend&&(x=b[k(n.prepend)]=b[n.prepend]);var M=f?function(t){if(!E.isExisting)return S.call(E.target,E.eventName,E.capture?v:h,E.options)}:function(t){return S.call(E.target,E.eventName,t.invoke,E.options)},P=f?function(t){if(!t.isRemoved){var e,n=V[t.eventName];n&&(e=n[t.capture?d:g]);var r=e&&t.target[e];if(r)for(var o=0;o<r.length;o++)if(r[o]===t){r.splice(o,1),t.isRemoved=!0,0===r.length&&(t.allRemoved=!0,t.target[e]=null);break}}if(t.allRemoved)return w.call(t.target,t.eventName,t.capture?v:h,t.options)}:function(t){return w.call(t.target,t.eventName,t.invoke,t.options)},R=n&&n.diff?n.diff:function(t,e){var n=typeof e;return"function"===n&&t.callback===e||"object"===n&&t.originalDelegate===e},A=Zone[k("UNPATCHED_EVENTS")],D=t[k("PASSIVE_EVENTS")],N=function(e,r,o,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(){var u=this||t,s=arguments[0];n&&n.transferEventName&&(s=n.transferEventName(s));var h=arguments[1];if(!h)return e.apply(this,arguments);if(I&&"uncaughtException"===s)return e.apply(this,arguments);var v=!1;if("function"!=typeof h){if(!h.handleEvent)return e.apply(this,arguments);v=!0}if(!l||l(e,h,u,arguments)){var y=H&&!!D&&-1!==D.indexOf(s),m=j(arguments[2],y);if(A)for(var b=0;b<A.length;b++)if(s===A[b])return y?e.call(u,s,h,m):e.apply(this,arguments);var k=!!m&&("boolean"==typeof m||m.capture),x=!(!m||"object"!=typeof m)&&m.once,S=Zone.current,w=V[s];w||(Y(s,_),w=V[s]);var T,O=w[k?d:g],M=u[O],P=!1;if(M){if(P=!0,p)for(var N=0;N<M.length;N++)if(R(M[N],h))return}else M=u[O]=[];var C=u.constructor.name,z=B[C];z&&(T=z[s]),T||(T=C+r+(_?_(s):s)),E.options=m,x&&(E.options.once=!1),E.target=u,E.capture=k,E.eventName=s,E.isExisting=P;var Z=f?q:void 0;Z&&(Z.taskData=E);var L=S.scheduleEventTask(T,h,Z,o,i);return E.target=null,Z&&(Z.taskData=null),x&&(m.once=!0),(H||"boolean"!=typeof L.options)&&(L.options=m),L.target=u,L.capture=k,L.eventName=s,v&&(L.originalDelegate=h),c?M.unshift(L):M.push(L),a?u:void 0}}};return b[r]=N(S,s,M,P,m),x&&(b.prependListener=N(x,".prependListener:",function(t){return x.call(E.target,E.eventName,t.invoke,E.options)},P,m,!0)),b[o]=function(){var e=this||t,r=arguments[0];n&&n.transferEventName&&(r=n.transferEventName(r));var o=arguments[2],i=!!o&&("boolean"==typeof o||o.capture),a=arguments[1];if(!a)return w.apply(this,arguments);if(!l||l(w,a,e,arguments)){var c,u=V[r];u&&(c=u[i?d:g]);var s=c&&e[c];if(s)for(var f=0;f<s.length;f++){var p=s[f];if(R(p,a)){if(s.splice(f,1),p.isRemoved=!0,0===s.length&&(p.allRemoved=!0,e[c]=null,"string"==typeof r)){var h=y+"ON_PROPERTY"+r;e[h]=null}return p.zone.cancelTask(p),m?e:void 0}}return w.apply(this,arguments)}},b[i]=function(){var e=this||t,r=arguments[0];n&&n.transferEventName&&(r=n.transferEventName(r));for(var o=[],i=K(e,_?_(r):r),a=0;a<i.length;a++){var c=i[a],u=c.originalDelegate?c.originalDelegate:c.callback;o.push(u)}return o},b[a]=function(){var e=this||t,r=arguments[0];if(r){n&&n.transferEventName&&(r=n.transferEventName(r));var i=V[r];if(i){var c=i.false,u=i.true,s=e[c],f=e[u];if(s)for(var l=s.slice(),p=0;p<l.length;p++){var h=l[p],v=h.originalDelegate?h.originalDelegate:h.callback;this[o].call(this,r,v,h.options)}if(f)for(var d=f.slice(),g=0;g<d.length;g++){var y=d[g],b=y.originalDelegate?y.originalDelegate:y.callback;this[o].call(this,r,b,y.options)}}}else{for(var k=Object.keys(e),x=0;x<k.length;x++){var _=k[x],E=X.exec(_),S=E&&E[1];S&&"removeListener"!==S&&this[a].call(this,S)}this[a].call(this,"removeListener")}if(m)return this},L(b[r],S),L(b[o],w),O&&L(b[a],O),T&&L(b[i],T),!0}for(var b=[],x=0;x<e.length;x++)b[x]=m(e[x],n);return b}function K(t,e){if(!e){var n=[];for(var r in t){var o=X.exec(r),i=o&&o[1];if(i&&(!e||i===e)){var a=t[r];if(a)for(var c=0;c<a.length;c++)n.push(a[c])}}return n}var u=V[e];u||(Y(e),u=V[e]);var s=t[u.false],f=t[u.true];return s?f?s.concat(f):s.slice():f?f.slice():[]}function Q(t,e){var n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",function(t){return function(e,n){e[$]=!0,t&&t.apply(e,n)}})}function tt(t,e,n,r,o){var i=Zone.__symbol__(r);if(!e[i]){var a=e[i]=e[r];e[r]=function(i,c,u){return c&&c.prototype&&o.forEach(function(e){var o="".concat(n,".").concat(r,"::")+e,i=c.prototype;if(i.hasOwnProperty(e)){var a=t.ObjectGetOwnPropertyDescriptor(i,e);a&&a.value?(a.value=t.wrapWithCurrentZone(a.value,o),t._redefineProperty(c.prototype,e,a)):i[e]&&(i[e]=t.wrapWithCurrentZone(i[e],o))}else i[e]&&(i[e]=t.wrapWithCurrentZone(i[e],o))}),a.call(e,i,c,u)},t.attachOriginToPatched(e[r],a)}}var et=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],nt=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],rt=["load"],ot=["blur","error","focus","load","resize","scroll","messageerror"],it=["bounce","finish","start"],at=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],ct=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],ut=["close","error","open","message"],st=["error","message"],ft=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],et,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function lt(t,e,n){if(!n||0===n.length)return e;var r=n.filter(function(e){return e.target===t});if(!r||0===r.length)return e;var o=r[0].ignoreProperties;return e.filter(function(t){return-1===o.indexOf(t)})}function pt(t,e,n,r){t&&D(t,lt(t,e,n),r)}function ht(t,e){if((!I||M)&&!Zone[t.symbol("patchEvents")]){var n="undefined"!=typeof WebSocket,r=e.__Zone_ignore_on_properties;if(j){var o=window,i=function(){try{var t=_.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(e){}return!1}()?[{target:o,ignoreProperties:["error"]}]:[];pt(o,ft.concat(["messageerror"]),r?r.concat(i):r,u(o)),pt(Document.prototype,ft,r),void 0!==o.SVGElement&&pt(o.SVGElement.prototype,ft,r),pt(Element.prototype,ft,r),pt(HTMLElement.prototype,ft,r),pt(HTMLMediaElement.prototype,nt,r),pt(HTMLFrameSetElement.prototype,et.concat(ot),r),pt(HTMLBodyElement.prototype,et.concat(ot),r),pt(HTMLFrameElement.prototype,rt,r),pt(HTMLIFrameElement.prototype,rt,r);var a=o.HTMLMarqueeElement;a&&pt(a.prototype,it,r);var c=o.Worker;c&&pt(c.prototype,st,r)}var s=e.XMLHttpRequest;s&&pt(s.prototype,at,r);var f=e.XMLHttpRequestEventTarget;f&&pt(f&&f.prototype,at,r),"undefined"!=typeof IDBIndex&&(pt(IDBIndex.prototype,ct,r),pt(IDBRequest.prototype,ct,r),pt(IDBOpenDBRequest.prototype,ct,r),pt(IDBDatabase.prototype,ct,r),pt(IDBTransaction.prototype,ct,r),pt(IDBCursor.prototype,ct,r)),n&&pt(WebSocket.prototype,ut,r)}}Zone.__load_patch("util",function(t,e,n){n.patchOnProperties=D,n.patchMethod=z,n.bindArguments=w,n.patchMacroTask=Z;var r=e.__symbol__("BLACK_LISTED_EVENTS"),o=e.__symbol__("UNPATCHED_EVENTS");t[o]&&(t[r]=t[o]),t[r]&&(e[r]=e[o]=t[r]),n.patchEventPrototype=Q,n.patchEventTarget=J,n.isIEOrEdge=G,n.ObjectDefineProperty=c,n.ObjectGetOwnPropertyDescriptor=a,n.ObjectCreate=s,n.ArraySlice=f,n.patchClass=C,n.wrapWithCurrentZone=m,n.filterProperties=lt,n.attachOriginToPatched=L,n._redefineProperty=Object.defineProperty,n.patchCallbacks=tt,n.getGlobalObjects=function(){return{globalSources:B,zoneSymbolEventNames:V,eventNames:ft,isBrowser:j,isMix:M,isNode:I,TRUE_STR:d,FALSE_STR:g,ZONE_SYMBOL_PREFIX:y,ADD_EVENT_LISTENER_STR:l,REMOVE_EVENT_LISTENER_STR:p}}});var vt=k("zoneTask");function dt(t,e,n,r){var o=null,i=null;n+=r;var a={};function c(e){var n=e.data;return n.args[0]=function(){return e.invoke.apply(this,arguments)},n.handleId=o.apply(t,n.args),e}function u(e){return i.call(t,e.data.handleId)}o=z(t,e+=r,function(n){return function(o,i){if("function"==typeof i[0]){var s={isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?i[1]||0:void 0,args:i},f=i[0];i[0]=function(){try{return f.apply(this,arguments)}finally{s.isPeriodic||("number"==typeof s.handleId?delete a[s.handleId]:s.handleId&&(s.handleId[vt]=null))}};var l=b(e,i[0],s,c,u);if(!l)return l;var p=l.data.handleId;return"number"==typeof p?a[p]=l:p&&(p[vt]=l),p&&p.ref&&p.unref&&"function"==typeof p.ref&&"function"==typeof p.unref&&(l.ref=p.ref.bind(p),l.unref=p.unref.bind(p)),"number"==typeof p||p?p:l}return n.apply(t,i)}}),i=z(t,n,function(e){return function(n,r){var o,i=r[0];"number"==typeof i?o=a[i]:(o=i&&i[vt])||(o=i),o&&"string"==typeof o.type?"notScheduled"!==o.state&&(o.cancelFn&&o.data.isPeriodic||0===o.runCount)&&("number"==typeof i?delete a[i]:i&&(i[vt]=null),o.zone.cancelTask(o)):e.apply(t,r)}})}function gt(t,e){if(!Zone[e.symbol("patchEventTarget")]){for(var n=e.getGlobalObjects(),r=n.eventNames,o=n.zoneSymbolEventNames,i=n.TRUE_STR,a=n.FALSE_STR,c=n.ZONE_SYMBOL_PREFIX,u=0;u<r.length;u++){var s=r[u],f=c+(s+a),l=c+(s+i);o[s]={},o[s][a]=f,o[s][i]=l}var p=t.EventTarget;if(p&&p.prototype)return e.patchEventTarget(t,[p&&p.prototype]),!0}}Zone.__load_patch("legacy",function(t){var e=t[Zone.__symbol__("legacyPatch")];e&&e()}),Zone.__load_patch("queueMicrotask",function(t,e,n){n.patchMethod(t,"queueMicrotask",function(t){return function(t,n){e.current.scheduleMicroTask("queueMicrotask",n[0])}})}),Zone.__load_patch("timers",function(t){var e="set",n="clear";dt(t,e,n,"Timeout"),dt(t,e,n,"Interval"),dt(t,e,n,"Immediate")}),Zone.__load_patch("requestAnimationFrame",function(t){dt(t,"request","cancel","AnimationFrame"),dt(t,"mozRequest","mozCancel","AnimationFrame"),dt(t,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",function(t,e){for(var n=["alert","prompt","confirm"],r=0;r<n.length;r++)z(t,n[r],function(n,r,o){return function(r,i){return e.current.run(n,t,i,o)}})}),Zone.__load_patch("EventTarget",function(t,e,n){!function(t,e){e.patchEventPrototype(t,e)}(t,n),gt(t,n);var r=t.XMLHttpRequestEventTarget;r&&r.prototype&&n.patchEventTarget(t,[r.prototype])}),Zone.__load_patch("MutationObserver",function(t,e,n){C("MutationObserver"),C("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",function(t,e,n){C("IntersectionObserver")}),Zone.__load_patch("FileReader",function(t,e,n){C("FileReader")}),Zone.__load_patch("on_property",function(t,e,n){ht(n,t)}),Zone.__load_patch("customElements",function(t,e,n){!function(t,e){var n=e.getGlobalObjects();(n.isBrowser||n.isMix)&&t.customElements&&"customElements"in t&&e.patchCallbacks(e,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,n)}),Zone.__load_patch("XHR",function(t,e){!function(t){var u=t.XMLHttpRequest;if(u){var s=u.prototype,f=s[h],l=s[v];if(!f){var p=t.XMLHttpRequestEventTarget;if(p){var d=p.prototype;f=d[h],l=d[v]}}var g="readystatechange",y="scheduled",m=z(s,"open",function(){return function(t,e){return t[r]=0==e[2],t[a]=e[1],m.apply(t,e)}}),x=k("fetchTaskAborting"),_=k("fetchTaskScheduling"),E=z(s,"send",function(){return function(t,n){if(!0===e.current[_])return E.apply(t,n);if(t[r])return E.apply(t,n);var o={target:t,url:t[a],isPeriodic:!1,args:n,aborted:!1},i=b("XMLHttpRequest.send",T,o,w,O);t&&!0===t[c]&&!o.aborted&&i.state===y&&i.invoke()}}),S=z(s,"abort",function(){return function(t,r){var o=t[n];if(o&&"string"==typeof o.type){if(null==o.cancelFn||o.data&&o.data.aborted)return;o.zone.cancelTask(o)}else if(!0===e.current[x])return S.apply(t,r)}})}function w(t){var r=t.data,a=r.target;a[i]=!1,a[c]=!1;var u=a[o];f||(f=a[h],l=a[v]),u&&l.call(a,g,u);var s=a[o]=function(){if(a.readyState===a.DONE)if(!r.aborted&&a[i]&&t.state===y){var n=a[e.__symbol__("loadfalse")];if(0!==a.status&&n&&n.length>0){var o=t.invoke;t.invoke=function(){for(var n=a[e.__symbol__("loadfalse")],i=0;i<n.length;i++)n[i]===t&&n.splice(i,1);r.aborted||t.state!==y||o.call(t)},n.push(t)}else t.invoke()}else r.aborted||!1!==a[i]||(a[c]=!0)};return f.call(a,g,s),a[n]||(a[n]=t),E.apply(a,r.args),a[i]=!0,t}function T(){}function O(t){var e=t.data;return e.aborted=!0,S.apply(e.target,e.args)}}(t);var n=k("xhrTask"),r=k("xhrSync"),o=k("xhrListener"),i=k("xhrScheduled"),a=k("xhrURL"),c=k("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",function(t){t.navigator&&t.navigator.geolocation&&function(t,e){for(var n=t.constructor.name,r=function(r){var o=e[r],i=t[o];if(i){if(!T(a(t,o)))return"continue";t[o]=function(t){var e=function(){return t.apply(this,w(arguments,n+"."+o))};return L(e,t),e}(i)}},o=0;o<e.length;o++)r(o)}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",function(t,e){function n(e){return function(n){K(t,e).forEach(function(r){var o=t.PromiseRejectionEvent;if(o){var i=new o(e,{promise:n.promise,reason:n.rejection});r.invoke(i)}})}}t.PromiseRejectionEvent&&(e[k("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),e[k("rejectionHandledHandler")]=n("rejectionhandled"))})},97728:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0},81589:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},62535:function(t){function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t},t.exports.default=t.exports,t.exports.__esModule=!0},45348:function(t,e,n){var r=n(96633);t.exports=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw a}}}},t.exports.default=t.exports,t.exports.__esModule=!0},96633:function(t,e,n){var r=n(97728);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},27651:function(t,e,n){n(13744),n(66388),n(99394),n(65842),n(8974),n(77347),n(7678),n(96244),n(85443),n(14626),n(56485),n(75278),n(13311),n(4690),n(44049),n(74984),n(66837),n(61180),n(67400),n(78004),n(35319),n(97921),n(57353),n(86174),n(67328),n(41097),n(13178),n(3047),n(54866),n(32314);var r=n(86950);t.exports=r.Array},59134:function(t,e,n){n(24636),n(85982),n(77585),n(6251),n(23073);var r=n(86950);t.exports=r.Date},5935:function(t,e,n){n(87037),n(80477),n(79213);var r=n(86950);t.exports=r.Function},35697:function(t,e,n){n(88854),n(35704),n(13744),n(22603);var r=n(86950);t.exports=r.Map},56446:function(t,e,n){n(42203),n(56440),n(49244),n(73129),n(4161),n(10298),n(45817),n(34523),n(42325),n(93042),n(88937),n(1209),n(45133),n(10110),n(80051),n(75189),n(60663),n(63862);var r=n(86950);t.exports=r.Math},79719:function(t,e,n){n(36455),n(27298),n(77135),n(60707),n(40938),n(97530),n(82527),n(90270),n(99101),n(25803),n(62583),n(6544);var r=n(86950);t.exports=r.Number},67658:function(t,e,n){n(65619),n(8868),n(12368),n(66179),n(40905),n(73958),n(36152),n(18294),n(52472),n(71519),n(51979),n(88272),n(78902),n(10420),n(70530),n(66270),n(43080),n(50410),n(42953),n(83482),n(77598),n(35704),n(7810),n(56304),n(67731),n(64115),n(24932),n(60663),n(24144);var r=n(86950);t.exports=r.Object},28298:function(t,e,n){n(24104);var r=n(86950);t.exports=r.parseFloat},34091:function(t,e,n){n(21581);var r=n(86950);t.exports=r.parseInt},20333:function(t,e,n){n(28115),n(87821),n(73138),n(92786),n(72633),n(6718),n(16989),n(80941),n(99062),n(4101),n(48905),n(79421),n(10408),n(24144);var r=n(86950);t.exports=r.Reflect},5655:function(t,e,n){n(84378),n(94119),n(69665),n(27741),n(50232),n(78682),n(26954),n(66262),n(32426),n(55374)},75252:function(t,e,n){n(43014),n(35704),n(13744),n(22603);var r=n(86950);t.exports=r.Set},28615:function(t,e,n){n(69665),n(36477),n(27163),n(56261),n(30706),n(13358),n(26954),n(7279),n(158),n(55569),n(30001),n(66262),n(57208),n(32426),n(55374),n(15139),n(77176),n(42164),n(82650),n(13744),n(99139),n(62786),n(44260),n(30890),n(98147),n(56475),n(39305),n(37285),n(38432),n(41323),n(57371),n(30352),n(80912);var r=n(86950);t.exports=r.String},2057:function(t,e,n){n(35704),n(63438),n(22603);var r=n(86950);t.exports=r.WeakMap},97625:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},95143:function(t,e,n){var r=n(60726);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},24094:function(t,e,n){var r=n(84563),o=n(38724),i=n(83202),a=r("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),t.exports=function(t){c[a][t]=!0}},27678:function(t,e,n){"use strict";var r=n(64487).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},86063:function(t){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},21099:function(t,e,n){var r=n(60726);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},24514:function(t,e,n){"use strict";var r=n(16174),o=n(20222),i=n(15902),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),c=i(n.length),u=o(t,c),s=o(e,c),f=arguments.length>2?arguments[2]:void 0,l=a((void 0===f?c:o(f,c))-s,c-u),p=1;for(s<u&&u<s+l&&(p=-1,s+=l-1,u+=l-1);l-- >0;)s in n?n[u]=n[s]:delete n[u],u+=p,s+=p;return n}},25378:function(t,e,n){"use strict";var r=n(16174),o=n(20222),i=n(15902);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,c=o(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,s=void 0===u?n:o(u,n);s>c;)e[c++]=t;return e}},17462:function(t,e,n){"use strict";var r=n(94115).forEach,o=n(47051)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},74362:function(t,e,n){"use strict";var r=n(29727),o=n(16174),i=n(57651),a=n(81643),c=n(15902),u=n(45347),s=n(63076);t.exports=function(t){var e,n,f,l,p,h,v=o(t),d="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,m=void 0!==y,b=s(v),k=0;if(m&&(y=r(y,g>2?arguments[2]:void 0,2)),null==b||d==Array&&a(b))for(n=new d(e=c(v.length));e>k;k++)h=m?y(v[k],k):v[k],u(n,k,h);else for(p=(l=b.call(v)).next,n=new d;!(f=p.call(l)).done;k++)h=m?i(l,y,[f.value,k],!0):f.value,u(n,k,h);return n.length=k,n}},70452:function(t,e,n){var r=n(8643),o=n(15902),i=n(20222),a=function(t){return function(e,n,a){var c,u=r(e),s=o(u.length),f=i(a,s);if(t&&n!=n){for(;s>f;)if((c=u[f++])!=c)return!0}else for(;s>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},94115:function(t,e,n){var r=n(29727),o=n(56169),i=n(16174),a=n(15902),c=n(62889),u=[].push,s=function(t){var e=1==t,n=2==t,s=3==t,f=4==t,l=6==t,p=7==t,h=5==t||l;return function(v,d,g,y){for(var m,b,k=i(v),x=o(k),_=r(d,g,3),E=a(x.length),S=0,w=y||c,T=e?w(v,E):n||p?w(v,0):void 0;E>S;S++)if((h||S in x)&&(b=_(m=x[S],S,k),t))if(e)T[S]=b;else if(b)switch(t){case 3:return!0;case 5:return m;case 6:return S;case 2:u.call(T,m)}else switch(t){case 4:return!1;case 7:u.call(T,m)}return l?-1:s||f?f:T}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterOut:s(7)}},51275:function(t,e,n){"use strict";var r=n(8643),o=n(59463),i=n(15902),a=n(47051),c=Math.min,u=[].lastIndexOf,s=!!u&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf");t.exports=s||!f?function(t){if(s)return u.apply(this,arguments)||0;var e=r(this),n=i(e.length),a=n-1;for(arguments.length>1&&(a=c(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:u},37394:function(t,e,n){var r=n(8597),o=n(84563),i=n(17189),a=o("species");t.exports=function(t){return i>=51||!r(function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},47051:function(t,e,n){"use strict";var r=n(8597);t.exports=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){throw 1},1)})}},14716:function(t,e,n){var r=n(97625),o=n(16174),i=n(56169),a=n(15902),c=function(t){return function(e,n,c,u){r(n);var s=o(e),f=i(s),l=a(s.length),p=t?l-1:0,h=t?-1:1;if(c<2)for(;;){if(p in f){u=f[p],p+=h;break}if(p+=h,t?p<0:l<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:l>p;p+=h)p in f&&(u=n(u,f[p],p,s));return u}};t.exports={left:c(!1),right:c(!0)}},62889:function(t,e,n){var r=n(60726),o=n(47883),i=n(84563)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},57651:function(t,e,n){var r=n(21099),o=n(87883);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){throw o(t),a}}},56297:function(t,e,n){var r=n(84563)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(c){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(c){}return n}},96644:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},99420:function(t,e,n){var r=n(72900),o=n(96644),i=n(84563)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},5692:function(t,e,n){"use strict";var r=n(83202).f,o=n(38724),i=n(78715),a=n(29727),c=n(86063),u=n(53284),s=n(66038),f=n(37374),l=n(47012),p=n(64238).fastKey,h=n(52493),v=h.set,d=h.getterFor;t.exports={getConstructor:function(t,e,n,s){var f=t(function(t,r){c(t,f,e),v(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),l||(t.size=0),null!=r&&u(r,t[s],{that:t,AS_ENTRIES:n})}),h=d(e),g=function(t,e,n){var r,o,i=h(t),a=y(t,e);return a?a.value=n:(i.last=a={index:o=p(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),l?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},y=function(t,e){var n,r=h(t),o=p(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(f.prototype,{clear:function(){for(var t=h(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=this,n=h(e),r=y(e,t);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),l?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=h(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!y(this,t)}}),i(f.prototype,n?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),l&&r(f.prototype,"size",{get:function(){return h(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",o=d(e),i=d(r);s(t,e,function(t,e){v(this,{type:r,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),f(e)}}},96491:function(t,e,n){"use strict";var r=n(78715),o=n(64238).getWeakData,i=n(21099),a=n(60726),c=n(86063),u=n(53284),s=n(94115),f=n(67791),l=n(52493),p=l.set,h=l.getterFor,v=s.find,d=s.findIndex,g=0,y=function(t){return t.frozen||(t.frozen=new m)},m=function(){this.entries=[]},b=function(t,e){return v(t.entries,function(t){return t[0]===e})};m.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var n=b(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=d(this.entries,function(e){return e[0]===t});return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,s){var l=t(function(t,r){c(t,l,e),p(t,{type:e,id:g++,frozen:void 0}),null!=r&&u(r,t[s],{that:t,AS_ENTRIES:n})}),v=h(e),d=function(t,e,n){var r=v(t),a=o(i(e),!0);return!0===a?y(r).set(e,n):a[r.id]=n,t};return r(l.prototype,{delete:function(t){var e=v(this);if(!a(t))return!1;var n=o(t);return!0===n?y(e).delete(t):n&&f(n,e.id)&&delete n[e.id]},has:function(t){var e=v(this);if(!a(t))return!1;var n=o(t);return!0===n?y(e).has(t):n&&f(n,e.id)}}),r(l.prototype,n?{get:function(t){var e=v(this);if(a(t)){var n=o(t);return!0===n?y(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return d(this,t,e)}}:{add:function(t){return d(this,t,!0)}}),l}}},41603:function(t,e,n){"use strict";var r=n(51163),o=n(31864),i=n(87215),a=n(87763),c=n(64238),u=n(53284),s=n(86063),f=n(60726),l=n(8597),p=n(56297),h=n(58242),v=n(38267);t.exports=function(t,e,n){var d=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),y=d?"set":"add",m=o[t],b=m&&m.prototype,k=m,x={},_=function(t){var e=b[t];a(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,"function"!=typeof m||!(g||b.forEach&&!l(function(){(new m).entries().next()}))))k=n.getConstructor(e,t,d,y),c.REQUIRED=!0;else if(i(t,!0)){var E=new k,S=E[y](g?{}:-0,1)!=E,w=l(function(){E.has(1)}),T=p(function(t){new m(t)}),O=!g&&l(function(){for(var t=new m,e=5;e--;)t[y](e,e);return!t.has(-0)});T||((k=e(function(e,n){s(e,k,t);var r=v(new m,e,k);return null!=n&&u(n,r[y],{that:r,AS_ENTRIES:d}),r})).prototype=b,b.constructor=k),(w||O)&&(_("delete"),_("has"),d&&_("get")),(O||S)&&_(y),g&&b.clear&&delete b.clear}return x[t]=k,r({global:!0,forced:k!=m},x),h(k,t),g||n.setStrong(k,t,d),k}},30009:function(t,e,n){var r=n(67791),o=n(99376),i=n(93099),a=n(83202);t.exports=function(t,e){for(var n=o(e),c=a.f,u=i.f,s=0;s<n.length;s++){var f=n[s];r(t,f)||c(t,f,u(e,f))}}},363:function(t,e,n){var r=n(84563)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(o){}}return!1}},51335:function(t,e,n){var r=n(8597);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},22769:function(t,e,n){var r=n(95025),o=/"/g;t.exports=function(t,e,n,i){var a=String(r(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),c+">"+a+"</"+e+">"}},17453:function(t,e,n){"use strict";var r=n(92053).IteratorPrototype,o=n(38724),i=n(53203),a=n(58242),c=n(72339),u=function(){return this};t.exports=function(t,e,n){var s=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,s,!1,!0),c[s]=u,t}},815:function(t,e,n){var r=n(47012),o=n(83202),i=n(53203);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},53203:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},45347:function(t,e,n){"use strict";var r=n(28495),o=n(83202),i=n(53203);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},56194:function(t,e,n){"use strict";var r=n(8597),o=n(14164).start,i=Math.abs,a=Date.prototype,c=a.getTime,u=a.toISOString;t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-50000000000001))})||!r(function(){u.call(new Date(NaN))})?function(){if(!isFinite(c.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+o(i(e),r?6:4,0)+"-"+o(t.getUTCMonth()+1,2,0)+"-"+o(t.getUTCDate(),2,0)+"T"+o(t.getUTCHours(),2,0)+":"+o(t.getUTCMinutes(),2,0)+":"+o(t.getUTCSeconds(),2,0)+"."+o(n,3,0)+"Z"}:u},14256:function(t,e,n){"use strict";var r=n(21099),o=n(28495);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return o(r(this),"number"!==t)}},66038:function(t,e,n){"use strict";var r=n(51163),o=n(17453),i=n(3963),a=n(91464),c=n(58242),u=n(815),s=n(87763),f=n(84563),l=n(97515),p=n(72339),h=n(92053),v=h.IteratorPrototype,d=h.BUGGY_SAFARI_ITERATORS,g=f("iterator"),y="keys",m="values",b="entries",k=function(){return this};t.exports=function(t,e,n,f,h,x,_){o(n,e,f);var E,S,w,T=function(t){if(t===h&&P)return P;if(!d&&t in j)return j[t];switch(t){case y:case m:case b:return function(){return new n(this,t)}}return function(){return new n(this)}},O=e+" Iterator",I=!1,j=t.prototype,M=j[g]||j["@@iterator"]||h&&j[h],P=!d&&M||T(h),R="Array"==e&&j.entries||M;if(R&&(E=i(R.call(new t)),v!==Object.prototype&&E.next&&(l||i(E)===v||(a?a(E,v):"function"!=typeof E[g]&&u(E,g,k)),c(E,O,!0,!0),l&&(p[O]=k))),h==m&&M&&M.name!==m&&(I=!0,P=function(){return M.call(this)}),l&&!_||j[g]===P||u(j,g,P),p[e]=P,h)if(S={values:T(m),keys:x?P:T(y),entries:T(b)},_)for(w in S)(d||I||!(w in j))&&s(j,w,S[w]);else r({target:e,proto:!0,forced:d||I},S);return S}},7007:function(t,e,n){var r=n(86950),o=n(67791),i=n(53589),a=n(83202).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},47012:function(t,e,n){var r=n(8597);t.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},85815:function(t,e,n){var r=n(31864),o=n(60726),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},26877:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},32002:function(t,e,n){var r=n(96644),o=n(31864);t.exports="process"==r(o.process)},73792:function(t,e,n){var r=n(73626);t.exports=r("navigator","userAgent")||""},17189:function(t,e,n){var r,o,i=n(31864),a=n(73792),c=i.process,u=c&&c.versions,s=u&&u.v8;s?o=(r=s.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},71001:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},51163:function(t,e,n){var r=n(31864),o=n(93099).f,i=n(815),a=n(87763),c=n(22341),u=n(30009),s=n(87215);t.exports=function(t,e){var n,f,l,p,h,v=t.target,d=t.global,g=t.stat;if(n=d?r:g?r[v]||c(v,{}):(r[v]||{}).prototype)for(f in e){if(p=e[f],l=t.noTargetGet?(h=o(n,f))&&h.value:n[f],!s(d?f:v+(g?".":"#")+f,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;u(p,l)}(t.sham||l&&l.sham)&&i(p,"sham",!0),a(n,f,p,t)}}},8597:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},9357:function(t,e,n){"use strict";n(69665);var r=n(87763),o=n(8597),i=n(84563),a=n(815),c=i("species"),u=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),s="$0"==="a".replace(/./,"$0"),f=i("replace"),l=!!/./[f]&&""===/./[f]("a","$0"),p=!o(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});t.exports=function(t,e,n,f){var h=i(t),v=!o(function(){var e={};return e[h]=function(){return 7},7!=""[t](e)}),d=v&&!o(function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e});if(!v||!d||"replace"===t&&(!u||!s||l)||"split"===t&&!p){var g=/./[h],y=n(h,""[t],function(t,e,n,r,o){return e.exec===RegExp.prototype.exec?v&&!o?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:l}),m=y[1];r(String.prototype,t,y[0]),r(RegExp.prototype,h,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}f&&a(RegExp.prototype[h],"sham",!0)}},86507:function(t,e,n){"use strict";var r=n(47883),o=n(15902),i=n(29727),a=function(t,e,n,c,u,s,f,l){for(var p,h=u,v=0,d=!!f&&i(f,l,3);v<c;){if(v in n){if(p=d?d(n[v],v,e):n[v],s>0&&r(p))h=a(t,e,p,o(p.length),h,s-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[h]=p}h++}v++}return h};t.exports=a},39352:function(t,e,n){var r=n(8597);t.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},29727:function(t,e,n){var r=n(97625);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},72702:function(t,e,n){"use strict";var r=n(97625),o=n(60726),i=[].slice,a={},c=function(t,e,n){if(!(e in a)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=i.call(arguments,1),a=function(){var r=n.concat(i.call(arguments));return this instanceof a?c(e,r.length,r):e.apply(t,r)};return o(e.prototype)&&(a.prototype=e.prototype),a}},73626:function(t,e,n){var r=n(86950),o=n(31864),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},63076:function(t,e,n){var r=n(99420),o=n(72339),i=n(84563)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},16162:function(t,e,n){var r=n(16174),o=Math.floor,i="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,u,s,f){var l=n+t.length,p=u.length,h=c;return void 0!==s&&(s=r(s),h=a),i.call(f,h,function(r,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(l);case"<":a=s[i.slice(1,-1)];break;default:var c=+i;if(0===c)return r;if(c>p){var f=o(c/10);return 0===f?r:f<=p?void 0===u[f-1]?i.charAt(1):u[f-1]+i.charAt(1):r}a=u[c-1]}return void 0===a?"":a})}},31864:function(t){var e=function(t){return t&&t.Math==Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof global&&global)||function(){return this}()||Function("return this")()},67791:function(t,e,n){var r=n(16174),o={}.hasOwnProperty;t.exports=function(t,e){return o.call(r(t),e)}},3536:function(t){t.exports={}},67538:function(t,e,n){var r=n(73626);t.exports=r("document","documentElement")},27091:function(t,e,n){var r=n(47012),o=n(8597),i=n(85815);t.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},56169:function(t,e,n){var r=n(8597),o=n(96644),i="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},38267:function(t,e,n){var r=n(60726),o=n(91464);t.exports=function(t,e,n){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(t,a),t}},87720:function(t,e,n){var r=n(59941),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},64238:function(t,e,n){var r=n(3536),o=n(60726),i=n(67791),a=n(83202).f,c=n(94295),u=n(39352),s=c("meta"),f=0,l=Object.isExtensible||function(){return!0},p=function(t){a(t,s,{value:{objectID:"O"+ ++f,weakData:{}}})},h=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,s)){if(!l(t))return"F";if(!e)return"E";p(t)}return t[s].objectID},getWeakData:function(t,e){if(!i(t,s)){if(!l(t))return!0;if(!e)return!1;p(t)}return t[s].weakData},onFreeze:function(t){return u&&h.REQUIRED&&l(t)&&!i(t,s)&&p(t),t}};r[s]=!0},52493:function(t,e,n){var r,o,i,a=n(51635),c=n(31864),u=n(60726),s=n(815),f=n(67791),l=n(59941),p=n(42650),h=n(3536),v="Object already initialized";if(a){var d=l.state||(l.state=new(0,c.WeakMap)),g=d.get,y=d.has,m=d.set;r=function(t,e){if(y.call(d,t))throw new TypeError(v);return e.facade=t,m.call(d,t,e),e},o=function(t){return g.call(d,t)||{}},i=function(t){return y.call(d,t)}}else{var b=p("state");h[b]=!0,r=function(t,e){if(f(t,b))throw new TypeError(v);return e.facade=t,s(t,b,e),e},o=function(t){return f(t,b)?t[b]:{}},i=function(t){return f(t,b)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},81643:function(t,e,n){var r=n(84563),o=n(72339),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},47883:function(t,e,n){var r=n(96644);t.exports=Array.isArray||function(t){return"Array"==r(t)}},87215:function(t,e,n){var r=n(8597),o=/#|\.prototype\./,i=function(t,e){var n=c[a(t)];return n==s||n!=u&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",s=i.POLYFILL="P";t.exports=i},99829:function(t,e,n){var r=n(60726),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},60726:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},97515:function(t){t.exports=!1},99482:function(t,e,n){var r=n(60726),o=n(96644),i=n(84563)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},53284:function(t,e,n){var r=n(21099),o=n(81643),i=n(15902),a=n(29727),c=n(63076),u=n(87883),s=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var f,l,p,h,v,d,g,y=!(!n||!n.AS_ENTRIES),m=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),k=a(e,n&&n.that,1+y+b),x=function(t){return f&&u(f),new s(!0,t)},_=function(t){return y?(r(t),b?k(t[0],t[1],x):k(t[0],t[1])):b?k(t,x):k(t)};if(m)f=t;else{if("function"!=typeof(l=c(t)))throw TypeError("Target is not iterable");if(o(l)){for(p=0,h=i(t.length);h>p;p++)if((v=_(t[p]))&&v instanceof s)return v;return new s(!1)}f=l.call(t)}for(d=f.next;!(g=d.call(f)).done;){try{v=_(g.value)}catch(E){throw u(f),E}if("object"==typeof v&&v&&v instanceof s)return v}return new s(!1)}},87883:function(t,e,n){var r=n(21099);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},92053:function(t,e,n){"use strict";var r,o,i,a=n(8597),c=n(3963),u=n(815),s=n(67791),f=n(84563),l=n(97515),p=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=c(c(i)))!==Object.prototype&&(r=o):h=!0);var v=null==r||a(function(){var t={};return r[p].call(t)!==t});v&&(r={}),l&&!v||s(r,p)||u(r,p,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},72339:function(t){t.exports={}},22914:function(t){var e=Math.expm1,n=Math.exp;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:n(t)-1}:e},95262:function(t,e,n){var r=n(92595),o=Math.abs,i=Math.pow,a=i(2,-52),c=i(2,-23),u=i(2,127)*(2-c),s=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=o(t),f=r(t);return i<s?f*(i/s/c+1/a-1/a)*s*c:(n=(e=(1+c/a)*i)-(e-i))>u||n!=n?f*(1/0):f*n}},36872:function(t){var e=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:e(1+t)}},92595:function(t){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},77040:function(t,e,n){var r=n(17189),o=n(8597);t.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())||!Symbol.sham&&r&&r<41})},51635:function(t,e,n){var r=n(31864),o=n(87720),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},93270:function(t,e,n){var r=n(99482);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},87:function(t,e,n){var r=n(31864).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},28884:function(t,e,n){var r=n(31864),o=n(51664).trim,i=n(48004),a=r.parseFloat,c=1/a(i+"-0")!=-1/0;t.exports=c?function(t){var e=o(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},43656:function(t,e,n){var r=n(31864),o=n(51664).trim,i=n(48004),a=r.parseInt,c=/^[+-]?0[Xx]/,u=8!==a(i+"08")||22!==a(i+"0x16");t.exports=u?function(t,e){var n=o(String(t));return a(n,e>>>0||(c.test(n)?16:10))}:a},51746:function(t,e,n){"use strict";var r=n(47012),o=n(8597),i=n(68032),a=n(77593),c=n(5600),u=n(16174),s=n(56169),f=Object.assign,l=Object.defineProperty;t.exports=!f||o(function(){if(r&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=f({},t)[n]||i(f({},e)).join("")!=o})?function(t,e){for(var n=u(t),o=arguments.length,f=1,l=a.f,p=c.f;o>f;)for(var h,v=s(arguments[f++]),d=l?i(v).concat(l(v)):i(v),g=d.length,y=0;g>y;)h=d[y++],r&&!p.call(v,h)||(n[h]=v[h]);return n}:f},38724:function(t,e,n){var r,o=n(21099),i=n(10988),a=n(71001),c=n(3536),u=n(67538),s=n(85815),f=n(42650)("IE_PROTO"),l=function(){},p=function(t){return"<script>"+t+"<\/script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(o){}var t,e;h=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=s("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};c[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=o(t),n=new l,l.prototype=null,n[f]=t):n=h(),void 0===e?n:i(n,e)}},10988:function(t,e,n){var r=n(47012),o=n(83202),i=n(21099),a=n(68032);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),c=r.length,u=0;c>u;)o.f(t,n=r[u++],e[n]);return t}},83202:function(t,e,n){var r=n(47012),o=n(27091),i=n(21099),a=n(28495),c=Object.defineProperty;e.f=r?c:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return c(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},93099:function(t,e,n){var r=n(47012),o=n(5600),i=n(53203),a=n(8643),c=n(28495),u=n(67791),s=n(27091),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=a(t),e=c(e,!0),s)try{return f(t,e)}catch(n){}if(u(t,e))return i(!o.f.call(t,e),t[e])}},7388:function(t,e,n){var r=n(8643),o=n(94564).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(e){return a.slice()}}(t):o(r(t))}},94564:function(t,e,n){var r=n(77759),o=n(71001).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},77593:function(t,e){e.f=Object.getOwnPropertySymbols},3963:function(t,e,n){var r=n(67791),o=n(16174),i=n(42650),a=n(51335),c=i("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,c)?t[c]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},77759:function(t,e,n){var r=n(67791),o=n(8643),i=n(70452).indexOf,a=n(3536);t.exports=function(t,e){var n,c=o(t),u=0,s=[];for(n in c)!r(a,n)&&r(c,n)&&s.push(n);for(;e.length>u;)r(c,n=e[u++])&&(~i(s,n)||s.push(n));return s}},68032:function(t,e,n){var r=n(77759),o=n(71001);t.exports=Object.keys||function(t){return r(t,o)}},5600:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},51695:function(t,e,n){"use strict";var r=n(97515),o=n(31864),i=n(8597);t.exports=r||!i(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete o[t]})},91464:function(t,e,n){var r=n(21099),o=n(95143);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(i){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},33871:function(t,e,n){var r=n(47012),o=n(68032),i=n(8643),a=n(5600).f,c=function(t){return function(e){for(var n,c=i(e),u=o(c),s=u.length,f=0,l=[];s>f;)n=u[f++],r&&!a.call(c,n)||l.push(t?[n,c[n]]:c[n]);return l}};t.exports={entries:c(!0),values:c(!1)}},83119:function(t,e,n){"use strict";var r=n(72900),o=n(99420);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},99376:function(t,e,n){var r=n(73626),o=n(94564),i=n(77593),a=n(21099);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},86950:function(t,e,n){var r=n(31864);t.exports=r},78715:function(t,e,n){var r=n(87763);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},87763:function(t,e,n){var r=n(31864),o=n(815),i=n(67791),a=n(22341),c=n(87720),u=n(52493),s=u.get,f=u.enforce,l=String(String).split("String");(t.exports=function(t,e,n,c){var u,s=!!c&&!!c.unsafe,p=!!c&&!!c.enumerable,h=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),(u=f(n)).source||(u.source=l.join("string"==typeof e?e:""))),t!==r?(s?!h&&t[e]&&(p=!0):delete t[e],p?t[e]=n:o(t,e,n)):p?t[e]=n:a(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&s(this).source||c(this)})},53793:function(t,e,n){var r=n(96644),o=n(93084);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},93084:function(t,e,n){"use strict";var r,o,i=n(41891),a=n(29895),c=n(77719),u=RegExp.prototype.exec,s=c("native-string-replace",String.prototype.replace),f=u,l=(o=/b*/g,u.call(r=/a/,"a"),u.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),p=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(l||h||p)&&(f=function(t){var e,n,r,o,a=this,c=p&&a.sticky,f=i.call(a),v=a.source,d=0,g=t;return c&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),g=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(v="(?: "+v+")",g=" "+g,d++),n=new RegExp("^(?:"+v+")",f)),h&&(n=new RegExp("^"+v+"$(?!\\s)",f)),l&&(e=a.lastIndex),r=u.call(c?n:a,g),c?r?(r.input=r.input.slice(d),r[0]=r[0].slice(d),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:l&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),h&&r&&r.length>1&&s.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}),t.exports=f},41891:function(t,e,n){"use strict";var r=n(21099);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},29895:function(t,e,n){"use strict";var r=n(8597);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r(function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),e.BROKEN_CARET=r(function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},95025:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},52778:function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},22341:function(t,e,n){var r=n(31864),o=n(815);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},37374:function(t,e,n){"use strict";var r=n(73626),o=n(83202),i=n(84563),a=n(47012),c=i("species");t.exports=function(t){var e=r(t);a&&e&&!e[c]&&(0,o.f)(e,c,{configurable:!0,get:function(){return this}})}},58242:function(t,e,n){var r=n(83202).f,o=n(67791),i=n(84563)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},42650:function(t,e,n){var r=n(77719),o=n(94295),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},59941:function(t,e,n){var r=n(31864),o=n(22341),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},77719:function(t,e,n){var r=n(97515),o=n(59941);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.12.0",mode:r?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},47211:function(t,e,n){var r=n(21099),o=n(97625),i=n(84563)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},52469:function(t,e,n){var r=n(8597);t.exports=function(t){return r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}},64487:function(t,e,n){var r=n(59463),o=n(95025),i=function(t){return function(e,n){var i,a,c=String(o(e)),u=r(n),s=c.length;return u<0||u>=s?t?"":void 0:(i=c.charCodeAt(u))<55296||i>56319||u+1===s||(a=c.charCodeAt(u+1))<56320||a>57343?t?c.charAt(u):i:t?c.slice(u,u+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},99295:function(t,e,n){var r=n(73792);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},14164:function(t,e,n){var r=n(15902),o=n(73380),i=n(95025),a=Math.ceil,c=function(t){return function(e,n,c){var u,s,f=String(i(e)),l=f.length,p=void 0===c?" ":String(c),h=r(n);return h<=l||""==p?f:((s=o.call(p,a((u=h-l)/p.length))).length>u&&(s=s.slice(0,u)),t?f+s:s+f)}};t.exports={start:c(!1),end:c(!0)}},73380:function(t,e,n){"use strict";var r=n(59463),o=n(95025);t.exports=function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},5637:function(t,e,n){var r=n(8597),o=n(48004);t.exports=function(t){return r(function(){return!!o[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||o[t].name!==t})}},51664:function(t,e,n){var r=n(95025),o="["+n(48004)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),c=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},78924:function(t,e,n){var r=n(96644);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},20222:function(t,e,n){var r=n(59463),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},8643:function(t,e,n){var r=n(56169),o=n(95025);t.exports=function(t){return r(o(t))}},59463:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},15902:function(t,e,n){var r=n(59463),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},16174:function(t,e,n){var r=n(95025);t.exports=function(t){return Object(r(t))}},28495:function(t,e,n){var r=n(60726);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},72900:function(t,e,n){var r={};r[n(84563)("toStringTag")]="z",t.exports="[object z]"===String(r)},94295:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},24431:function(t,e,n){var r=n(77040);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},53589:function(t,e,n){var r=n(84563);e.f=r},84563:function(t,e,n){var r=n(31864),o=n(77719),i=n(67791),a=n(94295),c=n(77040),u=n(24431),s=o("wks"),f=r.Symbol,l=u?f:f&&f.withoutSetter||a;t.exports=function(t){return i(s,t)&&(c||"string"==typeof s[t])||(s[t]=c&&i(f,t)?f[t]:l("Symbol."+t)),s[t]}},48004:function(t){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},8974:function(t,e,n){"use strict";var r=n(51163),o=n(8597),i=n(47883),a=n(60726),c=n(16174),u=n(15902),s=n(45347),f=n(62889),l=n(37394),p=n(84563),h=n(17189),v=p("isConcatSpreadable"),d=9007199254740991,g="Maximum allowed index exceeded",y=h>=51||!o(function(){var t=[];return t[v]=!1,t.concat()[0]!==t}),m=l("concat"),b=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,forced:!y||!m},{concat:function(t){var e,n,r,o,i,a=c(this),l=f(a,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(b(i=-1===e?a:arguments[e])){if(p+(o=u(i.length))>d)throw TypeError(g);for(n=0;n<o;n++,p++)n in i&&s(l,p,i[n])}else{if(p>=d)throw TypeError(g);s(l,p++,i)}return l.length=p,l}})},77347:function(t,e,n){var r=n(51163),o=n(24514),i=n(24094);r({target:"Array",proto:!0},{copyWithin:o}),i("copyWithin")},7678:function(t,e,n){"use strict";var r=n(51163),o=n(94115).every;r({target:"Array",proto:!0,forced:!n(47051)("every")},{every:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},96244:function(t,e,n){var r=n(51163),o=n(25378),i=n(24094);r({target:"Array",proto:!0},{fill:o}),i("fill")},85443:function(t,e,n){"use strict";var r=n(51163),o=n(94115).filter;r({target:"Array",proto:!0,forced:!n(37394)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},56485:function(t,e,n){"use strict";var r=n(51163),o=n(94115).findIndex,i=n(24094),a="findIndex",c=!0;a in[]&&Array(1).findIndex(function(){c=!1}),r({target:"Array",proto:!0,forced:c},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},14626:function(t,e,n){"use strict";var r=n(51163),o=n(94115).find,i=n(24094),a="find",c=!0;a in[]&&Array(1).find(function(){c=!1}),r({target:"Array",proto:!0,forced:c},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},13311:function(t,e,n){"use strict";var r=n(51163),o=n(86507),i=n(16174),a=n(15902),c=n(97625),u=n(62889);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=i(this),r=a(n.length);return c(t),(e=u(n,0)).length=o(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},75278:function(t,e,n){"use strict";var r=n(51163),o=n(86507),i=n(16174),a=n(15902),c=n(59463),u=n(62889);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=i(this),n=a(e.length),r=u(e,0);return r.length=o(r,e,e,n,0,void 0===t?1:c(t)),r}})},4690:function(t,e,n){"use strict";var r=n(51163),o=n(17462);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},66388:function(t,e,n){var r=n(51163),o=n(74362);r({target:"Array",stat:!0,forced:!n(56297)(function(t){Array.from(t)})},{from:o})},44049:function(t,e,n){"use strict";var r=n(51163),o=n(70452).includes,i=n(24094);r({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},74984:function(t,e,n){"use strict";var r=n(51163),o=n(70452).indexOf,i=n(47051),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,u=i("indexOf");r({target:"Array",proto:!0,forced:c||!u},{indexOf:function(t){return c?a.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})},99394:function(t,e,n){n(51163)({target:"Array",stat:!0},{isArray:n(47883)})},66837:function(t,e,n){"use strict";var r=n(8643),o=n(24094),i=n(72339),a=n(52493),c=n(66038),u="Array Iterator",s=a.set,f=a.getterFor(u);t.exports=c(Array,"Array",function(t,e){s(this,{type:u,target:r(t),index:0,kind:e})},function(){var t=f(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},61180:function(t,e,n){"use strict";var r=n(51163),o=n(56169),i=n(8643),a=n(47051),c=[].join,u=o!=Object,s=a("join",",");r({target:"Array",proto:!0,forced:u||!s},{join:function(t){return c.call(i(this),void 0===t?",":t)}})},67400:function(t,e,n){var r=n(51163),o=n(51275);r({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},78004:function(t,e,n){"use strict";var r=n(51163),o=n(94115).map;r({target:"Array",proto:!0,forced:!n(37394)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},65842:function(t,e,n){"use strict";var r=n(51163),o=n(8597),i=n(45347);r({target:"Array",stat:!0,forced:o(function(){function t(){}return!(Array.of.call(t)instanceof t)})},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},97921:function(t,e,n){"use strict";var r=n(51163),o=n(14716).right,i=n(47051),a=n(17189),c=n(32002);r({target:"Array",proto:!0,forced:!i("reduceRight")||!c&&a>79&&a<83},{reduceRight:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},35319:function(t,e,n){"use strict";var r=n(51163),o=n(14716).left,i=n(47051),a=n(17189),c=n(32002);r({target:"Array",proto:!0,forced:!i("reduce")||!c&&a>79&&a<83},{reduce:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},57353:function(t,e,n){"use strict";var r=n(51163),o=n(47883),i=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),i.call(this)}})},86174:function(t,e,n){"use strict";var r=n(51163),o=n(60726),i=n(47883),a=n(20222),c=n(15902),u=n(8643),s=n(45347),f=n(84563),l=n(37394)("slice"),p=f("species"),h=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!l},{slice:function(t,e){var n,r,f,l=u(this),d=c(l.length),g=a(t,d),y=a(void 0===e?d:e,d);if(i(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[p])&&(n=void 0):n=void 0,n===Array||void 0===n))return h.call(l,g,y);for(r=new(void 0===n?Array:n)(v(y-g,0)),f=0;g<y;g++,f++)g in l&&s(r,f,l[g]);return r.length=f,r}})},67328:function(t,e,n){"use strict";var r=n(51163),o=n(94115).some;r({target:"Array",proto:!0,forced:!n(47051)("some")},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},41097:function(t,e,n){"use strict";var r=n(51163),o=n(97625),i=n(16174),a=n(8597),c=n(47051),u=[],s=u.sort,f=a(function(){u.sort(void 0)}),l=a(function(){u.sort(null)}),p=c("sort");r({target:"Array",proto:!0,forced:f||!l||!p},{sort:function(t){return void 0===t?s.call(i(this)):s.call(i(this),o(t))}})},13178:function(t,e,n){n(37374)("Array")},3047:function(t,e,n){"use strict";var r=n(51163),o=n(20222),i=n(59463),a=n(15902),c=n(16174),u=n(62889),s=n(45347),f=n(37394)("splice"),l=Math.max,p=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,r,f,d,g,y,m=c(this),b=a(m.length),k=o(t,b),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=b-k):(n=x-2,r=p(l(i(e),0),b-k)),b+n-r>h)throw TypeError(v);for(f=u(m,r),d=0;d<r;d++)(g=k+d)in m&&s(f,d,m[g]);if(f.length=r,n<r){for(d=k;d<b-r;d++)y=d+n,(g=d+r)in m?m[y]=m[g]:delete m[y];for(d=b;d>b-r+n;d--)delete m[d-1]}else if(n>r)for(d=b-r;d>k;d--)y=d+n-1,(g=d+r-1)in m?m[y]=m[g]:delete m[y];for(d=0;d<n;d++)m[d+k]=arguments[d+2];return m.length=b-r+n,f}})},32314:function(t,e,n){n(24094)("flatMap")},54866:function(t,e,n){n(24094)("flat")},24636:function(t,e,n){n(51163)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},77585:function(t,e,n){var r=n(51163),o=n(56194);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o})},85982:function(t,e,n){"use strict";var r=n(51163),o=n(8597),i=n(16174),a=n(28495);r({target:"Date",proto:!0,forced:o(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(t){var e=i(this),n=a(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},23073:function(t,e,n){var r=n(815),o=n(14256),i=n(84563)("toPrimitive"),a=Date.prototype;i in a||r(a,i,o)},6251:function(t,e,n){var r=n(87763),o=Date.prototype,i="Invalid Date",a=o.toString,c=o.getTime;new Date(NaN)+""!=i&&r(o,"toString",function(){var t=c.call(this);return t==t?a.call(this):i})},87037:function(t,e,n){n(51163)({target:"Function",proto:!0},{bind:n(72702)})},79213:function(t,e,n){"use strict";var r=n(60726),o=n(83202),i=n(3963),a=n(84563)("hasInstance"),c=Function.prototype;a in c||o.f(c,a,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},80477:function(t,e,n){var r=n(47012),o=n(83202).f,i=Function.prototype,a=i.toString,c=/^\s*function ([^ (]*)/,u="name";r&&!(u in i)&&o(i,u,{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},24932:function(t,e,n){var r=n(31864);n(58242)(r.JSON,"JSON",!0)},88854:function(t,e,n){"use strict";var r=n(41603),o=n(5692);t.exports=r("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},o)},42203:function(t,e,n){var r=n(51163),o=n(36872),i=Math.acosh,a=Math.log,c=Math.sqrt,u=Math.LN2;r({target:"Math",stat:!0,forced:!i||710!=Math.floor(i(Number.MAX_VALUE))||i(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+u:o(t-1+c(t-1)*c(t+1))}})},56440:function(t,e,n){var r=n(51163),o=Math.asinh,i=Math.log,a=Math.sqrt;r({target:"Math",stat:!0,forced:!(o&&1/o(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):i(e+a(e*e+1)):e}})},49244:function(t,e,n){var r=n(51163),o=Math.atanh,i=Math.log;r({target:"Math",stat:!0,forced:!(o&&1/o(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:i((1+t)/(1-t))/2}})},73129:function(t,e,n){var r=n(51163),o=n(92595),i=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(t){return o(t=+t)*a(i(t),1/3)}})},4161:function(t,e,n){var r=n(51163),o=Math.floor,i=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-o(i(t+.5)*a):32}})},10298:function(t,e,n){var r=n(51163),o=n(22914),i=Math.cosh,a=Math.abs,c=Math.E;r({target:"Math",stat:!0,forced:!i||i(710)===1/0},{cosh:function(t){var e=o(a(t)-1)+1;return(e+1/(e*c*c))*(c/2)}})},45817:function(t,e,n){var r=n(51163),o=n(22914);r({target:"Math",stat:!0,forced:o!=Math.expm1},{expm1:o})},34523:function(t,e,n){n(51163)({target:"Math",stat:!0},{fround:n(95262)})},42325:function(t,e,n){var r=n(51163),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,o=0,c=0,u=arguments.length,s=0;c<u;)s<(n=i(arguments[c++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*a(o)}})},93042:function(t,e,n){var r=n(51163),o=n(8597),i=Math.imul;r({target:"Math",stat:!0,forced:o(function(){return-5!=i(4294967295,5)||2!=i.length})},{imul:function(t,e){var n=65535,r=+t,o=+e,i=n&r,a=n&o;return 0|i*a+((n&r>>>16)*a+i*(n&o>>>16)<<16>>>0)}})},88937:function(t,e,n){var r=n(51163),o=Math.log,i=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(t){return o(t)*i}})},1209:function(t,e,n){n(51163)({target:"Math",stat:!0},{log1p:n(36872)})},45133:function(t,e,n){var r=n(51163),o=Math.log,i=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return o(t)/i}})},10110:function(t,e,n){n(51163)({target:"Math",stat:!0},{sign:n(92595)})},80051:function(t,e,n){var r=n(51163),o=n(8597),i=n(22914),a=Math.abs,c=Math.exp,u=Math.E;r({target:"Math",stat:!0,forced:o(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function(t){return a(t=+t)<1?(i(t)-i(-t))/2:(c(t-1)-c(-t-1))*(u/2)}})},75189:function(t,e,n){var r=n(51163),o=n(22914),i=Math.exp;r({target:"Math",stat:!0},{tanh:function(t){var e=o(t=+t),n=o(-t);return e==1/0?1:n==1/0?-1:(e-n)/(i(t)+i(-t))}})},60663:function(t,e,n){n(58242)(Math,"Math",!0)},63862:function(t,e,n){var r=n(51163),o=Math.ceil,i=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:o)(t)}})},36455:function(t,e,n){"use strict";var r=n(47012),o=n(31864),i=n(87215),a=n(87763),c=n(67791),u=n(96644),s=n(38267),f=n(28495),l=n(8597),p=n(38724),h=n(94564).f,v=n(93099).f,d=n(83202).f,g=n(51664).trim,y="Number",m=o.Number,b=m.prototype,k=u(p(b))==y,x=function(t){var e,n,r,o,i,a,c,u,s=f(t,!1);if("string"==typeof s&&s.length>2)if(43===(e=(s=g(s)).charCodeAt(0))||45===e){if(88===(n=s.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(a=(i=s.slice(2)).length,c=0;c<a;c++)if((u=i.charCodeAt(c))<48||u>o)return NaN;return parseInt(i,r)}return+s};if(i(y,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var _,E=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof E&&(k?l(function(){b.valueOf.call(n)}):u(n)!=y)?s(new m(x(e)),n,E):x(e)},S=r?h(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;S.length>w;w++)c(m,_=S[w])&&!c(E,_)&&d(E,_,v(m,_));E.prototype=b,b.constructor=E,a(o,y,E)}},27298:function(t,e,n){n(51163)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},77135:function(t,e,n){n(51163)({target:"Number",stat:!0},{isFinite:n(87)})},60707:function(t,e,n){n(51163)({target:"Number",stat:!0},{isInteger:n(99829)})},40938:function(t,e,n){n(51163)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},97530:function(t,e,n){var r=n(51163),o=n(99829),i=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return o(t)&&i(t)<=9007199254740991}})},82527:function(t,e,n){n(51163)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},90270:function(t,e,n){n(51163)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},99101:function(t,e,n){var r=n(51163),o=n(28884);r({target:"Number",stat:!0,forced:Number.parseFloat!=o},{parseFloat:o})},25803:function(t,e,n){var r=n(51163),o=n(43656);r({target:"Number",stat:!0,forced:Number.parseInt!=o},{parseInt:o})},62583:function(t,e,n){"use strict";var r=n(51163),o=n(59463),i=n(78924),a=n(73380),c=n(8597),u=1..toFixed,s=Math.floor,f=function(t,e,n){return 0===e?n:e%2==1?f(t,e-1,n*t):f(t*t,e/2,n)},l=function(t,e,n){for(var r=-1,o=n;++r<6;)t[r]=(o+=e*t[r])%1e7,o=s(o/1e7)},p=function(t,e){for(var n=6,r=0;--n>=0;)t[n]=s((r+=t[n])/e),r=r%e*1e7},h=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=String(t[e]);n=""===n?r:n+a.call("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c(function(){u.call({})})},{toFixed:function(t){var e,n,r,c,u=i(this),s=o(t),v=[0,0,0,0,0,0],d="",g="0";if(s<0||s>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(d="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*f(2,69,1))-69)<0?u*f(2,-e,1):u/f(2,e,1),n*=4503599627370496,(e=52-e)>0){for(l(v,0,n),r=s;r>=7;)l(v,1e7,0),r-=7;for(l(v,f(10,r,1),0),r=e-1;r>=23;)p(v,1<<23),r-=23;p(v,1<<r),l(v,1,1),p(v,2),g=h(v)}else l(v,0,n),l(v,1<<-e,0),g=h(v)+a.call("0",s);return s>0?d+((c=g.length)<=s?"0."+a.call("0",s-c)+g:g.slice(0,c-s)+"."+g.slice(c-s)):d+g}})},6544:function(t,e,n){"use strict";var r=n(51163),o=n(8597),i=n(78924),a=1..toPrecision;r({target:"Number",proto:!0,forced:o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})},{toPrecision:function(t){return void 0===t?a.call(i(this)):a.call(i(this),t)}})},8868:function(t,e,n){var r=n(51163),o=n(51746);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},12368:function(t,e,n){n(51163)({target:"Object",stat:!0,sham:!n(47012)},{create:n(38724)})},7810:function(t,e,n){"use strict";var r=n(51163),o=n(47012),i=n(51695),a=n(16174),c=n(97625),u=n(83202);o&&r({target:"Object",proto:!0,forced:i},{__defineGetter__:function(t,e){u.f(a(this),t,{get:c(e),enumerable:!0,configurable:!0})}})},40905:function(t,e,n){var r=n(51163),o=n(47012);r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:n(10988)})},66179:function(t,e,n){var r=n(51163),o=n(47012);r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:n(83202).f})},56304:function(t,e,n){"use strict";var r=n(51163),o=n(47012),i=n(51695),a=n(16174),c=n(97625),u=n(83202);o&&r({target:"Object",proto:!0,forced:i},{__defineSetter__:function(t,e){u.f(a(this),t,{set:c(e),enumerable:!0,configurable:!0})}})},73958:function(t,e,n){var r=n(51163),o=n(33871).entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},36152:function(t,e,n){var r=n(51163),o=n(39352),i=n(8597),a=n(60726),c=n(64238).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:i(function(){u(1)}),sham:!o},{freeze:function(t){return u&&a(t)?u(c(t)):t}})},18294:function(t,e,n){var r=n(51163),o=n(53284),i=n(45347);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,function(t,n){i(e,t,n)},{AS_ENTRIES:!0}),e}})},52472:function(t,e,n){var r=n(51163),o=n(8597),i=n(8643),a=n(93099).f,c=n(47012),u=o(function(){a(1)});r({target:"Object",stat:!0,forced:!c||u,sham:!c},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},71519:function(t,e,n){var r=n(51163),o=n(47012),i=n(99376),a=n(8643),c=n(93099),u=n(45347);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=c.f,s=i(r),f={},l=0;s.length>l;)void 0!==(n=o(r,e=s[l++]))&&u(f,e,n);return f}})},51979:function(t,e,n){var r=n(51163),o=n(8597),i=n(7388).f;r({target:"Object",stat:!0,forced:o(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:i})},88272:function(t,e,n){var r=n(51163),o=n(8597),i=n(16174),a=n(3963),c=n(51335);r({target:"Object",stat:!0,forced:o(function(){a(1)}),sham:!c},{getPrototypeOf:function(t){return a(i(t))}})},10420:function(t,e,n){var r=n(51163),o=n(8597),i=n(60726),a=Object.isExtensible;r({target:"Object",stat:!0,forced:o(function(){a(1)})},{isExtensible:function(t){return!!i(t)&&(!a||a(t))}})},70530:function(t,e,n){var r=n(51163),o=n(8597),i=n(60726),a=Object.isFrozen;r({target:"Object",stat:!0,forced:o(function(){a(1)})},{isFrozen:function(t){return!i(t)||!!a&&a(t)}})},66270:function(t,e,n){var r=n(51163),o=n(8597),i=n(60726),a=Object.isSealed;r({target:"Object",stat:!0,forced:o(function(){a(1)})},{isSealed:function(t){return!i(t)||!!a&&a(t)}})},78902:function(t,e,n){n(51163)({target:"Object",stat:!0},{is:n(52778)})},43080:function(t,e,n){var r=n(51163),o=n(16174),i=n(68032);r({target:"Object",stat:!0,forced:n(8597)(function(){i(1)})},{keys:function(t){return i(o(t))}})},67731:function(t,e,n){"use strict";var r=n(51163),o=n(47012),i=n(51695),a=n(16174),c=n(28495),u=n(3963),s=n(93099).f;o&&r({target:"Object",proto:!0,forced:i},{__lookupGetter__:function(t){var e,n=a(this),r=c(t,!0);do{if(e=s(n,r))return e.get}while(n=u(n))}})},64115:function(t,e,n){"use strict";var r=n(51163),o=n(47012),i=n(51695),a=n(16174),c=n(28495),u=n(3963),s=n(93099).f;o&&r({target:"Object",proto:!0,forced:i},{__lookupSetter__:function(t){var e,n=a(this),r=c(t,!0);do{if(e=s(n,r))return e.set}while(n=u(n))}})},50410:function(t,e,n){var r=n(51163),o=n(60726),i=n(64238).onFreeze,a=n(39352),c=n(8597),u=Object.preventExtensions;r({target:"Object",stat:!0,forced:c(function(){u(1)}),sham:!a},{preventExtensions:function(t){return u&&o(t)?u(i(t)):t}})},42953:function(t,e,n){var r=n(51163),o=n(60726),i=n(64238).onFreeze,a=n(39352),c=n(8597),u=Object.seal;r({target:"Object",stat:!0,forced:c(function(){u(1)}),sham:!a},{seal:function(t){return u&&o(t)?u(i(t)):t}})},83482:function(t,e,n){n(51163)({target:"Object",stat:!0},{setPrototypeOf:n(91464)})},35704:function(t,e,n){var r=n(72900),o=n(87763),i=n(83119);r||o(Object.prototype,"toString",i,{unsafe:!0})},77598:function(t,e,n){var r=n(51163),o=n(33871).values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},24104:function(t,e,n){var r=n(51163),o=n(28884);r({global:!0,forced:parseFloat!=o},{parseFloat:o})},21581:function(t,e,n){var r=n(51163),o=n(43656);r({global:!0,forced:parseInt!=o},{parseInt:o})},28115:function(t,e,n){var r=n(51163),o=n(73626),i=n(97625),a=n(21099),c=n(8597),u=o("Reflect","apply"),s=Function.apply;r({target:"Reflect",stat:!0,forced:!c(function(){u(function(){})})},{apply:function(t,e,n){return i(t),a(n),u?u(t,e,n):s.call(t,e,n)}})},87821:function(t,e,n){var r=n(51163),o=n(73626),i=n(97625),a=n(21099),c=n(60726),u=n(38724),s=n(72702),f=n(8597),l=o("Reflect","construct"),p=f(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),h=!f(function(){l(function(){})}),v=p||h;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(h&&!p)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(s.apply(t,r))}var o=n.prototype,f=u(c(o)?o:Object.prototype),v=Function.apply.call(t,f,e);return c(v)?v:f}})},73138:function(t,e,n){var r=n(51163),o=n(47012),i=n(21099),a=n(28495),c=n(83202);r({target:"Reflect",stat:!0,forced:n(8597)(function(){Reflect.defineProperty(c.f({},1,{value:1}),1,{value:2})}),sham:!o},{defineProperty:function(t,e,n){i(t);var r=a(e,!0);i(n);try{return c.f(t,r,n),!0}catch(o){return!1}}})},92786:function(t,e,n){var r=n(51163),o=n(21099),i=n(93099).f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},6718:function(t,e,n){var r=n(51163),o=n(47012),i=n(21099),a=n(93099);r({target:"Reflect",stat:!0,sham:!o},{getOwnPropertyDescriptor:function(t,e){return a.f(i(t),e)}})},16989:function(t,e,n){var r=n(51163),o=n(21099),i=n(3963);r({target:"Reflect",stat:!0,sham:!n(51335)},{getPrototypeOf:function(t){return i(o(t))}})},72633:function(t,e,n){var r=n(51163),o=n(60726),i=n(21099),a=n(67791),c=n(93099),u=n(3963);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,s,f=arguments.length<3?e:arguments[2];return i(e)===f?e[n]:(r=c.f(e,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(f):o(s=u(e))?t(s,n,f):void 0}})},80941:function(t,e,n){n(51163)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},99062:function(t,e,n){var r=n(51163),o=n(21099),i=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function(t){return o(t),!i||i(t)}})},4101:function(t,e,n){n(51163)({target:"Reflect",stat:!0},{ownKeys:n(99376)})},48905:function(t,e,n){var r=n(51163),o=n(73626),i=n(21099);r({target:"Reflect",stat:!0,sham:!n(39352)},{preventExtensions:function(t){i(t);try{var e=o("Object","preventExtensions");return e&&e(t),!0}catch(n){return!1}}})},10408:function(t,e,n){var r=n(51163),o=n(21099),i=n(95143),a=n(91464);a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){o(t),i(e);try{return a(t,e),!0}catch(n){return!1}}})},79421:function(t,e,n){var r=n(51163),o=n(21099),i=n(60726),a=n(67791),c=n(8597),u=n(83202),s=n(93099),f=n(3963),l=n(53203);r({target:"Reflect",stat:!0,forced:c(function(){var t=function(){},e=u.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)})},{set:function t(e,n,r){var c,p,h=arguments.length<4?e:arguments[3],v=s.f(o(e),n);if(!v){if(i(p=f(e)))return t(p,n,r,h);v=l(0)}if(a(v,"value")){if(!1===v.writable||!i(h))return!1;if(c=s.f(h,n)){if(c.get||c.set||!1===c.writable)return!1;c.value=r,u.f(h,n,c)}else u.f(h,n,l(0,r));return!0}return void 0!==v.set&&(v.set.call(h,r),!0)}})},24144:function(t,e,n){var r=n(51163),o=n(31864),i=n(58242);r({global:!0},{Reflect:{}}),i(o.Reflect,"Reflect",!0)},84378:function(t,e,n){var r=n(47012),o=n(31864),i=n(87215),a=n(38267),c=n(83202).f,u=n(94564).f,s=n(99482),f=n(41891),l=n(29895),p=n(87763),h=n(8597),v=n(52493).enforce,d=n(37374),g=n(84563)("match"),y=o.RegExp,m=y.prototype,b=/a/g,k=/a/g,x=new y(b)!==b,_=l.UNSUPPORTED_Y;if(r&&i("RegExp",!x||_||h(function(){return k[g]=!1,y(b)!=b||y(k)==k||"/a/i"!=y(b,"i")}))){for(var E=function(t,e){var n,r=this instanceof E,o=s(t),i=void 0===e;if(!r&&o&&t.constructor===E&&i)return t;x?o&&!i&&(t=t.source):t instanceof E&&(i&&(e=f.call(t)),t=t.source),_&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var c=a(x?new y(t,e):y(t,e),r?this:m,E);return _&&n&&(v(c).sticky=!0),c},S=function(t){t in E||c(E,t,{configurable:!0,get:function(){return y[t]},set:function(e){y[t]=e}})},w=u(y),T=0;w.length>T;)S(w[T++]);m.constructor=E,E.prototype=m,p(o,"RegExp",E)}d("RegExp")},69665:function(t,e,n){"use strict";var r=n(51163),o=n(93084);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},27741:function(t,e,n){var r=n(47012),o=n(83202),i=n(41891),a=n(29895).UNSUPPORTED_Y;r&&("g"!=/./g.flags||a)&&o.f(RegExp.prototype,"flags",{configurable:!0,get:i})},50232:function(t,e,n){var r=n(47012),o=n(29895).UNSUPPORTED_Y,i=n(83202).f,a=n(52493).get,c=RegExp.prototype;r&&o&&i(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==c){if(this instanceof RegExp)return!!a(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})},78682:function(t,e,n){"use strict";n(69665);var r,o,i=n(51163),a=n(60726),c=(r=!1,(o=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===o.test("abc")&&r),u=/./.test;i({target:"RegExp",proto:!0,forced:!c},{test:function(t){if("function"!=typeof this.exec)return u.call(this,t);var e=this.exec(t);if(null!==e&&!a(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}})},94119:function(t,e,n){"use strict";var r=n(87763),o=n(21099),i=n(8597),a=n(41891),c="toString",u=RegExp.prototype,s=u.toString;(i(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})||s.name!=c)&&r(RegExp.prototype,c,function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in u)?a.call(t):n)},{unsafe:!0})},43014:function(t,e,n){"use strict";var r=n(41603),o=n(5692);t.exports=r("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},o)},99139:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},62786:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("big")},{big:function(){return o(this,"big","","")}})},44260:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("blink")},{blink:function(){return o(this,"blink","","")}})},30890:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("bold")},{bold:function(){return o(this,"b","","")}})},56261:function(t,e,n){"use strict";var r=n(51163),o=n(64487).codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return o(this,t)}})},30706:function(t,e,n){"use strict";var r,o=n(51163),i=n(93099).f,a=n(15902),c=n(93270),u=n(95025),s=n(363),f=n(97515),l="".endsWith,p=Math.min,h=s("endsWith");o({target:"String",proto:!0,forced:!(!f&&!h&&(r=i(String.prototype,"endsWith"),r&&!r.writable)||h)},{endsWith:function(t){var e=String(u(this));c(t);var n=arguments.length>1?arguments[1]:void 0,r=a(e.length),o=void 0===n?r:p(a(n),r),i=String(t);return l?l.call(e,i,o):e.slice(o-i.length,o)===i}})},98147:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("fixed")},{fixed:function(){return o(this,"tt","","")}})},56475:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("fontcolor")},{fontcolor:function(t){return o(this,"font","color",t)}})},39305:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("fontsize")},{fontsize:function(t){return o(this,"font","size",t)}})},36477:function(t,e,n){var r=n(51163),o=n(20222),i=String.fromCharCode,a=String.fromCodePoint;r({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?i(e):i(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},13358:function(t,e,n){"use strict";var r=n(51163),o=n(93270),i=n(95025);r({target:"String",proto:!0,forced:!n(363)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},37285:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("italics")},{italics:function(){return o(this,"i","","")}})},13744:function(t,e,n){"use strict";var r=n(64487).charAt,o=n(52493),i=n(66038),a="String Iterator",c=o.set,u=o.getterFor(a);i(String,"String",function(t){c(this,{type:a,string:String(t),index:0})},function(){var t,e=u(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})})},38432:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("link")},{link:function(t){return o(this,"a","href",t)}})},7279:function(t,e,n){"use strict";var r=n(51163),o=n(17453),i=n(95025),a=n(15902),c=n(97625),u=n(21099),s=n(96644),f=n(99482),l=n(41891),p=n(815),h=n(8597),v=n(84563),d=n(47211),g=n(27678),y=n(52493),m=n(97515),b=v("matchAll"),k="RegExp String Iterator",x=y.set,_=y.getterFor(k),E=RegExp.prototype,S=E.exec,w="".matchAll,T=!!w&&!h(function(){"a".matchAll(/./)}),O=o(function(t,e,n,r){x(this,{type:k,regexp:t,string:e,global:n,unicode:r,done:!1})},"RegExp String",function(){var t=_(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=function(t,e){var n,r=t.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(t,e)))throw TypeError("Incorrect exec result");return n}return S.call(t,e)}(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=g(n,a(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})}),I=function(t){var e,n,r,o,i,c,s=u(this),f=String(t);return e=d(s,RegExp),void 0===(n=s.flags)&&s instanceof RegExp&&!("flags"in E)&&(n=l.call(s)),r=void 0===n?"":String(n),o=new e(e===RegExp?s.source:s,r),i=!!~r.indexOf("g"),c=!!~r.indexOf("u"),o.lastIndex=a(s.lastIndex),new O(o,f,i,c)};r({target:"String",proto:!0,forced:T},{matchAll:function(t){var e,n,r,o=i(this);if(null!=t){if(f(t)&&!~String(i("flags"in E?t.flags:l.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(T)return w.apply(o,arguments);if(void 0===(n=t[b])&&m&&"RegExp"==s(t)&&(n=I),null!=n)return c(n).call(t,o)}else if(T)return w.apply(o,arguments);return e=String(o),r=new RegExp(t,"g"),m?I.call(r,e):r[b](e)}}),m||b in E||p(E,b,I)},26954:function(t,e,n){"use strict";var r=n(9357),o=n(21099),i=n(15902),a=n(95025),c=n(27678),u=n(53793);r("match",1,function(t,e,n){return[function(e){var n=a(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=o(t),s=String(this);if(!a.global)return u(a,s);var f=a.unicode;a.lastIndex=0;for(var l,p=[],h=0;null!==(l=u(a,s));){var v=String(l[0]);p[h]=v,""===v&&(a.lastIndex=c(s,i(a.lastIndex),f)),h++}return 0===h?null:p}]})},158:function(t,e,n){"use strict";var r=n(51163),o=n(14164).end;r({target:"String",proto:!0,forced:n(99295)},{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},55569:function(t,e,n){"use strict";var r=n(51163),o=n(14164).start;r({target:"String",proto:!0,forced:n(99295)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},27163:function(t,e,n){var r=n(51163),o=n(8643),i=n(15902);r({target:"String",stat:!0},{raw:function(t){for(var e=o(t.raw),n=i(e.length),r=arguments.length,a=[],c=0;n>c;)a.push(String(e[c++])),c<r&&a.push(String(arguments[c]));return a.join("")}})},30001:function(t,e,n){n(51163)({target:"String",proto:!0},{repeat:n(73380)})},57208:function(t,e,n){"use strict";var r=n(51163),o=n(95025),i=n(99482),a=n(41891),c=n(16162),u=n(84563),s=n(97515),f=u("replace"),l=RegExp.prototype,p=Math.max,h=function(t,e,n){return n>t.length?-1:""===e?n:t.indexOf(e,n)};r({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,u,v,d,g,y,m,b=o(this),k=0,x=0,_="";if(null!=t){if((n=i(t))&&!~String(o("flags"in l?t.flags:a.call(t))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(r=t[f]))return r.call(t,b,e);if(s&&n)return String(b).replace(t,e)}for(u=String(b),v=String(t),(d="function"==typeof e)||(e=String(e)),y=p(1,g=v.length),k=h(u,v,0);-1!==k;)m=d?String(e(v,k,u)):c(v,u,k,[],void 0,e),_+=u.slice(x,k)+m,x=k+g,k=h(u,v,k+y);return x<u.length&&(_+=u.slice(x)),_}})},66262:function(t,e,n){"use strict";var r=n(9357),o=n(21099),i=n(15902),a=n(59463),c=n(95025),u=n(27678),s=n(16162),f=n(53793),l=Math.max,p=Math.min;r("replace",2,function(t,e,n,r){var h=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,d=h?"$":"$0";return[function(n,r){var o=c(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!h&&v||"string"==typeof r&&-1===r.indexOf(d)){var c=n(e,t,this,r);if(c.done)return c.value}var g=o(t),y=String(this),m="function"==typeof r;m||(r=String(r));var b=g.global;if(b){var k=g.unicode;g.lastIndex=0}for(var x=[];;){var _=f(g,y);if(null===_)break;if(x.push(_),!b)break;""===String(_[0])&&(g.lastIndex=u(y,i(g.lastIndex),k))}for(var E,S="",w=0,T=0;T<x.length;T++){_=x[T];for(var O=String(_[0]),I=l(p(a(_.index),y.length),0),j=[],M=1;M<_.length;M++)j.push(void 0===(E=_[M])?E:String(E));var P=_.groups;if(m){var R=[O].concat(j,I,y);void 0!==P&&R.push(P);var A=String(r.apply(void 0,R))}else A=s(O,y,I,j,P,r);I>=w&&(S+=y.slice(w,I)+A,w=I+O.length)}return S+y.slice(w)}]})},32426:function(t,e,n){"use strict";var r=n(9357),o=n(21099),i=n(95025),a=n(52778),c=n(53793);r("search",1,function(t,e,n){return[function(e){var n=i(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=o(t),u=String(this),s=i.lastIndex;a(s,0)||(i.lastIndex=0);var f=c(i,u);return a(i.lastIndex,s)||(i.lastIndex=s),null===f?-1:f.index}]})},41323:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("small")},{small:function(){return o(this,"small","","")}})},55374:function(t,e,n){"use strict";var r=n(9357),o=n(99482),i=n(21099),a=n(95025),c=n(47211),u=n(27678),s=n(15902),f=n(53793),l=n(93084),p=n(29895).UNSUPPORTED_Y,h=[].push,v=Math.min,d=4294967295;r("split",2,function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),i=void 0===n?d:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var c,u,s,f=[],p=0,v=new RegExp(t.source,(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"")+"g");(c=l.call(v,r))&&!((u=v.lastIndex)>p&&(f.push(r.slice(p,c.index)),c.length>1&&c.index<r.length&&h.apply(f,c.slice(1)),s=c[0].length,p=u,f.length>=i));)v.lastIndex===c.index&&v.lastIndex++;return p===r.length?!s&&v.test("")||f.push(""):f.push(r.slice(p)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var a=n(r,t,this,o,r!==e);if(a.done)return a.value;var l=i(t),h=String(this),g=c(l,RegExp),y=l.unicode,m=new g(p?"^(?:"+l.source+")":l,(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"g":"y")),b=void 0===o?d:o>>>0;if(0===b)return[];if(0===h.length)return null===f(m,h)?[h]:[];for(var k=0,x=0,_=[];x<h.length;){m.lastIndex=p?0:x;var E,S=f(m,p?h.slice(x):h);if(null===S||(E=v(s(m.lastIndex+(p?x:0)),h.length))===k)x=u(h,x,y);else{if(_.push(h.slice(k,x)),_.length===b)return _;for(var w=1;w<=S.length-1;w++)if(_.push(S[w]),_.length===b)return _;x=k=E}}return _.push(h.slice(k)),_}]},p)},15139:function(t,e,n){"use strict";var r,o=n(51163),i=n(93099).f,a=n(15902),c=n(93270),u=n(95025),s=n(363),f=n(97515),l="".startsWith,p=Math.min,h=s("startsWith");o({target:"String",proto:!0,forced:!(!f&&!h&&(r=i(String.prototype,"startsWith"),r&&!r.writable)||h)},{startsWith:function(t){var e=String(u(this));c(t);var n=a(p(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return l?l.call(e,r,n):e.slice(n,n+r.length)===r}})},57371:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("strike")},{strike:function(){return o(this,"strike","","")}})},30352:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("sub")},{sub:function(){return o(this,"sub","","")}})},80912:function(t,e,n){"use strict";var r=n(51163),o=n(22769);r({target:"String",proto:!0,forced:n(52469)("sup")},{sup:function(){return o(this,"sup","","")}})},82650:function(t,e,n){"use strict";var r=n(51163),o=n(51664).end,i=n(5637)("trimEnd"),a=i?function(){return o(this)}:"".trimEnd;r({target:"String",proto:!0,forced:i},{trimEnd:a,trimRight:a})},42164:function(t,e,n){"use strict";var r=n(51163),o=n(51664).start,i=n(5637)("trimStart"),a=i?function(){return o(this)}:"".trimStart;r({target:"String",proto:!0,forced:i},{trimStart:a,trimLeft:a})},77176:function(t,e,n){"use strict";var r=n(51163),o=n(51664).trim;r({target:"String",proto:!0,forced:n(5637)("trim")},{trim:function(){return o(this)}})},65619:function(t,e,n){"use strict";var r=n(51163),o=n(31864),i=n(73626),a=n(97515),c=n(47012),u=n(77040),s=n(24431),f=n(8597),l=n(67791),p=n(47883),h=n(60726),v=n(21099),d=n(16174),g=n(8643),y=n(28495),m=n(53203),b=n(38724),k=n(68032),x=n(94564),_=n(7388),E=n(77593),S=n(93099),w=n(83202),T=n(5600),O=n(815),I=n(87763),j=n(77719),M=n(42650),P=n(3536),R=n(94295),A=n(84563),D=n(53589),N=n(7007),C=n(58242),z=n(52493),Z=n(94115).forEach,L=M("hidden"),F="Symbol",U=A("toPrimitive"),G=z.set,H=z.getterFor(F),W=Object.prototype,q=o.Symbol,V=i("JSON","stringify"),B=S.f,X=w.f,$=_.f,Y=T.f,J=j("symbols"),K=j("op-symbols"),Q=j("string-to-symbol-registry"),tt=j("symbol-to-string-registry"),et=j("wks"),nt=o.QObject,rt=!nt||!nt.prototype||!nt.prototype.findChild,ot=c&&f(function(){return 7!=b(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=B(W,e);r&&delete W[e],X(t,e,n),r&&t!==W&&X(W,e,r)}:X,it=function(t,e){var n=J[t]=b(q.prototype);return G(n,{type:F,tag:t,description:e}),c||(n.description=e),n},at=s?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof q},ct=function(t,e,n){t===W&&ct(K,e,n),v(t);var r=y(e,!0);return v(n),l(J,r)?(n.enumerable?(l(t,L)&&t[L][r]&&(t[L][r]=!1),n=b(n,{enumerable:m(0,!1)})):(l(t,L)||X(t,L,m(1,{})),t[L][r]=!0),ot(t,r,n)):X(t,r,n)},ut=function(t,e){v(t);var n=g(e),r=k(n).concat(pt(n));return Z(r,function(e){c&&!st.call(n,e)||ct(t,e,n[e])}),t},st=function(t){var e=y(t,!0),n=Y.call(this,e);return!(this===W&&l(J,e)&&!l(K,e))&&(!(n||!l(this,e)||!l(J,e)||l(this,L)&&this[L][e])||n)},ft=function(t,e){var n=g(t),r=y(e,!0);if(n!==W||!l(J,r)||l(K,r)){var o=B(n,r);return!o||!l(J,r)||l(n,L)&&n[L][r]||(o.enumerable=!0),o}},lt=function(t){var e=$(g(t)),n=[];return Z(e,function(t){l(J,t)||l(P,t)||n.push(t)}),n},pt=function(t){var e=t===W,n=$(e?K:g(t)),r=[];return Z(n,function(t){!l(J,t)||e&&!l(W,t)||r.push(J[t])}),r};u||(I((q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=R(t),n=function(t){this===W&&n.call(K,t),l(this,L)&&l(this[L],e)&&(this[L][e]=!1),ot(this,e,m(1,t))};return c&&rt&&ot(W,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",function(){return H(this).tag}),I(q,"withoutSetter",function(t){return it(R(t),t)}),T.f=st,w.f=ct,S.f=ft,x.f=_.f=lt,E.f=pt,D.f=function(t){return it(A(t),t)},c&&(X(q.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),a||I(W,"propertyIsEnumerable",st,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:q}),Z(k(et),function(t){N(t)}),r({target:F,stat:!0,forced:!u},{for:function(t){var e=String(t);if(l(Q,e))return Q[e];var n=q(e);return Q[e]=n,tt[n]=e,n},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(l(tt,t))return tt[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(t,e){return void 0===e?b(t):ut(b(t),e)},defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:ft}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:lt,getOwnPropertySymbols:pt}),r({target:"Object",stat:!0,forced:f(function(){E.f(1)})},{getOwnPropertySymbols:function(t){return E.f(d(t))}}),V&&r({target:"JSON",stat:!0,forced:!u||f(function(){var t=q();return"[null]"!=V([t])||"{}"!=V({a:t})||"{}"!=V(Object(t))})},{stringify:function(t,e,n){for(var r,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=e,(h(e)||void 0!==t)&&!at(t))return p(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!at(e))return e}),o[1]=e,V.apply(null,o)}}),q.prototype[U]||O(q.prototype,U,q.prototype.valueOf),C(q,F),P[L]=!0},63438:function(t,e,n){"use strict";var r,o=n(31864),i=n(78715),a=n(64238),c=n(41603),u=n(96491),s=n(60726),f=n(52493).enforce,l=n(51635),p=!o.ActiveXObject&&"ActiveXObject"in o,h=Object.isExtensible,v=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},d=t.exports=c("WeakMap",v,u);if(l&&p){r=u.getConstructor(v,"WeakMap",!0),a.REQUIRED=!0;var g=d.prototype,y=g.delete,m=g.has,b=g.get,k=g.set;i(g,{delete:function(t){if(s(t)&&!h(t)){var e=f(this);return e.frozen||(e.frozen=new r),y.call(this,t)||e.frozen.delete(t)}return y.call(this,t)},has:function(t){if(s(t)&&!h(t)){var e=f(this);return e.frozen||(e.frozen=new r),m.call(this,t)||e.frozen.has(t)}return m.call(this,t)},get:function(t){if(s(t)&&!h(t)){var e=f(this);return e.frozen||(e.frozen=new r),m.call(this,t)?b.call(this,t):e.frozen.get(t)}return b.call(this,t)},set:function(t,e){if(s(t)&&!h(t)){var n=f(this);n.frozen||(n.frozen=new r),m.call(this,t)?k.call(this,t,e):n.frozen.set(t,e)}else k.call(this,t,e);return this}})}},22603:function(t,e,n){var r=n(31864),o=n(26877),i=n(66837),a=n(815),c=n(84563),u=c("iterator"),s=c("toStringTag"),f=i.values;for(var l in o){var p=r[l],h=p&&p.prototype;if(h){if(h[u]!==f)try{a(h,u,f)}catch(d){h[u]=f}if(h[s]||a(h,s,l),o[l])for(var v in i)if(h[v]!==i[v])try{a(h,v,i[v])}catch(d){h[v]=i[v]}}}}},function(t){"use strict";var e=t(t.s=61605);formRendererElement=e}]);
!function(){"use strict";var e=Promise,t=(e,t)=>{const n=e=>{for(let t=0,{length:n}=e;t<n;t++)r(e[t])},r=({target:e,attributeName:t,oldValue:n})=>{e.attributeChangedCallback(t,n,e.getAttribute(t))};return(o,l)=>{const{observedAttributes:s}=o.constructor;return s&&e(l).then(()=>{new t(n).observe(o,{attributes:!0,attributeOldValue:!0,attributeFilter:s});for(let e=0,{length:t}=s;e<t;e++)o.hasAttribute(s[e])&&r({target:o,attributeName:s[e],oldValue:null})}),o}};const n=!0,r=!1,o="querySelectorAll";function l(e){this.observe(e,{subtree:n,childList:n})}const s="querySelectorAll",{document:c,Element:a,MutationObserver:i,Set:u,WeakMap:f}=self,h=e=>s in e,{filter:d}=[];var g=e=>{const t=new f,g=(n,r)=>{let o;if(r)for(let l,s=(e=>e.matches||e.webkitMatchesSelector||e.msMatchesSelector)(n),c=0,{length:a}=w;c<a;c++)s.call(n,l=w[c])&&(t.has(n)||t.set(n,new u),o=t.get(n),o.has(l)||(o.add(l),e.handle(n,r,l)));else t.has(n)&&(o=t.get(n),t.delete(n),o.forEach(t=>{e.handle(n,r,t)}))},p=(e,t=!0)=>{for(let n=0,{length:r}=e;n<r;n++)g(e[n],t)},{query:w}=e,y=e.root||c,m=((e,t,s)=>{const c=(t,r,l,s,a)=>{for(let i=0,{length:u}=t;i<u;i++){const u=t[i];(a||o in u)&&(s?r.has(u)||(r.add(u),l.delete(u),e(u,s)):l.has(u)||(l.add(u),r.delete(u),e(u,s)),a||c(u[o]("*"),r,l,s,n))}},a=new(s||MutationObserver)(e=>{for(let t=new Set,o=new Set,l=0,{length:s}=e;l<s;l++){const{addedNodes:s,removedNodes:a}=e[l];c(a,t,o,r,r),c(s,t,o,n,r)}});return a.add=l,a.add(t||document),a})(g,y,i),{attachShadow:b}=a.prototype;return b&&(a.prototype.attachShadow=function(e){const t=b.call(this,e);return m.add(t),t}),w.length&&p(y[s](w)),{drop:e=>{for(let n=0,{length:r}=e;n<r;n++)t.delete(e[n])},flush:()=>{const e=m.takeRecords();for(let t=0,{length:n}=e;t<n;t++)p(d.call(e[t].removedNodes,h),!1),p(d.call(e[t].addedNodes,h),!0)},observer:m,parse:p}};const{document:p,Map:w,MutationObserver:y,Object:m,Set:b,WeakMap:E,Element:v,HTMLElement:S,Node:M,Error:O,TypeError:N,Reflect:A}=self,q=self.Promise||e,{defineProperty:C,keys:T,getOwnPropertyNames:D,setPrototypeOf:L}=m;let P=!self.customElements;const k=e=>{const t=T(e),n=[],{length:r}=t;for(let o=0;o<r;o++)n[o]=e[t[o]],delete e[t[o]];return()=>{for(let o=0;o<r;o++)e[t[o]]=n[o]}};if(P){const{createElement:n}=p,r=new w,o=new w,l=new w,s=new w,c=[],a=(e,t,n)=>{const r=l.get(n);if(t&&!r.isPrototypeOf(e)){const t=k(e);u=L(e,r);try{new r.constructor}finally{u=null,t()}}const o=(t?"":"dis")+"connectedCallback";o in r&&e[o]()},{parse:i}=g({query:c,handle:a});let u=null;const f=t=>{if(!o.has(t)){let n,r=new e(e=>{n=e});o.set(t,{$:r,_:n})}return o.get(t).$},h=t(f,y);function $(){const{constructor:e}=this;if(!r.has(e))throw new N("Illegal constructor");const t=r.get(e);if(u)return h(u,t);const o=n.call(p,t);return h(L(o,e.prototype),t)}C(self,"customElements",{configurable:!0,value:{define:(e,t)=>{if(s.has(e))throw new O(`the name "${e}" has already been used with this registry`);r.set(t,e),l.set(e,t.prototype),s.set(e,t),c.push(e),f(e).then(()=>{i(p.querySelectorAll(e))}),o.get(e)._(t)},get:e=>s.get(e),whenDefined:f}}),C($.prototype=S.prototype,"constructor",{value:$}),C(self,"HTMLElement",{configurable:!0,value:$}),C(p,"createElement",{configurable:!0,value(e,t){const r=s.get(t&&t.is||e);return r?new r:n.call(p,e)}}),"isConnected"in M.prototype||C(M.prototype,"isConnected",{configurable:!0,get(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else try{function I(){return self.Reflect.construct(HTMLLIElement,[],I)}I.prototype=HTMLLIElement.prototype;const e="extends-li";self.customElements.define("extends-li",I,{extends:"li"}),P=p.createElement("li",{is:e}).outerHTML.indexOf(e)<0;const{get:t,whenDefined:n}=self.customElements;C(self.customElements,"whenDefined",{configurable:!0,value(e){return n.call(this,e).then(n=>n||t.call(this,e))}})}catch(e){P=!P}if(P){const e=self.customElements,{attachShadow:n}=v.prototype,{createElement:r}=p,{define:o,get:l}=e,{construct:s}=A||{construct(e){return e.call(this)}},c=new E,a=new b,i=new w,u=new w,f=new w,h=new w,d=[],m=[],S=t=>h.get(t)||l.call(e,t),M=(e,t,n)=>{const r=f.get(n);if(t&&!r.isPrototypeOf(e)){const t=k(e);_=L(e,r);try{new r.constructor}finally{_=null,t()}}const o=(t?"":"dis")+"connectedCallback";o in r&&e[o]()},{parse:T}=g({query:m,handle:M}),{parse:P}=g({query:d,handle(e,t){c.has(e)&&(t?a.add(e):a.delete(e),m.length&&H.call(m,e))}}),$=e=>{if(!u.has(e)){let t,n=new q(e=>{t=e});u.set(e,{$:n,_:t})}return u.get(e).$},I=t($,y);let _=null;function H(e){const t=c.get(e);T(t.querySelectorAll(this),e.isConnected)}D(self).filter(e=>/^HTML/.test(e)).forEach(e=>{const t=self[e];function n(){const{constructor:e}=this;if(!i.has(e))throw new N("Illegal constructor");const{is:n,tag:o}=i.get(e);if(n){if(_)return I(_,n);const t=r.call(p,o);return t.setAttribute("is",n),I(L(t,e.prototype),n)}return s.call(this,t,[],e)}L(n,t),C(n.prototype=t.prototype,"constructor",{value:n}),C(self,e,{value:n})}),C(p,"createElement",{configurable:!0,value(e,t){const n=t&&t.is;if(n){const t=h.get(n);if(t&&i.get(t).tag===e)return new t}const o=r.call(p,e);return n&&o.setAttribute("is",n),o}}),n&&(v.prototype.attachShadow=function(e){const t=n.call(this,e);return c.set(this,t),t}),C(e,"get",{configurable:!0,value:S}),C(e,"whenDefined",{configurable:!0,value:$}),C(e,"define",{configurable:!0,value(t,n,r){if(S(t))throw new O(`'${t}' has already been defined as a custom element`);let l;const s=r&&r.extends;i.set(n,s?{is:t,tag:s}:{is:"",tag:t}),s?(l=`${s}[is="${t}"]`,f.set(l,n.prototype),h.set(t,n),m.push(l)):(o.apply(e,arguments),d.push(l=t)),$(t).then(()=>{s?(T(p.querySelectorAll(l)),a.forEach(H,[l])):P(p.querySelectorAll(l))}),u.get(t)._(n)}})}}();
var formRendererElement;(self.webpackChunkwebpackJsonpFormRendererElements=self.webpackChunkwebpackJsonpFormRendererElements||[]).push([[179],{36726:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=36726,e.exports=t},36191:function(e,t,n){"use strict";n.r(t);var r=n(30269),i=n(35322),o=n(16073),a=n(84832),s=n(29063),l=n(32041),u=n(89647),c=n(44014),d=n(51816),h=n(20324),f=n(14324),p=n(69056),m=n(61511),v=n(92305),g=n(89666),y=n(15868),b=n(15446),_=n(16947),C=n(1954),E=n(91681),T=n(29748),w=n(99275),O=n(76984),x=n(70468),I=function(){function e(){this.onEhrComponentRendered=new i.vpe}return e.prototype.ngAfterViewInit=function(){this.onEhrComponentRendered.next()},e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["","ehrOnRenderedEmitter",""]],outputs:{onEhrComponentRendered:"onEhrComponentRendered"}}),e}(),M=n(58612),S=n(76424),V=function(){function e(e,t,n){this.ehrFormState=e,this.sanitizer=t,this.changeDetectorRef=n}return e.prototype.ngOnChanges=function(e){var t=this;this.formContextSubscription&&this.formContextSubscription.unsubscribe(),this.formContextSubscription=this.ehrFormState.getFormContext().pipe((0,M.j)("language"),(0,S.x)()).subscribe(function(e){var n=t.model.labelFor(e)||"";t.suffix&&(n+=t.suffix),t.safeHtml=t.sanitizer.bypassSecurityTrustHtml(n),t.changeDetectorRef.markForCheck()})},e.prototype.ngOnDestroy=function(){this.formContextSubscription&&this.formContextSubscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(i.Y36(T.G),i.Y36(r.H7),i.Y36(i.sBO))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-rich-field-label"]],inputs:{model:"model",suffix:"suffix"},features:[i.TTD],decls:1,vars:1,consts:[[1,"ehr-rich-field-label",3,"innerHTML"]],template:function(e,t){1&e&&i._UZ(0,"span",0),2&e&&i.Q6J("innerHTML",t.safeHtml,i.oJD)},encapsulation:2,changeDetection:0}),e}(),A=n(77377),D=n(97425),k=n(90343),R=function(){function e(e){this.components=new D.X({}),this.registerComponents(e)}return e.createInstanceWithComponents=function(t){return new e},Object.defineProperty(e.prototype,"registeredComponents",{get:function(){return this.components.getValue()},enumerable:!1,configurable:!0}),e.prototype.registerComponents=function(e){var t=this;e&&Object.getOwnPropertyNames(e).forEach(function(n){t.registerComponent(n,e[n])})},e.prototype.registerComponent=function(e,t){if(e){var n={};n[e=e.trim()]=t,this.components.next(Object.assign(this.components.getValue(),n))}},e.prototype.componentName$=function(e){return null===e?(0,l.of)(null):(isNaN(+e)&&(e=e.trim()),this.components.pipe((0,M.j)(e),(0,k.b)(function(t){t||console.warn("Custom component not found / name=",e)}),(0,S.x)()))},e}();function P(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-text",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function N(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-identifier",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function F(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-parsable",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function L(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-party-proxy",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function Z(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-uri",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function U(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-ehr-uri",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function B(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-count",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function G(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-proportion",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function H(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-quantity",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function q(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-duration",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function j(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-date-time",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function Y(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-date",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function J(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-time",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function z(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-coded-text",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function Q(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-coded-text",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function W(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-coded-text",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function K(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-boolean",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function X(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-multimedia",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function $(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-multimedia",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function ee(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-button",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function te(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-save-button",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function ne(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-spacer",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function re(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-text",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function ie(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-coded-text",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function oe(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-count",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function ae(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-proportion",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function se(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-date",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function le(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-coded-text",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function ue(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-external-widget",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function ce(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-boolean",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function de(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-quantity",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function he(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-time",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function fe(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-date-time",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function pe(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-image",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function me(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-canvas",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function ve(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-column-list",7),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)("ehrFormGroup",r.ehrFormGroup)("layout",r.layout)}}function ge(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-stacked-list",7),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)("ehrFormGroup",r.ehrFormGroup)("layout",r.layout)}}function ye(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-rich-text",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function be(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-html",6),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)}}function _e(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-layout-group",7),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("model",r.model)("ehrFormGroup",r.ehrFormGroup)("layout",r.layout)}}function Ce(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-container",7),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(4).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(4);i.Q6J("model",r.model)("ehrFormGroup",r.ehrFormGroup)("layout",r.layout)}}function Ee(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-container-list",7),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(4).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(4);i.Q6J("model",r.model)("ehrFormGroup",r.ehrFormGroup)("layout",r.layout)}}function Te(e,t){if(1&e&&(i.ynx(0),i.YNc(1,Ce,1,3,"ehr-container",10),i.ALo(2,"isAnyFieldWithoutType"),i.ALo(3,"isContainerList"),i.YNc(4,Ee,1,3,"ehr-container-list",10),i.ALo(5,"isContainerList"),i.BQk()),2&e){var n=i.oxw(3);i.xp6(1),i.Q6J("ngIf",!i.lcZ(2,2,n.model)&&!i.lcZ(3,4,n.model)),i.xp6(3),i.Q6J("ngIf",i.lcZ(5,6,n.model)&&0===n.model.getMultiIndex())}}function we(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",11),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw(3);return e.childComponentRendered(e.getModelAsNodeModel(e.model))}),i._uU(1),i.qZA()}if(2&e){var r=i.oxw(3);i.xp6(1),i.hij("UNKNOWN RMTYPE: (",r.model.getRmType(),")")}}function Oe(e,t){if(1&e&&(i.YNc(0,Te,6,8,"ng-container",8),i.YNc(1,we,2,1,"div",9)),2&e){var n=i.oxw(2);i.Q6J("ngIf",n.model.isContainer()),i.xp6(1),i.Q6J("ngIf",!n.model.isContainer())}}function xe(e,t){if(1&e&&(i.TgZ(0,"div",2),i.ALo(1,"elementOffsetClass"),i.ynx(2,3),i.YNc(3,P,1,1,"ng-template",4),i.YNc(4,N,1,1,"ng-template",4),i.YNc(5,F,1,1,"ng-template",4),i.YNc(6,L,1,1,"ng-template",4),i.YNc(7,Z,1,1,"ng-template",4),i.YNc(8,U,1,1,"ng-template",4),i.YNc(9,B,1,1,"ng-template",4),i.YNc(10,G,1,1,"ng-template",4),i.YNc(11,H,1,1,"ng-template",4),i.YNc(12,q,1,1,"ng-template",4),i.YNc(13,j,1,1,"ng-template",4),i.YNc(14,Y,1,1,"ng-template",4),i.YNc(15,J,1,1,"ng-template",4),i.YNc(16,z,1,1,"ng-template",4),i.YNc(17,Q,1,1,"ng-template",4),i.YNc(18,W,1,1,"ng-template",4),i.YNc(19,K,1,1,"ng-template",4),i.YNc(20,X,1,1,"ng-template",4),i.YNc(21,$,1,1,"ng-template",4),i.YNc(22,ee,1,1,"ng-template",4),i.YNc(23,te,1,1,"ng-template",4),i.YNc(24,ne,1,1,"ng-template",4),i.YNc(25,re,1,1,"ng-template",4),i.YNc(26,ie,1,1,"ng-template",4),i.YNc(27,oe,1,1,"ng-template",4),i.YNc(28,ae,1,1,"ng-template",4),i.YNc(29,se,1,1,"ng-template",4),i.YNc(30,le,1,1,"ng-template",4),i.YNc(31,ue,1,1,"ng-template",4),i.YNc(32,ce,1,1,"ng-template",4),i.YNc(33,de,1,1,"ng-template",4),i.YNc(34,he,1,1,"ng-template",4),i.YNc(35,fe,1,1,"ng-template",4),i.YNc(36,pe,1,1,"ng-template",4),i.YNc(37,me,1,1,"ng-template",4),i.YNc(38,ve,1,3,"ng-template",4),i.YNc(39,ge,1,3,"ng-template",4),i.YNc(40,ye,1,1,"ng-template",4),i.YNc(41,be,1,1,"ng-template",4),i.YNc(42,_e,1,3,"ng-template",4),i.YNc(43,Oe,2,2,"ng-template",5),i.BQk(),i.qZA()),2&e){var n=i.oxw();i.ekj("pl-2",n.presentationMode&&!n.model.isContainer()),i.Q6J("ngClass",i.xi3(1,44,n.leftOffset,n.rightOffset)),i.xp6(2),i.Q6J("ngSwitch",n.model.getRmType()),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_TEXT),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_IDENTIFIER),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_PARSABLE),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.PARTY_PROXY),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_URI),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_EHR_URI),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_COUNT),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_PROPORTION),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_QUANTITY),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_DURATION),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_DATE_TIME),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_DATE),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_TIME),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_CODED_TEXT),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_ORDINAL),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_SCALE),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_BOOLEAN),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.DV_MULTIMEDIA),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_MULTIMEDIA),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_BUTTON),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_SAVE_BUTTON),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_SPACER),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_INPUT_TEXT),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_CODED_TEXT),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_NUMERIC_FIELD),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_PROPORTION_FIELD),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_DATE_FIELD),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_ORDINAL),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_EXTERNAL_WIDGET),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_BOOLEAN),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_QUANTITY),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_TIME),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_DATE_TIME),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_IMAGE),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_CANVAS),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_COLUMN_LIST),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_STACKED_LIST),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_RICH_TEXT),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_HTML),i.xp6(1),i.Q6J("ngSwitchCase",n.RmType.GENERIC_LAYOUT_GROUP)}}function Ie(e,t){}function Me(e,t){if(1&e){var n=i.EpF();i.YNc(0,Ie,0,0,"ng-template",12),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw().childComponentRendered(e)})}if(2&e){var r=i.oxw();i.Q6J("model",r.model)("ehrFormGroup",r.ehrFormGroup)}}var Se=function(){function e(e,t,n,r,o,a){this.renderer=e,this.elementRef=t,this.validationResolver=n,this.customComponentsDictionary=r,this.injector=o,this.ehrFormState=a,this.leftOffset=0,this.rightOffset=0,this.onEhrComponentRendered=new i.vpe,this.presentationMode=!1,this.RmType=C.B8O,this.RmTypeUtil=C.jYl}return e.prototype.ngOnChanges=function(e){this.presentationMode=this.ehrFormState.isPresentationModeEnabled()},e.prototype.childComponentRendered=function(e){this.onEhrComponentRendered.next(e)},e.prototype.getModelAsNodeModel=function(e){return e},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(A.r),i.Y36(R),i.Y36(i.zs3),i.Y36(T.G))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-model-renderer"]],inputs:{model:"model",layout:"layout",ehrFormGroup:"ehrFormGroup",leftOffset:"leftOffset",rightOffset:"rightOffset"},outputs:{onEhrComponentRendered:"onEhrComponentRendered"},features:[i.TTD],decls:4,vars:5,consts:[["class","ehr-model-renderer",3,"ngClass","pl-2",4,"ngIf","ngIfElse"],["defaultComponentOverride",""],[1,"ehr-model-renderer",3,"ngClass"],[3,"ngSwitch"],[3,"ngSwitchCase"],["ngSwitchDefault",""],[3,"model","onEhrComponentRendered"],[3,"model","ehrFormGroup","layout","onEhrComponentRendered"],[4,"ngIf"],["ehrOnRenderedEmitter","",3,"onEhrComponentRendered",4,"ngIf"],[3,"model","ehrFormGroup","layout","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","",3,"onEhrComponentRendered"],["ehrCustomComponentHost","",3,"model","ehrFormGroup","onEhrComponentRendered"]],template:function(e,t){if(1&e&&(i.YNc(0,xe,44,47,"div",0),i.ALo(1,"renderAsDefaultComponent"),i.YNc(2,Me,1,2,"ng-template",null,1,i.W1O)),2&e){var n=i.MAs(3);i.Q6J("ngIf",i.xi3(1,2,t.model,t.customComponentsDictionary.registeredComponents))("ngIfElse",n)}},encapsulation:2,changeDetection:0}),e}(),Ve=function(){function e(){}return e.prototype.transform=function(e,t){return t?["col"]:["col-sm-"+v.D.getColSizeNr(e.width).toString()]},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Yjl({name:"columnWidth",type:e,pure:!0}),e}();function Ae(e,t){1&e&&i.GkF(0)}function De(e,t){1&e&&i.GkF(0)}var ke=function(e){return{rows:e}};function Re(e,t){if(1&e&&(i.TgZ(0,"div",4),i.ALo(1,"columnWidth"),i.YNc(2,De,1,0,"ng-container",0),i.qZA()),2&e){var n=t.$implicit,r=i.oxw(4),o=i.MAs(2);i.Q6J("ngClass",i.xi3(1,3,n,null==r.parentModel?null:r.parentModel.hasTag("evenCols"))),i.xp6(2),i.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",i.VKq(6,ke,n.children))}}function Pe(e,t){if(1&e&&(i.TgZ(0,"div",7),i.TgZ(1,"div",8),i.YNc(2,Re,3,8,"div",9),i.qZA(),i.qZA()),2&e){var n=i.oxw().$implicit;i.xp6(2),i.Q6J("ngForOf",n.cols)}}function Ne(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-model-renderer",11),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(4).childComponentRendered(e)}),i.qZA()}if(2&e){var r=t.$implicit,o=t.first,a=t.last,s=i.oxw(2).$implicit,l=i.oxw(2);i.Q6J("model",r)("ehrFormGroup",l.ehrFormGroup)("layout",s)("leftOffset",!r.isContainer()&&o?l.leftOffset:0)("rightOffset",!r.isContainer()&&a?l.rightOffset:0)}}function Fe(e,t){if(1&e&&i.YNc(0,Ne,1,5,"ehr-model-renderer",10),2&e){var n=i.oxw().$implicit,r=i.oxw(2);i.Q6J("ngForOf",r.findChildrenWithPath(r.parentModel,n.id))("ngForTrackBy",r.EhrLayoutHelper.trackByFieldModel)}}var Le=function(e){return{"row no-gutters":e}};function Ze(e,t){if(1&e&&(i.TgZ(0,"div",3),i.TgZ(1,"div",4),i.YNc(2,Pe,3,1,"div",5),i.qZA(),i.YNc(3,Fe,1,2,"ng-template",null,6,i.W1O),i.qZA()),2&e){var n=t.$implicit,r=i.MAs(4);i.Q6J("id",null==n?null:n.id),i.xp6(1),i.Q6J("ngClass",i.VKq(4,Le,!n.id)),i.xp6(1),i.Q6J("ngIf",!n.id)("ngIfElse",r)}}function Ue(e,t){1&e&&i.YNc(0,Ze,5,6,"div",2),2&e&&i.Q6J("ngForOf",t.rows)}var Be=function(){function e(){this.leftOffset=0,this.rightOffset=0,this.onEhrComponentRendered=new i.vpe,this.EhrLayoutHelper=v.D}return e.prototype.childComponentRendered=function(e){this.onEhrComponentRendered.next(e)},e.prototype.findChildrenWithPath=function(e,t){return C.zR2.findChildrenWithPath(e,t)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-rows-renderer"]],inputs:{rows:"rows",ehrFormGroup:"ehrFormGroup",parentModel:"parentModel",leftOffset:"leftOffset",rightOffset:"rightOffset"},outputs:{onEhrComponentRendered:"onEhrComponentRendered"},decls:3,vars:4,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],["rowItems",""],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[3,"ngClass"],["class","col-sm-12",4,"ngIf","ngIfElse"],["renderItems",""],[1,"col-sm-12"],[1,"row"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"model","ehrFormGroup","layout","leftOffset","rightOffset","onEhrComponentRendered",4,"ngFor","ngForOf","ngForTrackBy"],[3,"model","ehrFormGroup","layout","leftOffset","rightOffset","onEhrComponentRendered"]],template:function(e,t){if(1&e&&(i.YNc(0,Ae,1,0,"ng-container",0),i.YNc(1,Ue,1,1,"ng-template",null,1,i.W1O)),2&e){var n=i.MAs(2);i.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",i.VKq(2,ke,t.rows))}},directives:[m.tP,m.sg,m.mk,m.O5,Se],pipes:[Ve],styles:[""],changeDetection:0}),e}(),Ge=function(){function e(){}return e.prototype.transform=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=0),!e&&!t)return null;var n="card-offset";return(n+=e>0?" left-"+e:"")+(t>0?" right-"+t:"")},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Yjl({name:"elementOffsetClass",type:e,pure:!0}),e}(),He=function(){function e(){}return e.prototype.transform=function(e){return null!=e?"&nbsp;-&nbsp;"+(e+1):null},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Yjl({name:"containerMultiIndexLabelText",type:e,pure:!0}),e}(),qe=n(6728),je=function(){function e(e){this.formDataService=e}return e.prototype.transform=function(e){var t=e.getViewConfig().getAdvanced().presentationVisibility,n=this.isFieldShownByDefault(e);return t===C.XX$.HIDDEN||C.jYl.isButton(e.getRmType())||t!==C.XX$.SHOWN&&!n},e.prototype.isFieldShownByDefault=function(e){if(e.isContainer())return e.isAnyValueShown()||!e.hasInputField();if(e.rmType===C.B8O.GENERIC_CANVAS)return this.formDataService.hasCanvasImageData(e.formId);var t=C.jYl.isInputField(e.getRmType());return t&&e.hasValue()||!t},e.\u0275fac=function(t){return new(t||e)(i.Y36(qe.W,16))},e.\u0275pipe=i.Yjl({name:"hideFieldInPresentation",type:e,pure:!0}),e}(),Ye=function(){function e(){}return e.prototype.transform=function(e,t){for(var n,r=0;r<t.rows.length;r++)for(var i=0;i<t.rows[r].cols.length;i++){var o=null===(n=t.rows[r].cols[i].children)||void 0===n?void 0:n.find(function(t){return t.id===e});if(o)return o}return null},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Yjl({name:"fieldsLayout",type:e,pure:!0}),e}();function Je(e,t){if(1&e&&i._UZ(0,"i",13),2&e){var n=i.oxw(3);i.ekj("chevron-down",!n.isCollapsed)("chevron-right",n.isCollapsed)}}function ze(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"button",17),i.NdJ("mouseenter",function(){i.CHM(n);var e=i.oxw(4);return e.highlightBorder(e.CardHighlight.DANGER)})("mouseleave",function(){return i.CHM(n),i.oxw(4).highlightBorder(null)})("click",function(e){return i.CHM(n),i.oxw(4).removeContainer(e)}),i._UZ(1,"i",18),i.qZA()}}function Qe(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"button",19),i.NdJ("mouseenter",function(){i.CHM(n);var e=i.oxw(4);return e.highlightBorder(e.CardHighlight.INFO)})("mouseleave",function(){return i.CHM(n),i.oxw(4).highlightBorder(null)})("click",function(e){return i.CHM(n),i.oxw(4).duplicateContainer(e)}),i._UZ(1,"i",20),i.qZA()}}function We(e,t){if(1&e&&(i.TgZ(0,"div",14),i.YNc(1,ze,2,0,"button",15),i.YNc(2,Qe,2,0,"button",16),i.qZA()),2&e){var n=i.oxw(3);i.xp6(1),i.Q6J("ngIf",n.removalEnabled),i.xp6(1),i.Q6J("ngIf",n.duplicationEnabled&&n.isLastContainer())}}function Ke(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",7),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).collapse()}),i.TgZ(1,"div",8),i.ALo(2,"elementOffsetClass"),i.TgZ(3,"div",9),i.YNc(4,Je,1,4,"i",10),i._UZ(5,"ehr-rich-field-label",11),i.ALo(6,"containerMultiIndexLabelText"),i.qZA(),i.YNc(7,We,3,2,"div",12),i.qZA(),i.qZA()}if(2&e){var r=i.oxw(2);i.ekj("collapsible-title",r.presentation===r.FieldPresentation.COLLAPSABLE_TITLE)("collapsed",r.isCollapsed),i.xp6(1),i.Q6J("ngClass",i.lcZ(2,9,r.elementOffset)),i.xp6(3),i.Q6J("ngIf",r.presentation===r.FieldPresentation.COLLAPSABLE_TITLE),i.xp6(1),i.Q6J("model",r.model)("suffix",r.model.isMulti()?i.lcZ(6,11,r.model.getMultiIndex()):null),i.xp6(2),i.Q6J("ngIf",!r.isReadOnly&&r.model.isMulti()&&!r.hideMultiButtons)}}function Xe(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-rows-renderer",21),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(2).childComponentRendered(e)}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("rows",r.layout.rows)("parentModel",r.model)("ehrFormGroup",r.containerFormGroup)("leftOffset",r.elementOffset)("rightOffset",r.elementOffset)}}function $e(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-model-renderer",23),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(3).childComponentRendered(e)}),i.qZA()}if(2&e){var r=t.$implicit,o=i.oxw(3);i.Q6J("model",r)("ehrFormGroup",o.containerFormGroup)}}function et(e,t){if(1&e&&i.YNc(0,$e,1,2,"ehr-model-renderer",22),2&e){var n=i.oxw(2);i.Q6J("ngForOf",n.model.children)("ngForTrackBy",n.EhrLayoutHelper.trackByFieldModel)}}function tt(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",2),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.YNc(1,Ke,8,13,"div",3),i.TgZ(2,"div",4),i.YNc(3,Xe,1,5,"ehr-rows-renderer",5),i.YNc(4,et,1,2,"ng-template",null,6,i.W1O),i.qZA(),i.qZA()}if(2&e){var r=i.MAs(5),o=i.oxw();i.ekj("d-none",o.isHidden)("card-bordered",o.showContainerBorders)("not-bordered",!o.showContainerBorders&&o.nrOfParents-1<=o.modelStoreService.maxContainerDepthFound)("ehr-disabled",o.isReadOnly),i.Q6J("ngClass",o.highlightCardClass)("formGroup",o.containerFormGroup),i.uIk("data-ehr-path",o.model.getPath()),i.xp6(1),i.Q6J("ngIf",!o.hideHeader&&!o.isHidden),i.xp6(1),i.ekj("d-none",o.isCollapsed),i.xp6(1),i.Q6J("ngIf",!!o.layout)("ngIfElse",r)}}function nt(e,t){if(1&e&&(i.TgZ(0,"h1"),i._UZ(1,"ehr-rich-field-label",11),i.ALo(2,"containerMultiIndexLabelText"),i.qZA()),2&e){var n=i.oxw(3);i.Gre("presentation-heading level-",n.nrOfParents,""),i.xp6(1),i.Q6J("model",n.model)("suffix",n.model.isMulti()?i.lcZ(2,5,n.model.getMultiIndex()):null)}}function rt(e,t){if(1&e&&(i.TgZ(0,"ehr-model-renderer",28),i.ALo(1,"hideFieldInPresentation"),i.ALo(2,"fieldsLayout"),i.qZA()),2&e){var n=t.$implicit,r=i.oxw(3);i.ekj("d-none",i.lcZ(1,5,n)),i.Q6J("layout",i.xi3(2,7,n.formId,r.layout))("model",n)("ehrFormGroup",r.containerFormGroup)}}function it(e,t){if(1&e&&(i.TgZ(0,"div",25),i.YNc(1,nt,3,7,"h1",26),i.YNc(2,rt,3,10,"ehr-model-renderer",27),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngIf",!n.hideHeader),i.xp6(1),i.Q6J("ngForOf",n.model.children)("ngForTrackBy",n.EhrLayoutHelper.trackByFieldModel)}}function ot(e,t){if(1&e&&i.YNc(0,it,3,3,"div",24),2&e){var n=i.oxw();i.Q6J("ngIf",n.showInPresentationMode())}}var at=function(){function e(e,t,n,r,o,a){this.ehrFormState=e,this.modelParser=t,this.changeDetectorRef=n,this.ehrModelObservable=r,this.translateService=o,this.injector=a,this.onEhrComponentRendered=new i.vpe,this.isCollapsed=!1,this.presentation=C.umi.CONTAINER,this.presentationMode=!1,this.EhrLayoutHelper=v.D,this.FieldPresentation=C.umi,this.nrOfParents=0,this.elementOffset=0,this.highlightCardClass=null,this.CardHighlight=st,this.destroy=new g.x}return e.prototype.ngOnInit=function(){var e=this.model;e.hasDefaultValues()&&e.setDefaultValues()},e.prototype.ngOnChanges=function(e){if(this.presentationMode=this.ehrFormState.isPresentationModeEnabled(),this.modelStoreService||(this.modelStoreService=this.injector.get(w.G)),e.hasOwnProperty("model")){var t=e.model.currentValue,n=t.getViewConfig();this.isCollapsed=!!n.advanced.collapsed,this.showContainerBorders=!!t.getViewConfig().getAdvanced().showContainerBorders,this.hideHeader=!!t.getViewConfig().getAdvanced().hideContainerHeader,this.hideMultiButtons=!!t.getViewConfig().getAdvanced().hideContainerMultiButtons,this.persistContainers=t.hasTag("persistContainers"),this.nrOfParents=this.getNumberOfParents(),this.elementOffset=this.getElementOffset(),this.registerMultiplicity();var r=n.getFields("container");this.presentation=r?r.presentation:C.umi.CONTAINER;var i=t.getMultiIndex();this.containerFGroupName||(this.containerFormGroup=new o.cw({}),this.containerFGroupName=t.formId+"|"+i,this.ehrFormGroup.registerControl(this.containerFGroupName,this.containerFormGroup),this.modelStoreService.addModelControl(this.model.formId,this.containerFormGroup)),i&&t.min>i&&this.containerFormGroup.setValidators([o.kI.required]),this.registerChildrenUpdated(t),this.registerIsHidden(t),this.registerRenderMin(t),this.registerRenderMax(t),this.registerIsReadonly(),this.registerIsCollapsed(t)}},e.prototype.duplicateContainer=function(e,t){var n=this;void 0===t&&(t=this.model);var r=this.modelParser.duplicateModel(t,!1,!1);r&&(Promise.all(r.resetValue()).then(function(e){r.viewConfig.advanced.hidden=!!n.model.viewConfig.advanced.hidden,n.modelParser.executeFormScript(C.zR2.getModels(r))}),e.stopPropagation())},Object.defineProperty(e.prototype,"removalEnabled",{get:function(){if(this.model.isMulti()){var e=this.model,t=e.getMin();return t<1&&(t=1),(this.persistContainers?v.D.getMultiSiblings(e).indexOf(e)+1:v.D.getMultiSiblingsCount(this.model))>t}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duplicationEnabled",{get:function(){if(this.isReadOnly||this.containerFormGroup.disabled)return!1;if(this.model.isMulti()){var e=this.model,t=e.getMax(),n=v.D.getMultiSiblings(e).indexOf(e);return!(this.persistContainers&&n+1<e.getMin())&&(t<0||this.EhrLayoutHelper.getMultiSiblingsCount(this.model)<t)}return!1},enumerable:!1,configurable:!0}),e.prototype.removeContainer=function(e){this.model.destroy(),this.highlightBorder(null),e.stopPropagation()},e.prototype.ngOnDestroy=function(){var e;this.modelStoreService.removeModelControl(null===(e=this.model)||void 0===e?void 0:e.formId,this.containerFormGroup),this.childrenUpdatedSubs&&this.childrenUpdatedSubs.unsubscribe(),this.isHiddenSubs&&this.isHiddenSubs.unsubscribe(),this.renderMin&&this.renderMin.unsubscribe(),this.renderMax&&this.renderMax.unsubscribe(),this.readOnlySubs&&this.readOnlySubs.unsubscribe(),this.containerFGroupName&&this.ehrFormGroup.removeControl(this.containerFGroupName),this.multiplicitySubs&&this.multiplicitySubs.unsubscribe(),this.isCollapsedSubs&&this.isCollapsedSubs.unsubscribe(),this.destroy.next(),this.destroy.complete()},e.prototype.childComponentRendered=function(e){},e.prototype.collapse=function(){this.presentation===C.umi.COLLAPSABLE_TITLE&&(this.isCollapsed=!this.isCollapsed,this.model.getViewConfig().advanced.collapsed=this.isCollapsed)},e.prototype.showInPresentationMode=function(){return this.model.showInPresentationMode()},e.prototype.highlightBorder=function(e){this.highlightCardClass=e},e.prototype.isLastContainer=function(){var e=v.D.getMultiSiblings(this.model);return e.indexOf(this.model)===e.length-1},e.prototype.getHiddenListener=function(e){var t=this.ehrFormState.isPresentationModeEnabled();return this.ehrModelObservable.fromEvent(e,C.X4$.EVENT_IS_HIDDEN,e.getViewConfig().isHidden(!1,t))},e.prototype.getNumberOfParents=function(e,t){return void 0===e&&(e=this.model),void 0===t&&(t=0),t===this.modelStoreService.MAX_CONTAINER_DEPTH?t:e.getParentModel()?this.getNumberOfParents(e.getParentModel(),t+1):t},e.prototype.getElementOffset=function(){if(this.modelStoreService.maxContainerDepthFound>0){var e=this.getNumberOfParents()-1,t=this.modelStoreService.maxContainerDepthFound-e;return t>0?t:0}return 0},e.prototype.registerIsHidden=function(e){var t=this;this.isHiddenSubs&&this.isHiddenSubs.unsubscribe(),this.isHiddenSubs=this.getHiddenListener(e).subscribe(function(e){t.isHidden=e,t.isHidden?t.containerFGroupName&&t.ehrFormGroup.removeControl(t.containerFGroupName):t.ehrFormGroup.get(t.containerFGroupName)||t.ehrFormGroup.registerControl(t.containerFGroupName,t.containerFormGroup),t.changeDetectorRef.markForCheck()})},e.prototype.registerIsReadonly=function(){var e=this;this.readOnlySubs&&this.readOnlySubs.unsubscribe(),this.readOnlySubs=(0,y.a)([this.ehrModelObservable.fromEvent(this.model,C.X4$.EVENT_IS_READ_ONLY,this.model.getViewConfig().isReadOnly(!0)),this.ehrFormState.getFormContext().pipe((0,E.U)(function(e){return e.readonly}))]).subscribe(function(t){e.isReadOnly=!0===t[0]||!0===t[1],e.changeDetectorRef.markForCheck()})},e.prototype.registerRenderMin=function(e){var t=this;this.ehrFormState.getFormContextValue().disableFormScript||(this.renderMin&&this.renderMin.unsubscribe(),this.renderMin=this.ehrModelObservable.fromEvent(e,C.X4$.EVENT_MIN_UPDATED,e.getMin()).subscribe(function(n){v.D.getMultiSiblingsCount(e)-1===v.D.getMultiSiblings(e).findIndex(function(t){return t===e})&&setTimeout(function(){v.D.renderContainersMin(n,e,t.modelParser)},0)}))},e.prototype.registerRenderMax=function(e){var t=this;this.ehrFormState.getFormContextValue().disableFormScript||(this.renderMax&&this.renderMax.unsubscribe(),this.renderMax=this.ehrModelObservable.fromEvent(e,C.X4$.EVENT_MAX_UPDATED,e.getMax()).subscribe(function(e){if(-1!==e){var n=t.model.getParentModel();(n?C.zR2.findChildrenWithPath(n,t.model.formId):[]).filter(function(t,n){return n>=e}).forEach(function(e){return e.destroy()}),t.changeDetectorRef.detectChanges()}}))},e.prototype.registerMultiplicity=function(){var e=this,t=this.ehrModelObservable.fromEvent(this.model,C.X4$.EVENT_MAX_UPDATED),n=this.ehrModelObservable.fromEvent(this.model,C.X4$.EVENT_MIN_UPDATED);this.multiplicitySubs&&this.multiplicitySubs.unsubscribe(),this.multiplicitySubs=(0,b.T)(t,n).subscribe(function(){e.changeDetectorRef.markForCheck()})},e.prototype.registerChildrenUpdated=function(e){var t=this,n=e.getParentModel()?e.getParentModel():e;this.childrenUpdatedSubs&&this.childrenUpdatedSubs.unsubscribe(),this.childrenUpdatedSubs=this.ehrModelObservable.fromEvent(n,C.X4$.EVENT_CHILDREN_UPDATED,n.getChildModels()).subscribe(function(){t.changeDetectorRef.markForCheck()})},e.prototype.registerIsCollapsed=function(e){var t=this;this.isCollapsedSubs&&this.isCollapsedSubs.unsubscribe(),this.isCollapsedSubs=this.ehrModelObservable.fromEvent(e,C.X4$.EVENT_IS_COLLAPSED,e.getViewConfig().isCollapsed()).subscribe(function(e){t.isCollapsed=e,t.changeDetectorRef.markForCheck()})},e.\u0275fac=function(t){return new(t||e)(i.Y36(T.G),i.Y36(_.K),i.Y36(i.sBO),i.Y36(O.N),i.Y36(x.sK),i.Y36(i.zs3))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-container"]],inputs:{model:"model",ehrFormGroup:"ehrFormGroup",layout:"layout"},outputs:{onEhrComponentRendered:"onEhrComponentRendered"},features:[i.TTD],decls:3,vars:2,consts:[["class","ehr-container card","ehrOnRenderedEmitter","",3,"d-none","card-bordered","not-bordered","ngClass","ehr-disabled","formGroup","onEhrComponentRendered",4,"ngIf","ngIfElse"],["presentationRenderer",""],["ehrOnRenderedEmitter","",1,"ehr-container","card",3,"ngClass","formGroup","onEhrComponentRendered"],["class","ehr-container-bar card-header",3,"collapsible-title","collapsed","click",4,"ngIf"],[1,"card-body"],[3,"rows","parentModel","ehrFormGroup","leftOffset","rightOffset","onEhrComponentRendered",4,"ngIf","ngIfElse"],["renderModel",""],[1,"ehr-container-bar","card-header",3,"click"],[1,"ehr-container-label",3,"ngClass"],[1,"label"],["class","b-icon",3,"chevron-down","chevron-right",4,"ngIf"],[1,"ehr-label-text",3,"model","suffix"],["class","ehr-container-controls",4,"ngIf"],[1,"b-icon"],[1,"ehr-container-controls"],["type","button","class","btn container-button--remove",3,"mouseenter","mouseleave","click",4,"ngIf"],["type","button","class","btn container-button--duplicate",3,"mouseenter","mouseleave","click",4,"ngIf"],["type","button",1,"btn","container-button--remove",3,"mouseenter","mouseleave","click"],[1,"b-icon","minus"],["type","button",1,"btn","container-button--duplicate",3,"mouseenter","mouseleave","click"],[1,"b-icon","plus"],[3,"rows","parentModel","ehrFormGroup","leftOffset","rightOffset","onEhrComponentRendered"],[3,"model","ehrFormGroup","onEhrComponentRendered",4,"ngFor","ngForOf","ngForTrackBy"],[3,"model","ehrFormGroup","onEhrComponentRendered"],["class","ehr-container--presentation",4,"ngIf"],[1,"ehr-container--presentation"],[3,"class",4,"ngIf"],[3,"d-none","layout","model","ehrFormGroup",4,"ngFor","ngForOf","ngForTrackBy"],[3,"layout","model","ehrFormGroup"]],template:function(e,t){if(1&e&&(i.YNc(0,tt,6,16,"div",0),i.YNc(1,ot,1,1,"ng-template",null,1,i.W1O)),2&e){var n=i.MAs(2);i.Q6J("ngIf",!t.presentationMode)("ngIfElse",n)}},directives:[m.O5,I,m.mk,o.JL,o.sg,V,Be,m.sg,Se],pipes:[Ge,He,je,Ye],styles:[".ehr-container-label[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 100px;grid-template-rows:1fr;min-height:35px}.ehr-container-label[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{align-items:center;display:flex;line-height:1}.ehr-container-label[_ngcontent-%COMP%]   .multi-index[_ngcontent-%COMP%]{line-height:1;overflow-y:hidden}.ehr-container-controls[_ngcontent-%COMP%]{display:inline-block;text-align:right}.ehr-container-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:0;line-height:1em}.ehr-container-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:.25em}"],changeDetection:0}),e}(),st=function(e){return e.INFO="card-highlight--info",e.DANGER="card-highlight--danger",e}({}),lt=n(64762),ut=n(69568),ct=n(81258),dt=function(){function e(e,t,n,r,o,a,s,l,u,c){this.elementRef=e,this.renderer=t,this.ehrFormState=n,this.changeDetectorRef=r,this.ehrModelObservable=o,this.injector=a,this.formDataService=s,this.modelStoreService=l,this.validationResolver=u,this.formGroup=c,this.onEhrComponentRendered=new i.vpe,this.annotations={},this.tooltipValue="",this.hasValue=!1,this.onDestroyFnArr=[],this.onChangeEmitter=new g.x,this.unsubscribe=new g.x,t.addClass(e.nativeElement,"row"),t.addClass(e.nativeElement,"no-gutters")}return Object.defineProperty(e.prototype,"modelGetterSetterMethodName",{get:function(){throw new Error("Must be implemented in extended class.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modelEmptyValue",{get:function(){throw new Error("Must be implemented in extended class.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ehrInputPlaceholder",{get:function(){var e,t,n=this.ehrFormState.getFormContextValue().language;return(null===(t=null===(e=this.model.getViewConfig().getAdvanced())||void 0===e?void 0:e.placeholder)||void 0===t?void 0:t[n])||""},enumerable:!1,configurable:!0}),e.prototype.ngOnChanges=function(e){var t=this;if(e.hasOwnProperty("model")){this.onChangeEmitter.next();var n=e.model.currentValue,r=n.getViewConfig();this.showLabel=this.ehrFormState.isPresentationModeEnabled()||!n.getViewConfig().isLabelHidden(),this.isAutosize=this.ehrFormState.getFormContextValue().textareaAutosize||r.advanced.autosize,this.resetValidators(),this.updateModelValuesObs(n),this.updateReadOnlyObs(),this.updateHiddenObs(),this.updateMinObs(),this.updateMaxObs(),this.updateAnnotationObs(),this.updateCollapsedObs(),this.setTooltip(),this.elementSize=this.model.getViewConfig().getElementSize(),this.isPresentationMode=this.ehrFormState.isPresentationModeEnabled(),this.controlName=this.modelStoreService.getControlNameForModel(this.model),setTimeout(function(){return t.updateFieldValidityListener()},0)}},e.prototype.ngOnInit=function(){var e=this;this.ehrFormState.getFormContext().pipe((0,ut.R)(this.unsubscribe),(0,k.b)(function(t){return e.isAutosize=!!(null==t?void 0:t.textareaAutosize)||!!e.model.getViewConfig().getAdvanced().autosize}),(0,E.U)(function(e){return e.language}),(0,S.x)()).subscribe(function(t){return e.setTooltip()})},e.prototype.ngOnDestroy=function(){this.annotationSubs&&this.annotationSubs.unsubscribe(),this.isHiddenSubs&&this.isHiddenSubs.unsubscribe(),this.isMinUpdatedSubs&&this.isMinUpdatedSubs.unsubscribe(),this.isMaxUpdatedSubs&&this.isMaxUpdatedSubs.unsubscribe(),this.isReadOnlySubs&&this.isReadOnlySubs.unsubscribe(),this.isCollapseSubs&&this.isCollapseSubs.unsubscribe(),this.onDestroyFnArr.forEach(function(e){return e()}),this.onChangeEmitter.next(),this.onChangeEmitter.complete(),this.unsubscribe.next(),this.unsubscribe.complete()},e.prototype.getAnnotationSub=function(){return this.ehrModelObservable.fromEvent(this.model,C.X4$.EVENT_ANNOTATION_VALUE,this.model.getAnnotations())},e.prototype.trackByIndex=function(e){return e},e.prototype.onAddMultiInput=function(){var e=this;this.modelValues$.pipe((0,p.q)(1),(0,E.U)(function(e){return e.length})).subscribe(function(t){e.model[e.modelGetterSetterMethodName](e.modelEmptyValue,t)})},e.prototype.onRemoveMultiInput=function(e){this.renderMin>1&&this.renderMin--,null!=e&&this.model[this.modelGetterSetterMethodName](null,e)},e.prototype.updateModel=function(e,t){this.model[this.modelGetterSetterMethodName](void 0,t)!==e&&this.model[this.modelGetterSetterMethodName](e,t),this.hasValue=this.model.hasValue()},e.prototype.updateModelValuesObs=function(e){this.modelValues$=this.getModelValuesObs(e)},e.prototype.getModelValuesObs=function(e){var t=this;return this.getModelObservableValues(e).pipe((0,S.x)(C.G1o.arrayValuesEqual),(0,E.U)(function(e){if(void 0===t.renderMin){t.renderMin=t.model.getMin()||1;var n=parseInt(t.annotations.renderMin,10);if(!isNaN(n)&&n&&n>t.renderMin){t.renderMin=n;var r=t.model.getMax();-1!==r&&t.renderMin>r&&(t.renderMin=r)}}var i=(t.model.isMulti()&&t.renderMin>1?t.renderMin:1)-e.length;if(i>0)for(var o=0;o<i;o++)e.push(t.modelEmptyValue);return e}))},e.prototype.getModelObservableValues=function(e){var t=this;return this.ehrModelObservable.fromEvent(e,C.X4$.CHANGE,e).pipe((0,E.U)(function(e){return t.model[t.modelGetterSetterMethodName](void 0,void 0)}))},e.prototype.updateFieldValidityListener=function(){var e=this,t=Object.keys(this.formGroup.form.controls).filter(function(t){return t.includes(e.controlName)}).map(function(t){return e.formGroup.form.controls[t]});this.validationResolver.getErrorMessages(t).pipe((0,ct.O)([])).pipe((0,E.U)(function(e){return 0===e.length}),(0,S.x)(),(0,ut.R)(this.onChangeEmitter),(0,ut.R)(this.unsubscribe)).subscribe(function(t){e.fieldIsValid=t,e.changeDetectorRef.detectChanges()})},e.prototype.updateReadOnlyObs=function(){var e=this;this.isReadOnlySubs&&this.isReadOnlySubs.unsubscribe(),this.isReadOnlySubs=(0,y.a)([this.ehrModelObservable.fromEvent(this.model,C.X4$.EVENT_IS_READ_ONLY,this.model.getViewConfig().isReadOnly(!0)),this.ehrFormState.getFormContext().pipe((0,E.U)(function(e){return e.readonly}))]).subscribe(function(t){e.isReadOnlyValue=!0===t[0]||!0===t[1],e.changeDetectorRef.markForCheck()})},e.prototype.setTooltip=function(){this.tooltipValue=this.model.getViewConfig().advanced&&this.model.getViewConfig().advanced.showTooltip&&this.model.localizedDescriptions?this.model.localizedDescriptions[this.ehrFormState.getFormContextValue().language]:""},e.prototype.updateHiddenObs=function(){var e=this;this.isHiddenSubs&&this.isHiddenSubs.unsubscribe();var t=this.ehrModelObservable.fromEvent(this.model,C.X4$.EVENT_IS_HIDDEN,this.model.getViewConfig().isHidden(!1,this.ehrFormState.isPresentationModeEnabled())),n=this.ehrFormState.getFormContext().pipe((0,M.j)("presentationMode"),(0,S.x)());this.isHiddenSubs=(0,y.a)([t,n]).subscribe(function(t){var n=(0,lt.CR)(t,2);if(e.isHiddenValue=n[0],e.ehrFormState.isPresentationModeEnabled())if(e.model.rmType===C.B8O.GENERIC_CANVAS){var r=!e.model.getViewConfig().isHidden(!0,!0),i=e.formDataService.hasCanvasImageData(e.model.formId);e.isHiddenValue=!(r&&i)}else e.isHiddenValue=!e.model.showInPresentationMode();e.changeDetectorRef.markForCheck()})},e.prototype.updateMinObs=function(){var e=this;this.isMinUpdatedSubs&&this.isMinUpdatedSubs.unsubscribe(),this.isMinUpdatedSubs=this.ehrModelObservable.fromEvent(this.model,C.X4$.EVENT_MIN_UPDATED,this.model.getMin()).subscribe(function(t){e.minItems=t,e.resetValidators(),e.changeDetectorRef.markForCheck()})},e.prototype.updateMaxObs=function(){var e=this;this.isMaxUpdatedSubs&&this.isMaxUpdatedSubs.unsubscribe(),this.isMaxUpdatedSubs=this.ehrModelObservable.fromEvent(this.model,C.X4$.EVENT_MAX_UPDATED,this.model.getMax()).subscribe(function(t){e.maxItems=t,e.resetValidators(),e.changeDetectorRef.markForCheck()})},e.prototype.updateAnnotationObs=function(){var e=this;this.annotationSubs&&this.annotationSubs.unsubscribe(),this.annotationSubs=this.getAnnotationSub().subscribe(function(t){e.annotations=t,e.changeDetectorRef.markForCheck()})},e.prototype.resetValidators=function(){this.model&&(this.model.isListOpen&&this.model.isListOpen()||(this.minItems=this.model.getMin(),this.maxItems=this.model.getMax()),this.changeDetectorRef.markForCheck())},e.prototype.updateCollapsedObs=function(){var e=this;this.isCollapseSubs&&this.isCollapseSubs.unsubscribe();var t=this.ehrModelObservable.fromEvent(this.model,C.X4$.EVENT_IS_COLLAPSED,this.model.getViewConfig().isCollapsed());this.isCollapseSubs=t.subscribe(function(t){e.isCollapsedValue=t,e.changeDetectorRef.markForCheck()})},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(T.G),i.Y36(i.sBO),i.Y36(O.N),i.Y36(i.zs3),i.Y36(qe.W),i.Y36(w.G),i.Y36(A.r),i.Y36(o.sg))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ng-component"]],outputs:{onEhrComponentRendered:"onEhrComponentRendered"},features:[i.TTD],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),ht=n(1724);function ft(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function pt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function mt(e){pt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function vt(e,t){pt(2,arguments);var n=mt(e),r=ft(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function gt(e){pt(1,arguments);var t=mt(e);return!isNaN(t)}var yt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function bt(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var _t={date:bt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:bt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:bt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ct={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Et(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=i.width?String(i.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,l=i.width?String(i.width):e.defaultWidth;r=e.values[l]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function Tt(e){return function(t,n){var r=String(t),i=n||{},o=i.width,a=r.match(o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth]);if(!a)return null;var s,l=a[0],u=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return s="[object Array]"===Object.prototype.toString.call(u)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].test(l))return n}(u):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n].test(l))return n}(u),s=e.valueCallback?e.valueCallback(s):s,{value:s=i.valueCallback?i.valueCallback(s):s,rest:r.slice(l.length)}}}var wt,Ot={code:"en-US",formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof yt[e]?yt[e]:1===t?yt[e].one:yt[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:_t,formatRelative:function(e,t,n,r){return Ct[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Et({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Et({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Et({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Et({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Et({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(wt={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),r=t||{},i=n.match(wt.matchPattern);if(!i)return null;var o=i[0],a=n.match(wt.parsePattern);if(!a)return null;var s=wt.valueCallback?wt.valueCallback(a[0]):a[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(o.length)}}),era:Tt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Tt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Tt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Tt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Tt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function xt(e,t){pt(2,arguments);var n=mt(e).getTime(),r=ft(t);return new Date(n+r)}function It(e,t){pt(2,arguments);var n=ft(t);return xt(e,-n)}function Mt(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var St=864e5;function Vt(e){pt(1,arguments);var t=1,n=mt(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function At(e){pt(1,arguments);var t=mt(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Vt(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=Vt(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Dt(e){pt(1,arguments);var t=At(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Vt(n);return r}var kt=6048e5;function Rt(e){pt(1,arguments);var t=mt(e),n=Vt(t).getTime()-Dt(t).getTime();return Math.round(n/kt)+1}function Pt(e,t){pt(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:ft(i),a=null==n.weekStartsOn?o:ft(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=mt(e),l=s.getUTCDay(),u=(l<a?7:0)+l-a;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function Nt(e,t){pt(1,arguments);var n=mt(e,t),r=n.getUTCFullYear(),i=t||{},o=i.locale,a=o&&o.options&&o.options.firstWeekContainsDate,s=null==a?1:ft(a),l=null==i.firstWeekContainsDate?s:ft(i.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(r+1,0,l),u.setUTCHours(0,0,0,0);var c=Pt(u,t),d=new Date(0);d.setUTCFullYear(r,0,l),d.setUTCHours(0,0,0,0);var h=Pt(d,t);return n.getTime()>=c.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function Ft(e,t){pt(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=null==i?1:ft(i),a=null==n.firstWeekContainsDate?o:ft(n.firstWeekContainsDate),s=Nt(e,t),l=new Date(0);l.setUTCFullYear(s,0,a),l.setUTCHours(0,0,0,0);var u=Pt(l,t);return u}var Lt=6048e5;function Zt(e,t){pt(1,arguments);var n=mt(e),r=Pt(n,t).getTime()-Ft(n,t).getTime();return Math.round(r/Lt)+1}function Ut(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+Mt(o,2)}function Bt(e,t){return e%60==0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):Gt(e,t)}function Gt(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Mt(Math.floor(i/60),2)+n+Mt(i%60,2)}var Ht={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear();return n.ordinalNumber(r>0?r:1-r,{unit:"year"})}return function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Mt("yy"===t?r%100:r,t.length)}(e,t)},Y:function(e,t,n,r){var i=Nt(e,r),o=i>0?i:1-i;return"YY"===t?Mt(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Mt(o,t.length)},R:function(e,t){return Mt(At(e),t.length)},u:function(e,t){return Mt(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Mt(n+1,2)}(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=Zt(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Mt(i,t.length)},I:function(e,t,n){var r=Rt(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Mt(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):function(e,t){return Mt(e.getUTCDate(),t.length)}(e,t)},D:function(e,t,n){var r=function(e){pt(1,arguments);var t=mt(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime();return Math.floor((n-r)/St)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Mt(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Mt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Mt(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Mt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return function(e,t){return Mt(e.getUTCHours()%12||12,t.length)}(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):function(e,t){return Mt(e.getUTCHours(),t.length)}(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Mt(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Mt(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):function(e,t){return Mt(e.getUTCMinutes(),t.length)}(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):function(e,t){return Mt(e.getUTCSeconds(),t.length)}(e,t)},S:function(e,t){return function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Mt(Math.floor(r*Math.pow(10,n-3)),t.length)}(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return Bt(i);case"XXXX":case"XX":return Gt(i);case"XXXXX":case"XXX":default:return Gt(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Bt(i);case"xxxx":case"xx":return Gt(i);case"xxxxx":case"xxx":default:return Gt(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ut(i,":");case"OOOO":default:return"GMT"+Gt(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ut(i,":");case"zzzz":default:return"GMT"+Gt(i,":")}},t:function(e,t,n,r){return Mt(Math.floor((r._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,n,r){return Mt((r._originalDate||e).getTime(),t.length)}};function qt(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function jt(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var Yt={p:jt,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),i=r[1],o=r[2];if(!o)return qt(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",qt(i,t)).replace("{{time}}",jt(o,t))}};function Jt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var zt=["D","DD"],Qt=["YY","YYYY"];function Wt(e){return-1!==zt.indexOf(e)}function Kt(e){return-1!==Qt.indexOf(e)}function Xt(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var $t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,en=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tn=/^'([^]*?)'?$/,nn=/''/g,rn=/[a-zA-Z]/;function on(e,t,n){pt(2,arguments);var r=String(t),i=n||{},o=i.locale||Ot,a=o.options&&o.options.firstWeekContainsDate,s=null==a?1:ft(a),l=null==i.firstWeekContainsDate?s:ft(i.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=o.options&&o.options.weekStartsOn,c=null==u?0:ft(u),d=null==i.weekStartsOn?c:ft(i.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var h=mt(e);if(!gt(h))throw new RangeError("Invalid time value");var f=Jt(h),p=It(h,f),m={firstWeekContainsDate:l,weekStartsOn:d,locale:o,_originalDate:h},v=r.match(en).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,Yt[t])(e,o.formatLong,m):e}).join("").match($t).map(function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return an(n);var a=Ht[r];if(a)return!i.useAdditionalWeekYearTokens&&Kt(n)&&Xt(n,t,e),!i.useAdditionalDayOfYearTokens&&Wt(n)&&Xt(n,t,e),a(p,n,o.localize,m);if(r.match(rn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n}).join("");return v}function an(e){return e.match(tn)[1].replace(nn,"'")}var sn=function(){function e(){}return e.maxOneOther=function(){return function(t){return null!=t.value&&t.value!==[]&&Array.isArray(t.value)&&t.value.filter(function(e){return!e.value}).length>1?e.createResultErrorObj({valid:!1},"tooManyOtherSelected"):null}},e.parseFloatStrict=function(e){if(null==e||""===e)return null;var t=parseFloat(e);return isNaN(t)||e.toString().length!==t.toString().length?null:t},e.required=function(t){return function(n){return null==n.value||""===n.value||Array.isArray(n.value)&&n.value.length<1?e.createResultErrorObj({valid:!1},"required",t):null}},e.dateRequired=function(t){return function(n){return null==n.value?e.createResultErrorObj({valid:!1},"required",t):null}},e.timeRequired=function(t){return function(n){var r=n.value;return null==r||null===r.hour&&null===r.minute?e.createResultErrorObj({valid:!1},"required",t):null}},e.dateAfter=function(t,n,r,i){return function(t){if(null!=t.value){var o=void 0!==t.value.minute&&void 0!==t.value.hour,a=new Date,s=new Date(t.value.year,t.value.month-1,t.value.day),l=vt(o?a:new Date(a.getFullYear(),a.getMonth(),a.getDate()),n);if(function(e,t){pt(2,arguments);var n=mt(e),r=mt(t);return n.getTime()<r.getTime()}(s,l)){var u=on(l,r);return e.createResultErrorObj({valid:!1,date:u,days:Math.abs(n)},"dateNotAfter",i)}}return null}},e.dateBefore=function(t,n,r,i){return function(t){if(null!=t.value){var o=void 0!==t.value.minute&&void 0!==t.value.hour,a=new Date,s=new Date(t.value.year,t.value.month-1,t.value.day),l=vt(o?a:new Date(a.getFullYear(),a.getMonth(),a.getDate()),n);if(function(e,t){pt(2,arguments);var n=mt(e),r=mt(t);return n.getTime()>r.getTime()}(s,l)){var u=on(l,r);return e.createResultErrorObj({valid:!1,date:u,days:Math.abs(n)},"dateNotBefore",i)}}return null}},e.invalidCalendarDate=function(e){return function(t){return e&&t&&null!=t.value?e.isValid(t.value)?null:{ngbDate:{invalid:t.value}}:null}},e.numericRequired=function(t){return function(n){return"-"===n.value||null!=n.value&&""!==n.value&&!isNaN(n.value)?null:e.createResultErrorObj({valid:!1},"required",t)}},e.numericPositiveRequired=function(t){return function(n){return null==n.value||""===n.value||isNaN(n.value)||n.value<=0?e.createResultErrorObj({valid:!1},"required",t):null}},e.booleanRequired=function(t){var n=e.required(t);return function(r){return n(r)||("null"===r.value?e.createResultErrorObj({valid:!1},"required",t):null)}},e.isNumeric=function(t){return function(n){return null==n.value||""===n.value||isNaN(n.value)||null!=e.parseFloatStrict(n.value)?null:e.createResultErrorObj({valid:!1},"isNumeric",t)}},e.maxSelectedItems=function(t,n){return function(r){return null==r.value||r.value===[]?null:r.value.length>t?e.createResultErrorObj({valid:!1},"maxSelectedItems",n):null}},e.minSelectedItems=function(t,n){return function(r){return null==r.value&&t>0||r.value.length<t?e.createResultErrorObj({valid:!1},"minSelectedItems",n):null}},e.maxDecimalPlaces=function(t,n){return function(r){if(!e.isNumeric()(r)){var i=e.parseFloatStrict(r.value);if(null!=i){var o=i.toString(10),a=o.indexOf(".");if(a>0){var s=o.length-a-1;if(s>0&&s>t)return e.createResultErrorObj({valid:!1,max:t,delta:s-t},"decimalPlaces.max",n)}}}return null}},e.minMaxValue=function(t,n,r){return function(i){if(null==i.value||""===i.value||isNaN(i.value))return null;var o=e.parseFloatStrict(i.value);if(null!=o){var a=!1,s=!1,l="";switch(t.trim()){case"<=":a=o<=n,s=!1,l="lte";break;case"<":a=o<n,s=!1,l="lt";break;case">=":a=o>=n,s=!0,l="gte";break;case">":a=o>n,s=!0,l="gt";break;default:throw new Error("Min max operator '"+t+"' not valid!")}if(!a){var u=s?"min":"max";return e.createResultErrorObj({valid:!1,value:n,operator:t},u+="."+l,r)}}return null}},e.includeValidationFromControl=function(e,t){return function(n){return e.hasError(t)?{"required.anyGroupValue":{valid:!1}}:null}},e.createResultErrorObj=function(e,t,n){var r={};return n&&(t+="."+n),r[t]=e,r},e.hasRequiredValidatorFn=function(e){return e.some(function(e){var t=e({value:""}),n=!1;return null!==t&&(n=Object.keys(t).some(function(e){return 0===e.indexOf("required")})),n})},e}(),ln=n(5057),un=n(77218),cn=n(84708),dn=function(){function e(e,t,n,r,o){this.ehrFormState=e,this.elementRef=t,this.renderer=n,this.parent=r,this.modelStoreService=o,this.inputPlaceholder="",this.disabled=!1,this.controlName="",this.onModelValue=new i.vpe,this.addMultiInput=new i.vpe,this.removeMultiInput=new i.vpe,this.presentationMode=!1,this.subscriptions=[],this.formControls=new Set,this.destroy$=new g.x}return e.prototype.ngOnChanges=function(e){this.presentationMode=this.ehrFormState.isPresentationModeEnabled()},e.prototype.registerControl=function(e,t){this.modelStoreService.addModelControl(this.formId,t),this.parent.form.registerControl(e,t),this.formControls.add(e)},e.prototype.removeControl=function(e){this.modelStoreService.removeModelControl(this.formId,this.parent.form.get(e)),this.parent.form.removeControl(e),this.formControls.delete(e)},e.prototype.disableControl=function(e,t,n){void 0===t&&(t=!0),t?e.disable(n):e.enable(n)},e.prototype.ngOnDestroy=function(){var e=this;this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.formControls.forEach(function(t){return e.removeControl(t)}),this.destroy$.next(),this.destroy$.complete()},e.prototype.setInputWidthToValueWidth=function(e,t){if(e){var n=e instanceof i.SBq?e.nativeElement:e,r=null==t?void 0:t.toString();r?this.renderer.setStyle(n,"width",r.length+"ch"):this.renderer.removeStyle(n,"width")}},e.\u0275fac=function(t){return new(t||e)(i.Y36(T.G),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(o.sg),i.Y36(w.G))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ng-component"]],inputs:{inputPlaceholder:"inputPlaceholder",isRequired:"isRequired",formId:"formId",multiIndex:"multiIndex",isReadOnly:"isReadOnly",disabled:"disabled",controlName:"controlName"},outputs:{onModelValue:"onModelValue",addMultiInput:"addMultiInput",removeMultiInput:"removeMultiInput"},features:[i.TTD],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}();function hn(e,t){if(1&e&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&e){var n=t.$implicit;i.xp6(1),i.hij(" ",n," ")}}var fn=function(){function e(){}return e.prototype.ngOnChanges=function(){var e;this.messages=new Set((null===(e=this.translatedValidationErrors)||void 0===e?void 0:e.map(function(e){return e.message}))||[])},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["mrd-validation-error-list"]],inputs:{translatedValidationErrors:"translatedValidationErrors"},features:[i.TTD],decls:2,vars:1,consts:[[1,"validation-error--wrapper"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.YNc(1,hn,2,1,"div",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngForOf",t.messages))},directives:[m.sg],styles:[".validation-error--wrapper[_ngcontent-%COMP%]{margin-bottom:calc(.25em / 2)}"],changeDetection:0}),e}(),pn=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-presentation-value"]],inputs:{value:"value"},decls:2,vars:1,consts:[[1,"presentation-value"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i._uU(1),i.qZA()),2&e&&(i.xp6(1),i.Oqu(t.value))},styles:[".presentation-value[_ngcontent-%COMP%]{color:var(--b-labeled-input-presentation-value-color);font-size:1em;font-weight:700;letter-spacing:.2px;line-height:1.43;white-space:pre-line;min-height:20px}"],changeDetection:0}),e}(),mn=n(99597),vn=n(70299),gn=n(65960),yn=n(14951),bn=n(82391),_n=function(){function e(){this.DEFAULT_DB_NAME="better-tools",this.DEFAULT_STORE_NAME="form-images"}return e.prototype.get=function(e,t){var n=this;return void 0===t&&(t=this.DEFAULT_STORE_NAME),this.open().pipe((0,d.K)(function(e){return(0,u._)(function(){return e})}),(0,f.w)(function(r){return new bn.y(function(i){var o=r.transaction(t).objectStore(n.DEFAULT_STORE_NAME).get(e);o.onsuccess=function(){i.next(o.result),i.complete()}})}))},e.prototype.set=function(e,t,n){var r=this;return void 0===n&&(n=this.DEFAULT_STORE_NAME),this.open().pipe((0,d.K)(function(e){return(0,u._)(function(){return e})}),(0,f.w)(function(i){return new bn.y(function(o){var a=i.transaction(n).objectStore(r.DEFAULT_STORE_NAME).put(t,e);a.onsuccess=function(){o.next(a.result),o.complete()}})}))},e.prototype.open=function(e,t){var n=this;return void 0===e&&(e=this.DEFAULT_DB_NAME),void 0===t&&(t=1),new bn.y(function(r){var i=indexedDB.open(e,t);i.onupgradeneeded=function(e){var t;(null===(t=e.target)||void 0===t?void 0:t.result).createObjectStore(n.DEFAULT_STORE_NAME)},i.onsuccess=function(e){r.next(e.target.result),r.complete()},i.onerror=function(e){console.error(e),r.error(e)}})},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),Cn=function(){function e(e,t,n){this.domSanitizer=e,this.platformApiService=t,this.idb=n,this.imageSet=new g.x,this.imageSet$=this.imageSet.asObservable()}return e.prototype.retrieveImage=function(e,t){var n=this;return this.idb.get(t.name).pipe((0,d.K)(function(){return n.getFormFromServer(e,t.name)}),(0,f.w)(function(r){return r?(0,l.of)(r):n.getFormFromServer(e,t.name)}))},e.prototype.createImageFromBlob=function(e,t){var n=this,r=new FileReader,i=(0,gn.R)(r,"load").pipe((0,k.b)(function(){t.imageSrc=n.domSanitizer.bypassSecurityTrustResourceUrl(r.result),t.setBase64(r.result)}),(0,E.U)(function(){return t}));return e&&r.readAsDataURL(e),i},e.prototype.isBase64Set=function(e){return e&&(!!e.imageSrc||!!e.base64)},e.prototype.setImageSrc=function(e){e.imageSrc=this.domSanitizer.bypassSecurityTrustResourceUrl(e.base64)},e.prototype.readBlobAndSetImage=function(e,t){var n=this,r=new FileReader;r.addEventListener("load",function(){t.imageSrc=n.domSanitizer.bypassSecurityTrustResourceUrl(r.result),t.setBase64(r.result),n.imageSet.next(t)}),t&&r.readAsDataURL(e)},e.prototype.getFormFromServer=function(e,t){return e?this.platformApiService.getFormResource({name:e.name,version:e.version},t):yn.E},e.\u0275fac=function(t){return new(t||e)(i.LFG(r.H7),i.LFG(vn._),i.LFG(_n))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}(),En=function(){function e(e,t){this.el=e,this.renderer=t,this.el=this.el.nativeElement}return e.prototype.ngOnChanges=function(){this.transformCoordinates(this.area)},e.prototype.transformCoordinates=function(e){var t=e.coords.split(",").map(function(e){return+e});switch(e.shape){case C.U4Q.CIRCLE:this.applyCircleAttributes(t);break;case C.U4Q.RECT:this.applyRectangleAttributes(t);break;case C.U4Q.POLY:this.applyPolygonAttributes(t)}},e.prototype.applyRectangleAttributes=function(e){var t=(0,lt.CR)((0,lt.ev)([],(0,lt.CR)(e)),4),n=t[0],r=t[1],i=t[2],o=t[3],a=n<=i?n:i,s=r<=o?r:o,l=Math.abs(n-i),u=Math.abs(r-o);this.renderer.setAttribute(this.el,"x",a.toString()),this.renderer.setAttribute(this.el,"y",s.toString()),this.renderer.setAttribute(this.el,"width",l.toString()),this.renderer.setAttribute(this.el,"height",u.toString())},e.prototype.applyCircleAttributes=function(e){var t=(0,lt.CR)((0,lt.ev)([],(0,lt.CR)(e)),3),n=t[1],r=t[2];this.renderer.setAttribute(this.el,"cx",t[0].toString()),this.renderer.setAttribute(this.el,"cy",n.toString()),this.renderer.setAttribute(this.el,"r",r.toString())},e.prototype.applyPolygonAttributes=function(e){this.renderer.setAttribute(this.el,"points",e.toString())},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.Qsj))},e.\u0275dir=i.lG2({type:e,selectors:[["","ehrSvgShapeAttributes",""]],inputs:{area:"area"},features:[i.TTD]}),e}();function Tn(e,t){1&e&&(i.ynx(0),i.TgZ(1,"label",2),i._uU(2,"Image missing"),i.qZA(),i.BQk())}function wn(e,t){if(1&e&&(i.O4$(),i.TgZ(0,"title"),i._uU(1),i.qZA()),2&e){var n=i.oxw(3).$implicit;i.xp6(1),i.Oqu(n.title)}}function On(e,t){if(1&e){var n=i.EpF();i.O4$(),i.TgZ(0,"rect",11),i.NdJ("click",function(){i.CHM(n);var e=i.oxw(2).$implicit;return i.oxw(3).toggleValue(e)}),i.YNc(1,wn,2,1,"title",9),i.qZA()}if(2&e){var r=i.oxw(2).$implicit,o=i.oxw(3);i.ekj("selected",o.isSelected(r))("readonly",o.readonly),i.Q6J("area",r)("id","shape-"+r.id),i.xp6(1),i.Q6J("ngIf",r.title)}}function xn(e,t){if(1&e&&(i.O4$(),i.TgZ(0,"title"),i._uU(1),i.qZA()),2&e){var n=i.oxw(3).$implicit;i.xp6(1),i.Oqu(n.title)}}function In(e,t){if(1&e){var n=i.EpF();i.O4$(),i.TgZ(0,"circle",11),i.NdJ("click",function(){i.CHM(n);var e=i.oxw(2).$implicit;return i.oxw(3).toggleValue(e)}),i.YNc(1,xn,2,1,"title",9),i.qZA()}if(2&e){var r=i.oxw(2).$implicit,o=i.oxw(3);i.ekj("selected",o.isSelected(r))("readonly",o.readonly),i.Q6J("area",r)("id","shape-"+r.id),i.xp6(1),i.Q6J("ngIf",r.title)}}function Mn(e,t){if(1&e&&(i.O4$(),i.TgZ(0,"title"),i._uU(1),i.qZA()),2&e){var n=i.oxw(3).$implicit;i.xp6(1),i.Oqu(n.title)}}function Sn(e,t){if(1&e){var n=i.EpF();i.O4$(),i.TgZ(0,"polygon",11),i.NdJ("click",function(){i.CHM(n);var e=i.oxw(2).$implicit;return i.oxw(3).toggleValue(e)}),i.YNc(1,Mn,2,1,"title",9),i.qZA()}if(2&e){var r=i.oxw(2).$implicit,o=i.oxw(3);i.ekj("selected",o.isSelected(r))("readonly",o.readonly),i.Q6J("area",r)("id","shape-"+r.id),i.xp6(1),i.Q6J("ngIf",r.title)}}function Vn(e,t){if(1&e&&(i.O4$(),i.ynx(0),i.YNc(1,On,2,7,"rect",10),i.YNc(2,In,2,7,"circle",10),i.YNc(3,Sn,2,7,"polygon",10),i.BQk()),2&e){var n=i.oxw(4);i.xp6(1),i.Q6J("ngSwitchCase",n.AreaShape.RECT),i.xp6(1),i.Q6J("ngSwitchCase",n.AreaShape.CIRCLE),i.xp6(1),i.Q6J("ngSwitchCase",n.AreaShape.POLY)}}function An(e,t){if(1&e&&(i.O4$(),i.ynx(0,8),i.YNc(1,Vn,4,3,"ng-container",9),i.BQk()),2&e){var n=t.$implicit,r=i.oxw(3);i.Q6J("ngSwitch",n.shape),i.xp6(1),i.Q6J("ngIf",r.shouldShowArea(n))}}function Dn(e,t){if(1&e&&(i.O4$(),i.TgZ(0,"svg",6),i.YNc(1,An,2,2,"ng-container",7),i.qZA()),2&e){var n=i.oxw(2);i.uIk("width",n.width)("height",n.height),i.xp6(1),i.Q6J("ngForOf",null==n.config?null:n.config.areas)}}function kn(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",3),i.TgZ(1,"img",4),i.NdJ("load",function(e){return i.CHM(n),i.oxw().setCanvasSizes(e)}),i.qZA(),i.YNc(2,Dn,2,3,"svg",5),i.qZA()}if(2&e){var r=i.oxw();i.xp6(1),i.ekj("readonly",r.readonly),i.Q6J("src",null==r.config?null:r.config.imageSrc,i.LSH),i.xp6(1),i.Q6J("ngIf",r.width&&r.height)}}var Rn=function(){function e(e,t,n){this.cd=e,this.imageService=t,this.formDataService=n,this.valueChange=new i.vpe,this.AreaShape=C.U4Q,this.selectedValueMap=new Map,this.destroy=new g.x}return e.prototype.ngOnChanges=function(){var e=this;this.config&&(this.imageService.isBase64Set(this.config)?this.imageService.setImageSrc(this.config):this.config.name&&this.imageService.retrieveImage(this.formDataService.form,this.config).pipe((0,ut.R)(this.destroy),(0,f.w)(function(t){return e.imageService.createImageFromBlob(t,e.config)}),(0,p.q)(1),(0,mn.x)(function(){return e.cd.markForCheck()})).subscribe(),this.updateSelectedValueMap())},e.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete()},e.prototype.toggleValue=function(e){var t;if(e.value){var n=null===(t=this.modelValue)||void 0===t?void 0:t.find(function(t){return t.value===e.value});this.valueChange.emit(n)}},e.prototype.shouldShowArea=function(e){var t;return!e.value||(null===(t=this.modelValue)||void 0===t?void 0:t.some(function(t){return t.value===e.value}))},e.prototype.isSelected=function(e){return!!this.selectedValueMap.get(e.value||"")},e.prototype.setCanvasSizes=function(e){this.width=e.target.width,this.height=e.target.height},e.prototype.updateSelectedValueMap=function(){var e,t=this;this.selectedValueMap=new Map,null===(e=this.modelValue)||void 0===e||e.forEach(function(e){t.selectedValueMap.set(e.value,!!e.selected)})},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36(Cn),i.Y36(qe.W))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-image-map-presentation"]],inputs:{config:"config",modelValue:"modelValue",readonly:"readonly"},outputs:{valueChange:"valueChange"},features:[i.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["image",""],[1,"m-0"],[1,"image-wrapper"],[3,"src","load"],["id","shapes",4,"ngIf"],["id","shapes"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngIf"],["ehrSvgShapeAttributes","","class","shape",3,"area","id","selected","readonly","click",4,"ngSwitchCase"],["ehrSvgShapeAttributes","",1,"shape",3,"area","id","click"]],template:function(e,t){if(1&e&&(i.YNc(0,Tn,3,0,"ng-container",0),i.YNc(1,kn,3,4,"ng-template",null,1,i.W1O)),2&e){var n=i.MAs(2);i.Q6J("ngIf",!(null!=t.config&&t.config.imageSrc))("ngIfElse",n)}},directives:[m.O5,m.sg,m.RF,m.n9,En],styles:[".image-wrapper[_ngcontent-%COMP%]{position:relative}.image-wrapper[_ngcontent-%COMP%]   img.readonly[_ngcontent-%COMP%]{opacity:.75}.image-wrapper[_ngcontent-%COMP%]   #shapes[_ngcontent-%COMP%]{position:absolute;top:0;left:0;color:transparent;stroke:#007aff;stroke-width:2;fill:currentColor}.image-wrapper[_ngcontent-%COMP%]   #shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{cursor:pointer}.image-wrapper[_ngcontent-%COMP%]   #shapes[_ngcontent-%COMP%]   .shape.readonly[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed;color:transparent;fill:transparent;stroke:transparent}.image-wrapper[_ngcontent-%COMP%]   #shapes[_ngcontent-%COMP%]   .shape.selected[_ngcontent-%COMP%]{stroke:#007aff;fill:rgba(0,122,255,.5)}.image-wrapper[_ngcontent-%COMP%]   #shapes[_ngcontent-%COMP%]   .shape.selected.readonly[_ngcontent-%COMP%]{color:rgba(0,0,0,.25);fill:rgba(0,0,0,.25);stroke:#000}.image-wrapper[_ngcontent-%COMP%]   #shapes[_ngcontent-%COMP%]   .shape.highlight[_ngcontent-%COMP%]{stroke:#fa0;color:rgba(255,170,0,.5)}.image-wrapper[_ngcontent-%COMP%]   #shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]:hover{color:rgba(0,122,255,.3)}"],changeDetection:0}),e}();function Pn(e,t){if(1&e&&(i.TgZ(0,"label",8),i._uU(1),i.qZA()),2&e){var n=i.oxw(2).$implicit,r=i.oxw(2);i.ekj("ehr-is-empty-value-item",!n.value)("ehr-item-checked",n.selected),i.Q6J("for",n.label+r.uniqueComponentId),i.xp6(1),i.hij(" ",n[r.bindLabel]," ")}}function Nn(e,t){if(1&e&&(i.ynx(0),i._UZ(1,"input",6),i.YNc(2,Pn,2,6,"label",7),i.BQk()),2&e){var n=i.oxw().$implicit,r=i.oxw(2);i.xp6(1),i.Q6J("type",r.isRadios?"radio":"checkbox")("name","radios-"+r.uniqueComponentId)("id",n.label+r.uniqueComponentId)("disabled",r.isReadOnly||n.disabled)("checked",n.selected),i.xp6(1),i.Q6J("ngIf",!r.hideLabel)}}function Fn(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",4),i.NdJ("click",function(){var e=i.CHM(n).$implicit;return i.oxw(2).toggleElementSelected(e)}),i.YNc(1,Nn,3,6,"ng-container",5),i.qZA()}if(2&e){var r=t.$implicit,o=i.oxw(2);i.ekj("text-center",o.labelOnTop)("custom-checkbox",!o.isRadios)("custom-radio",o.isRadios)("selected",!!r.selected)("disabled",o.isReadOnly||r.disabled),i.Q6J("ngClass",o.widthClass),i.xp6(1),i.Q6J("ngIf",!o.listOpen||r.inputItemElement)}}function Ln(e,t){if(1&e&&(i.TgZ(0,"label",8),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e){var n=i.oxw(3);i.ekj("ehr-is-empty-value-item",!n.isOtherSelected())("ehr-item-checked",n.isOtherSelected()),i.Q6J("for","__other__"+n.uniqueComponentId),i.xp6(1),i.hij(" ",i.lcZ(2,6,"other.inputLabel")," ")}}function Zn(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",9),i.TgZ(1,"input",10),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).toggleOtherSelected()}),i.qZA(),i.YNc(2,Ln,3,8,"label",7),i.qZA()}if(2&e){var r=i.oxw(2);i.ekj("text-center",r.labelOnTop)("custom-checkbox",!r.isRadios)("custom-radio",r.isRadios),i.Q6J("ngClass",r.widthClass),i.xp6(1),i.Q6J("type",r.isRadios?"radio":"checkbox")("id","__other__"+r.uniqueComponentId)("name","__other__"+r.uniqueComponentId)("disabled",r.isReadOnly)("checked",r.isOtherSelected()),i.xp6(1),i.Q6J("ngIf",!r.hideLabel)}}function Un(e,t){if(1&e&&(i.TgZ(0,"div",1),i.YNc(1,Fn,2,12,"div",2),i.YNc(2,Zn,3,13,"div",3),i.qZA()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("ngForOf",n.modelValue)("ngForTrackBy",n.trackByItemsValAndSel),i.xp6(1),i.Q6J("ngIf",n.listOpen)}}var Bn=function(){function e(){this.isRadios=!1,this.toggleElement=new i.vpe,this.toggleOther=new i.vpe,this.uniqueId=Math.random().toString(10)}return Object.defineProperty(e.prototype,"uniqueComponentId",{get:function(){return this.uniqueId},enumerable:!1,configurable:!0}),e.prototype.ngOnChanges=function(e){this.otherSelected=this.hasOtherValues(),this.widthClass=this.getButtonWidthClass()},e.prototype.trackByItemsValAndSel=function(e,t){return t?e.toString()+t.value.toString()+t.selected.toString():e},e.prototype.toggleOtherSelected=function(){var e=this;this.isRadios&&this.modelValue.forEach(function(t){t.selected&&e.toggleElement.emit(t)}),this.otherSelected=!this.otherSelected,this.toggleOther.emit()},e.prototype.toggleElementSelected=function(e){e.disabled||(this.isRadios&&(this.otherSelected=!1),this.toggleElement.emit(e))},e.prototype.isOtherSelected=function(){return this.otherSelected},e.prototype.hasOtherValues=function(){return this.values.some(function(e){return!e.inputItemElement})},e.prototype.getButtonWidthClass=function(){return"b-btn-column-"+this.radioCheckboxColumns},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["mrd-radio-checkbox-group"]],inputs:{radioCheckboxColumns:"radioCheckboxColumns",modelValue:"modelValue",values:"values",listOpen:"listOpen",isRadios:"isRadios",showCode:"showCode",isReadOnly:"isReadOnly",bindLabel:"bindLabel",labelOnTop:"labelOnTop",hideLabel:"hideLabel"},outputs:{toggleElement:"toggleElement",toggleOther:"toggleOther"},features:[i.TTD],decls:1,vars:1,consts:[["class","d-flex flex-wrap radio-checkbox-group ehr-checkbox-group",4,"ngIf"],[1,"d-flex","flex-wrap","radio-checkbox-group","ehr-checkbox-group"],["class","custom-control b-form-btn",3,"text-center","custom-checkbox","custom-radio","selected","disabled","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","custom-control b-form-btn pt-2",3,"text-center","custom-checkbox","custom-radio","ngClass",4,"ngIf"],[1,"custom-control","b-form-btn",3,"ngClass","click"],[4,"ngIf"],[1,"custom-control-input",3,"type","name","id","disabled","checked"],["class","custom-control-label pointer break-word-label",3,"ehr-is-empty-value-item","ehr-item-checked","for",4,"ngIf"],[1,"custom-control-label","pointer","break-word-label",3,"for"],[1,"custom-control","b-form-btn","pt-2",3,"ngClass"],[1,"custom-control-input",3,"type","id","name","disabled","checked","click"]],template:function(e,t){1&e&&i.YNc(0,Un,3,3,"div",0),2&e&&i.Q6J("ngIf",t.modelValue)},directives:[m.O5,m.sg,m.mk],pipes:[x.X$],styles:[".ehr-checkbox-group[_ngcontent-%COMP%]   .break-word-label[_ngcontent-%COMP%]{display:inline;overflow-wrap:break-word;word-wrap:break-word}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-form-btn[_ngcontent-%COMP%]{padding:.5em}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-form-btn.selected[_ngcontent-%COMP%]{border-color:var(--b-checkbox-selected-border-color)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-form-btn.selected[_ngcontent-%COMP%]:hover{border-color:var(--b-checkbox-selected-hover-border-color)}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]{color:var(--b-checkbox-label-color);display:inline-block;font-size:1em;font-weight:400;line-height:1;margin-left:1.25em;top:.2em;width:calc(100% - 10px);padding-right:.5em}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after{background-size:70% 50%}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after, .ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before{height:.875em;left:-1.25em;top:0;width:.875em}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-input.disabled[_ngcontent-%COMP%] ~ .custom-control-label[_ngcontent-%COMP%], .ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:disabled ~ .custom-control-label[_ngcontent-%COMP%], .ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-input[disabled][_ngcontent-%COMP%] ~ .custom-control-label[_ngcontent-%COMP%]{color:var(--b-checkbox-disabled-label-color)}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-input.disabled[_ngcontent-%COMP%] ~ .custom-control-label[_ngcontent-%COMP%]:before, .ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:disabled ~ .custom-control-label[_ngcontent-%COMP%]:before, .ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-input[disabled][_ngcontent-%COMP%] ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:var(--b-check-input-disabled-background-color);border-color:var(--b-check-input-disabled-border-color)}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-input.disabled[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before, .ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:disabled:checked ~ .custom-control-label[_ngcontent-%COMP%]:before, .ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-input[disabled][_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:var(--b-check-input-checked-disabled-background-color);border-color:var(--b-check-input-checked-disabled-border-color);color:var(--b-check-input-checked-disabled-icon-color)}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]{font-weight:700}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:var(--b-check-input-checked-background-color);border-color:var(--b-check-input-checked-border-color);color:var(--b-check-input-checked-icon-color)}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before, .ehr-checkbox-group[_ngcontent-%COMP%]   .custom-radio[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before{border-color:var(--b-check-input-border-color);border-width:2px}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]:disabled, .ehr-checkbox-group[_ngcontent-%COMP%]   .custom-checkbox[disabled][_ngcontent-%COMP%], .ehr-checkbox-group[_ngcontent-%COMP%]   .custom-radio[_ngcontent-%COMP%]:disabled, .ehr-checkbox-group[_ngcontent-%COMP%]   .custom-radio[disabled][_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-radio[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after{background-image:none!important;height:.8em;left:-1.3em;top:0;width:.8em}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-radio[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:var(--b-radio-input-checked-background-color);border-color:var(--b-radio-input-checked-border-color);border-width:4px;color:var(--b-radio-input-checked-color)}.ehr-checkbox-group[_ngcontent-%COMP%]   .custom-radio[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:disabled:checked ~ .custom-control-label[_ngcontent-%COMP%]:before, .ehr-checkbox-group[_ngcontent-%COMP%]   .custom-radio[_ngcontent-%COMP%]   .custom-control-input[disabled][_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:var(--b-radio-input-checked-disabled-border-color)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-1[_ngcontent-%COMP%]{width:calc(100% / 1 - 4px)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-2[_ngcontent-%COMP%]{width:calc(100% / 2 - 4px)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-3[_ngcontent-%COMP%]{width:calc(100% / 3 - 4px)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-4[_ngcontent-%COMP%]{width:calc(100% / 4 - 4px)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-5[_ngcontent-%COMP%]{width:calc(100% / 5 - 4px)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-6[_ngcontent-%COMP%]{width:calc(100% / 6 - 4px)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-7[_ngcontent-%COMP%]{width:calc(100% / 7 - 4px)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-8[_ngcontent-%COMP%]{width:calc(100% / 8 - 4px)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-9[_ngcontent-%COMP%]{width:calc(100% / 9 - 4px)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-10[_ngcontent-%COMP%]{width:calc(100% / 10 - 4px)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-11[_ngcontent-%COMP%]{width:calc(100% / 11 - 4px)}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-12[_ngcontent-%COMP%]{width:calc(100% / 12 - 4px)}@media only screen and (min-width:375px) and (max-width:500px){.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-1[_ngcontent-%COMP%]{width:100%}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-1[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-2[_ngcontent-%COMP%]{width:100%}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-2[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-3[_ngcontent-%COMP%]{width:100%}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-3[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-4[_ngcontent-%COMP%]{width:100%}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-4[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-5[_ngcontent-%COMP%]{width:100%}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-5[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-6[_ngcontent-%COMP%]{width:100%}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-6[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-7[_ngcontent-%COMP%]{width:100%}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-7[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-8[_ngcontent-%COMP%]{width:100%}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-8[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-9[_ngcontent-%COMP%]{width:100%}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-9[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-10[_ngcontent-%COMP%]{width:100%}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-10[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-11[_ngcontent-%COMP%]{width:100%}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-11[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-12[_ngcontent-%COMP%]{width:100%}.ehr-checkbox-group[_ngcontent-%COMP%]   .b-btn-column-12[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}}"],changeDetection:0}),e}();function Gn(e,t){1&e&&i._UZ(0,"i",10)}function Hn(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"button",8),i.NdJ("click",function(){i.CHM(n);var e=i.oxw().$implicit;return i.oxw(3).toggleElementValue(e)}),i.YNc(1,Gn,1,0,"i",9),i.TgZ(2,"span"),i._uU(3),i.qZA(),i.qZA()}if(2&e){var r=i.oxw(),o=r.$implicit,a=r.index,s=i.oxw(3);i.ekj("selected",o.selected)("invalid",s.isInvalid)("mr-0",s.buttonGroupColumnLayout&&(a+1)%s.columns==0)("btn-block",s.buttonGroupColumnLayout&&s.columns>1),i.Q6J("title",o[s.bindLabel])("disabled",s.isReadOnly||o.disabled),i.xp6(1),i.Q6J("ngIf",o.selected),i.xp6(2),i.Oqu(o[s.bindLabel])}}function qn(e,t){if(1&e&&(i.TgZ(0,"div",6),i.YNc(1,Hn,4,12,"button",7),i.qZA()),2&e){var n=t.$implicit,r=i.oxw(3);i.Q6J("ngClass",r.widthClass),i.xp6(1),i.Q6J("ngIf",!r.listOpen||n.inputItemElement)}}function jn(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"button",12),i.NdJ("click",function(){return i.CHM(n),i.oxw(4).toggleOtherSelected()}),i.ALo(1,"translate"),i._uU(2),i.ALo(3,"translate"),i.qZA()}if(2&e){var r=i.oxw(2).$implicit,o=i.oxw(2);i.ekj("mr-0",o.buttonGroupColumnLayout&&(r.length-1)%o.columns==0)("selected",o.isOtherSelected())("invalid",o.isInvalid),i.Q6J("disabled",o.isReadOnly)("title",i.lcZ(1,9,"other.inputLabel")),i.xp6(2),i.hij(" ",i.lcZ(3,11,"other.inputLabel")," ")}}function Yn(e,t){if(1&e&&(i.ynx(0),i.TgZ(1,"div",6),i.YNc(2,jn,4,13,"button",11),i.qZA(),i.BQk()),2&e){var n=i.oxw(3);i.xp6(1),i.Q6J("ngClass",n.widthClass),i.xp6(1),i.Q6J("ngIf",n.listOpen)}}function Jn(e,t){if(1&e&&(i.TgZ(0,"div",3),i.YNc(1,qn,2,2,"div",4),i.YNc(2,Yn,3,2,"ng-container",5),i.qZA()),2&e){var n=t.$implicit,r=t.last;i.xp6(1),i.Q6J("ngForOf",n),i.xp6(1),i.Q6J("ngIf",r)}}function zn(e,t){if(1&e&&(i.TgZ(0,"div",1),i.YNc(1,Jn,3,2,"div",2),i.qZA()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("ngForOf",n.rows)}}var Qn=function(){function e(){this.isInvalid=!1,this.toggleElement=new i.vpe,this.toggleOther=new i.vpe,this.otherSelected=!1,this.BTN_COLUMN_CLASS="b-btn-column-"}return e.prototype.ngOnChanges=function(e){this.otherSelected=this.values.some(function(e){return!e.inputItemElement}),(e.hasOwnProperty("columns")||e.hasOwnProperty("buttonGroupColumnLayout")||e.hasOwnProperty("modelValue"))&&(this.rows=this.renderColumnLayout(),this.widthClass=this.getButtonWidthClass())},e.prototype.toggleOtherSelected=function(){this.otherSelected=!this.otherSelected,this.toggleOther.emit()},e.prototype.isOtherSelected=function(){return this.otherSelected},e.prototype.toggleElementValue=function(e){!this.isMulti&&this.otherSelected&&(this.otherSelected=!1),this.toggleElement.emit(e)},e.prototype.renderColumnLayout=function(){var e=this.modelValue.length,t=[],n=0;if(!this.buttonGroupColumnLayout)return t.push(this.modelValue),t;for(var r=0;r<e;r++)(t[n]?t[n].length:0)===this.columns&&(n+=1),t[n]||(t[n]=[]),t[n].push(this.modelValue[r]);return t},e.prototype.getButtonWidthClass=function(){return this.buttonGroupColumnLayout&&this.columns>0?""+this.BTN_COLUMN_CLASS+this.columns:""},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["mrd-button-group"]],inputs:{modelValue:"modelValue",values:"values",columns:"columns",listOpen:"listOpen",showCode:"showCode",isMulti:"isMulti",bindLabel:"bindLabel",isReadOnly:"isReadOnly",isInvalid:"isInvalid",buttonGroupColumnLayout:"buttonGroupColumnLayout"},outputs:{toggleElement:"toggleElement",toggleOther:"toggleOther"},features:[i.TTD],decls:1,vars:1,consts:[["class","d-inline my-0 w-100",4,"ngIf"],[1,"d-inline","my-0","w-100"],["class","d-flex justify-content-start flex-wrap",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-start","flex-wrap"],["class","b-btn-wrapper",3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"b-btn-wrapper",3,"ngClass"],["type","button","class","b-form-btn",3,"selected","invalid","mr-0","btn-block","title","disabled","click",4,"ngIf"],["type","button",1,"b-form-btn",3,"title","disabled","click"],["class","b-icon check b-form-btn--check-icon ",4,"ngIf"],[1,"b-icon","check","b-form-btn--check-icon"],["type","button","class","b-form-btn b-form-btn--other",3,"mr-0","disabled","selected","invalid","title","click",4,"ngIf"],["type","button",1,"b-form-btn","b-form-btn--other",3,"disabled","title","click"]],template:function(e,t){1&e&&i.YNc(0,zn,2,1,"div",0),2&e&&i.Q6J("ngIf",t.modelValue)},directives:[m.O5,m.sg,m.mk],pipes:[x.X$],styles:[".b-btn-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.b-form-btn[_ngcontent-%COMP%]{overflow-wrap:break-word;white-space:pre-wrap;width:100%;word-break:normal}.b-form-btn.disabled.selected[_ngcontent-%COMP%]   .b-form-btn--check-icon[_ngcontent-%COMP%]{color:var(--b-button-selected-disabled-check-icon-color)}.b-form-btn.b-form-btn--other[_ngcontent-%COMP%]{width:100%}.b-form-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.b-btn-column-1[_ngcontent-%COMP%]{width:100%}.b-btn-column-2[_ngcontent-%COMP%]{width:50%}.b-btn-column-3[_ngcontent-%COMP%]{width:33.3333333333%}.b-btn-column-4[_ngcontent-%COMP%]{width:25%}.b-btn-column-5[_ngcontent-%COMP%]{width:20%}.b-btn-column-6[_ngcontent-%COMP%]{width:16.6666666667%}.b-btn-column-7[_ngcontent-%COMP%]{width:14.2857142857%}.b-btn-column-8[_ngcontent-%COMP%]{width:12.5%}.b-btn-column-9[_ngcontent-%COMP%]{width:11.1111111111%}.b-btn-column-10[_ngcontent-%COMP%]{width:10%}.b-btn-column-11[_ngcontent-%COMP%]{width:9.0909090909%}.b-btn-column-12[_ngcontent-%COMP%]{width:8.3333333333%}@media only screen and (min-width:375px) and (max-width:500px){.b-btn-column-1[_ngcontent-%COMP%]{width:100%}.b-btn-column-1[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.b-btn-column-2[_ngcontent-%COMP%]{width:100%}.b-btn-column-2[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.b-btn-column-3[_ngcontent-%COMP%]{width:100%}.b-btn-column-3[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.b-btn-column-4[_ngcontent-%COMP%]{width:100%}.b-btn-column-4[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.b-btn-column-5[_ngcontent-%COMP%]{width:100%}.b-btn-column-5[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.b-btn-column-6[_ngcontent-%COMP%]{width:100%}.b-btn-column-6[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.b-btn-column-7[_ngcontent-%COMP%]{width:100%}.b-btn-column-7[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.b-btn-column-8[_ngcontent-%COMP%]{width:100%}.b-btn-column-8[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.b-btn-column-9[_ngcontent-%COMP%]{width:100%}.b-btn-column-9[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.b-btn-column-10[_ngcontent-%COMP%]{width:100%}.b-btn-column-10[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.b-btn-column-11[_ngcontent-%COMP%]{width:100%}.b-btn-column-11[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.b-btn-column-12[_ngcontent-%COMP%]{width:100%}.b-btn-column-12[_ngcontent-%COMP%] > .b-form-btn[_ngcontent-%COMP%]{margin-right:0}.b-btn-wrapper[_ngcontent-%COMP%]{width:100%}.b-btn-wrapper[_ngcontent-%COMP%]   .b-form-btn[_ngcontent-%COMP%]{flex:1}}"],changeDetection:0}),e}();function Wn(e,t){if(1&e&&(i._UZ(0,"mrd-validation-error-list",8),i.ALo(1,"async")),2&e){var n=i.oxw();i.Q6J("translatedValidationErrors",i.lcZ(1,1,n.errorMessages))}}function Kn(e,t){if(1&e&&(i.ynx(0),i._UZ(1,"ehr-presentation-value",9),i.BQk()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("value",n.getPresentationValue())}}function Xn(e,t){1&e&&i.GkF(0)}function $n(e,t){if(1&e&&(i.ynx(0),i.YNc(1,Xn,1,0,"ng-container",12),i.BQk()),2&e){i.oxw(2);var n=i.MAs(8);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function er(e,t){1&e&&i.GkF(0)}function tr(e,t){if(1&e&&(i.ynx(0),i.YNc(1,er,1,0,"ng-container",12),i.BQk()),2&e){i.oxw(2);var n=i.MAs(8);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function nr(e,t){1&e&&i.GkF(0)}function rr(e,t){if(1&e&&(i.ynx(0),i.YNc(1,nr,1,0,"ng-container",12),i.BQk()),2&e){i.oxw(2);var n=i.MAs(10);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function ir(e,t){if(1&e){var n=i.EpF();i.ynx(0),i.TgZ(1,"ehr-image-map-presentation",13),i.NdJ("valueChange",function(e){return i.CHM(n),i.oxw(2).toggleElement(e)}),i.ALo(2,"async"),i.qZA(),i.BQk()}if(2&e){var r=i.oxw(2);i.xp6(1),i.Q6J("config",r.imageConfig)("modelValue",i.lcZ(2,3,r.modelValueObservable))("readonly",r.isReadOnly)}}function or(e,t){1&e&&i.GkF(0)}function ar(e,t){if(1&e&&(i.ynx(0),i.YNc(1,or,1,0,"ng-container",12),i.BQk()),2&e){i.oxw(2);var n=i.MAs(6);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function sr(e,t){1&e&&i.GkF(0)}function lr(e,t){if(1&e&&(i.ynx(0),i.YNc(1,sr,1,0,"ng-container",12),i.BQk()),2&e){i.oxw(2);var n=i.MAs(6);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function ur(e,t){if(1&e&&(i.YNc(0,$n,2,1,"ng-container",10),i.YNc(1,tr,2,1,"ng-container",10),i.YNc(2,rr,2,1,"ng-container",10),i.YNc(3,ir,3,5,"ng-container",10),i.YNc(4,ar,2,1,"ng-container",10),i.YNc(5,lr,2,1,"ng-container",11)),2&e){var n=i.oxw();i.Q6J("ngSwitchCase",n.FieldPresentation.CHECKBOX),i.xp6(1),i.Q6J("ngSwitchCase",n.FieldPresentation.RADIOS),i.xp6(1),i.Q6J("ngSwitchCase",n.FieldPresentation.BUTTONGROUP),i.xp6(1),i.Q6J("ngSwitchCase",n.FieldPresentation.IMAGE),i.xp6(1),i.Q6J("ngSwitchCase",n.FieldPresentation.COMBOBOX)}}function cr(e,t){1&e&&i._UZ(0,"i",25)}function dr(e,t){if(1&e&&(i.TgZ(0,"div",22),i.YNc(1,cr,1,0,"i",23),i.qZA(),i._UZ(2,"div",24)),2&e){var n=t.item,r=i.oxw(3);i.xp6(1),i.Q6J("ngIf",n.selected),i.xp6(1),i.Q6J("innerHTML",n[r.bindLabel],i.oJD)}}function hr(e,t){if(1&e&&(i._UZ(0,"span",26),i.TgZ(1,"span",27),i.NdJ("click",function(){return(0,t.clear)(t.item)}),i._uU(2,"\xd7"),i.qZA()),2&e){var n=t.item,r=i.oxw(3);i.Q6J("title",n[r.bindLabel])("innerHTML",n[r.bindLabel],i.oJD)}}function fr(e,t){1&e&&(i.TgZ(0,"div",28),i._UZ(1,"div",22),i.TgZ(2,"div",29),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA()),2&e&&(i.xp6(3),i.Oqu(i.lcZ(4,1,"ngSelect.noItemsFound")))}var pr=function(e){return{"is-invalid":e}};function mr(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ng-select",17,18),i.NdJ("search",function(e){return i.CHM(n),i.oxw(2).fetchAndUpdateTerminologyList(e)})("add",function(e){return i.CHM(n),i.oxw(2).toggleElement(e)})("remove",function(e){i.CHM(n);var t=i.MAs(1);return i.oxw(2).toggleElement(e.value,t)})("clear",function(){return i.CHM(n),i.oxw(2).clearAll()})("blur",function(){return i.CHM(n),i.oxw(2).fetchAndUpdateTerminologyList("")})("focus",function(){i.CHM(n);var e=i.MAs(1);return i.oxw(2).openDropdown(e)})("open",function(){i.CHM(n);var e=i.MAs(1);return i.oxw(2).onOpenSelect(e)}),i.ALo(2,"async"),i.ALo(3,"translate"),i.ALo(4,"translate"),i.ALo(5,"translate"),i.YNc(6,dr,3,2,"ng-template",19),i.YNc(7,hr,3,2,"ng-template",20),i.YNc(8,fr,5,3,"ng-template",21),i.qZA()}if(2&e){var r,o=i.oxw(2);i.Q6J("ngClass",i.VKq(23,pr,!(null==(r=i.lcZ(2,15,o.errorMessages))||!r.length)))("addTag",o.listOpen)("formControl",o.formControl)("bindLabel",o.bindLabel)("bindValue","value")("clearable",!1)("appendTo","form.ehr-form-"+o.formUid)("items",o.valueSet)("loading",o.loading)("loadingText",i.lcZ(3,17,"LOADING"))("notFoundText",i.lcZ(4,19,"ngSelect.noItemsFound"))("addTagText",i.lcZ(5,21,"ngSelect.addItem"))("multiple",!0)("clearOnBackspace",!0)("placeholder",o.inputPlaceholder)}}function vr(e,t){1&e&&i._UZ(0,"i",25)}function gr(e,t){if(1&e&&(i.TgZ(0,"div",22),i.YNc(1,vr,1,0,"i",23),i.qZA(),i._UZ(2,"div",24)),2&e){var n=t.item,r=i.oxw(3);i.xp6(1),i.Q6J("ngIf",n.selected),i.xp6(1),i.Q6J("innerHTML",n[r.bindLabel],i.oJD)}}function yr(e,t){if(1&e&&(i._UZ(0,"span",26),i.TgZ(1,"span",27),i.NdJ("click",function(){return(0,t.clear)(t.item)}),i._uU(2,"\xd7"),i.qZA()),2&e){var n=t.item,r=i.oxw(3);i.Q6J("title",n[r.bindLabel])("innerHTML",n[r.bindLabel],i.oJD)}}function br(e,t){1&e&&(i.TgZ(0,"div",28),i._UZ(1,"div",22),i.TgZ(2,"div",29),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA()),2&e&&(i.xp6(3),i.Oqu(i.lcZ(4,1,"ngSelect.noItemsFound")))}function _r(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ng-select",30,31),i.NdJ("search",function(e){return i.CHM(n),i.oxw(2).fetchAndUpdateTerminologyList(e)})("change",function(e){i.CHM(n);var t=i.MAs(1);return i.oxw(2).toggleElement(e,t)})("blur",function(){return i.CHM(n),i.oxw(2).fetchAndUpdateTerminologyList("")})("focus",function(){i.CHM(n);var e=i.MAs(1);return i.oxw(2).openDropdown(e)})("open",function(){i.CHM(n);var e=i.MAs(1);return i.oxw(2).onOpenSelect(e)}),i.ALo(2,"async"),i.ALo(3,"translate"),i.ALo(4,"translate"),i.ALo(5,"translate"),i.YNc(6,gr,3,2,"ng-template",19),i.YNc(7,yr,3,2,"ng-template",20),i.YNc(8,br,5,3,"ng-template",21),i.qZA()}if(2&e){var r,o=i.oxw(2);i.Q6J("ngClass",i.VKq(21,pr,!(null==(r=i.lcZ(2,13,o.errorMessages))||!r.length)))("addTag",o.listOpen)("formControl",o.formControl)("bindLabel",o.bindLabel)("bindValue","value")("items",o.valueSet)("loading",o.loading)("loadingText",i.lcZ(3,15,"LOADING"))("notFoundText",i.lcZ(4,17,"ngSelect.noItemsFound"))("addTagText",i.lcZ(5,19,"ngSelect.addItem"))("appendTo","form.ehr-form-"+o.formUid)("clearOnBackspace",!0)("placeholder",o.inputPlaceholder)}}function Cr(e,t){if(1&e&&(i.TgZ(0,"div",14),i.YNc(1,mr,9,25,"ng-select",15),i.YNc(2,_r,9,23,"ng-select",16),i.qZA()),2&e){var n=i.oxw();i.Q6J("formGroup",n.formGroupDirective.form),i.xp6(1),i.Q6J("ngIf",1!==n.maxItems),i.xp6(1),i.Q6J("ngIf",1===n.maxItems)}}function Er(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-radio-checkbox-group",33),i.NdJ("toggleElement",function(e){return i.CHM(n),i.oxw(2).toggleElement(e)})("toggleOther",function(){return i.CHM(n),i.oxw(2).toggleOther()}),i.qZA()}if(2&e){var r=i.oxw(2);i.Q6J("radioCheckboxColumns",r.radioCheckboxColumns)("modelValue",r.valueSet)("values",r.modelValue)("bindLabel",r.bindLabel)("listOpen",r.listOpen)("isRadios",r.isRadios())("isReadOnly",r.isReadOnly)("labelOnTop",r.selectInputLabelOnTop)("hideLabel",r.selectInputLabelHide)}}function Tr(e,t){if(1&e&&(i.TgZ(0,"div"),i.YNc(1,Er,1,9,"mrd-radio-checkbox-group",32),i.qZA()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("ngIf",n.valueSet)}}function wr(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-button-group",35),i.NdJ("toggleElement",function(e){return i.CHM(n),i.oxw(2).toggleElement(e)})("toggleOther",function(){return i.CHM(n),i.oxw(2).toggleOther()}),i.ALo(1,"async"),i.qZA()}if(2&e){var r,o=i.oxw(2);i.Q6J("buttonGroupColumnLayout",!!o.buttonGroupColumnLayout)("columns",o.radioCheckboxColumns)("modelValue",o.valueSet)("values",o.modelValue)("bindLabel",o.bindLabel)("listOpen",o.listOpen)("isReadOnly",o.isReadOnly)("isMulti",o.maxItems>1)("isInvalid",!(null==(r=i.lcZ(1,9,o.errorMessages))||!r.length))}}function Or(e,t){if(1&e&&(i.TgZ(0,"div"),i.YNc(1,wr,2,11,"mrd-button-group",34),i.qZA()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("ngIf",n.valueSet)}}function xr(e,t){if(1&e&&(i.TgZ(0,"div",36),i.TgZ(1,"label",37),i._uU(2),i.ALo(3,"translate"),i.qZA(),i._UZ(4,"input",38),i.qZA()),2&e){var n=i.oxw();i.xp6(2),i.hij("",i.lcZ(3,2,"other.inputLabel"),":"),i.xp6(2),i.Q6J("formControl",n.otherFormControl)}}var Ir=function(e){function t(t,n,r,o,a,s,l,u,c){var d=e.call(this,r,t,n,a,l)||this;return d.ehrFormState=r,d.validationResolver=o,d.formGroupDirective=a,d.terminologyService=s,d.modelStoreService=l,d.changeDetectorRef=u,d.formDataService=c,d.minItems=0,d.maxItems=1,d.isQuantity=!1,d.onClearValue=new i.vpe,d.search=new i.vpe,d.showOtherInput=new D.X(!1),d.FieldPresentation=C.umi,d.otherFormControl=null,d.mayOpenDropdown=!0,d.searchSubject=new D.X(""),d}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(n){var r,i,o,a=this;this.codedTextPresentation=null!==(r=this.codedTextPresentation)&&void 0!==r?r:C.umi.COMBOBOX,e.prototype.ngOnChanges.call(this,n),this.modelValuesSubs&&this.modelValuesSubs.unsubscribe(),this.modelValueObservable&&(this.modelValuesSubs=this.modelValueObservable.pipe((0,k.b)(function(e){return a.loading=!0})).subscribe(function(e){var n=!a.codedTextPresentation||a.codedTextPresentation===C.umi.COMBOBOX;a.valueSet=n?(0,lt.ev)([],(0,lt.CR)(e)):e.filter(function(e){return e.value!==t.OTHER_MODEL_VALUE&&!!e.value&&e.inputItemElement});var r=a.getOtherValues(e);a.showOtherInput.next(!n&&!!(null==r?void 0:r.length)),a.showOtherInput.getValue()&&a.setOtherValue(r),n&&r.forEach(function(e){a.valueSet.includes(e)||a.valueSet.push(e)}),a.loading=!1,a.changeDetectorRef.markForCheck()})),null===(i=this.ngSelectComponent)||void 0===i||i.close();var s=this.getSelectedValue();if(this.formControl){if(n.hasOwnProperty("isReadOnly")&&(!this.formControl.disabled&&this.isReadOnly?this.formControl.disable({emitEvent:!1}):this.formControl.disabled&&!this.isReadOnly&&this.formControl.enable({emitEvent:!1})),n.hasOwnProperty("modelValue")){if(this.hasOther(),1===this.maxItems&&this.formControl.value!==s||1!==this.maxItems&&!Array.isArray(this.formControl.value)||1!==this.maxItems&&!C.G1o.arraysEqual(this.formControl.value.map(function(e){return(null==e?void 0:e.value)||e}),s)){this.formControl.markAsDirty({onlySelf:!0}),this.formControl.setValue(s);var l=null===(o=n.modelValue.currentValue)||void 0===o?void 0:o.find(function(e){return e.value===s});l&&this.onModelValue.emit(l)}C.G1o.arraysEqual(n.modelValue.currentValue.map(function(e){return e.value}),n.modelValue.previousValue.map(function(e){return e.value}))||(this.formControl.markAsDirty({onlySelf:!0}),this.formControl.setValue(s,{emitEvent:!1}))}(n.hasOwnProperty("minItems")&&n.minItems.currentValue!==n.minItems.previousValue||n.hasOwnProperty("maxItems")&&n.maxItems.currentValue!==n.maxItems.previousValue)&&(this.formControl.setValidators(this.getValidators()),n.hasOwnProperty("maxItems")&&1===n.maxItems.currentValue&&1!==n.maxItems.previousValue&&this.clearAll(),this.formControl.updateValueAndValidity())}this.bindLabel=this.getBindLabel(),this.showOtherInput.next(this.isOtherInputShown())},t.prototype.ngOnInit=function(){var e=this;this.formControl=new o.NI(this.getSelectedValue(),this.getValidators()),(this.isReadOnly||this.disabled)&&this.formControl.disable({emitEvent:!1}),this.formControlName=this.controlName+"|0"+Math.random().toString(36).substring(7),this.registerControl(this.formControlName,this.formControl),this.subscriptions.push(this.validationResolver.initializeValueChangeListener(this.formControl)),this.errorMessages=this.validationResolver.getErrorMessage(this.formControl),this.subscriptions.push(this.searchSubject.pipe((0,ln.b)(300),(0,S.x)()).subscribe(function(t){(null==t?void 0:t.length)>2&&e.search.emit(t)})),this.subscriptions.push(this.showOtherInput.pipe((0,S.x)()).subscribe(function(t){e.registerOtherControl(t)})),this.formUid=this.formDataService.getFormUid()},t.prototype.hasOther=function(){return this.listOpen&&!this.terminology},t.prototype.fetchAndUpdateTerminologyList=function(e){var t,n=this;this.searchSubject.next(e.term||e||""),this.terminology&&!(null===(t=this.dataSource)||void 0===t?void 0:t.isValid())&&(this.loading=!0,this.modelValueObservable=this.terminologyService.getTerminologyDataset(this.terminology,e,this.modelValue).pipe((0,k.b)(function(e){n.valueSet=e,n.loading=!1})))},t.prototype.getSelectedValue=function(){var e,t,n=null;1!==this.maxItems&&(n=[]);try{for(var r=(0,lt.XA)(this.modelValue),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.selected){if(1===this.maxItems){n=o.value;break}Array.isArray(n)&&n.push(o.value)}}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},t.prototype.getValidators=function(){if(1===this.maxItems&&1===this.minItems)return[sn.required()];var e=[];return 1!==this.maxItems&&-1!==this.maxItems&&e.push(sn.maxSelectedItems(this.maxItems)),this.minItems>0&&1!==this.maxItems&&e.push(sn.minSelectedItems(this.minItems)),e},t.prototype.isDropdown=function(){return null==this.codedTextPresentation||!this.isRadios()&&!this.isButtonGroup()&&!this.isCheckbox()&&this.codedTextPresentation!==C.umi.IMAGE},t.prototype.isButtonGroup=function(){return this.codedTextPresentation===C.umi.BUTTONGROUP},t.prototype.isRadios=function(){return this.codedTextPresentation===C.umi.RADIOS},t.prototype.isCheckbox=function(){return this.codedTextPresentation===C.umi.CHECKBOX},t.prototype.toggleElement=function(e,n){if(e){var r=this.valueSet.find(function(t){return t.value===e})||e;"string"==typeof r&&(r=this.mapToCodedTextModelValue(r)),null==r.value&&r.label&&!this.showCode||null==r.value&&r.valueAndLabel&&this.showCode?(r.value=t.OTHER_MODEL_VALUE,r.replaceOther=!0,r.valueAndLabel&&(r.label=r.valueAndLabel)):1===this.maxItems&&this.showOtherInput.next(!1),r&&(r.selected=!r.selected,!r.selected&&n&&n.close(),this.updateFormControlValue(r),this.formControl.updateValueAndValidity(),this.onModelValue.emit(e))}else this.clearAll()},t.prototype.clearAll=function(){this.modelValue.forEach(function(e){!0===e.selected&&(e.selected=!1)}),this.showOtherInput.next(!1),this.mayOpenDropdown=!1,this.onClearValue.emit()},t.prototype.toggleOther=function(){var e=this;this.showOtherInput.next(!this.showOtherInput.getValue()),this.showOtherInput.getValue()?this.updateOtherValue(""):this.getOtherValues(this.valueSet).map(function(e){return e.selected=!1,e}).forEach(function(t){return e.onModelValue.emit(t)})},t.prototype.updateOtherValue=function(e){var n={selected:!0,value:t.OTHER_MODEL_VALUE,valueAndLabel:e,label:e,replaceOther:!0,inputItemElement:!1};this.updateFormControlValue(n),this.onModelValue.emit(n)},t.prototype.openDropdown=function(e){this.mayOpenDropdown&&e.open(),this.mayOpenDropdown=!0},t.prototype.getBindLabel=function(){return this.showCode?this.hideInputLabel?"value":"valueAndLabel":"label"},t.prototype.getPresentationValue=function(){var e,t,n=this,r=null!==(t=null===(e=this.formControl)||void 0===e?void 0:e.value)&&void 0!==t?t:[],i=(Array.isArray(r)?r:[r]).map(function(e){var t,r,i=null===(t=n.valueSet)||void 0===t?void 0:t.find(function(t){return t.value===e});return i?i[n.bindLabel]:null===(r=n.modelValue.find(function(t){return t.value===e}))||void 0===r?void 0:r[n.bindLabel]});return i.length>0?i.join(", "):""},t.prototype.isOtherInputShown=function(){return this.hasOther()&&this.showOtherInput.getValue()&&!this.isDropdown()&&!this.presentationMode},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this.modelValuesSubs&&this.modelValuesSubs.unsubscribe(),this.otherValueSubscription&&this.otherValueSubscription.unsubscribe()},t.prototype.mapToCodedTextModelValue=function(e){return{selected:null,value:null,label:e,inputItemElement:null,valueAndLabel:e}},t.prototype.getOtherValues=function(e){var n=e.filter(function(e){return e.value===t.OTHER_MODEL_VALUE&&!!e.selected}),r=this.modelValue.filter(function(e){return!e.inputItemElement&&!n.find(function(t){return t.valueAndLabel===e.valueAndLabel})});return(0,lt.ev)((0,lt.ev)([],(0,lt.CR)(r)),(0,lt.CR)(n))},t.prototype.updateFormControlValue=function(e){if(this.codedTextPresentation&&this.codedTextPresentation!==C.umi.COMBOBOX){var t=this.modelValue.filter(function(t){return t.value!==e.value&&t.selected});e.selected&&t.push(e),this.formControl.setValue(t.map(function(e){return e.value}),{emitEvent:!1})}},t.prototype.registerOtherControl=function(e){var t=this;e&&!this.otherFormControl?(this.otherFormControl=new o.NI(null,this.getValidators()),this.otherFormControlName=this.controlName+"|0"+Math.random().toString(36).substring(7),this.registerControl(this.otherFormControlName,this.otherFormControl),this.errorMessages=this.validationResolver.getErrorMessages([this.formControl,this.otherFormControl]),this.formControl.dirty&&this.otherFormControl.updateValueAndValidity({emitEvent:!1}),this.otherValueSubscription=this.otherFormControl.valueChanges.pipe((0,ln.b)(150)).subscribe(function(e){return t.updateOtherValue(e)})):!e&&this.otherFormControl&&(this.otherFormControl=null,this.removeControl(this.otherFormControlName),this.otherFormControlName=null,this.formControl&&(this.errorMessages=this.validationResolver.getErrorMessage(this.formControl)),this.otherValueSubscription&&this.otherValueSubscription.unsubscribe())},t.prototype.setOtherValue=function(e){(null==e?void 0:e.length)>0&&this.otherFormControl&&this.otherFormControl.patchValue(e[0].label)},t.prototype.onOpenSelect=function(e){var t=this;requestAnimationFrame(function(){var n=document.querySelector(".ng-dropdown-panel");n&&function(n){var r,i,o=e.element.getBoundingClientRect();if(null===(r=null==n?void 0:n.classList)||void 0===r||r.add("form-renderer-dropdown-panel","ehr-form"),n.style.width=o.width+20+"px",t.isQuantity){var a=e.element.getBoundingClientRect().left<window.innerWidth/2;null===(i=null==n?void 0:n.classList)||void 0===i||i.add("dropdown-is-quantity");var s=a?-10:n.getBoundingClientRect().width-o.width-10;n.style.left=parseInt(n.style.left,10)-s+"px"}}(n)}),e.focus()},t.OTHER_MODEL_VALUE="__other__",t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(T.G),i.Y36(A.r),i.Y36(o.sg),i.Y36(cn.a),i.Y36(w.G),i.Y36(i.sBO),i.Y36(qe.W))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mrd-codedtext-input"]],viewQuery:function(e,t){var n;1&e&&i.Gf(un.w9,5),2&e&&i.iGM(n=i.CRH())&&(t.ngSelectComponent=n.first)},inputs:{modelValue:"modelValue",modelValueObservable:"modelValueObservable",terminology:"terminology",dataSource:"dataSource",listOpen:"listOpen",selectInputLabelOnTop:"selectInputLabelOnTop",selectInputLabelHide:"selectInputLabelHide",showCode:"showCode",hideInputLabel:"hideInputLabel",minItems:"minItems",maxItems:"maxItems",buttonGroupColumnLayout:"buttonGroupColumnLayout",radioCheckboxColumns:"radioCheckboxColumns",imageConfig:"imageConfig",codedTextPresentation:"codedTextPresentation",isQuantity:"isQuantity"},outputs:{onClearValue:"onClearValue",search:"search"},features:[i.qOj,i.TTD],decls:13,vars:9,consts:[["class","form-control--error-message",3,"translatedValidationErrors",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngSwitch"],["element",""],["Dropdown",""],["RadioCheckboxGroup",""],["ButtonGroup",""],["class","other-value-wrapper",4,"ngIf"],[1,"form-control--error-message",3,"translatedValidationErrors"],[3,"value"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet"],[3,"config","modelValue","readonly","valueChange"],[1,"ehr-select-wrapper",3,"formGroup"],["class","form-renderer-select",3,"ngClass","addTag","formControl","bindLabel","bindValue","clearable","appendTo","items","loading","loadingText","notFoundText","addTagText","multiple","clearOnBackspace","placeholder","search","add","remove","clear","blur","focus","open",4,"ngIf"],["class","form-renderer-select",3,"ngClass","addTag","formControl","bindLabel","bindValue","items","loading","loadingText","notFoundText","addTagText","appendTo","clearOnBackspace","placeholder","search","change","blur","focus","open",4,"ngIf"],[1,"form-renderer-select",3,"ngClass","addTag","formControl","bindLabel","bindValue","clearable","appendTo","items","loading","loadingText","notFoundText","addTagText","multiple","clearOnBackspace","placeholder","search","add","remove","clear","blur","focus","open"],["selectMultiple",""],["ng-option-tmp",""],["ng-label-tmp",""],["ng-notfound-tmp",""],[1,"ng-option-check-icon"],["class","b-icon check",4,"ngIf"],[1,"ng-option-label",3,"innerHTML"],[1,"b-icon","check"],[1,"ng-value-label",3,"title","innerHTML"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],[1,"ng-option","ng-option-disabled"],[1,"ng-option-label"],[1,"form-renderer-select",3,"ngClass","addTag","formControl","bindLabel","bindValue","items","loading","loadingText","notFoundText","addTagText","appendTo","clearOnBackspace","placeholder","search","change","blur","focus","open"],["selectSingle",""],[3,"radioCheckboxColumns","modelValue","values","bindLabel","listOpen","isRadios","isReadOnly","labelOnTop","hideLabel","toggleElement","toggleOther",4,"ngIf"],[3,"radioCheckboxColumns","modelValue","values","bindLabel","listOpen","isRadios","isReadOnly","labelOnTop","hideLabel","toggleElement","toggleOther"],[3,"buttonGroupColumnLayout","columns","modelValue","values","bindLabel","listOpen","isReadOnly","isMulti","isInvalid","toggleElement","toggleOther",4,"ngIf"],[3,"buttonGroupColumnLayout","columns","modelValue","values","bindLabel","listOpen","isReadOnly","isMulti","isInvalid","toggleElement","toggleOther"],[1,"other-value-wrapper"],[1,"mr-2"],["type","text",1,"form-control",3,"formControl"]],template:function(e,t){if(1&e&&(i.YNc(0,Wn,2,3,"mrd-validation-error-list",0),i.ALo(1,"async"),i.YNc(2,Kn,2,1,"ng-container",1),i.YNc(3,ur,6,5,"ng-template",2,3,i.W1O),i.YNc(5,Cr,3,3,"ng-template",null,4,i.W1O),i.YNc(7,Tr,2,1,"ng-template",null,5,i.W1O),i.YNc(9,Or,2,1,"ng-template",null,6,i.W1O),i.YNc(11,xr,5,4,"div",7),i.ALo(12,"async")),2&e){var n=i.MAs(4),r=void 0;i.Q6J("ngIf",!t.isReadOnly&&!(null==(r=i.lcZ(1,5,t.errorMessages))||!r.length)),i.xp6(2),i.Q6J("ngIf",t.presentationMode||t.isReadOnly&&t.isDropdown())("ngIfElse",n),i.xp6(1),i.Q6J("ngSwitch",t.codedTextPresentation),i.xp6(8),i.Q6J("ngIf",!t.presentationMode&&!!i.lcZ(12,7,t.showOtherInput))}},directives:[m.O5,m.RF,fn,pn,m.n9,m.ED,m.tP,Rn,o.JL,o.sg,un.w9,m.mk,o.JJ,o.oH,un.Z2,un.bb,un.vM,Bn,Qn,o.Fj],pipes:[m.Ov,x.X$],styles:[".other-value-wrapper[_ngcontent-%COMP%]{display:flex;margin-top:.5em}.other-value-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}.other-value-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-bottom:2px solid var(--b-labeled-input-no-value-border-color);border-radius:0}"],changeDetection:0}),t}(dn),Mr=n(51929),Sr=n(96174),Vr=n(87394),Ar=n(49045),Dr=function(){function e(e){this.elementRef=e,this.disableClickToFocus=!1}return e.prototype.onClick=function(e){var t,n,r;if(!0!==this.disableClickToFocus){var i=["input","textarea"].includes(null===(t=null==e?void 0:e.tagName)||void 0===t?void 0:t.toLowerCase()),o=e.classList.contains("b-icon"),a=this.elementRef.nativeElement.querySelector("ngb-datepicker"),s=null==a?void 0:a.contains(e);if(!(i||o||s)){var l=this.elementRef.nativeElement.querySelectorAll("input"),u=this.elementRef.nativeElement.querySelector("textarea");if(!(null===(n=Array.from(l))||void 0===n?void 0:n.some(function(e){return document.activeElement===e}))){var c=null!==(r=null==l?void 0:l[0])&&void 0!==r?r:u;c&&!c.disabled&&setTimeout(function(){return null==c?void 0:c.focus()},0)}}}},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","ehrClickToFocus",""]],hostBindings:function(e,t){1&e&&i.NdJ("mouseup",function(e){return t.onClick(e.target)})},inputs:{disableClickToFocus:"disableClickToFocus"}}),e}();function kr(e,t){if(1&e&&(i.O4$(),i.TgZ(0,"svg",1,2),i.TgZ(2,"g",3),i._UZ(3,"circle",4),i._UZ(4,"path",5),i.qZA(),i.qZA()),2&e){var n=i.oxw();i.Q6J("ngbTooltip",n.tooltipValue)("container","body")}}var Rr=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["mrd-tooltip"]],inputs:{tooltipValue:"tooltipValue"},decls:1,vars:1,consts:[["tabindex","-1","tooltipClass","ehr-form-tooltip","viewBox","0 0 16 16","version","1.1","xmlns","http://www.w3.org/2000/svg","class","tooltip-indicator",3,"ngbTooltip","container",4,"ngIf"],["tabindex","-1","tooltipClass","ehr-form-tooltip","viewBox","0 0 16 16","version","1.1","xmlns","http://www.w3.org/2000/svg",1,"tooltip-indicator",3,"ngbTooltip","container"],["tooltipSvg",""],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","oval","cx","8","cy","8","r","7.5"],["d","M6.63775363,6.5 L5.00191124,6.5 C4.93769059,4.69709544 6.50130263,4 8.27359602,4 C9.62190125,4 11,4.74688797 11,6.5 C11,8 8.81887679,8.40625 8.81887682,9.5 C8.81887682,9.796875 8.81887682,10 8.81887682,10 L7.18303443,10 L7.18303443,9.5 C7.18303438,8.984375 7.47159091,8 8.27359602,7.5 C8.70758573,7.21784232 9.37376413,7.01932452 9.36415761,6.5 C9.34565952,5.5 8.4942516,5.5 7.72831522,5.5 C6.96237885,5.5 6.72656877,5.88589212 6.63775363,6.5 Z M7,11 L9,11 L9,13 L7,13 L7,11 Z"]],template:function(e,t){1&e&&i.YNc(0,kr,5,2,"svg",0),2&e&&i.Q6J("ngIf",t.tooltipValue&&t.tooltipValue.length>0)},directives:[m.O5,a._L],styles:[".tooltip-indicator[_ngcontent-%COMP%]{margin-left:4px;margin-bottom:4px;width:1em;height:1em}.tooltip-indicator[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--b-label-tooltip-color)}.tooltip-indicator[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--b-label-tooltip-color)}"]}),e}();function Pr(e,t){1&e&&i.GkF(0)}function Nr(e,t){if(1&e&&(i.ynx(0),i.YNc(1,Pr,1,0,"ng-container",4),i.BQk()),2&e){i.oxw();var n=i.MAs(6);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function Fr(e,t){1&e&&i.GkF(0)}function Lr(e,t){if(1&e&&(i.ynx(0),i.YNc(1,Fr,1,0,"ng-container",4),i.BQk()),2&e){i.oxw();var n=i.MAs(6);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function Zr(e,t){1&e&&i._UZ(0,"i",8)}function Ur(e,t){if(1&e&&(i.TgZ(0,"label",5),i.Hsn(1,1),i._UZ(2,"mrd-tooltip",6),i.YNc(3,Zr,1,0,"i",7),i.qZA()),2&e){var n=i.oxw();i.Q6J("ngClass",n._labelClasses),i.xp6(2),i.Q6J("tooltipValue",n.tooltipValue),i.xp6(1),i.Q6J("ngIf",!1===n.isFieldValid)}}var Br=[[["mrd-field-content"]],[["mrd-field-label"]]],Gr=["mrd-field-content","mrd-field-label"],Hr=function(){function e(){this.showLabelOnRight=!1}return Object.defineProperty(e.prototype,"_labelClasses",{get:function(){return this.joinClasses(this.labelClasses)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_inputClasses",{get:function(){return this.joinClasses(this.inputClasses)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_wrapperClasses",{get:function(){return this.joinClasses(this.wrapperClasses)},enumerable:!1,configurable:!0}),e.prototype.joinClasses=function(e){return e?" "+(null==e?void 0:e.join(" ")):""},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["mrd-labeled-input"]],inputs:{labelClasses:"labelClasses",inputClasses:"inputClasses",wrapperClasses:"wrapperClasses",tooltipValue:"tooltipValue",isFieldValid:"isFieldValid",showLabelOnRight:"showLabelOnRight"},ngContentSelectors:Gr,decls:7,vars:10,consts:[[1,"form-group","labeled-input",3,"ngClass"],[4,"ngIf"],[1,"b-form-input",3,"ngClass"],["label",""],[4,"ngTemplateOutlet"],[1,"col-form-label","labeled-input--label",3,"ngClass"],[3,"tooltipValue"],["class","b-icon triangle-exclamation",4,"ngIf"],[1,"b-icon","triangle-exclamation"]],template:function(e,t){1&e&&(i.F$t(Br),i.TgZ(0,"div",0),i.YNc(1,Nr,2,1,"ng-container",1),i.TgZ(2,"div",2),i.Hsn(3),i.qZA(),i.YNc(4,Lr,2,1,"ng-container",1),i.qZA(),i.YNc(5,Ur,4,3,"ng-template",null,3,i.W1O)),2&e&&(i.ekj("row",!t.showLabelOnRight)("d-flex",t.showLabelOnRight)("invalid",!1===t.isFieldValid),i.Q6J("ngClass",t._wrapperClasses),i.xp6(1),i.Q6J("ngIf",!t.showLabelOnRight),i.xp6(1),i.Q6J("ngClass",t._inputClasses),i.xp6(2),i.Q6J("ngIf",t.showLabelOnRight))},directives:[m.mk,m.O5,m.tP,Rr],styles:[".form-group.disabled[_ngcontent-%COMP%]   i.b-icon.triangle-exclamation[_ngcontent-%COMP%]{display:none}i.b-icon.triangle-exclamation[_ngcontent-%COMP%]{font-size:1em}"],changeDetection:0}),e}(),qr=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["mrd-field-content"],["mrd-field-label"]]}),e}(),jr=function(){function e(e,t){this.renderer=e,this.elementRef=t}return e.prototype.onInput=function(e){this.resize(e)},e.prototype.ngOnChanges=function(e){var t=this;(e.value||e.autosize)&&setTimeout(function(){t.resize(t.elementRef.nativeElement)}),this.autosize||(this.renderer.removeStyle(this.elementRef.nativeElement,"overflow"),this.renderer.removeStyle(this.elementRef.nativeElement,"height"))},e.prototype.resize=function(e){e.offsetHeight!==e.scrollHeight&&this.autosize&&(this.renderer.setStyle(e,"overflow","hidden"),this.renderer.setStyle(e,"height","auto"),this.renderer.setStyle(e,"height",e.scrollHeight+"px"))},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Qsj),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","ehrAutosize",""]],hostBindings:function(e,t){1&e&&i.NdJ("input",function(e){return t.onInput(e.target)})},inputs:{value:"value",autosize:"autosize"},features:[i.TTD]}),e}();function Yr(e,t){if(1&e&&(i._UZ(0,"mrd-validation-error-list",8),i.ALo(1,"async")),2&e){var n=i.oxw(2);i.Q6J("translatedValidationErrors",i.lcZ(1,1,n.errorMessages))}}var Jr=function(e){return{"is-invalid":e}};function zr(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"input",9),i.NdJ("ngModelChange",function(e){return i.CHM(n),i.oxw(2).onModelValue.next(e)})("blur",function(){return i.CHM(n),i.oxw(2).onBlur()}),i.ALo(1,"async"),i.qZA()}if(2&e){var r,o=i.oxw(2);i.Q6J("ngClass",i.VKq(9,Jr,!(null==(r=i.lcZ(1,7,o.errorMessages))||!r.length)))("title",o.valueFormControl.value)("formControl",o.valueFormControl)("readonly",o.isReadOnly)("tabindex",o.isReadOnly?-1:0)("placeholder",o.inputPlaceholder),i.uIk("disabled",o.disabled?o.disabled:null)}}var Qr=function(e,t){return{"is-invalid":e,"no-resize-icon":t}};function Wr(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"textarea",10),i.NdJ("ngModelChange",function(e){return i.CHM(n),i.oxw(2).onModelValue.next(e)})("blur",function(){return i.CHM(n),i.oxw(2).onBlur()}),i.ALo(1,"async"),i._uU(2,"    "),i.qZA()}if(2&e){var r,o=i.oxw(2);i.Q6J("value",o.modelValue)("ngClass",i.WLB(10,Qr,!(null==(r=i.lcZ(1,8,o.errorMessages))||!r.length),o.isReadOnly))("formControl",o.valueFormControl)("readonly",o.isReadOnly)("tabindex",o.isReadOnly?-1:0)("rows",o.textareaRowsNr?o.textareaRowsNr:1)("placeholder",o.inputPlaceholder)("autosize",!!o.autosize||null)}}function Kr(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",11),i.TgZ(1,"i",12),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).clearValue()}),i.qZA(),i.qZA()}}var Xr=function(e){return{"has-value":e}};function $r(e,t){if(1&e&&(i.TgZ(0,"div",2),i.YNc(1,Yr,2,3,"mrd-validation-error-list",3),i.ALo(2,"async"),i.TgZ(3,"div",4),i.YNc(4,zr,2,11,"input",5),i.YNc(5,Wr,3,13,"textarea",6),i.YNc(6,Kr,2,0,"div",7),i.qZA(),i.qZA()),2&e){var n,r=i.oxw();i.Q6J("ngClass",i.VKq(7,Xr,!!r.modelValue)),i.xp6(1),i.Q6J("ngIf",!r.isReadOnly&&!(null==(n=i.lcZ(2,5,r.errorMessages))||!n.length)),i.xp6(3),i.Q6J("ngIf",(!r.textareaRowsNr||r.textareaRowsNr<2)&&!0!==r.autosize),i.xp6(1),i.Q6J("ngIf",r.textareaRowsNr>1||!0===r.autosize),i.xp6(1),i.Q6J("ngIf",(null==r.valueFormControl?null:r.valueFormControl.value)&&!r.isReadOnly)}}function ei(e,t){if(1&e&&i._UZ(0,"ehr-presentation-value",13),2&e){var n=i.oxw();i.Q6J("value",n.valueFormControl.value)}}var ti=function(e){function t(t,n,r,i,o,a){var s=e.call(this,i,t,n,r,a)||this;return s.formState=i,s.validationResolver=o,s.modelStoreService=a,s}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){if(e.prototype.ngOnChanges.call(this,t),this.valueFormControl){if(t.hasOwnProperty("modelValue")&&this.valueFormControl.value!==t.modelValue.currentValue&&(this.valueFormControl.markAsDirty({onlySelf:!0}),this.valueFormControl.setValue(t.modelValue.currentValue)),t.hasOwnProperty("isRequired")){var n=t.isRequired&&t.isRequired.currentValue?sn.required():null;this.valueFormControl.setValidators(n),this.valueFormControl.updateValueAndValidity()}this.valueFormControl&&t.hasOwnProperty("disabled")&&this.disableControl(this.valueFormControl,!!t.disabled.currentValue)}},t.prototype.ngOnInit=function(){this.valueFormControl=new o.NI({value:this.modelValue,disabled:this.disabled},this.isRequired?[sn.required()]:null),this.errorMessages=this.validationResolver.getErrorMessage(this.valueFormControl),this.registerControl(this.controlName+"|"+this.multiIndex,this.valueFormControl),this.subscriptions.push(this.validationResolver.initializeValueChangeListener(this.valueFormControl))},t.prototype.clearValue=function(){this.valueFormControl.setValue("")},t.prototype.onBlur=function(){this.isReadOnly||this.valueFormControl.pristine&&this.formState.getFormContextValue().displayValidationMessagesOnTouched&&this.valueFormControl.updateValueAndValidity()},t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(o.sg),i.Y36(T.G),i.Y36(A.r),i.Y36(w.G))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mrd-text-input"]],inputs:{modelValue:"modelValue",textareaRowsNr:"textareaRowsNr",autosize:"autosize"},features:[i.qOj,i.TTD],decls:2,vars:2,consts:[[3,"ngClass",4,"ngIf"],[3,"value",4,"ngIf"],[3,"ngClass"],["class","form-control--error-message",3,"translatedValidationErrors",4,"ngIf"],[1,"input-group"],["type","text","class","form-control ",3,"ngClass","title","formControl","readonly","tabindex","placeholder","ngModelChange","blur",4,"ngIf"],["ehrAutosize","","class","form-control ",3,"value","ngClass","formControl","readonly","tabindex","rows","placeholder","autosize","ngModelChange","blur",4,"ngIf"],["class","clear-icon",4,"ngIf"],[1,"form-control--error-message",3,"translatedValidationErrors"],["type","text",1,"form-control",3,"ngClass","title","formControl","readonly","tabindex","placeholder","ngModelChange","blur"],["ehrAutosize","",1,"form-control",3,"value","ngClass","formControl","readonly","tabindex","rows","placeholder","autosize","ngModelChange","blur"],[1,"clear-icon"],[1,"b-icon","cancel",3,"click"],[3,"value"]],template:function(e,t){1&e&&(i.YNc(0,$r,7,9,"div",0),i.YNc(1,ei,1,1,"ehr-presentation-value",1)),2&e&&(i.Q6J("ngIf",!t.presentationMode),i.xp6(1),i.Q6J("ngIf",t.presentationMode))},directives:[m.O5,m.mk,fn,o.Fj,o.JJ,o.oH,jr,pn],pipes:[m.Ov],styles:[".no-resize-icon[_ngcontent-%COMP%]{resize:none}"],changeDetection:0}),t}(dn),ni=function(){function e(e){this.ehrFormState=e}return e.prototype.transform=function(e){if(this.ehrFormState.isPresentationModeEnabled())return"col-"+v.D.PRESENTATION_ELEMENT_COLUMN_WIDTH;var t=e!==C.rLC.INHERIT?v.D.sizeToNumber(e):v.D.ELEMENT_DEFAULT_GRID_COLUMNS;return v.D.getColumnClasses(t)},e.\u0275fac=function(t){return new(t||e)(i.Y36(T.G,16))},e.\u0275pipe=i.Yjl({name:"elementClasses",type:e,pure:!0}),e}(),ri=function(){function e(e){this.ehrFormState=e}return e.prototype.transform=function(e){var t,n,r,i;if(null===(t=this.ehrFormState.getFormContextValue())||void 0===t?void 0:t.presentationMode)return[v.D.getColumnClasses(v.D.PRESENTATION_LABEL_COLUMN_WIDTH),v.D.LABEL_HORIZONTAL_CLASS_MAP.get(C.htc.LEFT)];var o=[],a=null!==(n=e.getLabelPosition(!0))&&void 0!==n?n:C.htc.TOP,s=a===C.htc.RIGHT?"":v.D.LABEL_HORIZONTAL_CLASS_MAP.get(a),l=a!==C.htc.TOP?v.D.getLabelColumns(e):v.D.TOTAL_GRID_COLUMNS;if((null===(i=null===(r=e.getLayout())||void 0===r?void 0:r.label)||void 0===i?void 0:i.align)===C.htc.RIGHT)return[s];o.push(v.D.getColumnClasses(l)),o.push(s);var u=e.getLabel();return u&&u.isHidden()&&(o.push("d-none"),o.push("col-md-0")),o},e.\u0275fac=function(t){return new(t||e)(i.Y36(T.G,16))},e.\u0275pipe=i.Yjl({name:"labelClasses",type:e,pure:!0}),e}(),ii=function(){function e(e){this.ehrFormState=e}return e.prototype.transform=function(e){var t,n,r;if(null===(t=this.ehrFormState.getFormContextValue())||void 0===t?void 0:t.presentationMode)return[v.D.getColumnClasses(v.D.PRESENTATION_INPUT_WRAPPER_COLUMN_WIDTH)];var i=[],o=e.getLabel();if(null==o?void 0:o.isHidden())i.push("col-12");else if((null===(r=null===(n=e.getLayout())||void 0===n?void 0:n.label)||void 0===r?void 0:r.align)!==C.htc.RIGHT){var a=e.getLabelPosition(!0)!==C.htc.TOP?v.D.getLabelColumns(e):v.D.TOTAL_GRID_COLUMNS,s=this.getRemainingCols(a);i.push(v.D.getColumnClasses(s))}return i},e.prototype.getRemainingCols=function(e){return e>-1&&e<12?v.D.TOTAL_GRID_COLUMNS-e:v.D.TOTAL_GRID_COLUMNS},e.\u0275fac=function(t){return new(t||e)(i.Y36(T.G,16))},e.\u0275pipe=i.Yjl({name:"inputWrapperClasses",type:e,pure:!0}),e}(),oi=function(){function e(e){this.ehrFormState=e}return e.prototype.transform=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=[];return this.ehrFormState.getFormContextValue().presentationMode?["presentation-mode"]:(n||r.push("no-value"),t&&r.push("disabled"),r.push(this.getFieldTypeClass(e)),r)},e.prototype.getFieldTypeClass=function(e){return e.toString().toLowerCase().replace("dv_","type-").replace("generic_","type-").replace("_","-")},e.\u0275fac=function(t){return new(t||e)(i.Y36(T.G,16))},e.\u0275pipe=i.Yjl({name:"wrapperClasses",type:e,pure:!0}),e}(),ai=function(){function e(){}return e.prototype.transform=function(e){return[v.D.getColumnClasses(v.D.TOTAL_GRID_COLUMNS)]},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Yjl({name:"inputClasses",type:e,pure:!0}),e}();function si(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",6),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function li(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-text-input",8),i.NdJ("onModelValue",function(e){var t=i.CHM(n).index;return i.oxw(3).updateModel(e,t)})("addMultiInput",function(){return i.CHM(n),i.oxw(3).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(3).onRemoveMultiInput(e)}),i.qZA()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(3);i.Q6J("multiIndex",o)("modelValue",r)("controlName",a.controlName)("formId",a.model.formId)("isRequired",a.model.isRequired())("isReadOnly",a.isReadOnlyValue)("inputPlaceholder",a.ehrInputPlaceholder)("textareaRowsNr",a.textValueLines())("autosize",a.isAutosize)}}function ui(e,t){if(1&e&&(i.ynx(0),i.YNc(1,li,1,9,"mrd-text-input",7),i.ALo(2,"async"),i.BQk()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,2,n.modelValues$))("ngForTrackBy",n.trackByIndex)}}function ci(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-codedtext-input",10),i.NdJ("onModelValue",function(e){return i.CHM(n),i.oxw(3).updateCodedTextModel(e)})("onClearValue",function(){return i.CHM(n),i.oxw(3).clearAllValues()}),i.ALo(1,"async"),i.qZA()}if(2&e){var r=i.oxw(3);i.Q6J("modelValue",i.lcZ(1,18,r.modelValues$))("modelValueObservable",r.modelValueObservable)("terminology",r.terminology)("dataSource",r.datasource)("listOpen",r.model.allowValuesNotDefinedOnInputItems())("isReadOnly",r.isReadOnlyValue)("codedTextPresentation",r.codedTextPresentation)("buttonGroupColumnLayout",!!r.buttonGroupColumnLayout)("radioCheckboxColumns",r.radioCheckboxColumns)("minItems",r.minItems)("maxItems",r.maxItems)("controlName",r.controlName)("formId",r.model.formId)("inputPlaceholder",r.ehrInputPlaceholder)("selectInputLabelOnTop",r.selectInputLabelOnTop)("selectInputLabelHide",r.selectInputLabelHide)("showCode",r.showCode)("imageConfig",r.imageConfig)}}function di(e,t){if(1&e&&(i.ynx(0),i.YNc(1,ci,2,20,"mrd-codedtext-input",9),i.ALo(2,"async"),i.BQk()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,n.modelValues$))}}function hi(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,si,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,ui,3,4,"ng-container",3),i.YNc(12,di,3,3,"ng-container",3),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.ekj("no-borders",r.codedTextPresentation&&r.codedTextPresentation!==r.FieldPresentation.COMBOBOX),i.Q6J("ngClass",i.lcZ(1,14,r.elementSize))("disableClickToFocus",r.codedTextPresentation&&r.codedTextPresentation!==r.FieldPresentation.COMBOBOX),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,16,r.model.getViewConfig()))("inputClasses",i.lcZ(4,18,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,20,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,24,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngIf",r.isRegularText()),i.xp6(1),i.Q6J("ngIf",!r.isRegularText())}}var fi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TEXTFIELD_FIELD_TYPE="TEXTFIELD_FIELD_TYPE",t.TEXTAREA_FIELD_TYPE="TEXTAREA_FIELD_TYPE",t.minItemsForComboPresentation=0,t.FieldPresentation=C.umi,t.isValueSetLoaded=new D.X(!1),t.CLEAR_VALUE_LABEL="Clear",t}return(0,lt.ZT)(t,e),Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"textValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.ngOnChanges=function(t){if(this.translateService||(this.translateService=this.injector.get(x.sK)),this.externalApiService||(this.externalApiService=this.injector.get(Sr.F)),this.datasourceService||(this.datasourceService=this.injector.get(Vr.U)),this.terminologyService||(this.terminologyService=this.injector.get(cn.a)),e.prototype.ngOnChanges.call(this,t),t.hasOwnProperty("model")){var n=t.model.currentValue,r=n.getViewConfig();if(this.selectInputLabelOnTop=r.hasTag("inputLabelOnTop"),this.selectInputLabelHide=r.hasTag("inputLabelHide"),this.hideOther=r.hasTag("hideOther"),this.showCode=r.hasTag("showCode"),this.imageConfig=r.getFirstImage(),this.minItems=n.getMin(),this.maxItems=n.getMax(),!this.ehrFormState.getFormContextValue())return;if(this.fieldType=this.isTextArea()?this.TEXTAREA_FIELD_TYPE:this.TEXTFIELD_FIELD_TYPE,!this.isRegularText()){var i=r.getFields("code");i?(this.radioCheckboxColumns=this.isCombo(n,i,2)?0:i.columns,this.codedTextPresentation=i.getPresentation(),this.buttonGroupColumnLayout=i.getButtonGroupColumnLayout()):(this.radioCheckboxColumns=null,this.codedTextPresentation=null,this.buttonGroupColumnLayout=null)}this.shouldLoadFromDatasource()?(this.updateTerminologyValues(),this.updateDatasourceValues()):this.isValueSetLoaded.next(!0),this.updateModelValuesObservable()}},t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.CLEAR_VALUE_LABEL=this.translateService.instant("clearValue"),this.minItemsForComboPresentation=this.ehrFormState.getFormContextValue().dropdownPresentationMinItems;var t=this.model.getInputs(),n=t.length&&t[0].list;!this.isRegularText()&&n&&t[0].list.length<this.minItemsForComboPresentation&&(this.codedTextPresentation=1===this.model.getMax()?C.umi.RADIOS:C.umi.CHECKBOX)},t.prototype.getTerminologyCodeFromInput=function(e){var t;return e.getInputFor("code")&&(null===(t=e.getInputFor("code"))||void 0===t?void 0:t.getTerminology())},t.prototype.updateTerminologyValues=function(){var e=this;this.terminologySub&&this.terminologySub.unsubscribe(),this.terminologySub=this.ehrModelObservable.fromEvent(this.model,C.X4$.TERMINOLOGY_CHANGE,this.model.getViewConfig().datasource).subscribe(function(t){e.hasTerminology()&&(t&&t.loadRemote?e.terminology={loadRemote:t.loadRemote,url:t.loadRemoteUrl,parameters:t.parameters}:e.getTerminologyCodeFromInput(e.model)&&(e.terminology={loadRemote:!0,url:e.getTerminologyCodeFromInput(e.model),parameters:t&&t.parameters?t.parameters:{}}))})},t.prototype.getModelValuesObs=function(t){var n=this;if(this.isRegularText())return e.prototype.getModelValuesObs.call(this,t);var r=this.ehrModelObservable.fromEvent(this.model,C.X4$.INPUT_ITEMS_UPDATED,this.model.getModelValueDataset()).pipe((0,E.U)(function(e){e instanceof C.IIB&&(e=e.list);var t=n.model.viewConfig.field;return e.filter(function(e){return!(t&&t[e.value]&&!0===t[e.value].hidden)})}));return(0,y.a)([this.getModelObservableValues(t),r,this.ehrFormState.getFormContext(),this.isValueSetLoaded]).pipe((0,E.U)(function(e){var t,r=(0,lt.CR)(e,3),i=r[0],o=r[1],a=r[2];if(o&&o.length)t=o;else{var s=n.getInput(n.model);t=s?s.getInputItemList():[]}var l=t.map(function(e){return{value:n.terminology?e.label:e.value,label:e.getLabel(null==a?void 0:a.language,!0),inputItemElement:!0,selected:i.some(function(t){return e.label===t})}});return i.forEach(function(e){if(null!=e&&!l.some(function(t){return t.value===e})){var t=n.isInputItem({value:e,label:e,valueAndLabel:e,inputItemElement:null});l.push({value:t?e:Ir.OTHER_MODEL_VALUE,label:e,inputItemElement:t,selected:!0})}}),l}))},t.prototype.isTextArea=function(){var e;return!(!this.field()||!C.G1o.isObject(this.field())||(null===(e=this.field())||void 0===e?void 0:e.getPresentation())!==C.umi.TEXTAREA)},t.prototype.field=function(){return this.model?this.model.getViewConfig().getFields():null},t.prototype.isRegularText=function(){return!(this.model&&this.model instanceof ht.A)||this.model.isRegularText()},t.prototype.hasTerminology=function(){return this.model instanceof ht.A&&this.model.hasTerminology()},t.prototype.textValueLines=function(){var e=this.model.getViewConfig().getFields();return e&&e.lines?e.lines:1},t.prototype.onRemoveMultiInput=function(t){e.prototype.onRemoveMultiInput.call(this,null);var n=void 0!==t.index?t.index:t;this.updateModel(null,null!=n?n:0)},t.prototype.updateCodedTextModel=function(e){var t,n=this;if(1===this.maxItems)this.updateModel(e.selected?e.value===Ir.OTHER_MODEL_VALUE?e.label:e.value:null,0);else if(e.selected){var r=this.model.getValue().length;if(e.value===Ir.OTHER_MODEL_VALUE){if(this.terminology||(null===(t=this.model.getDataSource())||void 0===t?void 0:t.isValid()))return void this.modelValueObservable.pipe((0,p.q)(1)).subscribe(function(t){var i=n.model.getValue("|value").findIndex(function(e){return!t.some(function(t){return t.value===e||t.label===e})});n.updateModel(e.label,i>=0?i:r)});(i=this.findOtherValueIndex(this.model.getValue("|value")))>=0&&(r=i)}this.updateModel(e.label,r)}else if(e.value===Ir.OTHER_MODEL_VALUE){var i=this.model.getValue("|value").indexOf(e.label);this.updateModel(null,i)}else{var o=this.model.getValue("|value").indexOf(e.value),a=this.model.getValue("|value").indexOf(e.label);this.updateModel(null,a>-1?a:o)}},t.prototype.findOtherValueIndex=function(e){for(var t=this.getInput(this.model),n=(t?t.getInputItemList():[]).map(function(e){return e.value}),r=0;r<e.length;r++)if(-1===n.indexOf(e[r]))return r;return-1},t.prototype.clearAllValues=function(){this.model.clearValue()},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this.terminologySub&&this.terminologySub.unsubscribe(),this.datasourceSub&&this.datasourceSub.unsubscribe(),this.modelValuesSub&&this.modelValuesSub.unsubscribe()},t.prototype.getInput=function(e){return e?e.getInputFor("textValues"):null},t.prototype.presentation=function(e){if(e&&C.G1o.isObject(e)){var t=e.getPresentation();return null!=t&&null!=C.umi[t]?t:C.umi.TEXTFIELD}return C.umi.TEXTFIELD},t.prototype.isCombo=function(e,t,n){var r;return this.presentation(t)===C.umi.COMBOBOX&&(!e.getInputFor("code")||!(null===(r=e.getInputFor("code"))||void 0===r?void 0:r.terminology))||this.presentation(t)===C.umi.TEXTFIELD&&n>0},t.prototype.updateDatasourceValues=function(){var e,t=this;this.shouldLoadFromDatasource()&&(this.datasourceSub&&this.datasourceSub.unsubscribe(),(null===(e=this.model.datasource)||void 0===e?void 0:e.isValid())?this.datasourceSub=(0,y.a)([this.ehrModelObservable.fromEvent(this.model,C.X4$.DATASOURCE_CHANGE,this.model.datasource),this.ehrFormState.getFormContext()]).pipe((0,f.w)(function(e){var n=(0,lt.CR)(e,2);return t.datasource=n[0],t.modelValues$}),(0,f.w)(function(e){var n=e.filter(function(e){return!!e.label}).map(function(e){return{label:e.label,value:e.value,valueAndLabel:e.valueAndLabel,inputItemElement:e.inputItemElement,selected:e.selected}});return t.getValueSet(n).pipe((0,p.q)(1))})).subscribe(function(e){var n;(null===(n=t.model.getDataSource())||void 0===n?void 0:n.isValid())&&(t.modelValueObservable=(0,l.of)(e),t.changeDetectorRef.markForCheck())}):this.datasource=this.model.datasource)},t.prototype.updateModelValuesObservable=function(){var e;!this.model.isListOpen||this.model.isListOpen()?(null===(e=this.datasource)||void 0===e?void 0:e.isValid())||(this.terminology?this.fetchAndUpdateTerminologyList(""):this.modelValues$&&(this.modelValueObservable=this.modelValues$)):this.modelValueObservable=this.modelValues$},t.prototype.fetchAndUpdateTerminologyList=function(e){var t,n=this;this.terminology&&!(null===(t=this.datasource)||void 0===t?void 0:t.isValid())&&(this.modelValuesSub&&this.modelValuesSub.unsubscribe(),this.modelValuesSub=this.modelValues$.pipe((0,f.w)(function(t){return n.terminologyService.getTerminologyDataset(n.terminology,e,t)})).subscribe(function(e){n.modelValueObservable=(0,l.of)(e)}))},t.prototype.getValueSet=function(e){var t=this;return void 0===e&&(e=[]),(0,Mr.Dp)(this.datasourceService.getDataSource(this.datasource,this.model)).pipe((0,E.U)(function(t){return(null==t?void 0:t.map(function(t){return Ar.Y.mapFromTextToCodedTextModelValue(t,e)}))||[]}),(0,k.b)(function(e){return t.valueSet=e}),(0,k.b)(function(e){t.isValueSetLoaded.getValue()||t.isValueSetLoaded.next(!0)}))},t.prototype.shouldLoadFromDatasource=function(){var e,t,n,r,i=this.model.isListOpen&&this.model.isListOpen(),o=!!(null===(n=null===(t=null===(e=this.model.getInputs())||void 0===e?void 0:e[0])||void 0===t?void 0:t.list)||void 0===n?void 0:n.length);return i||!(o||!(null===(r=this.model.getDataSource())||void 0===r?void 0:r.isValid()))},t.prototype.isInputItem=function(e){var t,n,r,i,o=null===(n=null===(t=this.model.getInputs())||void 0===t?void 0:t[0])||void 0===n?void 0:n.list,a=(null==o?void 0:o.length)?null===(i=null===(r=this.model.getInputs())||void 0===r?void 0:r[0])||void 0===i?void 0:i.list:this.valueSet;return!(null==a?void 0:a.length)||a.some(function(t){return t.value===e.value||t.label===e.label})},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-text"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-field ehr-text","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"no-borders","ngClass","disableClickToFocus","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-text",3,"ngClass","disableClickToFocus","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"model"],[3,"multiIndex","modelValue","controlName","formId","isRequired","isReadOnly","inputPlaceholder","textareaRowsNr","autosize","onModelValue","addMultiInput","removeMultiInput",4,"ngFor","ngForOf","ngForTrackBy"],[3,"multiIndex","modelValue","controlName","formId","isRequired","isReadOnly","inputPlaceholder","textareaRowsNr","autosize","onModelValue","addMultiInput","removeMultiInput"],[3,"modelValue","modelValueObservable","terminology","dataSource","listOpen","isReadOnly","codedTextPresentation","buttonGroupColumnLayout","radioCheckboxColumns","minItems","maxItems","controlName","formId","inputPlaceholder","selectInputLabelOnTop","selectInputLabelHide","showCode","imageConfig","onModelValue","onClearValue",4,"ngIf"],[3,"modelValue","modelValueObservable","terminology","dataSource","listOpen","isReadOnly","codedTextPresentation","buttonGroupColumnLayout","radioCheckboxColumns","minItems","maxItems","controlName","formId","inputPlaceholder","selectInputLabelOnTop","selectInputLabelHide","showCode","imageConfig","onModelValue","onClearValue"]],template:function(e,t){1&e&&i.YNc(0,hi,13,26,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,V,m.sg,ti,Ir],pipes:[ni,ri,ii,oi,ai,m.Ov],styles:[""],changeDetection:0}),t}(dt);function pi(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",6),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function mi(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-text-input",8),i.NdJ("onModelValue",function(e){var t=i.CHM(n).index;return i.oxw(3).updateModel(e,t)})("addMultiInput",function(){return i.CHM(n),i.oxw(3).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(3).onRemoveMultiInput(e)}),i.qZA()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(3);i.Q6J("multiIndex",o)("modelValue",r)("controlName",a.controlName)("formId",a.model.formId)("isRequired",a.model.isRequired())("isReadOnly",a.isReadOnlyValue)("inputPlaceholder",a.ehrInputPlaceholder)("textareaRowsNr",a.textValueLines())("autosize",a.isAutosize)}}function vi(e,t){if(1&e&&(i.ynx(0),i.YNc(1,mi,1,9,"mrd-text-input",7),i.ALo(2,"async"),i.BQk()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,2,n.modelValues$))("ngForTrackBy",n.trackByIndex)}}function gi(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-codedtext-input",10),i.NdJ("onModelValue",function(e){return i.CHM(n),i.oxw(3).updateCodedTextModel(e)})("onClearValue",function(){return i.CHM(n),i.oxw(3).clearAllValues()}),i.ALo(1,"async"),i.qZA()}if(2&e){var r=i.oxw(3);i.Q6J("modelValue",i.lcZ(1,18,r.modelValues$))("modelValueObservable",r.modelValueObservable)("terminology",r.terminology)("dataSource",r.datasource)("listOpen",r.model.allowValuesNotDefinedOnInputItems())("isReadOnly",r.isReadOnlyValue)("codedTextPresentation",r.codedTextPresentation)("buttonGroupColumnLayout",!!r.buttonGroupColumnLayout)("radioCheckboxColumns",r.radioCheckboxColumns)("minItems",r.minItems)("maxItems",r.maxItems)("controlName",r.controlName)("formId",r.model.formId)("inputPlaceholder",r.ehrInputPlaceholder)("selectInputLabelOnTop",r.selectInputLabelOnTop)("selectInputLabelHide",r.selectInputLabelHide)("showCode",r.showCode)("imageConfig",r.imageConfig)}}function yi(e,t){if(1&e&&(i.ynx(0),i.YNc(1,gi,2,20,"mrd-codedtext-input",9),i.ALo(2,"async"),i.BQk()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,n.modelValues$))}}function bi(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,pi,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,vi,3,4,"ng-container",3),i.YNc(12,yi,3,3,"ng-container",3),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.ekj("no-borders",r.codedTextPresentation&&r.codedTextPresentation!==r.FieldPresentation.COMBOBOX),i.Q6J("ngClass",i.lcZ(1,14,r.elementSize))("disableClickToFocus",r.codedTextPresentation&&r.codedTextPresentation!==r.FieldPresentation.COMBOBOX),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,16,r.model.getViewConfig()))("inputClasses",i.lcZ(4,18,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,20,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,24,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngIf",r.isRegularText()),i.xp6(1),i.Q6J("ngIf",!r.isRegularText())}}var _i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,lt.ZT)(t,e),Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"uriValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return""},enumerable:!1,configurable:!0}),t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-uri"]],inputs:{model:"model"},features:[i.qOj],decls:1,vars:1,consts:[["class","ehr-field ehr-text","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"no-borders","ngClass","disableClickToFocus","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-text",3,"ngClass","disableClickToFocus","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"model"],[3,"multiIndex","modelValue","controlName","formId","isRequired","isReadOnly","inputPlaceholder","textareaRowsNr","autosize","onModelValue","addMultiInput","removeMultiInput",4,"ngFor","ngForOf","ngForTrackBy"],[3,"multiIndex","modelValue","controlName","formId","isRequired","isReadOnly","inputPlaceholder","textareaRowsNr","autosize","onModelValue","addMultiInput","removeMultiInput"],[3,"modelValue","modelValueObservable","terminology","dataSource","listOpen","isReadOnly","codedTextPresentation","buttonGroupColumnLayout","radioCheckboxColumns","minItems","maxItems","controlName","formId","inputPlaceholder","selectInputLabelOnTop","selectInputLabelHide","showCode","imageConfig","onModelValue","onClearValue",4,"ngIf"],[3,"modelValue","modelValueObservable","terminology","dataSource","listOpen","isReadOnly","codedTextPresentation","buttonGroupColumnLayout","radioCheckboxColumns","minItems","maxItems","controlName","formId","inputPlaceholder","selectInputLabelOnTop","selectInputLabelHide","showCode","imageConfig","onModelValue","onClearValue"]],template:function(e,t){1&e&&i.YNc(0,bi,13,26,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,V,m.sg,ti,Ir],pipes:[ni,ri,ii,oi,ai,m.Ov],encapsulation:2,changeDetection:0}),t}(fi);function Ci(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",6),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function Ei(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-text-input",8),i.NdJ("onModelValue",function(e){var t=i.CHM(n).index;return i.oxw(3).updateModel(e,t)})("addMultiInput",function(){return i.CHM(n),i.oxw(3).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(3).onRemoveMultiInput(e)}),i.qZA()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(3);i.Q6J("multiIndex",o)("modelValue",r)("controlName",a.controlName)("formId",a.model.formId)("isRequired",a.model.isRequired())("isReadOnly",a.isReadOnlyValue)("inputPlaceholder",a.ehrInputPlaceholder)("textareaRowsNr",a.textValueLines())("autosize",a.isAutosize)}}function Ti(e,t){if(1&e&&(i.ynx(0),i.YNc(1,Ei,1,9,"mrd-text-input",7),i.ALo(2,"async"),i.BQk()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,2,n.modelValues$))("ngForTrackBy",n.trackByIndex)}}function wi(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-codedtext-input",10),i.NdJ("onModelValue",function(e){return i.CHM(n),i.oxw(3).updateCodedTextModel(e)})("onClearValue",function(){return i.CHM(n),i.oxw(3).clearAllValues()}),i.ALo(1,"async"),i.qZA()}if(2&e){var r=i.oxw(3);i.Q6J("modelValue",i.lcZ(1,18,r.modelValues$))("modelValueObservable",r.modelValueObservable)("terminology",r.terminology)("dataSource",r.datasource)("listOpen",r.model.allowValuesNotDefinedOnInputItems())("isReadOnly",r.isReadOnlyValue)("codedTextPresentation",r.codedTextPresentation)("buttonGroupColumnLayout",!!r.buttonGroupColumnLayout)("radioCheckboxColumns",r.radioCheckboxColumns)("minItems",r.minItems)("maxItems",r.maxItems)("controlName",r.controlName)("formId",r.model.formId)("inputPlaceholder",r.ehrInputPlaceholder)("selectInputLabelOnTop",r.selectInputLabelOnTop)("selectInputLabelHide",r.selectInputLabelHide)("showCode",r.showCode)("imageConfig",r.imageConfig)}}function Oi(e,t){if(1&e&&(i.ynx(0),i.YNc(1,wi,2,20,"mrd-codedtext-input",9),i.ALo(2,"async"),i.BQk()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,n.modelValues$))}}function xi(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,Ci,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,Ti,3,4,"ng-container",3),i.YNc(12,Oi,3,3,"ng-container",3),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.ekj("no-borders",r.codedTextPresentation&&r.codedTextPresentation!==r.FieldPresentation.COMBOBOX),i.Q6J("ngClass",i.lcZ(1,14,r.elementSize))("disableClickToFocus",r.codedTextPresentation&&r.codedTextPresentation!==r.FieldPresentation.COMBOBOX),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,16,r.model.getViewConfig()))("inputClasses",i.lcZ(4,18,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,20,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,24,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngIf",r.isRegularText()),i.xp6(1),i.Q6J("ngIf",!r.isRegularText())}}var Ii=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,lt.ZT)(t,e),Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"ehrUriValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return""},enumerable:!1,configurable:!0}),t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-ehr-uri"]],inputs:{model:"model"},features:[i.qOj],decls:1,vars:1,consts:[["class","ehr-field ehr-text","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"no-borders","ngClass","disableClickToFocus","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-text",3,"ngClass","disableClickToFocus","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"model"],[3,"multiIndex","modelValue","controlName","formId","isRequired","isReadOnly","inputPlaceholder","textareaRowsNr","autosize","onModelValue","addMultiInput","removeMultiInput",4,"ngFor","ngForOf","ngForTrackBy"],[3,"multiIndex","modelValue","controlName","formId","isRequired","isReadOnly","inputPlaceholder","textareaRowsNr","autosize","onModelValue","addMultiInput","removeMultiInput"],[3,"modelValue","modelValueObservable","terminology","dataSource","listOpen","isReadOnly","codedTextPresentation","buttonGroupColumnLayout","radioCheckboxColumns","minItems","maxItems","controlName","formId","inputPlaceholder","selectInputLabelOnTop","selectInputLabelHide","showCode","imageConfig","onModelValue","onClearValue",4,"ngIf"],[3,"modelValue","modelValueObservable","terminology","dataSource","listOpen","isReadOnly","codedTextPresentation","buttonGroupColumnLayout","radioCheckboxColumns","minItems","maxItems","controlName","formId","inputPlaceholder","selectInputLabelOnTop","selectInputLabelHide","showCode","imageConfig","onModelValue","onClearValue"]],template:function(e,t){1&e&&i.YNc(0,xi,13,26,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,V,m.sg,ti,Ir],pipes:[ni,ri,ii,oi,ai,m.Ov],encapsulation:2,changeDetection:0}),t}(fi),Mi=(n(81180),{provide:o.JU,useExisting:(0,i.Gpc)(function(){return Si}),multi:!0}),Si=function(){function e(e,t,n){var r=this;this._renderer=e,this._elementRef=t,this.document=n,this.decimalPrecision=2,this.onTouched=function(e){},this.onInputChange=function(e){var t=e.target.value;r.updateControlValueFn&&(t=r.toOneMinusSign(t),t=r.toOneNumericComma(t),t=r.trimExtraDecimalPlaces(t),r.writeValue(t),r.setSelectionStart(),r.updateControlValueFn(t))}}return e.prototype.onKeyDown=function(e){var t=e.key;return!t||!this.isKeyBanned(t,e)||(e.preventDefault(),e.returnValue=!1,e.cancelBubble=!0,!1)},e.prototype.ngOnChanges=function(e){if(e.hasOwnProperty("mrdDecimalPrecision")){var t=parseInt(e.mrdDecimalPrecision.currentValue,10);!isNaN(t)&&t>-1&&(this.decimalPrecision=t)}},e.prototype.parseFloat=function(e){return e?parseFloat(e):void 0},e.prototype.writeValue=function(e){"string"==typeof e&&(e=this.toOneMinusSign(e),e=this.toOneNumericComma(e)),e=this.toDisplayValueString(e),this._renderer.setProperty(this._elementRef.nativeElement,"value",e)},e.prototype.registerOnChange=function(e){this.updateControlValueFn=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype.toDisplayValueString=function(e){var t=isNaN(e);return""!==e&&"-"!==e&&t&&(e=""),this.mrdDecimalPrecisionDisplayRoundZeros&&null!=e&&e.toString().length&&(e=this.toRoundPrecisionZerosDisplay(e.toString())),e},e.prototype.trimExtraDecimalPlaces=function(e){e.indexOf(",")>0&&(e=this.toOneNumericComma(e));var t=e.indexOf(".");return t>-1&&null!=this.decimalPrecision&&this.decimalPrecision>-1&&e.length-t-1>this.decimalPrecision&&(e=e.substring(0,t+1+this.decimalPrecision)),e},e.prototype.toOneNumericComma=function(e){var t=(e=e.replace(/,/g,".")).lastIndexOf(".");if(t>-1){var n=e.substring(0,t);e=n.replace(/\./g,"")+e.substring(t)}return e},e.prototype.toOneMinusSign=function(e){var t=e?e.lastIndexOf("-"):null;if(t&&t>0){var n=0===e.trim().indexOf("-");e=e.replace(/-/g,""),n&&(e="-"+e)}return e},e.prototype.toRoundPrecisionZerosDisplay=function(e){return this.decimalPrecision>0&&e.length?(e=e.replace(".","."),Number.parseFloat(e).toFixed(this.decimalPrecision).replace(".",".")):e},e.prototype.getSelectionStart=function(){var e=this._elementRef.nativeElement;if("selectionStart"in e)return e.selectionStart;if(this.document.selection){e.focus();var t=this.document.selection.createRange(),n=this.document.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-n}},e.prototype.setSelectionStart=function(e){void 0===e&&(e=this.getSelectionStart());var t=this._elementRef.nativeElement;"selectionStart"in t&&t.setSelectionRange(e,e)},e.prototype.characterInValue=function(e){return this._elementRef.nativeElement.value.indexOf(e)>-1},e.prototype.isKeyBanned=function(e,t){return e.search(/^[0-9]*$/)<0&&"Tab"!==e&&"Enter"!==e&&"Backspace"!==e&&"Delete"!==e&&"Home"!==e&&"End"!==e&&(","!==e||this.characterInValue(",")||this.characterInValue(".")||","===e&&0===this.getSelectionStart()||","===e&&this.decimalPrecision<1)&&("."!==e||this.characterInValue(".")||this.characterInValue(",")||"."===e&&0===this.getSelectionStart()||"."===e&&this.decimalPrecision<1)&&"Arrow"!==e.substr(0,5)&&1==!t.ctrlKey&&("-"!==e||"-"===e&&0!==this.getSelectionStart()||"-"===e&&!!this.mrdPositiveNumberOnly)},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(m.K0))},e.\u0275dir=i.lG2({type:e,selectors:[["","mrdNumericValueAccessor",""]],hostBindings:function(e,t){1&e&&i.NdJ("blur",function(e){return t.onTouched(e)})("keydown",function(e){return t.onKeyDown(e)})("input",function(e){return t.onInputChange(e)})},inputs:{mrdDecimalPrecision:"mrdDecimalPrecision",mrdDecimalPrecisionDisplayRoundZeros:"mrdDecimalPrecisionDisplayRoundZeros",mrdPositiveNumberOnly:"mrdPositiveNumberOnly"},features:[i._Bn([Mi]),i.TTD]}),e}();function Vi(e,t){if(1&e&&(i._UZ(0,"mrd-validation-error-list",3),i.ALo(1,"async")),2&e){var n=i.oxw();i.Q6J("translatedValidationErrors",i.lcZ(1,1,n.errorMessages))}}function Ai(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",7),i.TgZ(1,"i",8),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).clearValue()}),i.qZA(),i.qZA()}}var Di=function(e){return{"is-invalid":e}};function ki(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",4),i.TgZ(1,"input",5),i.NdJ("ngModelChange",function(e){return i.CHM(n),i.oxw().onModelValue.next(e)})("keyup.arrowup",function(){return i.CHM(n),i.oxw().increase()})("keyup.arrowdown",function(){return i.CHM(n),i.oxw().decrease()})("blur",function(e){return i.CHM(n),i.oxw().onBlur(e)}),i.ALo(2,"async"),i.qZA(),i.YNc(3,Ai,2,0,"div",6),i.qZA()}if(2&e){var r,o=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(9,Di,!(null==(r=i.lcZ(2,7,o.errorMessages))||!r.length)))("formControl",o.valueFormControl)("readonly",o.isReadOnly)("tabindex",o.isReadOnly?-1:0)("placeholder",o.inputPlaceholder)("mrdDecimalPrecision",o.modelValue.precision),i.xp6(2),i.Q6J("ngIf",(null==o.valueFormControl?null:o.valueFormControl.value)&&!o.isReadOnly)}}function Ri(e,t){if(1&e&&i._UZ(0,"ehr-presentation-value",9),2&e){var n=i.oxw();i.Q6J("value",null==n.valueFormControl?null:n.valueFormControl.value)}}var Pi=function(e){function t(t,n,r,i,o,a){var s=e.call(this,i,t,n,r,a)||this;return s.formState=i,s.validationResolver=o,s.modelStoreService=a,s.step=1,s}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){e.prototype.ngOnChanges.call(this,t),this.valueFormControl&&(t.hasOwnProperty("isRequired")||this.hasValidationChanged(t))&&(this.valueFormControl.setValidators(this.getValidators()),this.valueFormControl.updateValueAndValidity()),this.valueFormControl&&t.hasOwnProperty("modelValue")&&(C.lMr.isNumber(t.modelValue.currentValue.value)||C.lMr.isNumber(this.valueFormControl.value))&&t.modelValue.currentValue.value!==this.valueFormControl.value&&(this.valueFormControl.markAsDirty({onlySelf:!0}),this.valueFormControl.setValue(t.modelValue.currentValue.value)),this.valueFormControl&&t.hasOwnProperty("disabled")&&this.disableControl(this.valueFormControl,!!t.disabled.currentValue)},t.prototype.ngOnInit=function(){this.valueFormControl=new o.NI({value:this.modelValue.value,disabled:this.disabled},this.getValidators()),this.registerControl(this.controlName+"|"+this.multiIndex,this.valueFormControl),this.subscriptions.push(this.validationResolver.initializeValueChangeListener(this.valueFormControl)),this.errorMessages=this.validationResolver.getErrorMessage(this.valueFormControl)},t.prototype.getValidators=function(){var e=this.modelValue.precision;if(this.isRequired||this.modelValue.range&&(this.modelValue.range.min||this.modelValue.range.max||-1!==e)){var t=[];return e&&e>-1&&t.push(sn.maxDecimalPlaces(e)),this.isRequired&&t.push(sn.numericRequired()),this.modelValue.range&&C.G1o.isNumber(this.modelValue.range.min)&&t.push(sn.minMaxValue(this.modelValue.range.minOp,this.modelValue.range.min)),this.modelValue.range&&C.G1o.isNumber(this.modelValue.range.max)&&t.push(sn.minMaxValue(this.modelValue.range.maxOp,this.modelValue.range.max)),t}return null},t.prototype.increase=function(){var e;isNaN(parseFloat(this.valueFormControl.value))?this.valueFormControl.setValue(null!=(null===(e=this.modelValue.range)||void 0===e?void 0:e.min)?this.modelValue.range.min:0):this.valueFormControl.setValue(parseFloat((this.valueFormControl.value+this.step).toFixed(0)))},t.prototype.decrease=function(){var e;isNaN(parseFloat(this.valueFormControl.value))?this.valueFormControl.setValue(null!=(null===(e=this.modelValue.range)||void 0===e?void 0:e.max)?this.modelValue.range.max:0):this.valueFormControl.setValue(parseFloat((this.valueFormControl.value-this.step).toFixed(0)))},t.prototype.onBlur=function(e){this.isReadOnly||(this.valueFormControl.pristine&&this.formState.getFormContextValue().displayValidationMessagesOnTouched&&this.valueFormControl.updateValueAndValidity(),"-"===e.target.value&&this.valueFormControl.setValue(""))},t.prototype.clearValue=function(){this.valueFormControl.setValue("")},t.prototype.hasValidationChanged=function(e){var t,n,r,i,o,a;if(!e.hasOwnProperty("modelValue"))return!1;var s=null===(t=e.modelValue.currentValue)||void 0===t?void 0:t.range,l=null===(n=e.modelValue.previousValue)||void 0===n?void 0:n.range,u=(null===(o=null===(i=null===(r=e.modelValue)||void 0===r?void 0:r.currentValue)||void 0===i?void 0:i.precision)||void 0===o?void 0:o.max)!==(null===(a=e.modelValue.currentValue.precision)||void 0===a?void 0:a.max);return(null==s?void 0:s.min)!==(null==l?void 0:l.min)||(null==s?void 0:s.max)!==(null==l?void 0:l.max)||(null==s?void 0:s.minOp)!==(null==l?void 0:l.minOp)||(null==s?void 0:s.maxOp)!==(null==l?void 0:l.maxOp)||u},t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(o.sg),i.Y36(T.G),i.Y36(A.r),i.Y36(w.G))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mrd-count-input"]],inputs:{modelValue:"modelValue",isReadOnly:"isReadOnly",isRequired:"isRequired"},features:[i.qOj,i.TTD],decls:4,vars:5,consts:[["class","form-control--error-message",3,"translatedValidationErrors",4,"ngIf"],["class","input-group",4,"ngIf"],[3,"value",4,"ngIf"],[1,"form-control--error-message",3,"translatedValidationErrors"],[1,"input-group"],["type","text","mrdNumericValueAccessor","",1,"form-control",3,"ngClass","formControl","readonly","tabindex","placeholder","mrdDecimalPrecision","ngModelChange","keyup.arrowup","keyup.arrowdown","blur"],["class","clear-icon",4,"ngIf"],[1,"clear-icon"],[1,"b-icon","cancel",3,"click"],[3,"value"]],template:function(e,t){if(1&e&&(i.YNc(0,Vi,2,3,"mrd-validation-error-list",0),i.ALo(1,"async"),i.YNc(2,ki,4,11,"div",1),i.YNc(3,Ri,1,1,"ehr-presentation-value",2)),2&e){var n=void 0;i.Q6J("ngIf",!t.isReadOnly&&!(null==(n=i.lcZ(1,3,t.errorMessages))||!n.length)),i.xp6(2),i.Q6J("ngIf",!t.presentationMode),i.xp6(1),i.Q6J("ngIf",t.presentationMode)}},directives:[m.O5,fn,o.Fj,Si,m.mk,o.JJ,o.oH,pn],pipes:[m.Ov],styles:[""]}),t}(dn);function Ni(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function Fi(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-count-input",8),i.NdJ("onModelValue",function(e){var t=i.CHM(n).index;return i.oxw(2).updateModel(e,t)})("addMultiInput",function(){return i.CHM(n),i.oxw(2).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(2).onRemoveMultiInput(e)}),i.qZA()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(2);i.Q6J("multiIndex",o)("modelValue",r)("isReadOnly",a.isReadOnlyValue)("formId",a.model.formId)("controlName",a.controlName)("isRequired",a.model.isRequired())("inputPlaceholder",a.ehrInputPlaceholder)}}function Li(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,Ni,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,Fi,1,7,"mrd-count-input",6),i.ALo(12,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("ngClass",i.lcZ(1,11,r.elementSize)),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,13,r.model.getViewConfig()))("inputClasses",i.lcZ(4,15,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,17,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,21,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngForOf",i.lcZ(12,23,r.modelValues$))("ngForTrackBy",r.trackByIndex)}}var Zi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){this.translate||(this.translate=this.injector.get(x.sK)),e.prototype.ngOnChanges.call(this,t)},t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},Object.defineProperty(t.prototype,"ehrInputPlaceholder",{get:function(){var e,t,n=this.ehrFormState.getFormContextValue().language,r=null===(t=null===(e=this.model.getViewConfig().getAdvanced())||void 0===e?void 0:e.placeholder)||void 0===t?void 0:t[n];if(r)return r;var i=this.ehrFormState.getFormContextValue().showNumericRangePlaceholder,o=this.model.getInputByType(C.n$I.INTEGER).getValidation(),a=this.getInputValidationRange(o),s=a.minValue,l=a.maxValue;return i&&null!=s&&null!=l?this.translate.instant("placeholder.numericRange",{min:s,max:l}):""},enumerable:!1,configurable:!0}),t.prototype.getModelValuesObs=function(t){var n=this;return e.prototype.getModelValuesObs.call(this,t).pipe((0,E.U)(function(e){return e.map(function(e){var t=n.model.getInputByType(C.n$I.INTEGER).getValidation();if(t&&t.range){var r=n.getInputValidationRange(t);return{value:e,range:{min:r.minValue,minOp:r.minValueOperator,max:r.maxValue,maxOp:r.maxValueOperator},precision:n.getPrecisionForModel()}}return{value:e,range:null,precision:n.model.rmType===C.B8O.GENERIC_NUMERIC_FIELD?10:0}})}))},Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"countValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.updateModel=function(t,n){isNaN(t)&&(t=this.modelEmptyValue),e.prototype.updateModel.call(this,t,n)},t.prototype.getInputValidationRange=function(e){var t=null,n=null,r=null,i=null;if(e&&e.range){var o=e.range;null!=o.min?(t=o.min,r=o.minOp):t=null,null!=o.max?(n=o.max,i=o.maxOp):n=null}return{minValue:t,maxValue:n,minValueOperator:r,maxValueOperator:i}},t.prototype.getPrecisionForModel=function(){var e,t,n,r,i;return this.model.getRmType()===C.B8O.GENERIC_NUMERIC_FIELD?null!==(i=null===(r=null===(n=null===(t=null===(e=this.model.getInputs())||void 0===e?void 0:e[0])||void 0===t?void 0:t.getValidation())||void 0===n?void 0:n.getPrecision())||void 0===r?void 0:r.max)&&void 0!==i?i:10:0},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-count"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-field ehr-count","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"ngClass","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-count",3,"ngClass","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"multiIndex","modelValue","isReadOnly","formId","controlName","isRequired","inputPlaceholder","onModelValue","addMultiInput","removeMultiInput",4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"multiIndex","modelValue","isReadOnly","formId","controlName","isRequired","inputPlaceholder","onModelValue","addMultiInput","removeMultiInput"]],template:function(e,t){1&e&&i.YNc(0,Li,13,25,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,m.sg,V,Pi],pipes:[ni,ri,ii,oi,ai,m.Ov],styles:[""],changeDetection:0}),t}(dt),Ui=(n(24309),["numerator"]),Bi=["denominator"];function Gi(e,t){if(1&e&&(i._UZ(0,"mrd-validation-error-list",3),i.ALo(1,"async")),2&e){var n=i.oxw();i.Q6J("translatedValidationErrors",i.lcZ(1,1,n.errorMessages))}}function Hi(e,t){1&e&&(i.TgZ(0,"span",10),i._uU(1,"/"),i.qZA())}var qi=function(e){return{"is-invalid":e}};function ji(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"input",5,11),i.NdJ("ngModelChange",function(e){return i.CHM(n),i.oxw(2).denominatorChange(e)})("keyup.arrowup",function(){return i.CHM(n),i.oxw(2).increase("denominator")})("keyup.arrowdown",function(){return i.CHM(n),i.oxw(2).decrease("denominator")})("blur",function(e){i.CHM(n);var t=i.oxw(2);return t.onBlur(e,t.denominatorFormControl)}),i.ALo(2,"async"),i.qZA()}if(2&e){var r,o=i.oxw(2);i.Q6J("ngClass",i.VKq(8,qi,o.denominatorFormControl.invalid&&!(null==(r=i.lcZ(2,6,o.errorMessages))||!r.length)))("formControl",o.denominatorFormControl)("readonly",o.isReadOnly)("tabindex",o.isReadOnly?-1:0)("mrdDecimalPrecision",o.modelValue.denominator.precision)("placeholder",o.denominatorPlaceholder)}}function Yi(e,t){if(1&e&&i._UZ(0,"ehr-presentation-value",12),2&e){var n=i.oxw(2);i.Q6J("value",null==n.denominatorFormControl?null:n.denominatorFormControl.value)}}function Ji(e,t){if(1&e&&(i.TgZ(0,"span",13),i._uU(1,"%"),i.qZA()),2&e){var n=i.oxw(2);i.ekj("proportion-unit--left",(null==n.numeratorFormControl||null==n.numeratorFormControl.value?null:n.numeratorFormControl.value.toString().length)>0)}}function zi(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",4),i.TgZ(1,"input",5,6),i.NdJ("ngModelChange",function(e){return i.CHM(n),i.oxw().numeratorChange(e)})("keyup.arrowup",function(){return i.CHM(n),i.oxw().increase("numerator")})("keyup.arrowdown",function(){return i.CHM(n),i.oxw().decrease("numerator")})("blur",function(e){i.CHM(n);var t=i.oxw();return t.onBlur(e,t.numeratorFormControl)}),i.ALo(3,"async"),i.qZA(),i.YNc(4,Hi,2,0,"span",7),i.YNc(5,ji,3,10,"input",8),i.YNc(6,Yi,1,1,"ehr-presentation-value",2),i.YNc(7,Ji,2,2,"span",9),i.qZA()}if(2&e){var r,o=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(12,qi,o.numeratorFormControl.invalid&&!(null==(r=i.lcZ(3,10,o.errorMessages))||!r.length)))("formControl",o.numeratorFormControl)("readonly",o.isReadOnly)("tabindex",o.isReadOnly?-1:0)("mrdDecimalPrecision",o.modelValue.numerator.precision)("placeholder",o.numeratorPlaceholder),i.xp6(3),i.Q6J("ngIf",!o.isFixedDenominator),i.xp6(1),i.Q6J("ngIf",!o.isFixedDenominator),i.xp6(1),i.Q6J("ngIf",o.presentationMode&&(null==o.numeratorFormControl?null:o.numeratorFormControl.value)),i.xp6(1),i.Q6J("ngIf",o.isPercentage)}}function Qi(e,t){if(1&e&&i._UZ(0,"ehr-presentation-value",12),2&e){var n=i.oxw();i.Q6J("value",n.getPresentationValue())}}var Wi=function(e){function t(t,n,r,o,a,s){var l=e.call(this,o,t,n,r,s)||this;return l.formState=o,l.validationResolver=a,l.modelStoreService=s,l.numeratorPlaceholder="",l.denominatorPlaceholder="",l.onNumeratorValue=new i.vpe,l.onDenominatorValue=new i.vpe,l._numeratorStep=1,l._denominatorStep=1,l}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){if(e.prototype.ngOnChanges.call(this,t),this.denominatorFormControl&&this.numeratorFormControl&&t.hasOwnProperty("modelValue")){var n=t.modelValue.currentValue,r=n.denominator.value;this.isFixedDenominator||this.denominatorFormControl.value===r||!this.denominatorFormControl.value&&null==r||(this.denominatorFormControl.markAsDirty({onlySelf:!0}),this.denominatorFormControl.setValue(r));var i=n.numerator.value;this.numeratorFormControl.value===i||!this.numeratorFormControl.value&&null==i||(this.numeratorFormControl.markAsDirty({onlySelf:!0}),this.numeratorFormControl.setValue(i)),t.hasOwnProperty("isRequired")&&(this.isFixedDenominator||(this.denominatorFormControl.setValidators(this.getDenominatorValidators()),this.denominatorFormControl.updateValueAndValidity()),this.numeratorFormControl.setValidators(this.getNumeratorValidators()),this.numeratorFormControl.updateValueAndValidity()),this.denominatorFormControl&&this.numeratorFormControl&&t.hasOwnProperty("disabled")&&(this.disableControl(this.numeratorFormControl,!!t.disabled.currentValue),this.disableControl(this.denominatorFormControl,!!t.disabled.currentValue))}},t.prototype.ngAfterViewInit=function(){this.setInputWidthToValueWidth(this.numeratorRef,this.numeratorFormControl.value),this.setInputWidthToValueWidth(this.denominatorRef,this.denominatorFormControl.value)},t.prototype.increase=function(e){var t,n,r;"numerator"===e&&this._numeratorStep&&parseFloat(this._numeratorStep.toString())>0?isNaN(parseFloat(this.numeratorFormControl.value))?this.numeratorFormControl.setValue(null!=(null===(t=this.modelValue.numerator.range)||void 0===t?void 0:t.min)?this.modelValue.numerator.range.min:0):this.numeratorFormControl.setValue(parseFloat((this.modelValue.numerator.value+this._numeratorStep).toFixed(this.modelValue.numerator.precision))):"denominator"===e&&this._denominatorStep&&parseFloat(this._denominatorStep.toString())>0&&(isNaN(parseFloat(this.denominatorFormControl.value))?this.denominatorFormControl.setValue(null!=(null===(n=this.modelValue.denominator.range)||void 0===n?void 0:n.min)?null===(r=this.modelValue.denominator.range)||void 0===r?void 0:r.min:0):this.denominatorFormControl.setValue(parseFloat((this.denominatorFormControl.value+this._denominatorStep).toFixed(this.modelValue.denominator.precision))))},t.prototype.decrease=function(e){var t,n;"numerator"===e&&this._numeratorStep&&parseFloat(this._numeratorStep.toString())>0?isNaN(parseFloat(this.numeratorFormControl.value))?this.numeratorFormControl.setValue(null!=(null===(t=this.modelValue.numerator.range)||void 0===t?void 0:t.max)?this.modelValue.numerator.range.max:0):this.numeratorFormControl.setValue(parseFloat((this.numeratorFormControl.value-this._numeratorStep).toFixed(this.modelValue.numerator.precision))):"denominator"===e&&this._denominatorStep&&parseFloat(this._denominatorStep.toString())>0&&(isNaN(parseFloat(this.denominatorFormControl.value))?this.denominatorFormControl.setValue(null!=(null===(n=this.modelValue.denominator.range)||void 0===n?void 0:n.max)?this.modelValue.denominator.range.max:0):this.denominatorFormControl.setValue(parseFloat((this.denominatorFormControl.value-this._denominatorStep).toFixed(this.modelValue.denominator.precision))))},t.prototype.ngOnInit=function(){this.numeratorFormControl=new o.NI({value:this.modelValue.numerator.value,disabled:this.disabled},this.getNumeratorValidators()),this.denominatorFormControl=this.isFixedDenominator?new o.NI:new o.NI(this.modelValue.denominator.value,this.getDenominatorValidators()),this.registerControl(this.controlName+"|"+this.multiIndex+"n",this.numeratorFormControl),this.registerControl(this.controlName+"|"+this.multiIndex+"d",this.denominatorFormControl),this.subscriptions.push(this.validationResolver.initializeValueChangeListener(this.numeratorFormControl)),this.subscriptions.push(this.validationResolver.initializeValueChangeListener(this.denominatorFormControl)),this.errorMessages=this.validationResolver.getErrorMessages([this.denominatorFormControl,this.numeratorFormControl])},t.prototype.onBlur=function(e,t){this.isReadOnly||(t.pristine&&this.formState.getFormContextValue().displayValidationMessagesOnTouched&&t.updateValueAndValidity(),"-"===e.target.value&&t.setValue(null))},t.prototype.numeratorChange=function(e){this.onNumeratorValue.next(e),this.setInputWidthToValueWidth(this.numeratorRef,e)},t.prototype.denominatorChange=function(e){this.onDenominatorValue.next(e),this.setInputWidthToValueWidth(this.denominatorRef,e)},t.prototype.getPresentationValue=function(){var e,t=null===(e=this.numeratorFormControl)||void 0===e?void 0:e.value;return this.isPercentage&&t&&(t+="%"),t+(this.isFixedDenominator?"":"/"+this.denominatorFormControl.value)},t.prototype.getNumeratorValidators=function(){var e=this.modelValue.numerator.range;return this.getValidators(null==e?void 0:e.min,null==e?void 0:e.max,this.modelValue.numerator.precision,null==e?void 0:e.minOp,null==e?void 0:e.maxOp,"numerator")},t.prototype.getDenominatorValidators=function(){var e=this.modelValue.denominator.range;return this.getValidators(null==e?void 0:e.min,null==e?void 0:e.max,this.modelValue.denominator.precision,null==e?void 0:e.minOp,null==e?void 0:e.maxOp,"denominator")},t.prototype.getValidators=function(e,t,n,r,i,o){var a=[sn.isNumeric()];return n&&n>-1&&a.push(sn.maxDecimalPlaces(n,o)),this.isRequired&&a.push(sn.numericRequired()),r&&C.G1o.isNumber(e)&&a.push(sn.minMaxValue(r,e,o)),i&&C.G1o.isNumber(t)&&a.push(sn.minMaxValue(i,t,o)),a},t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(o.sg),i.Y36(T.G),i.Y36(A.r),i.Y36(w.G))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mrd-proportion-input"]],viewQuery:function(e,t){if(1&e&&(i.Gf(Ui,5),i.Gf(Bi,5)),2&e){var n=void 0;i.iGM(n=i.CRH())&&(t.numeratorRef=n.first),i.iGM(n=i.CRH())&&(t.denominatorRef=n.first)}},inputs:{modelValue:"modelValue",numeratorPlaceholder:"numeratorPlaceholder",denominatorPlaceholder:"denominatorPlaceholder",isFixedDenominator:"isFixedDenominator",isPercentage:"isPercentage"},outputs:{onNumeratorValue:"onNumeratorValue",onDenominatorValue:"onDenominatorValue"},features:[i.qOj,i.TTD],decls:4,vars:5,consts:[["class","form-control--error-message",3,"translatedValidationErrors",4,"ngIf"],["class","input-group",4,"ngIf"],[3,"value",4,"ngIf"],[1,"form-control--error-message",3,"translatedValidationErrors"],[1,"input-group"],["type","text","mrdNumericValueAccessor","",1,"form-control",3,"ngClass","formControl","readonly","tabindex","mrdDecimalPrecision","placeholder","ngModelChange","keyup.arrowup","keyup.arrowdown","blur"],["numerator",""],["class","proportion-separator",4,"ngIf"],["type","text","class","form-control ","mrdNumericValueAccessor","",3,"ngClass","formControl","readonly","tabindex","mrdDecimalPrecision","placeholder","ngModelChange","keyup.arrowup","keyup.arrowdown","blur",4,"ngIf"],["class","proportion-unit",3,"proportion-unit--left",4,"ngIf"],[1,"proportion-separator"],["denominator",""],[3,"value"],[1,"proportion-unit"]],template:function(e,t){if(1&e&&(i.YNc(0,Gi,2,3,"mrd-validation-error-list",0),i.ALo(1,"async"),i.YNc(2,zi,8,14,"div",1),i.YNc(3,Qi,1,1,"ehr-presentation-value",2)),2&e){var n=void 0;i.Q6J("ngIf",!t.presentationMode&&!t.isReadOnly&&!(null==(n=i.lcZ(1,3,t.errorMessages))||!n.length)),i.xp6(2),i.Q6J("ngIf",!t.presentationMode),i.xp6(1),i.Q6J("ngIf",t.presentationMode)}},directives:[m.O5,fn,o.Fj,Si,m.mk,o.JJ,o.oH,pn],pipes:[m.Ov],styles:[".proportion-separator[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]{flex:none;width:45%;line-height:1}.proportion-unit[_ngcontent-%COMP%]{display:flex;flex:1 0 20%;font-size:1em;font-weight:700;justify-content:flex-end;margin-left:.25em}.proportion-unit.proportion-unit--left[_ngcontent-%COMP%]{justify-content:flex-start}"]}),t}(dn);function Ki(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function Xi(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-proportion-input",8),i.NdJ("addMultiInput",function(){return i.CHM(n),i.oxw(2).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(2).onRemoveMultiInput(e)})("onNumeratorValue",function(e){var t=i.CHM(n).index;return i.oxw(2).onNumeratorValue(e,t)})("onDenominatorValue",function(e){var t=i.CHM(n).index;return i.oxw(2).onDenominatorValue(e,t)}),i.qZA()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(2);i.Q6J("multiIndex",o)("controlName",a.controlName)("formId",a.model.formId)("modelValue",r)("isReadOnly",a.isReadOnlyValue)("isRequired",a.model.isRequired())("denominatorPlaceholder",a.denominatorPlaceholder)("numeratorPlaceholder",a.numeratorPlaceholder)("isFixedDenominator",a.isFixedDenominator)("isPercentage",a.isPercentage)}}function $i(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,Ki,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,Xi,1,10,"mrd-proportion-input",6),i.ALo(12,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("ngClass",i.lcZ(1,11,r.elementSize)),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,13,r.model.getViewConfig()))("inputClasses",i.lcZ(4,15,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,17,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,21,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngForOf",i.lcZ(12,23,r.modelValues$))("ngForTrackBy",r.trackByIndex)}}var eo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.denominatorPlaceholder="",t.numeratorPlaceholder="",t.inputPrecision=function(e){if(e.getType()===C.n$I.DECIMAL){if(e.getValidation()){var t=e.getValidation().getPrecision();return t?t.max:3}return 3}return 0},t}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){this.translate&&(this.translate=this.injector.get(x.sK)),e.prototype.ngOnChanges.call(this,t)},t.prototype.ngOnInit=function(){if(e.prototype.ngOnInit.call(this),this.ehrFormState.getFormContextValue().showNumericRangePlaceholder){var t=this.model.getMinValueForNumerator(),n=this.model.getMaxValueForNumerator();null!=t&&null!=n&&(this.numeratorPlaceholder=this.translate.instant("placeholder.numericRange",{min:t,max:n}));var r=this.model.getMinValueForDenominator(),i=this.model.getMaxValueForDenominator();null!=r&&null!=i&&(this.denominatorPlaceholder=this.translate.instant("placeholder.numericRange",{min:r,max:i}))}},t.prototype.getModelObservableValues=function(t){return e.prototype.getModelObservableValues.call(this,t).pipe((0,E.U)(function(e){return e.map(function(e){return Object.assign({},e)})}))},Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"getValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return{"|numerator":null,"|denominator":null}},enumerable:!1,configurable:!0}),t.prototype.onNumeratorValue=function(e,t){this.model.numeratorValue(void 0,t)!==e&&this.model.numeratorValue(void 0===e?null:e,t)},t.prototype.onDenominatorValue=function(e,t){this.model.denominatorValue(void 0,t)!==e&&this.model.denominatorValue(void 0===e?null:e,t)},t.prototype.onAddMultiInput=function(){var e=this;this.modelValues$.pipe((0,p.q)(1),(0,E.U)(function(e){return e.length})).subscribe(function(t){e.model.setValue({},t)})},t.prototype.onRemoveMultiInput=function(t){e.prototype.onRemoveMultiInput.call(this,null),this.model.setValue(null,t)},t.prototype.getModelValuesObs=function(t){var n=this;return e.prototype.getModelValuesObs.call(this,t).pipe((0,E.U)(function(e){return e.map(function(e){return{numerator:{value:e["|numerator"],precision:n.inputPrecision(n.model.getInputFor("numerator")),range:{min:n.model.getMinValueForNumerator(),minOp:n.model.getMinOperatorForNumerator(),max:n.model.getMaxValueForNumerator(),maxOp:n.model.getMaxOperatorForNumerator()}},denominator:{value:e["|denominator"],precision:n.inputPrecision(n.model.getInputFor("denominator")),range:{min:n.model.getMinValueForDenominator(),minOp:n.model.getMinOperatorForDenominator(),max:n.model.getMaxValueForDenominator(),maxOp:n.model.getMaxOperatorForDenominator()}}}})}))},Object.defineProperty(t.prototype,"isPercentage",{get:function(){var e=this.model.getInputFor("denominator"),t=null==e?void 0:e.getValidation();if(t){var n=t;return n.getRange()&&100===n.getRange().min&&100===n.getRange().max}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFixedDenominator",{get:function(){var e=this.model.getInputFor("denominator"),t=null==e?void 0:e.getValidation();if(t){var n=t;return n.getRange()&&void 0!==n.getRange().min&&n.getRange().min===n.getRange().max}return!1},enumerable:!1,configurable:!0}),t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-proportion"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-field ehr-proportion","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"ngClass","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-proportion",3,"ngClass","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"multiIndex","controlName","formId","modelValue","isReadOnly","isRequired","denominatorPlaceholder","numeratorPlaceholder","isFixedDenominator","isPercentage","addMultiInput","removeMultiInput","onNumeratorValue","onDenominatorValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"multiIndex","controlName","formId","modelValue","isReadOnly","isRequired","denominatorPlaceholder","numeratorPlaceholder","isFixedDenominator","isPercentage","addMultiInput","removeMultiInput","onNumeratorValue","onDenominatorValue"]],template:function(e,t){1&e&&i.YNc(0,$i,13,25,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,m.sg,V,Wi],pipes:[ni,ri,ii,oi,ai,m.Ov],styles:[""],changeDetection:0}),t}(dt),to=(n(49522),["input"]);function no(e,t){if(1&e&&(i._UZ(0,"mrd-validation-error-list",6),i.ALo(1,"async")),2&e){var n=i.oxw();i.Q6J("translatedValidationErrors",i.lcZ(1,1,n.errorMessages))}}var ro=function(e){return{"is-invalid":e}};function io(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"input",7,8),i.NdJ("ngModelChange",function(e){return i.CHM(n),i.oxw().updateValue(e)})("blur",function(e){return i.CHM(n),i.oxw().onBlur(e)}),i.ALo(2,"async"),i.qZA()}if(2&e){var r,o=i.oxw();i.Q6J("ngClass",i.VKq(8,ro,!(null==(r=i.lcZ(2,6,o.errorMessages))||!r.length)))("formControl",o.valueFormControl)("readonly",o.isReadOnly)("tabindex",o.isReadOnly?-1:0)("placeholder",o.inputPlaceholder)("mrdDecimalPrecision",o.decimalPrecision)}}function oo(e,t){if(1&e&&i._UZ(0,"ehr-presentation-value",9),2&e){var n=i.oxw();i.Q6J("value",n.getPresentationValue())}}function ao(e,t){if(1&e&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Oqu(n.selectedQuantityLabel)}}function so(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-codedtext-input",13),i.NdJ("onModelValue",function(e){return i.CHM(n),i.oxw(2).updateUnitValue(e.value)})("onClearValue",function(){return i.CHM(n),i.oxw(2).updateUnitValue(null)}),i.ALo(1,"async"),i.qZA()}if(2&e){var r,o=i.oxw(2);i.Q6J("controlName",o.controlName+"-unit|"+o.multiIndex)("formId",o.formId+o.multiIndex+"-unit")("modelValue",o.codedTextValues)("modelValueObservable",o.codedTextValuesObs)("ngClass",i.VKq(12,ro,!(null==(r=i.lcZ(1,10,o.errorMessages))||!r.length)))("minItems",o.isRequired?1:0)("maxItems",1)("disabled",o.disabled)("isReadOnly",o.isReadOnly)("isQuantity",!0)}}function lo(e,t){if(1&e&&(i.TgZ(0,"div",10),i.YNc(1,ao,2,1,"span",11),i.YNc(2,so,2,14,"mrd-codedtext-input",12),i.qZA()),2&e){var n=i.oxw();i.ekj("quantity-unit--readonly",n.isReadOnly)("quantity-unit--left",(null==n.valueFormControl||null==n.valueFormControl.value?null:n.valueFormControl.value.toString().length)>0),i.xp6(1),i.Q6J("ngIf",1===n.codedTextValues.length||n.readOnlyUnit),i.xp6(1),i.Q6J("ngIf",n.codedTextValues.length>1&&!0!==n.readOnlyUnit)}}var uo=function(e){function t(t,n,r,o,a,s,l){var u=e.call(this,o,t,n,r,l)||this;return u.formState=o,u.changeDetectorRef=a,u.validationResolver=s,u.modelStoreService=l,u.onUnitValue=new i.vpe,u}return(0,lt.ZT)(t,e),Object.defineProperty(t.prototype,"hiddenUnit",{get:function(){var e;return this.hideUnit||0===(null===(e=this.codedTextValues)||void 0===e?void 0:e.length)},enumerable:!1,configurable:!0}),t.prototype.ngOnChanges=function(t){var n;e.prototype.ngOnChanges.call(this,t);var r=null===(n=null==t?void 0:t.quantityModelValue)||void 0===n?void 0:n.currentValue;if(this.valueFormControl){var i=this.getSelectedUnit(this.codedTextValues);if(t.hasOwnProperty("quantityModelValue")){if(this.quantityModelValue=r,this.codedTextValues=r.values,i=this.getSelectedUnit(this.codedTextValues),isNaN(r.magnitudeValue)||r.magnitudeValue===this.valueFormControl.value){var o=this.getSelectedUnit(t.quantityModelValue.previousValue.values);(o?o.label:"")!==(i?i.label:"")&&(this.valueFormControl.setValidators(this.getValidators(i)),this.valueFormControl.updateValueAndValidity())}else this.valueFormControl.markAsDirty({onlySelf:!0}),this.valueFormControl.setValue(r.magnitudeValue);this.setUnitLabel()}this.valueFormControl&&t.hasOwnProperty("isRequired")&&(this.valueFormControl.setValidators(this.getValidators(i)),this.valueFormControl.updateValueAndValidity()),this.valueFormControl&&t.hasOwnProperty("disabled")&&this.disableControl(this.valueFormControl,!!t.disabled.currentValue)}this.codedTextValuesObs=(0,l.of)(null==r?void 0:r.values)},t.prototype.ngOnInit=function(){this.codedTextValues=this.quantityModelValue.values;var e=this.getSelectedUnit(this.codedTextValues);e&&(this.decimalPrecision=e.decimalPlaces),this.valueFormControl=new o.NI({value:this.quantityModelValue.magnitudeValue,disabled:this.disabled},this.getValidators(e)),this.registerControl(this.controlName+"|"+this.multiIndex,this.valueFormControl),this.subscriptions.push(this.validationResolver.initializeValueChangeListener(this.valueFormControl)),this.errorMessages=this.validationResolver.getErrorMessage(this.valueFormControl),this.setUnitLabel()},t.prototype.ngAfterViewInit=function(){var e;this.updateInputWidth(null===(e=this.valueFormControl)||void 0===e?void 0:e.value)},t.prototype.updateUnitValue=function(e){this.codedTextValues.forEach(function(t){t.selected=t.value===e});var t=this.getSelectedUnit(this.codedTextValues);t&&(this.decimalPrecision=t.decimalPlaces),this.valueFormControl.setValidators(this.getValidators(t)),this.valueFormControl.updateValueAndValidity(),this.onUnitValue.emit(e)},t.prototype.getSelectedUnit=function(e){return e.find(function(e){return!0===e.selected})},t.prototype.getPresentationValue=function(){var e,t,n,r=null!==(t=null===(e=this.getSelectedUnit(this.codedTextValues))||void 0===e?void 0:e.label)&&void 0!==t?t:"";return(null===(n=this.valueFormControl)||void 0===n?void 0:n.value)?this.valueFormControl.value+(this.hideUnit?"":" "+r):""},t.prototype.updateValue=function(e){this.onModelValue.next(e),this.updateInputWidth(e)},t.prototype.onBlur=function(e){this.isReadOnly||(this.valueFormControl.pristine&&this.formState.getFormContextValue().displayValidationMessagesOnTouched&&this.valueFormControl.updateValueAndValidity(),"-"===e.target.value&&this.valueFormControl.setValue(null))},t.prototype.getValidators=function(e){if(this.isRequired||e&&e.range&&(e.range.min||e.range.max||-1!==e.decimalPlaces)){var t=[];return e&&e.decimalPlaces&&e.decimalPlaces>-1&&t.push(sn.maxDecimalPlaces(e.decimalPlaces)),this.isRequired&&t.push(sn.numericRequired()),e&&e.range&&C.G1o.isNumber(e.range.min)&&t.push(sn.minMaxValue(e.range.minOp,e.range.min)),e&&e.range&&C.G1o.isNumber(e.range.max)&&t.push(sn.minMaxValue(e.range.maxOp,e.range.max)),t}return[]},t.prototype.setUnitLabel=function(){var e;if(1===this.codedTextValues.length)this.selectedQuantityLabel=this.codedTextValues[0].label;else{var t=this.getSelectedUnit(this.codedTextValues);t?this.selectedQuantityLabel=t.label:(null===(e=this.codedTextValues)||void 0===e?void 0:e.length)>0&&(this.updateUnitValue(this.codedTextValues[0].value),this.selectedQuantityLabel=this.codedTextValues[0].label)}},t.prototype.updateInputWidth=function(e){if(!this.hiddenUnit&&!this.presentationMode){var t=null==e?void 0:e.toString();t?this.renderer.setStyle(this.inputRef.nativeElement,"width","calc("+t.length+"ch + "+.2*t.length+"px)"):this.renderer.removeStyle(this.inputRef.nativeElement,"width")}},t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(o.sg),i.Y36(T.G),i.Y36(i.sBO),i.Y36(A.r),i.Y36(w.G))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mrd-quantity-input"]],viewQuery:function(e,t){var n;1&e&&i.Gf(to,5),2&e&&i.iGM(n=i.CRH())&&(t.inputRef=n.first)},inputs:{quantityModelValue:"quantityModelValue",hideUnit:"hideUnit",readOnlyUnit:"readOnlyUnit"},outputs:{onUnitValue:"onUnitValue"},features:[i.qOj,i.TTD],decls:7,vars:10,consts:[[1,"quantity-input"],["class","form-control--error-message",3,"translatedValidationErrors",4,"ngIf"],[1,"quantity-input--content"],["class","form-control","mrdNumericValueAccessor","",3,"ngClass","formControl","readonly","tabindex","placeholder","mrdDecimalPrecision","ngModelChange","blur",4,"ngIf"],[3,"value",4,"ngIf"],["class","quantity-unit",3,"quantity-unit--readonly","quantity-unit--left",4,"ngIf"],[1,"form-control--error-message",3,"translatedValidationErrors"],["mrdNumericValueAccessor","",1,"form-control",3,"ngClass","formControl","readonly","tabindex","placeholder","mrdDecimalPrecision","ngModelChange","blur"],["input",""],[3,"value"],[1,"quantity-unit"],[4,"ngIf"],[3,"controlName","formId","modelValue","modelValueObservable","ngClass","minItems","maxItems","disabled","isReadOnly","isQuantity","onModelValue","onClearValue",4,"ngIf"],[3,"controlName","formId","modelValue","modelValueObservable","ngClass","minItems","maxItems","disabled","isReadOnly","isQuantity","onModelValue","onClearValue"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.YNc(1,no,2,3,"mrd-validation-error-list",1),i.ALo(2,"async"),i.TgZ(3,"div",2),i.YNc(4,io,3,10,"input",3),i.YNc(5,oo,1,1,"ehr-presentation-value",4),i.YNc(6,lo,3,6,"div",5),i.qZA(),i.qZA()),2&e){var n=void 0;i.xp6(1),i.Q6J("ngIf",!t.isReadOnly&&!(null==(n=i.lcZ(2,8,t.errorMessages))||!n.length)),i.xp6(2),i.ekj("no-unit",t.hiddenUnit)("no-value",!t.valueFormControl.value&&0!==t.valueFormControl.value),i.xp6(1),i.Q6J("ngIf",!t.presentationMode),i.xp6(1),i.Q6J("ngIf",t.presentationMode),i.xp6(1),i.Q6J("ngIf",!t.hiddenUnit&&!t.presentationMode)}},directives:[m.O5,fn,o.Fj,Si,m.mk,o.JJ,o.oH,pn,Ir],pipes:[m.Ov],styles:[".quantity-input[_ngcontent-%COMP%]{width:auto;overflow-x:auto}.quantity-input[_ngcontent-%COMP%]   .quantity-input--content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr}.quantity-input[_ngcontent-%COMP%]   .quantity-input--content.no-value[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.quantity-input[_ngcontent-%COMP%]   .quantity-input--content.no-unit[_ngcontent-%COMP%]{grid-template-columns:1fr}.quantity-input[_ngcontent-%COMP%]   .quantity-input--content[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%}.quantity-input[_ngcontent-%COMP%]   .quantity-unit[_ngcontent-%COMP%]{display:flex;font-size:1em;font-weight:700;justify-content:flex-end;padding-left:.25em;color:var(--b-input-right-appendix-color)}.quantity-input[_ngcontent-%COMP%]   .quantity-unit.quantity-unit--left[_ngcontent-%COMP%]{justify-content:flex-start}.quantity-input[_ngcontent-%COMP%]   .quantity-unit.quantity-unit--readonly[_ngcontent-%COMP%]{color:var(--b-input-value-disabled-color)}.quantity-input[_ngcontent-%COMP%]   .quantity-unit[_ngcontent-%COMP%]   mrd-codedtext-input[_ngcontent-%COMP%]{max-width:6.25em;width:100%}"],changeDetection:0}),t}(dn);function co(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function ho(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-quantity-input",8),i.NdJ("onModelValue",function(e){var t=i.CHM(n).index;return i.oxw(2).updateModel(e,t)})("onUnitValue",function(e){var t=i.CHM(n).index;return i.oxw(2).updateUnit(e,t)})("addMultiInput",function(){return i.CHM(n),i.oxw(2).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(2).onRemoveMultiInput(e)}),i.qZA()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(2);i.Q6J("controlName",a.controlName)("multiIndex",o)("formId",a.model.formId)("isRequired",a.model.isRequired())("quantityModelValue",r)("hideUnit",a.hideUnit)("readOnlyUnit",a.readOnlyUnit)("isReadOnly",a.isReadOnlyValue)("inputPlaceholder",a.placeholder)}}function fo(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,co,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,ho,1,9,"mrd-quantity-input",6),i.ALo(12,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("ngClass",i.lcZ(1,11,r.elementSize)),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,13,r.model.getViewConfig()))("inputClasses",i.lcZ(4,15,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,17,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,21,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngForOf",i.lcZ(12,23,r.modelValues$))("ngForTrackBy",r.trackByIndex)}}var po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){if(this.translateService||(this.translateService=this.injector.get(x.sK)),e.prototype.ngOnChanges.call(this,t),t.hasOwnProperty("model")){var n=t.model.currentValue,r=n.getInputByType(C.n$I.DECIMAL),i=r?r.getValidation():null;if(i&&i.range){var o=i.range;this.minValue=null!=o.min?C.G1o.isString(o.min)?parseInt(o.min,10):o.min:null,this.maxValue=null!=o.max?C.G1o.isString(o.max)?parseInt(o.max,10):o.max:null}if(this.decimalPrecisionDisplayRoundZeros=n.hasTag("displayPrecisionZeros"),this.hideUnit=n.hasTag("hideUnit"),this.readOnlyUnit=this.model.viewConfig.field&&this.model.viewConfig.field.unit&&!0===this.model.viewConfig.field.unit.readonly,this.showLocalizedUnit=n.hasTag("showLocalizedUnit"),n.getInputByType(C.n$I.CODED_TEXT)){var a=n.getMinValueForUnit(0);this.minValue=null!=a?a.min:null;var s=n.getMaxValueForUnit(0);this.maxValue=null!=s?s.max:null}this.model.isGeneric()&&(this.showLocalizedUnit=!0)}},t.prototype.getModelObservableValues=function(t){return e.prototype.getModelObservableValues.call(this,t).pipe((0,E.U)(function(e){return e.map(function(e){return Object.assign({},e)})}))},t.prototype.getModelValuesObs=function(t){var n=this;return(0,y.a)([this.ehrFormState.getFormContext(),e.prototype.getModelValuesObs.call(this,t)]).pipe((0,E.U)(function(e){return e[1].map(function(t){return n.createQuantityTextModelWithValue(e[0].language,t)})}))},t.prototype.updateModel=function(e,t){if(this.model.magnitudeValue(void 0,t)!==e){var n=this.getAvailableUnits(),r=void 0;if(1===n.length)r=n[0].getValue();else{var i=this.model.getValue(void 0,t);r=i?i["|unit"]:null}this.model.setValue({"|magnitude":e,"|unit":r},t),this.hasValue=this.model.hasValue()}},t.prototype.updateUnit=function(e,t){if(this.model.unitValue(void 0,t)!==e){var n=this.model.getValue(void 0,t);this.model.setValue({"|magnitude":n?n["|magnitude"]:null,"|unit":e},t)}},t.prototype.onAddMultiInput=function(){var e=this;this.modelValues$.pipe((0,p.q)(1),(0,E.U)(function(e){return e.length})).subscribe(function(t){e.model.setValue(e.modelEmptyValue,t)})},t.prototype.onRemoveMultiInput=function(t){e.prototype.onRemoveMultiInput.call(this,null),this.model.setValue(null,t)},t.prototype.getPropValue=function(e,t){return e?e[t]:this.modelEmptyValue},t.prototype.getAvailableUnits=function(){var e=this,t=this.model.getInputByType(C.n$I.CODED_TEXT);return t?t.getInputItemList().filter(function(t){var n=e.model.viewConfig.field;return!n||!n[t.value]||!0!==n[t.value].hidden}):[]},t.prototype.getUnitLabel=function(e,t){return this.showLocalizedUnit&&e.getLabel(t)||e.value},t.prototype.unitField=function(e){return e.getViewConfig().getFields("unit")},Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"getValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){var e,t,n=this.ehrFormState.getFormContextValue().language,r=null===(t=null===(e=this.model.getViewConfig().getAdvanced())||void 0===e?void 0:e.placeholder)||void 0===t?void 0:t[n];if(r)return r;var i=this.ehrFormState.getFormContextValue().showNumericRangePlaceholder,o=this.model.unitValue();if(i&&o){var a=Array.isArray(o)?o[0]:o;return this.getNumericRangePlaceholder(a)}return""},enumerable:!1,configurable:!0}),t.prototype.getNumericRangePlaceholder=function(e){var t=this.model.getMaxValueForUnit(e),n=this.model.getMinValueForUnit(e);return n&&t?this.translateService.instant("placeholder.numericRange",{min:n.min,max:t.max}):""},t.prototype.createQuantityTextModelWithValue=function(e,t){var n=this,r=t["|magnitude"],i=t["|unit"],o=this.getAvailableUnits(),a=!1;if(i){var s=!o.find(function(e){return e.value===i}),l=o.every(function(e){return!!e.custom});a=0===o.length||l&&s}var u=o.map(function(t){var r="unit."+t.value,s=n.translateService.instant(r);return{decimalPlaces:t.validation&&t.validation.precision&&t.validation.precision.max?t.validation.precision.max:null,range:t.validation?t.validation.range:null,label:r===s?n.getUnitLabel(t,e):s,value:t.value,valueAndLabel:t.label,inputItemElement:!0,selected:!a&&(1===o.length||i===t.value)}});if(a&&!this.isUnitHidden(i)){var c={decimalPlaces:null,inputItemElement:!0,label:i,range:new C.G5u({}),selected:!0,value:i,valueAndLabel:i};u.push(c)}return{values:u,magnitudeValue:void 0===r?null:r}},t.prototype.isUnitHidden=function(e){var t,n;return!0===(null===(n=null===(t=this.model.getViewConfig().field)||void 0===t?void 0:t[e])||void 0===n?void 0:n.hidden)},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-quantity"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-field ehr-quantity","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"ngClass","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-quantity",3,"ngClass","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"controlName","multiIndex","formId","isRequired","quantityModelValue","hideUnit","readOnlyUnit","isReadOnly","inputPlaceholder","onModelValue","onUnitValue","addMultiInput","removeMultiInput",4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"controlName","multiIndex","formId","isRequired","quantityModelValue","hideUnit","readOnlyUnit","isReadOnly","inputPlaceholder","onModelValue","onUnitValue","addMultiInput","removeMultiInput"]],template:function(e,t){1&e&&i.YNc(0,fo,13,25,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,m.sg,V,uo],pipes:[ni,ri,ii,oi,ai,m.Ov],styles:[""],changeDetection:0}),t}(dt);function mo(e,t){if(1&e&&(i._UZ(0,"mrd-validation-error-list",4),i.ALo(1,"async")),2&e){var n=i.oxw().$implicit,r=i.oxw();i.Q6J("translatedValidationErrors",i.lcZ(1,1,r.errorMessages[n.values[0].value]))}}n(1550);var vo=function(e){return{"is-invalid":e}};function go(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",7),i.TgZ(1,"input",8),i.NdJ("blur",function(e){i.CHM(n);var t=i.oxw().ngIf;return i.oxw(2).onBlur(e,t)})("ngModelChange",function(e){i.CHM(n);var t=i.oxw(2).$implicit;return i.oxw().onDurationValueUpdated({value:e,durationInput:t.values[0].value})}),i.ALo(2,"async"),i.qZA(),i.TgZ(3,"span",9),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.qZA()}if(2&e){var r,o=i.oxw().ngIf,a=i.oxw().$implicit,s=i.oxw();i.ekj("no-value",!(null!=o.value&&o.value.toString())),i.xp6(1),i.Q6J("id",s.durationInputIdPrefix+a.values[0].value)("ngClass",i.VKq(14,vo,o.invalid&&!(null==(r=i.lcZ(2,10,s.errorMessages[a.values[0].value]))||!r.length)))("formControl",o)("readonly",s.isReadOnly)("tabindex",s.isReadOnly?-1:0)("placeholder",s.inputPlaceholder)("mrdDecimalPrecision",a.values[0].decimalPlaces?a.values[0].decimalPlaces:0),i.xp6(3),i.Oqu(i.lcZ(5,12,"duration."+a.values[0].label))}}function yo(e,t){if(1&e&&i._UZ(0,"ehr-presentation-value",10),2&e){var n=i.oxw().ngIf,r=i.oxw().$implicit,o=i.oxw();i.Q6J("value",o.getPresentationText(r,n.value))}}function bo(e,t){if(1&e&&(i.ynx(0),i.YNc(1,go,6,16,"div",5),i.YNc(2,yo,1,1,"ehr-presentation-value",6),i.BQk()),2&e){var n=t.ngIf,r=i.oxw(2);i.xp6(1),i.Q6J("ngIf",!r.presentationMode&&!r.isReadOnly),i.xp6(1),i.Q6J("ngIf",(r.isReadOnly||r.presentationMode)&&null!==n.value&&!(null==n.value||!n.value.toString()))}}function _o(e,t){if(1&e&&(i.TgZ(0,"div",1),i.ALo(1,"async"),i.YNc(2,mo,2,3,"mrd-validation-error-list",2),i.ALo(3,"async"),i.YNc(4,bo,3,2,"ng-container",3),i.qZA()),2&e){var n,r,o=t.$implicit,a=i.oxw();i.ekj("error",!(null==(n=i.lcZ(1,4,a.errorMessages[o.values[0].value]))||!n.length)),i.xp6(2),i.Q6J("ngIf",!a.isReadOnly&&!(null==(r=i.lcZ(3,6,a.errorMessages[o.values[0].value]))||!r.length)),i.xp6(2),i.Q6J("ngIf",a.getFormControlForModel(o))}}var Co=function(e){function t(t,n,r,o,a,s,l){var u=e.call(this,o,t,n,r,l)||this;return u.formState=o,u.validationResolver=a,u.translateService=s,u.modelStoreService=l,u.onDurationValue=new i.vpe,u.durationInputIdPrefix="duration-input-",u}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){var n=this;e.prototype.ngOnChanges.call(this,t),this.durationFormControls&&t.hasOwnProperty("inputModelValue")&&t.inputModelValue.currentValue.forEach(function(e){var t=n.durationFormControls.get(e.values[0].value);t||(t=new o.NI(e.magnitudeValue,n.getValidators(e.values[0])),n.errorMessages[e.values[0].value]=n.validationResolver.getErrorMessage(t),n.durationFormControls.set(e.values[0].value,t)),t.value!==e.magnitudeValue&&(t.markAsDirty({onlySelf:!0}),t.setValue(e.magnitudeValue))}),this.durationFormControls&&t.hasOwnProperty("isRequired")&&this.inputModelValue.forEach(function(e){var t=n.durationFormControls.get(e.values[0].value);t.setValidators(n.getValidators(e.values[0])),t.updateValueAndValidity()}),this.durationFormControls&&t.hasOwnProperty("disabled")&&this.inputModelValue.forEach(function(e){var r=n.durationFormControls.get(e.values[0].value);n.disableControl(r,!!t.disabled.currentValue)}),this.durationFormControls&&t.hasOwnProperty("isReadOnly")&&!this.isReadOnly&&setTimeout(function(){return n.positionUnitsNextToValues()})},t.prototype.ngOnInit=function(){var e=this;this.durationFormControls=new Map,this.errorMessages={},this.inputModelValue.map(function(t){var n=new o.NI({value:t.magnitudeValue,disabled:e.disabled},e.getValidators(t.values[0])),r=t.values[0].value||null;e.registerControl(e.controlName+"|"+r+e.multiIndex,n),e.durationFormControls.set(r,n),e.subscriptions.push(e.validationResolver.initializeValueChangeListener(n)),e.errorMessages[r]=e.validationResolver.getErrorMessage(n)})},t.prototype.ngAfterViewInit=function(){this.positionUnitsNextToValues()},t.prototype.getValidators=function(e){var t=[],n=e.decimalPlaces;return n&&n>-1&&t.push(sn.maxDecimalPlaces(n)),this.isRequired&&t.push(sn.numericRequired()),e.range&&(C.G1o.isNumber(e.range.min)&&t.push(sn.minMaxValue(e.range.minOp,e.range.min)),C.G1o.isNumber(e.range.max)&&t.push(sn.minMaxValue(e.range.maxOp,e.range.max))),t},t.prototype.trackByKey=function(e,t){return t.values[0].value},t.prototype.onDurationValueUpdated=function(e){null!==e.value&&this.onDurationValue.next(e),this.updateInputWidth(e)},t.prototype.onBlur=function(e,t){!this.isReadOnly&&t&&(t.pristine&&this.formState.getFormContextValue().displayValidationMessagesOnTouched&&t.updateValueAndValidity(),"-"===e.target.value&&t.setValue(""))},t.prototype.getFormControlForModel=function(e){return this.durationFormControls.get(e.values[0].value)},t.prototype.getPresentationText=function(e,t){return t+" "+this.translateService.instant("duration."+e.values[0].label)},t.prototype.positionUnitsNextToValues=function(){var e,t=this;null===(e=this.inputModelValue)||void 0===e||e.forEach(function(e){return t.updateInputWidth({value:e.magnitudeValue,durationInput:e.values[0].value})})},t.prototype.updateInputWidth=function(e){var t=this.elementRef.nativeElement.querySelector("#"+this.durationInputIdPrefix+e.durationInput);this.setInputWidthToValueWidth(t,e.value)},t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(o.sg),i.Y36(T.G),i.Y36(A.r),i.Y36(x.sK),i.Y36(w.G))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mrd-duration-input"]],inputs:{inputModelValue:"inputModelValue"},outputs:{onDurationValue:"onDurationValue"},features:[i.qOj,i.TTD],decls:1,vars:2,consts:[["class","input-group",3,"error",4,"ngFor","ngForOf","ngForTrackBy"],[1,"input-group"],["class","form-control--error-message",3,"translatedValidationErrors",4,"ngIf"],[4,"ngIf"],[1,"form-control--error-message",3,"translatedValidationErrors"],["class","input-wrapper",3,"no-value",4,"ngIf"],[3,"value",4,"ngIf"],[1,"input-wrapper"],["mrdNumericValueAccessor","",1,"form-control",3,"id","ngClass","formControl","readonly","tabindex","placeholder","mrdDecimalPrecision","blur","ngModelChange"],[1,"pl-2","py-1"],[3,"value"]],template:function(e,t){1&e&&i.YNc(0,_o,5,8,"div",0),2&e&&i.Q6J("ngForOf",t.inputModelValue)("ngForTrackBy",t.trackByKey)},directives:[m.sg,m.O5,fn,o.Fj,Si,m.mk,o.JJ,o.oH,pn],pipes:[m.Ov,x.X$],styles:[".input-wrapper[_ngcontent-%COMP%]{border-bottom:2px solid transparent;display:flex;width:100%}.input-wrapper.no-value[_ngcontent-%COMP%]{border-bottom-color:var(--b-labeled-input-no-value-border-color)}"],changeDetection:0}),t}(dn);function Eo(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function To(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-duration-input",8),i.NdJ("onDurationValue",function(e){var t=i.CHM(n).index;return i.oxw(2).onDurationValue(e.value,t,e.durationInput)})("addMultiInput",function(){return i.CHM(n),i.oxw(2).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(2).onRemoveMultiInput(e)}),i.qZA()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(2);i.Q6J("multiIndex",o)("controlName",a.controlName)("formId",a.model.formId)("inputModelValue",r)("isReadOnly",a.isReadOnlyValue)("isRequired",a.model.isRequired())}}function wo(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,Eo,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,To,1,6,"mrd-duration-input",6),i.ALo(12,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("ngClass",i.lcZ(1,11,r.elementSize)),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,13,r.model.getViewConfig()))("inputClasses",i.lcZ(4,15,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,17,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,21,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngForOf",i.lcZ(12,23,r.modelValues$))("ngForTrackBy",r.trackByIndex)}}var Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){e.prototype.ngOnChanges.call(this,t)},Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"durationValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.onAddMultiInput=function(){var e=this;this.modelValues$.pipe((0,p.q)(1),(0,E.U)(function(e){return e.length})).subscribe(function(t){e.model.durationValue({},t)})},t.prototype.onDurationValue=function(e,t,n){this.model.valueGetterSetter(isNaN(e)?null:e,t,n)},t.prototype.onRemoveMultiInput=function(t){e.prototype.onRemoveMultiInput.call(this,null),this.model.durationValue(null,t)},t.prototype.getModelValuesObs=function(t){var n=this;return e.prototype.getModelValuesObs.call(this,t).pipe((0,E.U)(function(e){return e.map(function(e){return n.model.getInputs().filter(function(e){var t=n.model.viewConfig.field;return!t||!t[e.suffix]||!0!==t[e.suffix].hidden}).map(function(t){return{magnitudeValue:void 0!==e&&null!=e[t.suffix]?e[t.suffix]:null,values:[{value:t.suffix,label:t.suffix,decimalPlaces:t.validation&&t.validation.precision,range:t.validation&&t.validation.range?t.validation.range:null,selected:!0}]}})})}))},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-duration"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-field ehr-duration","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"ngClass","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-duration",3,"ngClass","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"multiIndex","controlName","formId","inputModelValue","isReadOnly","isRequired","onDurationValue","addMultiInput","removeMultiInput",4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"multiIndex","controlName","formId","inputModelValue","isReadOnly","isRequired","onDurationValue","addMultiInput","removeMultiInput"]],template:function(e,t){1&e&&i.YNc(0,wo,13,25,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,m.sg,V,Co],pipes:[ni,ri,ii,oi,ai,m.Ov],styles:[""],changeDetection:0}),t}(dt),xo=function(){function e(e,t){this.dateParser=e,this.formState=t}return e.prototype.toDaysRange=function(e){return null!=e?e.split(",").slice(0,2):[]},e.prototype.getDateRangeValidators=function(e){var t=this,n=this.formState.getFormContextValue().dateFormat;return e&&e.length?e.reduce(function(e,r){var i=null;return"-0"!==r&&(i=parseInt(r,10)),(null==i||i<0)&&e.push(sn.dateAfter(function(e){var n=t.toModelValue(e.value.value,null);return n?new Date(n):null},null==i?0:i,n)),null!=i&&i>=0&&e.push(sn.dateBefore(function(e){var n=t.toModelValue(e.value.value,null);return n?new Date(n):null},i,n)),e},[]):[]},e.prototype.hasAnyPropValue=function(e){return!!Object.getOwnPropertyNames(e).find(function(t){return null!=e[t]&&""!==e[t]})},e.prototype.toModelValue=function(e,t){if(e){if(!this.hasAnyPropValue(e))return t;var n=[];return n.push(e.year?this.addLeadingZero(e.year):""),e.month&&n.push(this.addLeadingZero(e.month)),e.day&&n.push(this.addLeadingZero(e.day)),n.filter(function(e){return e||""===e}).join("-")}return""},e.prototype.toMrdObjectDateValue=function(e){var t=e.split("-"),n=parseInt(t[0],10),r=parseInt(t[1],10),i=parseInt(t[2],10);return isNaN(n)&&(n=void 0),isNaN(r)&&(r=void 0),isNaN(i)&&(i=void 0),{year:n,month:r,day:i}},e.prototype.addLeadingZero=function(e){var t=e.toString();return t.length<2?"0"+t:t},e.\u0275fac=function(t){return new(t||e)(i.LFG(a.NG),i.LFG(T.G))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}(),Io=n(87974),Mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,lt.ZT)(t,e),t.prototype.fromModel=function(e){return!e||null==e.hour&&null==e.minute?null:{hour:e.hour?e.hour:0,minute:e.minute?e.minute:0,second:0}},t.prototype.toModel=function(e){return!e||null==e.hour&&null==e.minute?null:{hour:e.hour?e.hour:0,minute:e.minute?e.minute:0}},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(a.Cw),So=function(e){function t(t){var n=e.call(this)||this;return n.translate=t,n.datepickerTranslations={weekdays:[n.translate.instant("date.short.day.monday"),n.translate.instant("date.short.day.tuesday"),n.translate.instant("date.short.day.wednesday"),n.translate.instant("date.short.day.thursday"),n.translate.instant("date.short.day.friday"),n.translate.instant("date.short.day.saturday"),n.translate.instant("date.short.day.sunday")],months:[n.translate.instant("date.short.month.january"),n.translate.instant("date.short.month.february"),n.translate.instant("date.short.month.march"),n.translate.instant("date.short.month.april"),n.translate.instant("date.short.month.may"),n.translate.instant("date.short.month.june"),n.translate.instant("date.short.month.july"),n.translate.instant("date.short.month.august"),n.translate.instant("date.short.month.september"),n.translate.instant("date.short.month.october"),n.translate.instant("date.short.month.november"),n.translate.instant("date.short.month.december")],monthsFull:[n.translate.instant("date.month.january"),n.translate.instant("date.month.february"),n.translate.instant("date.month.march"),n.translate.instant("date.month.april"),n.translate.instant("date.month.may"),n.translate.instant("date.month.june"),n.translate.instant("date.month.july"),n.translate.instant("date.month.august"),n.translate.instant("date.month.september"),n.translate.instant("date.month.october"),n.translate.instant("date.month.november"),n.translate.instant("date.month.december")]},n}return(0,lt.ZT)(t,e),t.prototype.getWeekdayShortName=function(e){return this.datepickerTranslations.weekdays[e-1]},t.prototype.getMonthShortName=function(e){return this.datepickerTranslations.months[e-1]},t.prototype.getMonthFullName=function(e){return this.datepickerTranslations.monthsFull[e-1]},t.prototype.getDayAriaLabel=function(e){return e.day+"-"+e.month+"-"+e.year},t.\u0275fac=function(e){return new(e||t)(i.LFG(x.sK))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(a.wf);function Vo(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ao(e,t,n){pt(2,arguments);var r=n||{},i=r.locale,o=i&&i.options&&i.options.weekStartsOn,a=null==o?0:ft(o),s=null==r.weekStartsOn?a:ft(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=mt(e),u=ft(t),c=l.getUTCDay(),d=u%7,h=(d+7)%7,f=(h<s?7:0)+u-c;return l.setUTCDate(l.getUTCDate()+f),l}var Do=/^(1[0-2]|0?\d)/,ko=/^(3[0-1]|[0-2]?\d)/,Ro=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Po=/^(5[0-3]|[0-4]?\d)/,No=/^(2[0-3]|[0-1]?\d)/,Fo=/^(2[0-4]|[0-1]?\d)/,Lo=/^(1[0-1]|0?\d)/,Zo=/^(1[0-2]|0?\d)/,Uo=/^[0-5]?\d/,Bo=/^[0-5]?\d/,Go=/^\d/,Ho=/^\d{1,2}/,qo=/^\d{1,3}/,jo=/^\d{1,4}/,Yo=/^-?\d+/,Jo=/^-?\d/,zo=/^-?\d{1,2}/,Qo=/^-?\d{1,3}/,Wo=/^-?\d{1,4}/,Ko=/^([+-])(\d{2})(\d{2})?|Z/,Xo=/^([+-])(\d{2})(\d{2})|Z/,$o=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,ea=/^([+-])(\d{2}):(\d{2})|Z/,ta=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function na(e,t,n){var r=t.match(e);if(!r)return null;var i=parseInt(r[0],10);return{value:n?n(i):i,rest:t.slice(r[0].length)}}function ra(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function ia(e,t){return na(Yo,e,t)}function oa(e,t,n){switch(e){case 1:return na(Go,t,n);case 2:return na(Ho,t,n);case 3:return na(qo,t,n);case 4:return na(jo,t,n);default:return na(new RegExp("^\\d{1,"+e+"}"),t,n)}}function aa(e,t,n){switch(e){case 1:return na(Jo,t,n);case 2:return na(zo,t,n);case 3:return na(Qo,t,n);case 4:return na(Wo,t,n);default:return na(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function sa(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function la(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var o=i+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}var ua=[31,28,31,30,31,30,31,31,30,31,30,31],ca=[31,29,31,30,31,30,31,31,30,31,30,31];function da(e){return e%400==0||e%4==0&&e%100!=0}var ha={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return oa(4,e,i);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return oa(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=e.getUTCFullYear();if(n.isTwoDigitYear){var o=la(n.year,i);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}return e.setUTCFullYear("era"in t&&1!==t.era?1-n.year:n.year,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return oa(4,e,i);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return oa(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=Nt(e,r);if(n.isTwoDigitYear){var o=la(n.year,i);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Pt(e,r)}return e.setUTCFullYear("era"in t&&1!==t.era?1-n.year:n.year,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Pt(e,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,n,r){return aa("R"===t?4:t.length,e)},set:function(e,t,n,r){var i=new Date(0);return i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0),Vt(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,n,r){return aa("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return oa(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return oa(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"M":return na(Do,e,i);case"MM":return oa(2,e,i);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"L":return na(Do,e,i);case"LL":return oa(2,e,i);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return na(Po,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return oa(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return Pt(function(e,t,n){pt(2,arguments);var r=mt(e),i=ft(t),o=Zt(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*o),r}(e,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return na(Po,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return oa(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return Vt(function(e,t){pt(2,arguments);var n=mt(e),r=ft(t),i=Rt(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"d":return na(ko,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return oa(t.length,e)}},validate:function(e,t,n){var r=da(e.getUTCFullYear()),i=e.getUTCMonth();return r?t>=1&&t<=ca[i]:t>=1&&t<=ua[i]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"D":case"DD":return na(Ro,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return oa(t.length,e)}},validate:function(e,t,n){return da(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=Ao(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return oa(t.length,e,i);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=Ao(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return oa(t.length,e,i);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=Ao(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,n,r){var i=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return oa(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiii":default:return n.day(e,{width:"wide",context:"formatting",valueCallback:i})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,r){return(e=function(e,t){pt(2,arguments);var n=ft(t);n%7==0&&(n-=7);var r=1,i=mt(e),o=i.getUTCDay(),a=((n%7+7)%7<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+a),i}(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(sa(n),0,0,0),e},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(sa(n),0,0,0),e},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(sa(n),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return na(Zo,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return oa(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var i=e.getUTCHours()>=12;return e.setUTCHours(i&&n<12?n+12:i||12!==n?n:0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return na(No,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return oa(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return na(Lo,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return oa(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){var i=e.getUTCHours()>=12;return e.setUTCHours(i&&n<12?n+12:n,0,0,0),e},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return na(Fo,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return oa(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){return e.setUTCHours(n<=24?n%24:n,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return na(Uo,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return oa(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return na(Bo,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return oa(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,n,r){return oa(t.length,e,function(e){return Math.floor(e*Math.pow(10,3-t.length))})},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return ra(Ko,e);case"XX":return ra(Xo,e);case"XXXX":return ra($o,e);case"XXXXX":return ra(ta,e);case"XXX":default:return ra(ea,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return ra(Ko,e);case"xx":return ra(Xo,e);case"xxxx":return ra($o,e);case"xxxxx":return ra(ta,e);case"xxx":default:return ra(ea,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,n,r){return ia(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,n,r){return ia(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},fa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pa=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ma=/^'([^]*?)'?$/,va=/''/g,ga=/\S/,ya=/[a-zA-Z]/;function ba(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}function _a(e){return e.match(ma)[1].replace(va,"'")}var Ca=function(e){function t(t){var n=e.call(this)||this;return n.ehrFormState=t,n}return(0,lt.ZT)(t,e),Object.defineProperty(t.prototype,"displayFormat",{get:function(){return this.ehrFormState.getFormContextValue().dateFormat},enumerable:!1,configurable:!0}),t.prototype.parse=function(e){if(!e)return null;var t=function(e,t,n,r){pt(3,arguments);var i=String(e),o=String(t),a=r||{},s=a.locale||Ot;if(!s.match)throw new RangeError("locale must contain match property");var l=s.options&&s.options.firstWeekContainsDate,u=null==l?1:ft(l),c=null==a.firstWeekContainsDate?u:ft(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=s.options&&s.options.weekStartsOn,h=null==d?0:ft(d),f=null==a.weekStartsOn?h:ft(a.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===o)return""===i?mt(n):new Date(NaN);var p,m={firstWeekContainsDate:c,weekStartsOn:f,locale:s},v=[{priority:10,subPriority:-1,set:ba,index:0}],g=o.match(pa).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,Yt[t])(e,s.formatLong,m):e}).join("").match(fa),y=[];for(p=0;p<g.length;p++){var b=g[p];!a.useAdditionalWeekYearTokens&&Kt(b)&&Xt(b,o,e),!a.useAdditionalDayOfYearTokens&&Wt(b)&&Xt(b,o,e);var _=b[0],C=ha[_];if(C){var E=C.incompatibleTokens;if(Array.isArray(E)){for(var T=void 0,w=0;w<y.length;w++){var O=y[w].token;if(-1!==E.indexOf(O)||O===_){T=y[w];break}}if(T)throw new RangeError("The format string mustn't contain `".concat(T.fullToken,"` and `").concat(b,"` at the same time"))}else if("*"===C.incompatibleTokens&&y.length)throw new RangeError("The format string mustn't contain `".concat(b,"` and any other token at the same time"));y.push({token:_,fullToken:b});var x=C.parse(i,b,s.match,m);if(!x)return new Date(NaN);v.push({priority:C.priority,subPriority:C.subPriority||0,set:C.set,validate:C.validate,value:x.value,index:v.length}),i=x.rest}else{if(_.match(ya))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if("''"===b?b="'":"'"===_&&(b=_a(b)),0!==i.indexOf(b))return new Date(NaN);i=i.slice(b.length)}}if(i.length>0&&ga.test(i))return new Date(NaN);var I=v.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return v.filter(function(t){return t.priority===e}).sort(function(e,t){return t.subPriority-e.subPriority})}).map(function(e){return e[0]}),M=mt(n);if(isNaN(M))return new Date(NaN);var S=It(M,Jt(M)),V={};for(p=0;p<I.length;p++){var A=I[p];if(A.validate&&!A.validate(S,A.value,m))return new Date(NaN);var D=A.set(S,V,A.value,m);D[0]?(S=D[0],Vo(V,D[1])):S=D}return S}(e,this.displayFormat,new Date);return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}},t.prototype.format=function(e){return e?on(new Date(e.year,e.month-1,e.day),this.displayFormat):""},t.\u0275fac=function(e){return new(e||t)(i.LFG(T.G))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(a.NG),Ea=function(){function e(){}return e.getDateValidators=function(e,t){var n=[];return e?(e.hasOwnProperty("min")&&n.push(this.getDateRangeValidator(Ta.MIN,-e.min,t)),e.hasOwnProperty("max")&&n.push(this.getDateRangeValidator(Ta.MAX,e.max,t)),n):n},e.getDateRangeValidator=function(e,t,n){return sn[e===Ta.MAX?"dateBefore":"dateAfter"](function(e){var t=e.value.value;return new Date(t.year||0,t.month+1||0,t.day||0)||null},t,n)},e}(),Ta=function(e){return e.MIN="min",e.MAX="max",e}({}),wa=["datepicker"],Oa=["datepickerEl"],xa=["timepicker"],Ia=["ngb-datepicker"];function Ma(e,t){if(1&e&&(i._UZ(0,"mrd-validation-error-list",5),i.ALo(1,"async")),2&e){var n=i.oxw();i.Q6J("translatedValidationErrors",i.lcZ(1,1,n.errorMessages))}}var Sa=function(e,t){return{"is-invalid":e,disabled:t}};function Va(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"input",9,10),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).onClickDateInput()})("blur",function(){return i.CHM(n),i.oxw(2).onDateBlur()})("dateSelect",function(){return i.CHM(n),i.oxw(2).onDateSelect()}),i.ALo(3,"async"),i.qZA()}if(2&e){var r,o=i.oxw(2);i.Q6J("ngClass",i.WLB(12,Sa,!(null==(r=i.lcZ(3,10,o.errorMessages))||!r.length),o.disabled))("formControl",o.dateControl)("placeholder",o.inputPlaceholder)("readonly",o.isReadOnly)("tabindex",o.isReadOnly?-1:"")("displayMonths",1)("autoClose",!0)("restoreFocus",null)("container","body")("datepickerClass","ehr-form")}}function Aa(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",11),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).datepicker.toggle()}),i._UZ(1,"i",12),i.qZA()}if(2&e){var r=i.oxw(2);i.xp6(1),i.ekj("disabled",r.disabled)}}var Da=function(e){return{"is-invalid":e}};function ka(e,t){if(1&e&&(i.TgZ(0,"div",13),i._UZ(1,"ngb-timepicker",14,15),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("formControl",n.timeControl)("readonlyInputs",n.isReadOnly)("spinners",!1)("ngClass",i.VKq(4,Da,n.timeControl.invalid))}}function Ra(e,t){if(1&e&&(i.ynx(0),i.YNc(1,Va,4,15,"input",6),i.YNc(2,Aa,2,2,"div",7),i.YNc(3,ka,3,6,"div",8),i.BQk()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("ngIf",n.showDateEditor),i.xp6(1),i.Q6J("ngIf",!n.isReadOnly&&n.showDateEditor),i.xp6(1),i.Q6J("ngIf",n.showTimeEditor)}}function Pa(e,t){if(1&e&&i._UZ(0,"ehr-presentation-value",16),2&e){var n=i.oxw();i.Q6J("value",n.getPresentationValue())}}var Na=function(e){function t(t,n,r,i,o,s,l,u,c,d){var h=e.call(this,i,t,n,r,c)||this;return h.formState=i,h.dateFormatter=o,h.daysValidationUtils=s,h.changeDetectorRef=l,h.validationResolver=u,h.modelStoreService=c,h.calendar=d,h.showTimeEditor=!1,h.showDateEditor=!1,a.Pm.prototype.propagateModelChange=function(e){void 0===e&&(e=!0),e&&this.onTouched(),this.onChange({hour:this.model.hour,minute:this.model.minute})},h}return(0,lt.ZT)(t,e),t.prototype.ngOnInit=function(){var e=this,t=this.fromMrdDateTime(this.modelValue),n=t.time;this.showDateEditor?(this.dateControl=new o.NI({value:t.date,disabled:this.disabled},this.getDateValidators()),this.registerControl(this.controlName+"|"+this.multiIndex+"date",this.dateControl),this.subscriptions.push(this.validationResolver.initializeValueChangeListener(this.dateControl))):this.dateControl=new o.NI({value:null,disabled:this.disabled}),this.showTimeEditor?(this.timeControl=new o.NI({value:n,disabled:this.disabled},this.getTimeValidators()),this.registerControl(this.controlName+"|"+this.multiIndex+"time",this.timeControl),this.subscriptions.push(this.validationResolver.initializeValueChangeListener(this.timeControl))):this.timeControl=new o.NI({value:null,disabled:this.disabled}),this.errorMessages=this.validationResolver.getErrorMessages([this.timeControl,this.dateControl]),this.timeControl&&this.subscriptions.push(this.timeControl.valueChanges.subscribe(function(t){e.onModelValue.emit(e.toMrdDateTime())})),this.formState.getFormContext().pipe((0,ut.R)(this.destroy$)).subscribe(function(t){if(e.timePlaceholder=t.timePlaceholder,t.hasOwnProperty("dateFormat")){e.dateFormat=t.dateFormat;var n=e.fromMrdDateTime(e.modelValue).date;e.dateControl.setValue(n)}})},t.prototype.ngOnChanges=function(t){if(e.prototype.ngOnChanges.call(this,t),this.dateControl||this.timeControl){if(t.hasOwnProperty("modelValue")){var n=this.fromMrdDateTime(t.modelValue.currentValue),r=n.time,i=n.date;this.showDateEditor&&JSON.stringify(this.dateControl.value)!==JSON.stringify(i)&&(this.timeControl.markAsDirty({onlySelf:!0}),this.dateControl.setValue(i)),this.showTimeEditor&&JSON.stringify(this.timeControl.value)!==JSON.stringify(r)&&(this.timeControl.markAsDirty({onlySelf:!0}),this.timeControl.setValue(r))}t.hasOwnProperty("isRequired")&&(this.showTimeEditor&&(this.timeControl.setValidators(this.getTimeValidators()),this.timeControl.updateValueAndValidity()),this.showDateEditor&&(this.dateControl.setValidators(this.getDateValidators()),this.dateControl.updateValueAndValidity())),t.hasOwnProperty("dateWithinRangeDays")&&this.showDateEditor&&(this.dateControl.setValidators(this.getDateValidators()),this.dateControl.updateValueAndValidity()),t.hasOwnProperty("validationInputs")&&this.showDateEditor&&(this.dateControl.setValidators(this.getDateValidators()),this.dateControl.updateValueAndValidity())}t.hasOwnProperty("isReadOnly")&&this.updateDateReadOnly()},t.prototype.getDateValidators=function(){var e=[];if(this.dateWithinRangeDays&&this.dateWithinRangeDays.length>0&&(e=this.daysValidationUtils.getDateRangeValidators(this.dateWithinRangeDays)),this.validationInputs){var t=this.formState.getFormContextValue().dateFormat;e=(0,lt.ev)((0,lt.ev)([],(0,lt.CR)(e)),(0,lt.CR)(Ea.getDateValidators(this.validationInputs,t)))}return this.isRequired&&e.push(sn.dateRequired()),e.push(sn.invalidCalendarDate(this.calendar)),e},t.prototype.getTimeValidators=function(){return this.isRequired?sn.timeRequired():null},t.prototype.ngAfterViewInit=function(){if(this.timepicker&&this.timepicker.nativeElement&&this.changeTimePlaceholders(),this.timepicker){var e=Array.from(this.timepicker.nativeElement.querySelectorAll("input"));new MutationObserver(function(t){t.forEach(function(t){var n=t.target;n.classList.contains("ng-dirty")&&n.classList.contains("ng-invalid")?e.forEach(function(e){e.classList.add("ng-dirty","ng-invalid")}):e.forEach(function(e){e.classList.remove("ng-invalid")})})}).observe(this.timepicker.nativeElement,{attributes:!0})}this.updateDateReadOnly()},t.prototype.onClickDateInput=function(){var e=this;this.datepicker.isOpen()||(this.datepicker.open(),setTimeout(function(){e.datepickerEl.nativeElement.focus()},0))},t.prototype.onDateSelect=function(){this.onDateBlur()},t.prototype.onDateBlur=function(){this.isReadOnly||(!this.areDateValuesNull(this.dateControl.value)&&this.showTimeEditor&&this.areTimeValuesNull(this.timeControl.value)&&(this.timeControl.markAsDirty({onlySelf:!0}),this.timeControl.setValue({hour:0,minute:0},{emitEvent:!1,emitModelToViewChange:!1,emitViewToModelChange:!1})),this.onModelValue.emit(this.toMrdDateTime()))},t.prototype.hasValue=function(){var e=!1;return this.showDateEditor&&(e=!this.areDateValuesNull(this.dateControl.value)),this.showTimeEditor&&!e&&(e=!this.areTimeValuesNull(this.timeControl.value)),e},t.prototype.isToday=function(e){var t=new Date(e.year,e.month-1,e.day),n=new Date;return t.getFullYear()===n.getFullYear()&&t.getDate()===n.getDate()&&t.getDay()===n.getDay()},t.prototype.toMrdDateTime=function(){var e=this.showTimeEditor&&this.timeControl.value?this.timeControl.value:{};return(0,lt.pi)((0,lt.pi)({},this.showDateEditor&&this.dateControl.value?this.dateControl.value:{}),e)},t.prototype.getPresentationValue=function(){var e,t=null!==(e=this.dateFormatter.format(this.dateControl.value))&&void 0!==e?e:"",n=this.timeControl.value;return t+(n?" "+this.padZero(n.hour)+":"+this.padZero(n.minute):"")},t.prototype.updateDateReadOnly=function(){this.datepickerEl&&(this.datepickerEl.nativeElement.disabled=this.isReadOnly)},t.prototype.changeTimePlaceholders=function(){var e=this;if(this.timePlaceholder){var t=Array.from(this.timepicker.nativeElement.querySelectorAll("input"));t.length&&t.forEach(function(t){switch(t.placeholder){case"HH":t.placeholder=e.timePlaceholder.hour?e.timePlaceholder.hour:"HH";break;case"MM":t.placeholder=e.timePlaceholder.minute?e.timePlaceholder.minute:"MM"}})}},t.prototype.areDateValuesNull=function(e){return!e||!e.year&&!e.month&&!e.day},t.prototype.areTimeValuesNull=function(e){return!e||!e.hour&&!e.minute},t.prototype.fromMrdDateTime=function(e){return{time:this.showTimeEditor&&e?{hour:e.hour,minute:e.minute}:null,date:this.showDateEditor&&e?{year:e.year,month:e.month,day:e.day}:null}},t.prototype.padZero=function(e){return null==e?"":e<10?"0"+e:null==e?void 0:e.toString()},t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(o.sg),i.Y36(T.G),i.Y36(a.NG),i.Y36(xo),i.Y36(i.sBO),i.Y36(A.r),i.Y36(w.G),i.Y36(a.vL))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mrd-date-input"]],viewQuery:function(e,t){if(1&e&&(i.Gf(wa,5),i.Gf(Oa,5),i.Gf(xa,5,i.SBq),i.Gf(Ia,5)),2&e){var n=void 0;i.iGM(n=i.CRH())&&(t.datepicker=n.first),i.iGM(n=i.CRH())&&(t.datepickerEl=n.first),i.iGM(n=i.CRH())&&(t.timepicker=n.first),i.iGM(n=i.CRH())&&(t.calendarDatePickerEl=n)}},inputs:{modelValue:"modelValue",showTimeEditor:"showTimeEditor",dateWithinRangeDays:"dateWithinRangeDays",showDateEditor:"showDateEditor",validationInputs:"validationInputs"},features:[i._Bn([{provide:a.Cw,useClass:Mo},{provide:a.wf,useClass:So},{provide:a.NG,useClass:Ca}]),i.qOj,i.TTD],decls:7,vars:5,consts:[[1,"row"],["class","form-control--error-message col-12",3,"translatedValidationErrors",4,"ngIf"],[1,"col-12","d-flex","flex-wrap"],[4,"ngIf","ngIfElse"],["presentation",""],[1,"form-control--error-message","col-12",3,"translatedValidationErrors"],["class","ehr-date-input field form-control","ngbDatepicker","",3,"ngClass","formControl","placeholder","readonly","tabindex","displayMonths","autoClose","restoreFocus","container","datepickerClass","click","blur","dateSelect",4,"ngIf"],["class","date-icon mr-4",3,"click",4,"ngIf"],["class","ngb-timepicker ehr-time-input",4,"ngIf"],["ngbDatepicker","",1,"ehr-date-input","field","form-control",3,"ngClass","formControl","placeholder","readonly","tabindex","displayMonths","autoClose","restoreFocus","container","datepickerClass","click","blur","dateSelect"],["datepickerEl","","datepicker","ngbDatepicker"],[1,"date-icon","mr-4",3,"click"],[1,"b-icon","calendar"],[1,"ngb-timepicker","ehr-time-input"],[3,"formControl","readonlyInputs","spinners","ngClass"],["timepicker",""],[3,"value"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.YNc(1,Ma,2,3,"mrd-validation-error-list",1),i.ALo(2,"async"),i.TgZ(3,"div",2),i.YNc(4,Ra,4,3,"ng-container",3),i.qZA(),i.qZA(),i.YNc(5,Pa,1,1,"ng-template",null,4,i.W1O)),2&e){var n=i.MAs(6),r=void 0;i.xp6(1),i.Q6J("ngIf",!t.isReadOnly&&!(null==(r=i.lcZ(2,3,t.errorMessages))||!r.length)),i.xp6(3),i.Q6J("ngIf",!t.presentationMode)("ngIfElse",n)}},directives:[m.O5,fn,a.J4,o.Fj,m.mk,o.JJ,o.oH,a.Pm,pn],pipes:[m.Ov],styles:[".ehr-date-input[_ngcontent-%COMP%]{max-width:110px}.ehr-date-input.disabled[_ngcontent-%COMP%]::-moz-placeholder{color:var(--b-input-placeholder-disabled-color)}.ehr-date-input.disabled[_ngcontent-%COMP%]::placeholder{color:var(--b-input-placeholder-disabled-color)}.ehr-time-input[_ngcontent-%COMP%]{display:flex;justify-content:space-between;max-width:100%}.date-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.date-icon[_ngcontent-%COMP%]   i.b-icon[_ngcontent-%COMP%]{color:var(--b-input-placeholder-color)}.date-icon[_ngcontent-%COMP%]   i.b-icon.disabled[_ngcontent-%COMP%]{color:var(--b-input-right-appendix-color)}"],changeDetection:0}),t}(dn);function Fa(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function La(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-date-input",8),i.NdJ("addMultiInput",function(){return i.CHM(n),i.oxw(2).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(2).onRemoveMultiInput(e)})("onModelValue",function(e){var t=i.CHM(n).index;return i.oxw(2).updateModel(e,t)}),i.qZA()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(2);i.Q6J("multiIndex",o)("modelValue",r)("isReadOnly",a.isReadOnlyValue)("controlName",a.controlName)("formId",a.model.formId)("isRequired",a.model.isRequired())("inputPlaceholder",a.ehrInputPlaceholder)("showTimeEditor",a.showTime)("showDateEditor",!0)("dateWithinRangeDays",a.daysRange)("validationInputs",a.validationInputs)}}function Za(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,Fa,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,La,1,11,"mrd-date-input",6),i.ALo(12,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("ngClass",i.lcZ(1,11,r.elementSize)),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,13,r.model.getViewConfig()))("inputClasses",i.lcZ(4,15,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,17,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,21,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngForOf",i.lcZ(12,23,r.modelValues$))("ngForTrackBy",r.trackByIndex)}}var Ua=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.VALID_KEY_NAMES=["hour","minute","second","year","month","day"],t}return(0,lt.ZT)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},Object.defineProperty(t.prototype,"ehrInputPlaceholder",{get:function(){return this.annotations.placeholder||this.ehrFormState.getFormContextValue().datePlaceholder||this.ehrFormState.getFormContextValue().dateFormat||""},enumerable:!1,configurable:!0}),t.prototype.ngOnChanges=function(t){if(this.dateValidationUtil||(this.dateValidationUtil=this.injector.get(xo)),e.prototype.ngOnChanges.call(this,t),t.hasOwnProperty("model")){var n=t.model.currentValue.getViewConfig().field;this.showTime=!(n&&n.time&&n.time.hidden),this.validationInputs=this.getValidationInputs()}},t.prototype.getModelObservableValues=function(t){var n=this;return e.prototype.getModelObservableValues.call(this,t).pipe((0,E.U)(function(e){return e.map(function(e){return e?n.toMrdObjectDateTimeValue(e):""})}))},Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"dateTimeValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.updateModel=function(t,n){this.isEmptyValue(t)&&(t=this.modelEmptyValue);var r=this.toModelValue(t);e.prototype.updateModel.call(this,r,n)},t.prototype.getAnnotationSub=function(){var t=this;return e.prototype.getAnnotationSub.call(this).pipe((0,k.b)(function(e){t.daysRange=t.dateValidationUtil.toDaysRange(e.dateInRange)}))},t.prototype.toModelValue=function(e){if(e){var t=e.year?e.year:0,n=e.month?e.month:0,r=e.day?e.day:0;if(!t||!n||!r){var i=new Date;t=t||i.getFullYear(),n=n||i.getMonth()+1,r=r||i.getDate()}var o=e.hour?e.hour:0,a=e.minute?e.minute:0;if(!this.showTime)return t+"-"+this.padZero(n.toString(10))+"-"+this.padZero(r.toString(10));var s=t+"-"+this.padZero(n.toString(10))+"-"+this.padZero(r.toString(10))+"T"+this.padZero(o.toString(10))+":"+this.padZero(a.toString(10)),l=void 0;try{var u=new Date(s);u.setHours(o),h=(d=-(c=u).getTimezoneOffset())>=0?"+":"-",f=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t},l=c.getFullYear()+"-"+f(c.getMonth()+1)+"-"+f(c.getDate())+"T"+f(c.getHours())+":"+f(c.getMinutes())+":"+f(c.getSeconds())+h+f(d/60)+":"+f(d%60)}catch(p){throw new Error("Can not parse date EhrDateTimeComponent.toModelValue param="+e+" parsing date string="+s+" err="+p)}return l}var c,d,h,f;return""},t.prototype.padZero=function(e){return e.length<2?"0"+e:e},t.prototype.toMrdObjectDateTimeValue=function(e){if(this.isObjectTypeOfMrdDateTime(e))return e;var t=null,n=null,r=null,i=null,o=null,a=null,s="string"==typeof e,l=[],u=[];if(s&&(l=e.split(":"),u=e.split("-")),e&&e instanceof Date||s&&u.length>1&&l.length>1){var c=void 0;try{c=new Date(e)}catch(d){throw new Error("Can not parse date EhrDateTimeComponent.toMrdObjectValue param="+e+" parsing date string="+e+" err="+d)}i=c.getFullYear(),o=c.getMonth()+1,a=c.getDate(),t=c.getHours(),n=c.getMinutes(),r=c.getSeconds()}else s&&(l.length>1?(t=null!=l[0]?parseInt(l[0],10):0,n=null!=l[1]?parseInt(l[1],10):0,r=null!=l[2]?parseInt(l[2],10):0):u.length>1&&(i=null!=u[0]?parseInt(u[0],10):0,o=null!=u[1]?parseInt(u[1],10):0,a=null!=u[2]?parseInt(u[2],10):0));return{year:i,month:o,day:a,hour:t,minute:n,second:r}},t.prototype.isEmptyValue=function(e){var t=this;return!e||!Object.keys(e).find(function(n){return t.VALID_KEY_NAMES.indexOf(n)>=0&&null!=e[n]&&0!==e[n]})},t.prototype.isObjectTypeOfMrdDateTime=function(e){if(!(e instanceof Object))return!1;var t=!0;return this.VALID_KEY_NAMES.forEach(function(n){t=t&&void 0!==Object.keys(e).find(function(e){return n===e})}),t},t.prototype.getValidationInputs=function(){var e,t=null===(e=this.model.getInputByType(C.n$I.DATETIME))||void 0===e?void 0:e.getValidation();return null==t?void 0:t.getRange()},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-date-time"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-field ehr-date-time","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"ngClass","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-date-time",3,"ngClass","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"multiIndex","modelValue","isReadOnly","controlName","formId","isRequired","inputPlaceholder","showTimeEditor","showDateEditor","dateWithinRangeDays","validationInputs","addMultiInput","removeMultiInput","onModelValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"multiIndex","modelValue","isReadOnly","controlName","formId","isRequired","inputPlaceholder","showTimeEditor","showDateEditor","dateWithinRangeDays","validationInputs","addMultiInput","removeMultiInput","onModelValue"]],template:function(e,t){1&e&&i.YNc(0,Za,13,25,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,m.sg,V,Na],pipes:[ni,ri,ii,oi,ai,m.Ov],styles:[""],changeDetection:0}),t}(dt);function Ba(e,t){if(1&e&&(i._UZ(0,"mrd-validation-error-list",9),i.ALo(1,"async")),2&e){var n=i.oxw(2);i.Q6J("translatedValidationErrors",i.lcZ(1,1,n.errorMessages))}}n(57490);var Ga=function(e){return{"is-invalid":e}};function Ha(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",5),i.TgZ(1,"ng-select",10,11),i.NdJ("change",function(){return i.CHM(n),i.oxw(2).setMonth()})("focus",function(){return i.CHM(n),i.MAs(2).open()}),i.ALo(3,"async"),i.ALo(4,"translate"),i.qZA(),i.qZA()}if(2&e){var r,o=i.oxw(2);i.Q6J("ngClass","col-md-"+o.fieldWidth.month),i.xp6(1),i.Q6J("ngClass",i.VKq(13,Ga,!(null==(r=i.lcZ(3,9,o.errorMessages))||!r.length)))("formControl",o.monthControl)("bindValue","index")("bindLabel","name")("items",o.months)("clearOnBackspace",!0)("appendTo","form.ehr-form-"+o.formUid)("placeholder",i.lcZ(4,11,"select.month"))}}function qa(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",5),i.TgZ(1,"ng-select",6,12),i.NdJ("change",function(){return i.CHM(n),i.oxw(2).setDay()})("focus",function(){return i.CHM(n),i.MAs(2).open()}),i.ALo(3,"async"),i.ALo(4,"translate"),i.qZA(),i.qZA()}if(2&e){var r,o=i.oxw(2);i.Q6J("ngClass","col-md-"+o.fieldWidth.day),i.xp6(1),i.Q6J("ngClass",i.VKq(11,Ga,!(null==(r=i.lcZ(3,7,o.errorMessages))||!r.length)))("formControl",o.dayControl)("items",o.days)("clearOnBackspace",!0)("appendTo","form.ehr-form-"+o.formUid)("placeholder",i.lcZ(4,9,"select.day"))}}function ja(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",2),i.TgZ(1,"div",3),i.YNc(2,Ba,2,3,"mrd-validation-error-list",4),i.ALo(3,"async"),i.qZA(),i.TgZ(4,"div",5),i.TgZ(5,"ng-select",6,7),i.NdJ("change",function(){return i.CHM(n),i.oxw().setYear()})("focus",function(){return i.CHM(n),i.MAs(6).open()}),i.ALo(7,"async"),i.ALo(8,"translate"),i.qZA(),i.qZA(),i.YNc(9,Ha,5,15,"div",8),i.YNc(10,qa,5,13,"div",8),i.qZA()}if(2&e){var r,o,a=i.oxw();i.Q6J("formGroup",a.formGroupDirective.form),i.xp6(2),i.Q6J("ngIf",!a.isReadOnly&&!(null==(r=i.lcZ(3,11,a.errorMessages))||!r.length)),i.xp6(2),i.Q6J("ngClass","col-md-"+a.fieldWidth.year),i.xp6(1),i.Q6J("ngClass",i.VKq(17,Ga,!(null==(o=i.lcZ(7,13,a.errorMessages))||!o.length)))("formControl",a.yearControl)("items",a.years)("clearOnBackspace",!0)("appendTo","form.ehr-form-"+a.formUid)("placeholder",i.lcZ(8,15,"select.year")),i.xp6(4),i.Q6J("ngIf",a.monthControl),i.xp6(1),i.Q6J("ngIf",a.dayControl)}}function Ya(e,t){if(1&e&&i._UZ(0,"ehr-presentation-value",13),2&e){var n=i.oxw();i.Q6J("value",n.getPresentationValue())}}var Ja=function(e){function t(t,n,r,i,o,a,s,l){var u=e.call(this,i,t,n,r,s)||this;return u.formGroupDirective=r,u.formState=i,u.validationResolver=o,u.translateService=a,u.modelStoreService=s,u.formDataService=l,u.years=[],u.months=[],u.days=[],u.fieldWidth={year:4,month:4,day:4},u.minYearDeviation=100,u.maxYearDeviation=100,u}return(0,lt.ZT)(t,e),t.prototype.ngOnInit=function(){this.initDays(),this.initMonths(),this.initYears(),this.errorMessages=this.dayControl&&this.monthControl?this.validationResolver.getErrorMessages([this.monthControl,this.dayControl,this.yearControl]):this.monthControl?this.validationResolver.getErrorMessages([this.monthControl,this.yearControl]):this.validationResolver.getErrorMessage(this.yearControl).pipe((0,ct.O)([]),(0,E.U)(function(e){return(0,lt.ev)([],(0,lt.CR)(e))})),this.formUid=this.formDataService.getFormUid()},t.prototype.ngOnChanges=function(t){var n=this;if(this.initMonths(),e.prototype.ngOnChanges.call(this,t),(t.hasOwnProperty("minYears")||t.hasOwnProperty("maxYears"))&&this.initYears(),t.hasOwnProperty("isRequired")&&(this.yearControl&&this.yearControl.setValidators(this.getValidators(za.YEAR)),this.monthControl&&this.monthControl.setValidators(this.getValidators(za.MONTH)),this.dayControl&&this.dayControl.setValidators(this.getValidators(za.DAY))),!this.yearControl){var r=this.controlName+"|0"+this.getRandom()+"year";this.yearControl=new o.NI({value:this.modelValue.year||null,disabled:this.isReadOnly},this.getValidators(za.YEAR)),this.registerControl(r,this.yearControl),this.subscriptions.push(this.validationResolver.initializeValueChangeListener(this.yearControl))}var i=this.controlName+"|0"+this.getRandom()+this.multiIndex+"month";if(-1!==this.hiddenFields.indexOf(za.MONTH)||this.monthControl)this.hiddenFields.indexOf(za.MONTH)>-1&&this.monthControl&&(this.monthControl=void 0,this.removeControl(i),this.monthSubscription.unsubscribe());else{var a=this.months.find(function(e){return e.index===n.modelValue.month});this.monthControl=new o.NI({value:a?a.index:null,disabled:this.isReadOnly},this.getValidators(za.MONTH)),this.registerControl(i,this.monthControl),this.monthSubscription=this.validationResolver.initializeValueChangeListener(this.monthControl)}var s=this.controlName+"|0"+this.getRandom()+this.multiIndex+"day";if(-1!==this.hiddenFields.indexOf(za.DAY)||this.dayControl?this.hiddenFields.indexOf(za.DAY)>-1&&this.dayControl&&(this.dayControl=void 0,this.removeControl(s),this.daySubscription.unsubscribe()):(this.dayControl=new o.NI({value:this.modelValue.day||null,disabled:this.isReadOnly},this.getValidators(za.DAY)),this.registerControl(s,this.dayControl),this.daySubscription=this.validationResolver.initializeValueChangeListener(this.dayControl)),t.hasOwnProperty("modelValue")){var l=t.modelValue.currentValue;l&&this.applyNewValues(l)}this.isReadOnly&&(this.yearControl&&this.yearControl.disable(),this.monthControl&&this.monthControl.disable(),this.dayControl&&this.dayControl.disable()),this.setFieldsWidth()},t.prototype.setDay=function(){this.onModelValue.emit(this.toMrdDate())},t.prototype.setMonth=function(){this.hasValue(this.yearControl)&&this.initDays(),this.onModelValue.emit(this.toMrdDate())},t.prototype.setYear=function(){this.monthControl&&this.hasValue(this.monthControl)&&this.initDays(),this.onModelValue.emit(this.toMrdDate())},t.prototype.getPresentationValue=function(){var e,t,n,r,i,o=null===(e=this.yearControl)||void 0===e?void 0:e.value;return(null===(t=this.monthControl)||void 0===t?void 0:t.value)&&(o+="-"+(null===(n=this.monthControl)||void 0===n?void 0:n.value)),(null===(r=this.dayControl)||void 0===r?void 0:r.value)&&(o+="-"+(null===(i=this.dayControl)||void 0===i?void 0:i.value)),o},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this.daySubscription&&this.daySubscription.unsubscribe(),this.monthSubscription&&this.monthSubscription.unsubscribe()},t.prototype.initDays=function(){if(this.days=[],this.hasValue(this.yearControl)&&this.monthControl&&this.hasValue(this.monthControl))for(var e=new Date(this.yearControl.value,this.monthControl.value,0).getDate(),t=1;t<=e;)this.days.push(t++)},t.prototype.initYears=function(){var e=(new Date).getFullYear();this.years=[];for(var t=this.minYears?this.minYears:e-this.minYearDeviation;t<=(this.maxYears?this.maxYears:e);){var n=t++;this.years.includes(n)||this.years.push(n)}for(var r=this.maxYears?this.maxYears:e+this.maxYearDeviation;t<=r;)n=t++,this.years.includes(n)||this.years.push(n)},t.prototype.initMonths=function(){this.months.length||(this.months[0]=new Qa(1,this.translateService.instant("date.month.january")),this.months[1]=new Qa(2,this.translateService.instant("date.month.february")),this.months[2]=new Qa(3,this.translateService.instant("date.month.march")),this.months[3]=new Qa(4,this.translateService.instant("date.month.april")),this.months[4]=new Qa(5,this.translateService.instant("date.month.may")),this.months[5]=new Qa(6,this.translateService.instant("date.month.june")),this.months[6]=new Qa(7,this.translateService.instant("date.month.july")),this.months[7]=new Qa(8,this.translateService.instant("date.month.august")),this.months[8]=new Qa(9,this.translateService.instant("date.month.september")),this.months[9]=new Qa(10,this.translateService.instant("date.month.october")),this.months[10]=new Qa(11,this.translateService.instant("date.month.november")),this.months[11]=new Qa(12,this.translateService.instant("date.month.december")))},t.prototype.getValidators=function(e){if(!this.partialDatePattern)return[];if(za.YEAR===e&&this.isRequired)return[sn.required()];if(za.MONTH===e){var t=this.partialDatePattern.split("-")[1];return this.isDatePartRequired(t)}if(za.DAY===e){var n=this.partialDatePattern.split("-")[2];return this.isDatePartRequired(n)}return[]},t.prototype.toMrdDate=function(){return{year:this.yearControl?this.yearControl.value:null,month:this.monthControl?this.monthControl.value:null,day:this.dayControl?this.dayControl.value:null}},t.prototype.hasValue=function(e){return e&&e.value&&"null"!==e.value},t.prototype.isDatePartRequired=function(e){return-1===e.indexOf("??")||-1===e.indexOf("XX")&&this.isRequired?[sn.required()]:[]},t.prototype.applyNewValues=function(e){var t;if(this.yearControl.value!==e.year&&(this.yearControl.markAsDirty({onlySelf:!0}),this.yearControl.setValue(e.year)),this.monthControl&&this.monthControl.value!==e.month){this.monthControl.markAsDirty({onlySelf:!0});var n=null===(t=this.months.find(function(t){return t.index===e.month}))||void 0===t?void 0:t.index;this.monthControl.setValue(n)}this.dayControl&&this.dayControl.value!==e.day&&(this.dayControl.markAsDirty({onlySelf:!0}),this.dayControl.setValue(e.day))},t.prototype.getRandom=function(){return Math.random().toString(36).substring(7)},t.prototype.setFieldsWidth=function(){var e=this.dayControl?4:6;this.fieldWidth.year=e,this.fieldWidth.month=e,this.fieldWidth.day=e},t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(o.sg),i.Y36(T.G),i.Y36(A.r),i.Y36(x.sK),i.Y36(w.G),i.Y36(qe.W))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mrd-partial-date-input"]],inputs:{modelValue:"modelValue",hiddenFields:"hiddenFields",partialDatePattern:"partialDatePattern",minYears:"minYears",maxYears:"maxYears"},features:[i._Bn([{provide:a.NG,useClass:Ca}]),i.qOj,i.TTD],decls:2,vars:2,consts:[["class","row",3,"formGroup",4,"ngIf"],[3,"value",4,"ngIf"],[1,"row",3,"formGroup"],[1,"col-md-12"],["class","form-control--error-message",3,"translatedValidationErrors",4,"ngIf"],[3,"ngClass"],[1,"form-renderer-select",3,"ngClass","formControl","items","clearOnBackspace","appendTo","placeholder","change","focus"],["selectYear",""],[3,"ngClass",4,"ngIf"],[1,"form-control--error-message",3,"translatedValidationErrors"],[1,"form-renderer-select",3,"ngClass","formControl","bindValue","bindLabel","items","clearOnBackspace","appendTo","placeholder","change","focus"],["selectMonth",""],["selectDay",""],[3,"value"]],template:function(e,t){1&e&&(i.YNc(0,ja,11,19,"div",0),i.YNc(1,Ya,1,1,"ehr-presentation-value",1)),2&e&&(i.Q6J("ngIf",!t.presentationMode),i.xp6(1),i.Q6J("ngIf",t.presentationMode))},directives:[m.O5,o.JL,o.sg,m.mk,un.w9,o.JJ,o.oH,fn,pn],pipes:[m.Ov,x.X$],encapsulation:2,changeDetection:0}),t}(dn),za=function(e){return e[e.YEAR=0]="YEAR",e[e.MONTH=1]="MONTH",e[e.DAY=2]="DAY",e}({}),Qa=function(){return function(e,t){this.index=e,this.name=t}}();function Wa(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",6),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function Ka(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-date-input",8),i.NdJ("onModelValue",function(e){var t=i.CHM(n).index;return i.oxw(3).updateModel(e,t)})("addMultiInput",function(){return i.CHM(n),i.oxw(3).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(3).onRemoveMultiInput(e)}),i.qZA()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(3);i.Q6J("multiIndex",o)("modelValue",r)("isReadOnly",a.isReadOnlyValue)("controlName",a.controlName)("formId",a.model.formId)("isRequired",a.model.isRequired())("showDateEditor",!0)("inputPlaceholder",a.ehrInputPlaceholder)("dateWithinRangeDays",a.daysRange)("validationInputs",a.validationInputs)}}function Xa(e,t){if(1&e&&(i.ynx(0),i.YNc(1,Ka,1,10,"mrd-date-input",7),i.ALo(2,"async"),i.BQk()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,2,n.modelValues$))("ngForTrackBy",n.trackByIndex)}}function $a(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-partial-date-input",10),i.NdJ("addMultiInput",function(){return i.CHM(n),i.oxw(3).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(3).onRemoveMultiInput(e)})("onModelValue",function(e){var t=i.CHM(n).index;return i.oxw(3).updateModel(e,t)}),i.qZA()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(3);i.Q6J("multiIndex",o)("modelValue",r)("isReadOnly",a.isReadOnlyValue)("controlName",a.controlName)("formId",a.model.formId)("minYears",a.minYears)("maxYears",a.maxYears)("hiddenFields",a.hiddenFields)("isRequired",a.model.isRequired())("partialDatePattern",a.partialDatePattern)}}function es(e,t){if(1&e&&(i.ynx(0),i.YNc(1,$a,1,10,"mrd-partial-date-input",9),i.ALo(2,"async"),i.BQk()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,2,n.modelValues$))("ngForTrackBy",n.trackByIndex)}}function ts(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,Wa,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,Xa,3,4,"ng-container",3),i.YNc(12,es,3,4,"ng-container",3),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("ngClass",i.lcZ(1,11,r.elementSize)),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,13,r.model.getViewConfig()))("inputClasses",i.lcZ(4,15,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,17,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,21,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngIf",r.showDatepicker()),i.xp6(1),i.Q6J("ngIf",!r.showDatepicker())}}var ns=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hiddenFields=[],t.anyDatePattern="yyyy-??-??",t.VALID_KEY_NAMES=["year","month","day"],t}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){this.dateValidationUtil||(this.dateValidationUtil=this.injector.get(xo)),e.prototype.ngOnChanges.call(this,t),t.hasOwnProperty("model")&&(this.validationInputs=this.getValidationInputs()),this.initPartialDate()},t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},t.prototype.getModelValuesObs=function(t){var n=this;return e.prototype.getModelValuesObs.call(this,t).pipe((0,E.U)(function(e){return e.map(function(e){return n.isObjectTypeOfMrdDate(e)?e:e?n.dateValidationUtil.toMrdObjectDateValue(e):""})}))},t.prototype.showDatepicker=function(){var e=this.model.getPresentation();return!this.partialDatePattern||this.isFullDate()||this.partialDatePattern===this.anyDatePattern&&!this.isPartialDate(e)||!!this.partialDatePattern&&!this.isPartialDate(e)},Object.defineProperty(t.prototype,"ehrInputPlaceholder",{get:function(){return this.annotations.placeholder||this.ehrFormState.getFormContextValue().datePlaceholder||this.ehrFormState.getFormContextValue().dateFormat||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"dateValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.updateModel=function(t,n){this.isEmptyValue(t)&&(t=this.modelEmptyValue);var r=this.dateValidationUtil.toModelValue(t,this.modelEmptyValue);e.prototype.updateModel.call(this,r,n)},t.prototype.getAnnotationSub=function(){var t=this;return e.prototype.getAnnotationSub.call(this).pipe((0,k.b)(function(e){t.daysRange=t.dateValidationUtil.toDaysRange(e.dateInRange)}))},t.prototype.isEmptyValue=function(e){var t=this;return!!e&&!Object.keys(e).find(function(n){return t.VALID_KEY_NAMES.indexOf(n)>=0&&null!=e[n]})},t.prototype.isObjectTypeOfMrdDate=function(e){if(!(e instanceof Object))return!1;var t=!0;return this.VALID_KEY_NAMES.forEach(function(n){t=t&&void 0!==Object.keys(e).find(function(e){return n===e})}),t},t.prototype.initPartialDate=function(){var e=this,t=[za.YEAR,za.MONTH,za.DAY];this.hiddenFields=[],this.model.inputs.forEach(function(n){n.validation&&n.validation.range&&(e.minYears=n.validation.range.min,e.maxYears=n.validation.range.max),n.validation&&n.validation.getPattern()?(e.partialDatePattern=n.validation.getPattern(),e.partialDatePattern.split("-").forEach(function(n,r){n.indexOf("X")>-1&&e.hiddenFields.push(t[r])})):e.partialDatePattern=e.anyDatePattern});var n=this.model.getViewConfig().field;if(n){var r=Object.keys(n).filter(function(t){return e.VALID_KEY_NAMES.indexOf(t)>-1}).filter(function(e){return!0===n[e].hidden}).map(function(e){return za[e.toUpperCase()]});this.hiddenFields=(0,lt.ev)((0,lt.ev)([],(0,lt.CR)(this.hiddenFields)),(0,lt.CR)(r))}},t.prototype.isFullDate=function(){return!!this.partialDatePattern&&-1===this.partialDatePattern.indexOf("XX")&&-1===this.partialDatePattern.indexOf("??")},t.prototype.isPartialDate=function(e){return!!e&&([C.umi.PARTIAL_DATE,C.umi[C.umi.PARTIAL_DATE]].indexOf(e)>-1||!!this.hiddenFields.length)},t.prototype.getValidationInputs=function(){var e,t=null===(e=this.model.getInputByType(C.n$I.DATE))||void 0===e?void 0:e.getValidation();return null==t?void 0:t.getRange()},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-date"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-field ehr-date","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"ngClass","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-date",3,"ngClass","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"model"],[3,"multiIndex","modelValue","isReadOnly","controlName","formId","isRequired","showDateEditor","inputPlaceholder","dateWithinRangeDays","validationInputs","onModelValue","addMultiInput","removeMultiInput",4,"ngFor","ngForOf","ngForTrackBy"],[3,"multiIndex","modelValue","isReadOnly","controlName","formId","isRequired","showDateEditor","inputPlaceholder","dateWithinRangeDays","validationInputs","onModelValue","addMultiInput","removeMultiInput"],[3,"multiIndex","modelValue","isReadOnly","controlName","formId","minYears","maxYears","hiddenFields","isRequired","partialDatePattern","addMultiInput","removeMultiInput","onModelValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"multiIndex","modelValue","isReadOnly","controlName","formId","minYears","maxYears","hiddenFields","isRequired","partialDatePattern","addMultiInput","removeMultiInput","onModelValue"]],template:function(e,t){1&e&&i.YNc(0,ts,13,23,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,V,m.sg,Na,Ja],pipes:[ni,ri,ii,oi,ai,m.Ov],styles:[""],changeDetection:0}),t}(dt);function rs(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function is(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-date-input",8),i.NdJ("onModelValue",function(e){var t=i.CHM(n).index;return i.oxw(2).updateModel(e,t)})("addMultiInput",function(){return i.CHM(n),i.oxw(2).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(2).onRemoveMultiInput(e)}),i.qZA()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(2);i.Q6J("multiIndex",o)("modelValue",r)("isReadOnly",a.isReadOnlyValue)("controlName",a.controlName)("formId",a.model.formId)("isRequired",a.model.isRequired())("showTimeEditor",!0)}}function os(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,rs,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,is,1,7,"mrd-date-input",6),i.ALo(12,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.ekj("invalid",!1===r.fieldIsValid),i.Q6J("ngClass",i.lcZ(1,13,r.elementSize)),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,15,r.model.getViewConfig()))("inputClasses",i.lcZ(4,17,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,19,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,23,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngForOf",i.lcZ(12,25,r.modelValues$))("ngForTrackBy",r.trackByIndex)}}n(62118);var as=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.VALID_KEY_NAMES=["hour","minute","second"],t}return(0,lt.ZT)(t,e),t.prototype.getModelValuesObs=function(t){var n=this;return e.prototype.getModelValuesObs.call(this,t).pipe((0,E.U)(function(e){return e.map(function(e){return n.isObjectTypeOfMrdTime(e)?e:null==e||""===e?"":n.toMrdObjectValue(e)})}))},Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"timeValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.updateModel=function(t,n){this.isEmptyValue(t)&&(t=this.modelEmptyValue);var r=this.toModelValue(t);e.prototype.updateModel.call(this,r,n)},t.prototype.toModelValue=function(e){return e?(e.hour||0)+":"+(e.minute||0):""},t.prototype.toMrdObjectValue=function(e){var t,n,r,i,o=e.split(":");if(null===(t=o[0])||void 0===t?void 0:t.includes("T")){var a=new Date(e);n=a.getHours(),r=a.getMinutes(),i=a.getSeconds()}else n=parseInt(o[0],10),r=parseInt(o[1],10),i=parseInt(o[2],10);return isNaN(n)&&(n=null),isNaN(r)&&(r=null),isNaN(i)&&(i=null),{hour:n,minute:r,second:i}},t.prototype.isEmptyValue=function(e){var t=this;return!!e&&!Object.keys(e).find(function(n){return t.VALID_KEY_NAMES.indexOf(n)>=0&&null!=e[n]})},t.prototype.isObjectTypeOfMrdTime=function(e){if(!(e instanceof Object))return!1;var t=!0;return this.VALID_KEY_NAMES.forEach(function(n){t=t&&void 0!==Object.keys(e).find(function(e){return n===e})}),t},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-time"]],inputs:{model:"model"},features:[i.qOj],decls:1,vars:1,consts:[["class","ehr-field ehr-time","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"ngClass","invalid","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-time",3,"ngClass","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"multiIndex","modelValue","isReadOnly","controlName","formId","isRequired","showTimeEditor","onModelValue","addMultiInput","removeMultiInput",4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"multiIndex","modelValue","isReadOnly","controlName","formId","isRequired","showTimeEditor","onModelValue","addMultiInput","removeMultiInput"]],template:function(e,t){1&e&&i.YNc(0,os,13,27,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,m.sg,V,Na],pipes:[ni,ri,ii,oi,ai,m.Ov],styles:[""],changeDetection:0}),t}(dt);function ss(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function ls(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"mrd-codedtext-input",8),i.NdJ("search",function(e){return i.CHM(n),i.oxw(2).search(e)})("onModelValue",function(e){return i.CHM(n),i.oxw(2).updateModel(e)})("onClearValue",function(){return i.CHM(n),i.oxw(2).clearAllValues()}),i.qZA()}if(2&e){var r=t.ngIf,o=i.oxw(2);i.Q6J("modelValue",r)("modelValueObservable",o.modelValueObservable)("terminology",o.terminology)("dataSource",o.datasource)("listOpen",!!o.model.isListOpen())("isReadOnly",o.isReadOnlyValue)("buttonGroupColumnLayout",o.buttonGroupColumnLayout)("radioCheckboxColumns",o.radioCheckboxColumns)("codedTextPresentation",o.codedTextPresentation)("minItems",o.minItems)("maxItems",o.maxItems)("controlName",o.controlName)("formId",o.model.formId)("inputPlaceholder",o.ehrInputPlaceholder)("selectInputLabelOnTop",o.selectInputLabelOnTop)("selectInputLabelHide",o.selectInputLabelHide)("showCode",o.showCode)("hideInputLabel",o.hideInputLabel)("imageConfig",o.imageConfig)}}function us(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,ss,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,ls,1,19,"mrd-codedtext-input",6),i.ALo(12,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.ekj("no-borders",r.codedTextPresentation&&r.codedTextPresentation!==r.FieldPresentation.COMBOBOX),i.Q6J("ngClass",i.lcZ(1,13,r.elementSize))("disableClickToFocus",r.codedTextPresentation&&r.codedTextPresentation!==r.FieldPresentation.COMBOBOX),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,15,r.model.getViewConfig()))("inputClasses",i.lcZ(4,17,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,19,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,23,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngIf",i.lcZ(12,25,r.modelValues$))}}n(22410);var cs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minItemsForComboPresentation=0,t.FieldPresentation=C.umi,t}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){if(e.prototype.ngOnChanges.call(this,t),this.externalApiService||(this.externalApiService=this.injector.get(Sr.F)),this.datasourceService||(this.datasourceService=this.injector.get(Vr.U)),this.terminologyService||(this.terminologyService=this.injector.get(cn.a)),t.hasOwnProperty("model")){var n=t.model.currentValue,r=n.getViewConfig(),i=r.getFields("code");this.selectInputLabelOnTop=r.hasTag("inputLabelOnTop"),this.selectInputLabelHide=r.hasTag("inputLabelHide"),r.advanced&&(this.showCode=!!r.advanced.showCode,this.hideInputLabel=!!r.advanced.hideInputLabel),this.hideOther=r.hasTag("hideOther"),this.imageConfig=r.getFirstImage(),this.minItems=n.getMin(),this.maxItems=n.getMax(),i?(this.radioCheckboxColumns=this.isCombo(n,i,2)?0:i.columns,this.codedTextPresentation=i.getPresentation(),this.buttonGroupColumnLayout=i.getButtonGroupColumnLayout()):(this.radioCheckboxColumns=null,this.codedTextPresentation=null,this.buttonGroupColumnLayout=null),this.updateTerminologyValues(),this.updateDatasourceValues(),this.updateModelValuesObservable()}},t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.context=this.ehrFormState.getFormContextValue(),this.minItemsForComboPresentation=this.context.dropdownPresentationMinItems,this.formContextSub=(0,y.a)([this.ehrFormState.getFormContext(),this.modelValues$]).subscribe(function(e){t.terminology&&t.fetchAndUpdateTerminologyList("")})},t.prototype.updateModel=function(e){var t=this;if(e)if(e.value===Ir.OTHER_MODEL_VALUE)if(e.selected){if(null!=e.label)if(!0===e.replaceOther){var n=this.model.getOtherValues();if(0===n.length)this.model.isMulti()||this.clearAllValues(),this.model.addOtherValue(e.label);else{if(n.length>1){console.error("There are more than 1 other values on model where there should be only one. Removing other values!");for(var r=1;r<n.length;r++)this.model.replaceOtherValue(n[r],null)}this.model.replaceOtherValue(n[0],e.label)}}else this.model.addOtherValue(e.label)}else this.model.replaceOtherValue(e.label,null);else e.selected?(this.model.setSearchInput(""),this.model.codeValue(e.value,this.ehrFormState.currentLanguage,e.label)):this.model.removeValue(e.value);this.model.codeValue().then(function(e){t.hasValue=t.model.hasValue()})},t.prototype.clearAllValues=function(){this.model.clearValue()},t.prototype.updateTerminologyValues=function(){var e=this;this.terminologySub&&this.terminologySub.unsubscribe(),this.terminologySub=this.ehrModelObservable.fromEvent(this.model,C.X4$.TERMINOLOGY_CHANGE,this.model.getViewConfig().datasource).subscribe(function(t){var n;if(e.terminology=null,!e.model.hasDataset()&&e.model.getTerminologyCodeFromInput())e.terminology={loadRemote:!0,url:e.model.getTerminologyCodeFromInput(),parameters:t&&t.parameters?t.parameters:{}};else if(!e.model.hasDataset()&&t&&t.loadRemote)e.terminology={loadRemote:t.loadRemote,url:t.loadRemoteUrl,parameters:t.parameters};else{var r=(null===(n=e.model.getModelValueDataset())||void 0===n?void 0:n.length)||0;e.minItemsForComboPresentation&&r<e.minItemsForComboPresentation&&(e.codedTextPresentation=1===e.maxItems?C.umi.RADIOS:C.umi.CHECKBOX)}e.changeDetectorRef.markForCheck()})},t.prototype.search=function(e){this.model.setSearchInput(e)},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this.terminologySub&&this.terminologySub.unsubscribe(),this.datasourceSub&&this.datasourceSub.unsubscribe(),this.modelValuesSub&&this.modelValuesSub.unsubscribe(),this.formContextSub&&this.formContextSub.unsubscribe()},t.prototype.presentation=function(e){var t=null;return e&&e.getPresentation&&e.getPresentation()&&(t=e.getPresentation()),(!t||[C.umi.COMBOBOX,C.umi.RADIOS,C.umi.BUTTONGROUP,C.umi.CHECKBOX].indexOf(t)<0)&&(t=C.umi.COMBOBOX),t},Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"codeValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return{"|code":null,"|value":null}},enumerable:!1,configurable:!0}),t.prototype.isCombo=function(e,t,n){var r;return this.presentation(t)===C.umi.COMBOBOX&&(!e.getInputFor("code")||!(null===(r=e.getInputFor("code"))||void 0===r?void 0:r.terminology))||this.presentation(t)===C.umi.TEXTFIELD&&n>0},t.prototype.getModelObservableValues=function(e){var t=this;return this.ehrModelObservable.fromEvent(e,C.X4$.CHANGE,e).pipe((0,f.w)(function(e){return t.model[t.modelGetterSetterMethodName]()}))},t.prototype.getModelValuesObs=function(e){var t=this,n=this.ehrModelObservable.fromEvent(this.model,C.X4$.INPUT_ITEMS_UPDATED,this.model.getModelValueDataset()).pipe((0,E.U)(function(e){var n=t.model.getViewConfig().field;return e.reduce(function(e,t){var r,i;return(null===(r=null==n?void 0:n[t.value])||void 0===r?void 0:r.hidden)||(t.disabled=null===(i=null==n?void 0:n[t.value])||void 0===i?void 0:i.disabled,e.push(t instanceof C.O6i?t:new C.O6i(t))),e},[])})),r=(0,y.a)([this.getModelObservableValues(e),n]).pipe((0,E.U)(function(e){return{values:e[0],dataset:e[1]}})),i=this.ehrFormState.getFormContext().pipe((0,M.j)("language"),(0,S.x)());return(0,y.a)([r,i]).pipe((0,ut.R)(this.unsubscribe),(0,E.U)(function(e){var n=(0,lt.CR)(e,2),r=n[0],i=n[1],o=r.values,a=r.dataset.map(function(e){var n=e.getValue(),r=t.model.hasTag("hideOrdinalValue")||t.model.hasTag("hideScaleValue");return{value:n,label:e.getLabel(i,r),inputItemElement:!0,valueAndLabel:"("+n+") "+e.getLabel(i,r),selected:Array.isArray(o)?o.includes(n):o===n,disabled:e.disabled}});return(t.model.isListOpen()||t.terminology||t.datasource)&&t.model.getValue(void 0,void 0).filter(function(e){for(var t=0;t<a.length;t++)if(a[t].value===e["|code"])return!1;return!0}).forEach(function(e){a.push(null!=e["|other"]?{value:C.O6i.OTHER_VALUE,inputItemElement:!1,label:e["|other"],valueAndLabel:"(other) "+e["|other"],selected:!0}:{value:e["|code"],inputItemElement:!0,label:e["|value"],valueAndLabel:"("+e["|code"]+") "+e["|value"],selected:!0})}),a}))},t.prototype.updateDatasourceValues=function(){var e,t,n,r=this;!(null===(t=null===(e=this.model._getCodeInput())||void 0===e?void 0:e.list)||void 0===t?void 0:t.length)&&(null===(n=this.model.datasource)||void 0===n?void 0:n.isValid())&&(this.datasourceSub&&this.datasourceSub.unsubscribe(),this.datasourceSub=(0,y.a)([this.ehrModelObservable.fromEvent(this.model,C.X4$.DATASOURCE_CHANGE,this.model.datasource),this.ehrFormState.getFormContext()]).pipe((0,f.w)(function(e){var t=(0,lt.CR)(e,2);return r.datasource=t[0],r.modelValues$}),(0,f.w)(function(e){return r.getDataSource(e).pipe((0,p.q)(1))})).subscribe(function(e){var t,n=(null===(t=r.model.getModelValueDataset())||void 0===t?void 0:t.length)||0;r.minItemsForComboPresentation&&n<r.minItemsForComboPresentation&&(r.codedTextPresentation=1===r.maxItems?C.umi.RADIOS:C.umi.CHECKBOX),r.modelValueObservable=(0,l.of)(e),r.changeDetectorRef.detectChanges()}))},t.prototype.updateModelValuesObservable=function(){var e,t,n;this.modelValuesSub&&this.modelValuesSub.unsubscribe(),!(null===(t=null===(e=this.model._getCodeInput())||void 0===e?void 0:e.list)||void 0===t?void 0:t.length)&&(null===(n=this.datasource)||void 0===n?void 0:n.isValid())||(this.terminology?this.fetchAndUpdateTerminologyList(""):this.modelValues$&&(this.modelValueObservable=this.modelValues$))},t.prototype.fetchAndUpdateTerminologyList=function(e){var t,n=this;this.terminology&&!(null===(t=this.datasource)||void 0===t?void 0:t.isValid())&&(this.modelValuesSub&&this.modelValuesSub.unsubscribe(),this.modelValuesSub=this.modelValues$.pipe((0,f.w)(function(t){return n.terminologyService.getTerminologyDataset(n.terminology,e,t)})).subscribe(function(e){n.modelValueObservable=(0,l.of)(e)}))},t.prototype.getDataSource=function(e){return(0,Mr.Dp)(this.datasourceService.getDataSource(this.datasource,this.model)).pipe((0,E.U)(function(t){return(null==t?void 0:t.map(function(t){return Ar.Y.mapToCodedTextModelValue(t,e)}))||[]}))},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-coded-text"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-field ehr-coded-text","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"no-borders","ngClass","disableClickToFocus","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-coded-text",3,"ngClass","disableClickToFocus","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"modelValue","modelValueObservable","terminology","dataSource","listOpen","isReadOnly","buttonGroupColumnLayout","radioCheckboxColumns","codedTextPresentation","minItems","maxItems","controlName","formId","inputPlaceholder","selectInputLabelOnTop","selectInputLabelHide","showCode","hideInputLabel","imageConfig","search","onModelValue","onClearValue",4,"ngIf"],[3,"model"],[3,"modelValue","modelValueObservable","terminology","dataSource","listOpen","isReadOnly","buttonGroupColumnLayout","radioCheckboxColumns","codedTextPresentation","minItems","maxItems","controlName","formId","inputPlaceholder","selectInputLabelOnTop","selectInputLabelHide","showCode","hideInputLabel","imageConfig","search","onModelValue","onClearValue"]],template:function(e,t){1&e&&i.YNc(0,us,13,27,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,V,Ir],pipes:[ni,ri,ii,oi,ai,m.Ov],styles:[""],changeDetection:0}),t}(dt),ds=(n(83472),function(){function e(e){this.elementRef=e}return e.prototype.onClick=function(e){if(this.presentation!==C.umi.THREE_STATE&&!this.isSkippableElement(e)){var t=this.isCheckboxPresentation()?this.elementRef.nativeElement.querySelector("button"):this.elementRef.nativeElement.querySelector("ui-switch");t&&!t.disabled&&setTimeout(function(){return null==t?void 0:t.click()},0)}},e.prototype.isSkippableElement=function(e){var t,n,r,i=["button","ui-switch"];return i.includes(null===(t=null==e?void 0:e.tagName)||void 0===t?void 0:t.toLowerCase())||i.includes((null===(r=null===(n=e.parentElement)||void 0===n?void 0:n.tagName)||void 0===r?void 0:r.toLowerCase())||"")},e.prototype.isCheckboxPresentation=function(){return null==this.presentation||this.presentation===C.umi.CHECKBOX},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","ehrBooleanClickToToggleValue",""]],hostBindings:function(e,t){1&e&&i.NdJ("mouseup",function(e){return t.onClick(e.target)})},inputs:{presentation:"presentation"}}),e}()),hs=n(32859);function fs(e,t){if(1&e&&(i._UZ(0,"mrd-validation-error-list",11),i.ALo(1,"async")),2&e){var n=i.oxw(2);i.Q6J("translatedValidationErrors",i.lcZ(1,1,n.errorMessages))}}function ps(e,t){1&e&&i.GkF(0)}function ms(e,t){if(1&e&&(i.ynx(0),i.YNc(1,ps,1,0,"ng-container",12),i.BQk()),2&e){i.oxw(2);var n=i.MAs(4);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function vs(e,t){1&e&&i.GkF(0)}function gs(e,t){if(1&e&&(i.ynx(0),i.YNc(1,vs,1,0,"ng-container",12),i.BQk()),2&e){i.oxw(2);var n=i.MAs(6);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function ys(e,t){1&e&&i.GkF(0)}function bs(e,t){if(1&e&&(i.ynx(0),i.YNc(1,ys,1,0,"ng-container",12),i.BQk()),2&e){i.oxw(2);var n=i.MAs(10);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function _s(e,t){1&e&&i.GkF(0)}function Cs(e,t){if(1&e&&(i.ynx(0),i.YNc(1,_s,1,0,"ng-container",12),i.BQk()),2&e){i.oxw(2);var n=i.MAs(8);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function Es(e,t){if(1&e&&(i.TgZ(0,"div",6),i.YNc(1,fs,2,3,"mrd-validation-error-list",7),i.ALo(2,"async"),i.ynx(3,8),i.YNc(4,ms,2,1,"ng-container",9),i.YNc(5,gs,2,1,"ng-container",9),i.YNc(6,bs,2,1,"ng-container",9),i.YNc(7,Cs,2,1,"ng-container",10),i.BQk(),i.qZA()),2&e){var n,r=i.oxw();i.xp6(1),i.Q6J("ngIf",!r.isReadOnly&&!(null==(n=i.lcZ(2,5,r.errorMessages))||!n.length)),i.xp6(2),i.Q6J("ngSwitch",r.booleanPresentation),i.xp6(1),i.Q6J("ngSwitchCase",r.FieldPresentation.THREE_STATE),i.xp6(1),i.Q6J("ngSwitchCase",r.FieldPresentation.TOGGLE_SWITCH),i.xp6(1),i.Q6J("ngSwitchCase",r.FieldPresentation.YES_NO)}}function Ts(e,t){if(1&e&&(i._UZ(0,"ehr-presentation-value",13),i.ALo(1,"translate")),2&e){var n=i.oxw();i.Q6J("value",i.lcZ(1,1,n.getPresentationTranslationKey()))}}function ws(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",14),i.NdJ("ngModelChange",function(e){return i.CHM(n),i.oxw().updateValue(e)}),i.TgZ(1,"label",15),i._UZ(2,"input",16),i._UZ(3,"i",17),i.qZA(),i.TgZ(4,"label",15),i._UZ(5,"input",16),i._UZ(6,"i",18),i.qZA(),i.TgZ(7,"label",15),i._UZ(8,"input",16),i._UZ(9,"i",19),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.ekj("disabled",r.isReadOnly),i.Q6J("formControl",r.formControl),i.xp6(2),i.Q6J("value",!0)("disabled",!!r.trueReadOnly),i.xp6(3),i.Q6J("value",null)("disabled",!!r.nullReadOnly),i.xp6(3),i.Q6J("value",!1)("disabled",!!r.falseReadOnly)}}function Os(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ui-switch",20),i.NdJ("change",function(e){return i.CHM(n),i.oxw().updateValue(e)}),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("checked",r.checked)("disabled",r.isReadOnly)}}function xs(e,t){1&e&&i._UZ(0,"i",17)}var Is=function(e){return{checked:e}};function Ms(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"button",21),i.NdJ("click",function(){i.CHM(n);var e=i.oxw();return e.updateValue(!e.checked)}),i.YNc(1,xs,1,0,"i",22),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("ngClass",i.VKq(4,Is,r.checked))("id",r.formId+r.randNumber)("disabled",!!r.trueReadOnly),i.xp6(1),i.Q6J("ngIf",r.checked)}}function Ss(e,t){1&e&&i._UZ(0,"i",28)}function Vs(e,t){1&e&&i._UZ(0,"i",28)}function As(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",23),i.TgZ(1,"div",24),i.TgZ(2,"div",25),i.TgZ(3,"button",26),i.NdJ("click",function(){return i.CHM(n),i.oxw().toggleButton(!0)}),i.YNc(4,Ss,1,0,"i",27),i.TgZ(5,"span"),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(8,"div",25),i.TgZ(9,"button",26),i.NdJ("click",function(){return i.CHM(n),i.oxw().toggleButton(!1)}),i.YNc(10,Vs,1,0,"i",27),i.TgZ(11,"span"),i._uU(12),i.ALo(13,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.xp6(3),i.ekj("invalid",!r.formControl.valid)("selected",!0===r.formControl.value),i.Q6J("disabled",r.isReadOnly),i.xp6(1),i.Q6J("ngIf",!0===r.formControl.value),i.xp6(2),i.Oqu(i.lcZ(7,14,"boolean.presentation.yes")),i.xp6(3),i.ekj("invalid",!r.formControl.valid)("selected",!1===r.formControl.value),i.Q6J("disabled",r.isReadOnly),i.xp6(1),i.Q6J("ngIf",!1===r.formControl.value),i.xp6(2),i.Oqu(i.lcZ(13,16,"boolean.presentation.no"))}}var Ds=function(e){function t(t,n,r,i,o,a,s){var l=e.call(this,r,t,n,i,s)||this;return l.changeDetectorRef=o,l.validationResolver=a,l.randNumber=Math.random().toString(36).substring(7),l.FieldPresentation=C.umi,l.checked=!1,l}return(0,lt.ZT)(t,e),t.prototype.ngOnInit=function(){this.formControl=new o.NI(this.modelValue,this.isRequired?[sn.required()]:null),this.twoStateReadOnly()&&this.formControl.disable({emitEvent:!1}),this.registerControl(this.controlName+"|0",this.formControl),this.subscriptions.push(this.validationResolver.initializeValueChangeListener(this.formControl)),this.errorMessages=this.validationResolver.getErrorMessage(this.formControl)},t.prototype.ngOnChanges=function(t){e.prototype.ngOnChanges.call(this,t),this.formControl&&(this.twoStateReadOnly()&&this.formControl.disable({emitEvent:!1}),t.hasOwnProperty("isReadOnly")&&(!this.formControl.disabled&&this.twoStateReadOnly()?this.formControl.disable({emitEvent:!1}):this.formControl.disabled&&!this.twoStateReadOnly()&&this.formControl.enable({emitEvent:!1})),t.hasOwnProperty("modelValue")&&this.formControl.value!==t.modelValue.currentValue&&(this.formControl.markAsDirty({onlySelf:!0}),C.G1o.isArray(t.modelValue.currentValue)?this.formControl.setValue(t.modelValue.currentValue[0]):this.formControl.setValue(t.modelValue.currentValue)),t.hasOwnProperty("isRequired")&&(this.formControl.setValidators(this.isRequired?[sn.required()]:null),this.formControl.updateValueAndValidity()),this.formControl&&t.hasOwnProperty("disabled")&&this.disableControl(this.formControl,!!t.disabled.currentValue)),t.hasOwnProperty("modelValue")&&(this.checked=!!t.modelValue.currentValue),this.isReadOnly=!!this.isReadOnly&&this.isReadOnly},t.prototype.updateValue=function(e){!1!==e||this.falseAllowed||(e=null),this.onModelValue.emit(e),this.modelValue=e,this.changeDetectorRef.detectChanges()},t.prototype.twoStateReadOnly=function(){return this.isReadOnly||this.allowedValues&&this.allowedValues.length<2},Object.defineProperty(t.prototype,"trueAllowed",{get:function(){return this.allowedValues&&this.allowedValues.indexOf(!0)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"falseAllowed",{get:function(){return this.allowedValues&&this.allowedValues.indexOf(!1)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trueReadOnly",{get:function(){return this.isReadOnly||!this.trueAllowed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"falseReadOnly",{get:function(){return this.isReadOnly||!this.falseAllowed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nullReadOnly",{get:function(){return this.isReadOnly},enumerable:!1,configurable:!0}),t.prototype.toggleButton=function(e){var t=e;this.formControl.value===e?(this.formControl.patchValue(null),t=null):this.formControl.patchValue(e),this.formControl.updateValueAndValidity(),this.updateValue(t)},t.prototype.getPresentationTranslationKey=function(){return null==this.modelValue?"":this.booleanPresentation===C.umi.YES_NO?!0===this.modelValue?"boolean.presentation.yes":"boolean.presentation.no":"boolean.presentation."+this.modelValue.toString()},t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(T.G),i.Y36(o.sg),i.Y36(i.sBO),i.Y36(A.r),i.Y36(w.G))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mrd-boolean-input"]],inputs:{modelValue:"modelValue",allowedValues:"allowedValues",booleanPresentation:"booleanPresentation",formId:"formId"},features:[i.qOj,i.TTD],decls:11,vars:2,consts:[["class","",4,"ngIf","ngIfElse"],["presentationValue",""],["buttongroup",""],["toggleSwitch",""],["checkbox",""],["yesNo",""],[1,""],["class","form-control--error-message",3,"translatedValidationErrors",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"form-control--error-message",3,"translatedValidationErrors"],[4,"ngTemplateOutlet"],[3,"value"],["ngbRadioGroup","",1,"three-state-boolean",3,"formControl","ngModelChange"],["ngbButtonLabel","",1,"three-state-boolean--button"],["ngbButton","","type","radio",3,"value","disabled"],[1,"b-icon","check"],[1,"b-icon","minus"],[1,"b-icon","cancel"],["size","small",1,"ehr-switch",3,"checked","disabled","change"],[1,"btn","regular-boolean",3,"ngClass","id","disabled","click"],["class","b-icon check",4,"ngIf"],[1,"d-inline","my-0","w-100"],[1,"d-flex","justify-content-start","flex-wrap"],[1,"b-btn-wrapper"],["type","button",1,"b-form-btn",3,"disabled","title","click"],["class","b-icon check b-form-btn--check-icon",4,"ngIf"],[1,"b-icon","check","b-form-btn--check-icon"]],template:function(e,t){if(1&e&&(i.YNc(0,Es,8,7,"div",0),i.YNc(1,Ts,2,3,"ng-template",null,1,i.W1O),i.YNc(3,ws,10,9,"ng-template",null,2,i.W1O),i.YNc(5,Os,1,2,"ng-template",null,3,i.W1O),i.YNc(7,Ms,2,6,"ng-template",null,4,i.W1O),i.YNc(9,As,14,18,"ng-template",null,5,i.W1O)),2&e){var n=i.MAs(2);i.Q6J("ngIf",!t.presentationMode)("ngIfElse",n)}},directives:[m.O5,m.RF,m.n9,m.ED,fn,m.tP,pn,a.py,o.JJ,o.oH,a.mL,a.aB,hs.ob,m.mk],pipes:[m.Ov,x.X$],styles:[".regular-boolean[_ngcontent-%COMP%]{background-color:var(--b-boolean-background-color);border-radius:4px;border:2px solid var(--b-boolean-border-color);font-size:.6em;height:2em;width:2em;line-height:1.25em;margin:0;padding:0;display:flex;justify-content:center;align-items:center}.regular-boolean[_ngcontent-%COMP%], .regular-boolean[_ngcontent-%COMP%]:hover{color:transparent}.regular-boolean[_ngcontent-%COMP%]:disabled{background-color:var(--b-boolean-disabled-border-color);border-color:var(--b-boolean-disabled-border-color);cursor:not-allowed;opacity:1}.regular-boolean.checked[_ngcontent-%COMP%]{background-color:var(--b-boolean-checked-background-color);border-color:var(--b-boolean-checked-background-color)}.regular-boolean.checked[_ngcontent-%COMP%] > .b-icon[_ngcontent-%COMP%]{color:var(--b-boolean-checked-icon-color)}.three-state-boolean[_ngcontent-%COMP%]{background-color:var(--b-three-state-boolean-background-color);border-radius:.375em;display:flex;max-width:9.375em;width:clamp(150px,150px,9.375em)}.three-state-boolean.disabled[_ngcontent-%COMP%], .three-state-boolean[_ngcontent-%COMP%]:disabled{background:repeating-linear-gradient(-45deg,var(--b-labeled-input-disabled-hatching-color1) 0,var(--b-labeled-input-disabled-hatching-color1) 3px,var(--b-labeled-input-disabled-hatching-color2) 4px,var(--b-labeled-input-disabled-hatching-color2) 6px);border:2px solid var(--b-three-state-boolean-disabled-border-color)}.three-state-boolean[_ngcontent-%COMP%]   .three-state-boolean--button[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:.1875em .125em;padding:0 .25em}.three-state-boolean[_ngcontent-%COMP%]   .three-state-boolean--button.btn[_ngcontent-%COMP%]{line-height:1;transition:none}.three-state-boolean[_ngcontent-%COMP%]   .three-state-boolean--button[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:none}.three-state-boolean[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border-radius:4px;margin:0;padding:.25em;width:3.125em}.three-state-boolean[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{background-color:var(--b-three-state-boolean-active-button-background-color);border-radius:4px;box-shadow:0 3px 1px 0 rgba(0,0,0,.04),0 3px 8px 0 rgba(0,0,0,.12)}.three-state-boolean[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%] > .b-icon[_ngcontent-%COMP%]{color:var(--b-three-state-boolean-active-button-color)}.three-state-boolean[_ngcontent-%COMP%]   label.active.disabled[_ngcontent-%COMP%], .three-state-boolean[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]:disabled{background-color:var(--b-three-state-boolean-active-button-disabled-background-color);box-shadow:none;opacity:1}.three-state-boolean[_ngcontent-%COMP%]   label.active.disabled[_ngcontent-%COMP%] > .b-icon[_ngcontent-%COMP%], .three-state-boolean[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]:disabled > .b-icon[_ngcontent-%COMP%]{color:var(--b-three-state-boolean-disabled-color)}.three-state-boolean[_ngcontent-%COMP%]   label.disabled[_ngcontent-%COMP%], .three-state-boolean[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:disabled{color:var(--b-three-state-boolean-item-disabled-color);cursor:not-allowed}.three-state-boolean[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .b-icon[_ngcontent-%COMP%]{font-size:.875em}"]}),t}(dn);function ks(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function Rs(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,ks,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.TgZ(11,"mrd-boolean-input",6),i.NdJ("onModelValue",function(e){return i.CHM(n),i.oxw().updateModel(e,0)}),i.ALo(12,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("ngClass",i.lcZ(1,18,r.elementSize))("presentation",r.model.getFieldPresentation()),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,20,r.model.getViewConfig()))("inputClasses",i.lcZ(4,22,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,24,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid)("showLabelOnRight",!r.isPresentationMode&&r.showLabelOnRight),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,28,r.model.getViewConfig())),i.xp6(2),i.Q6J("controlName",r.controlName)("modelValue",i.lcZ(12,30,r.modelValues$))("isReadOnly",r.isReadOnlyValue)("formId",r.model.formId)("isRequired",r.model.isRequired())("booleanPresentation",r.model.getFieldPresentation())("allowedValues",r.allowedValues)}}var Ps=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showLabelOnRight=!1,t}return(0,lt.ZT)(t,e),Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"booleanValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.getModelValuesObs=function(e){return this.getModelObservableValues(e).pipe((0,ct.O)(this.model.booleanValue()),(0,S.x)())},t.prototype.ngOnChanges=function(t){if(e.prototype.ngOnChanges.call(this,t),t.hasOwnProperty("model")){var n=t.model.currentValue;this.allowedValues=n.allowedValues().slice(),!(n.isButtonGroup()||n.isYesNo())&&1===n.allowedValues().length&&n.allowedValues().indexOf(null)<0&&this.allowedValues.push(null),this.showLabelOnRight=this.model.viewConfig.getLayout().label.align===C.htc.RIGHT}},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-boolean"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-field ehr-boolean","ehrBooleanClickToToggleValue","","ehrOnRenderedEmitter","",3,"ngClass","presentation","onEhrComponentRendered",4,"ngIf"],["ehrBooleanClickToToggleValue","","ehrOnRenderedEmitter","",1,"ehr-field","ehr-boolean",3,"ngClass","presentation","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid","showLabelOnRight"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"controlName","modelValue","isReadOnly","formId","isRequired","booleanPresentation","allowedValues","onModelValue"],[3,"model"]],template:function(e,t){1&e&&i.YNc(0,Rs,13,32,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,ds,I,m.mk,Hr,qr,Ds,V],pipes:[ni,ri,ii,oi,ai,m.Ov],styles:[""],changeDetection:0}),t}(dt);function Ns(e,t){if(1&e&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&e){var n=i.oxw();i.xp6(1),i.hij('rmType="',n.model.getRmType(),'"')}}n(28148);var Fs=function(){function e(){this.RmType=C.B8O}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-no-component"]],inputs:{model:"model",ehrFormGroup:"ehrFormGroup"},decls:3,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(i._uU(0,"Custom component type for "),i.YNc(1,Ns,2,1,"span",0),i._uU(2," not defined.")),2&e&&(i.xp6(1),i.Q6J("ngIf",t.model))},directives:[m.O5],encapsulation:2,changeDetection:0}),e}(),Ls=function(){function e(e,t,n,r,o){this.viewContainerRef=e,this._componentFactoryResolver=t,this.customComponentsDictionary=n,this.injector=r,this.changeDetectorRef=o,this.onEhrComponentRendered=new i.vpe}return e.prototype.ngAfterContentInit=function(){var e=this;if(this.model&&this.model.getCustomComponentId()){var t=this.model.getCustomComponentId();t&&this.customComponentsDictionary.registeredComponents[t]&&this.customComponentsDictionary.componentName$(this.model.getCustomComponentId()).subscribe(function(t){e.loadComponent(t,e.model)})}else if(this.model&&this.customComponentsDictionary.registeredComponents[this.model.getRmType()])this.customComponentsDictionary.componentName$(this.model.getRmType()).subscribe(function(t){e.loadComponent(t,e.model)});else if(this.model){var n="No value exists in provided CustomComponentsDictionary for ";n+=this.model.getCustomComponentId()?"componentId="+this.model.getCustomComponentId():"dvType="+this.model.getRmType(),console.warn(n),this.loadComponent(Fs,this.model)}},e.prototype.loadComponent=function(e,t){var n=this;if(e){var r=this._componentFactoryResolver.resolveComponentFactory(e),o=this.viewContainerRef;o.clear();var a=o.createComponent(r),s=t;if(a.instance.model=s,a.instance.onEhrComponentRendered?this.onEhrComponentRenderedSubs=a.instance.onEhrComponentRendered.subscribe(function(){n.onEhrComponentRenderedSubs.unsubscribe(),n.onEhrComponentRendered.next()}):this.onEhrComponentRendered.next(),a.instance.ngOnChanges){var l={model:new i.WD2(null,s,!0),ehrFormGroup:new i.WD2(null,this.ehrFormGroup,!0)};a.instance.ngOnChanges(l)}setTimeout(function(){n.changeDetectorRef.markForCheck()},0)}},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.s_b),i.Y36(i._Vd),i.Y36(R),i.Y36(i.zs3),i.Y36(i.sBO))},e.\u0275dir=i.lG2({type:e,selectors:[["","ehrCustomComponentHost",""]],inputs:{model:"model",ehrFormGroup:"ehrFormGroup"},outputs:{onEhrComponentRendered:"onEhrComponentRendered"}}),e}(),Zs=(n(9165),n(60104)),Us=n(97581);function Bs(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function Gs(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,Bs,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.TgZ(11,"mrd-multimedia-input",6),i.NdJ("onModelValue",function(e){return i.CHM(n),i.oxw().updateUri(e)})("removeMultiInput",function(e){return i.CHM(n),i.oxw().onRemoveMultiInput(e)})("onFileSelected",function(e){return i.CHM(n),i.oxw().onFileSelected(e)}),i.ALo(12,"async"),i.ALo(13,"translate"),i.ALo(14,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("ngClass",i.lcZ(1,16,r.elementSize)),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,18,r.model.getViewConfig()))("inputClasses",i.lcZ(4,20,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,22,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,26,r.model.getViewConfig())),i.xp6(2),i.Q6J("controlName",r.controlName)("formId",r.model.formId)("modelValue",i.lcZ(12,28,r.modelValues$))("isReadOnly",r.isReadOnlyValue)("isRequired",r.model.isRequired())("buttonBrowseFilesLabel",i.lcZ(13,30,"browseFiles"))("buttonDropFilesLabel",i.lcZ(14,32,"dropFiles"))}}var Hs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isUrlProvidedThroughContext=!1,t}return(0,lt.ZT)(t,e),t.prototype.ngOnInit=function(){var t,n,r;e.prototype.ngOnInit.call(this);var i=null===(t=this.ehrFormState.getFormContextValue())||void 0===t?void 0:t.uploadUrl;this.isUrlProvidedThroughContext=!!i&&!this.model.annotationValue("uploadUrl")&&!(null===(n=this.formEnvironmentService.getVariable("uploadURl"))||void 0===n?void 0:n.value),this.uploadUrl=this.model.annotationValue("uploadUrl")||(null===(r=this.formEnvironmentService.getVariable("uploadURl"))||void 0===r?void 0:r.value)||i,this.paramNameForEhrId=this.model.annotationValue("paramNameForEhrId")||i},t.prototype.ngOnChanges=function(t){var n=this;this.resourceApiService||(this.resourceApiService=this.injector.get(Zs.g)),this.formEnvironmentService||(this.formEnvironmentService=this.injector.get(C.eNT)),this.externalApiService||(this.externalApiService=this.injector.get(Sr.F)),e.prototype.ngOnChanges.call(this,t),t.hasOwnProperty("model")&&this.model.getOrCreateValueNodeRef().forEach(function(e,t){n.model.replaceValueWithUri(e,t)})},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.getModelObservableValues=function(t){var n=this;return e.prototype.getModelObservableValues.call(this,t).pipe((0,E.U)(function(e){var t=e.map(function(e){return Object.assign({},e)}),r=t[t.length-1];return t.length>0&&r&&r["|uri"]&&n.model.isMulti()&&t.push({"|uri":""}),t}))},t.prototype.updateUri=function(e,t){void 0===t&&(t=0),this.model[this.modelGetterSetterMethodName](void 0,t)!==e&&this.model.uriValue(e,t)},t.prototype.onAddMultiInput=function(){var e=this;this.modelValues$.pipe((0,p.q)(1),(0,E.U)(function(e){return e.length})).subscribe(function(t){e.model.setValue({},t)})},t.prototype.onRemoveMultiInput=function(t){var n=this.model.getValue("|uri",t),r=Array.isArray(n)?n[0]:n;r&&this.resourceApiService.removeFile(r),e.prototype.onRemoveMultiInput.call(this,null),this.model.setValue(null,t)},t.prototype.onFileSelected=function(e){return(0,lt.mG)(this,void 0,void 0,function(){var t,n,r,i,o,a,s,l,u=this;return(0,lt.Jh)(this,function(c){switch(c.label){case 0:return this.uploadUrl||this.model.resourceData?e?(t=this.injector.get(C.eNT).getVariable(C.XF1.EHR_ID),n={ehrParam:this.paramNameForEhrId,ehrValue:t?t.value:null},(r=this.model.resourceData)?(i=this.formEnvironmentService.getExternalApi(r.api),(o=this.formEnvironmentService.getExternalApiCall(i,r.apiCall))?[4,this.externalApiService.evaluatePathParameters(this.model,o.pathParams)]:[2]):[3,4]):[2]:(console.warn("Upload URL doesnt exist for ",this.model.formId,"- Nothing will be uploaded"),[2]);case 1:return a=c.sent(),[4,this.externalApiService.evaluateDynamicParameters(this.model,null==o?void 0:o.dynamicParams)];case 2:return s=c.sent(),[4,this.externalApiService.getApiCallUrl(this.model,o,a)];case 3:return l=c.sent(),this.resourceApiService.uploadFilesThroughApi(e,{url:l,dynamicParams:s}).pipe((0,ut.R)(this.unsubscribe)).subscribe(function(e){var t=Us.F.mapToMultimediaModelValues(e,u.model.resourceData);null==t||t.forEach(function(e,t){return u.setModelValue(e.fileUrl,e.fileMimeType,e.altText,t)})}),[3,5];case 4:this.resourceApiService.uploadFiles(e,this.uploadUrl,(0,lt.pi)((0,lt.pi)({},n),{urlProvidedFromContext:this.isUrlProvidedThroughContext})).pipe((0,ut.R)(this.unsubscribe)).subscribe(function(e){e.forEach(function(e){e.success?u.setModelValue(e.fileUrl,e.fileMimeType,e.altText):alert(e.message)})}),c.label=5;case 5:return[2]}})})},t.prototype.setModelValue=function(e,t,n,r){void 0===r&&(r=0),this.model.uriValue(e,r),this.model.mediaTypeValue(t,r),this.model.altTextValue(n,r)},Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"getValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return{"|uri":null,"|mediatype":null}},enumerable:!1,configurable:!0}),t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-multimedia"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-field ehr-multimedia","ehrOnRenderedEmitter","",3,"ngClass","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","",1,"ehr-field","ehr-multimedia",3,"ngClass","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[3,"controlName","formId","modelValue","isReadOnly","isRequired","buttonBrowseFilesLabel","buttonDropFilesLabel","onModelValue","removeMultiInput","onFileSelected"],[3,"model"]],template:function(e,t){1&e&&i.YNc(0,Gs,15,34,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},styles:[""],changeDetection:0}),t}(dt);function qs(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function js(e,t){if(1&e){var n=i.EpF();i.ynx(0),i.TgZ(1,"mrd-text-input",8),i.NdJ("onModelValue",function(e){var t=i.CHM(n).index;return i.oxw(2).updateId(e,t)})("addMultiInput",function(){return i.CHM(n),i.oxw(2).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(2).onRemoveMultiInput(e)}),i.qZA(),i.BQk()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(2);i.xp6(1),i.Q6J("controlName",a.controlName)("multiIndex",o)("modelValue",r.id)("formId",a.model.formId)("isRequired",a.model.isRequired())("isReadOnly",a.isReadOnlyValue)("inputPlaceholder",a.ehrInputPlaceholder)}}function Ys(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,qs,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,js,2,7,"ng-container",6),i.ALo(12,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("ngClass",i.lcZ(1,11,r.elementSize)),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,13,r.model.getViewConfig()))("inputClasses",i.lcZ(4,15,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,17,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,21,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngForOf",i.lcZ(12,23,r.modelValues$))("ngForTrackBy",r.trackByIndex)}}n(84520);var Js=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,lt.ZT)(t,e),Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"identifierValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.onRemoveMultiInput=function(t){e.prototype.onRemoveMultiInput.call(this,t),this.model.setValue(null,t)},t.prototype.updateId=function(e,t){this.model.idValue(void 0,t)!==e&&this.model.idValue(e,t)},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-identifier"]],inputs:{model:"model"},features:[i.qOj],decls:1,vars:1,consts:[["class","ehr-field ehr-identifier","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"ngClass","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-identifier",3,"ngClass","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"controlName","multiIndex","modelValue","formId","isRequired","isReadOnly","inputPlaceholder","onModelValue","addMultiInput","removeMultiInput"]],template:function(e,t){1&e&&i.YNc(0,Ys,13,25,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,m.sg,V,ti],pipes:[ni,ri,ii,oi,ai,m.Ov],styles:[""],changeDetection:0}),t}(dt),zs=function(){function e(){}return e.prototype.transform=function(e){switch(e){case C.$jN.RIGHT:return"justify-content-end";case C.$jN.CENTER:return"justify-content-center";case C.$jN.LEFT:default:return"justify-content-start"}},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Yjl({name:"fieldAlignmentClass",type:e,pure:!0}),e}();function Qs(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"fieldAlignmentClass"),i.TgZ(2,"button",2),i.NdJ("click",function(){return i.CHM(n),i.oxw().onBtnClick()}),i.ALo(3,"async"),i._UZ(4,"span",3),i.ALo(5,"async"),i.qZA(),i.qZA()}if(2&e){var r,o=i.oxw();i.ekj("ehr-disabled",o.isReadOnly),i.Q6J("ngClass",i.lcZ(1,7,null==(r=o.model.getViewConfig().getLayout())||null==r.field?null:r.field.align)),i.uIk("data-ehr-path",o.model.getPath()),i.xp6(2),i.Q6J("ngClass",o.model.getViewConfig().style)("disabled",o.isReadOnly||i.lcZ(3,9,o.savingInProgress$)),i.xp6(2),i.Q6J("innerHTML",o.model.labelFor(i.lcZ(5,11,o.ehrFormState.getFormContext()).language),i.oJD)}}var Ws=function(){function e(e,t,n,r,o,a){this.elementRef=e,this.renderer=t,this.ehrFormState=n,this.changeDetectorRef=r,this.ehrModelObservable=o,this.injector=a,this.onEhrComponentRendered=new i.vpe,this.savingInProgress$=new D.X(!1),this.destroy=new g.x}return e.prototype.ngOnChanges=function(e){var t=this;if(e&&e.hasOwnProperty("model")){var n=e.model.currentValue;this.isHiddenSubs&&this.isHiddenSubs.unsubscribe(),this.isHiddenSubs=this.ehrModelObservable.fromEvent(n,C.X4$.EVENT_IS_HIDDEN,n.getViewConfig().isHidden()).subscribe(function(e){t.isHidden=e,t.changeDetectorRef.markForCheck()}),this.isReadOnlySubs&&this.isReadOnlySubs.unsubscribe(),this.isReadOnlySubs=(0,y.a)([this.ehrModelObservable.fromEvent(n,C.X4$.EVENT_IS_READ_ONLY,n.getViewConfig().isReadOnly(!0)),this.ehrFormState.getFormContext().pipe((0,E.U)(function(e){return e.readonly}))]).subscribe(function(e){t.isReadOnly=!0===e[0]||!0===e[1],t.changeDetectorRef.markForCheck()})}},e.prototype.ngOnDestroy=function(){this.isHiddenSubs&&this.isHiddenSubs.unsubscribe(),this.isReadOnlySubs&&this.isReadOnlySubs.unsubscribe(),this.savingInProgress$.complete(),this.destroy.next(),this.destroy.complete()},e.prototype.onBtnClick=function(){this.model.buttonClicked()},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(T.G),i.Y36(i.sBO),i.Y36(O.N),i.Y36(i.zs3))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-button"]],inputs:{model:"model"},outputs:{onEhrComponentRendered:"onEhrComponentRendered"},features:[i.TTD],decls:1,vars:1,consts:[["ehrOnRenderedEmitter","","class","ehr-button d-flex",3,"ngClass","ehr-disabled","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","",1,"ehr-button","d-flex",3,"ngClass","onEhrComponentRendered"],["type","button",1,"btn","b-form-btn",3,"ngClass","disabled","click"],[3,"innerHTML"]],template:function(e,t){1&e&&i.YNc(0,Qs,6,13,"div",0),2&e&&i.Q6J("ngIf",!t.isHidden)},directives:[m.O5,I,m.mk],pipes:[zs,m.Ov],styles:["@media only screen and (max-width:415px){.ehr-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width:415px){.ehr-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:auto}}"],changeDetection:0}),e}(),Ks=function(){function e(){}return e.prototype.transform=function(e,t){return!(t[e.getRmType()]||this.customComponentIdExist(e)&&t[e.getCustomComponentId()])},e.prototype.customComponentIdExist=function(e){return e.getCustomComponentId&&!!e.getCustomComponentId()},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Yjl({name:"renderAsDefaultComponent",type:e,pure:!0}),e}(),Xs=function(e){return{"transparent-border":e}};function $s(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i._UZ(1,"hr",2),i.qZA()}if(2&e){var r=i.oxw();i.Udp("margin",r.marginStyle),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(1),i.Q6J("ngClass",i.VKq(4,Xs,r.hideLine))}}var el=function(){function e(e,t,n,r){this.elementRef=e,this.ehrModelObservable=t,this.ehrFormState=n,this.changeDetectorRef=r,this.onEhrComponentRendered=new i.vpe,this.DEFAULT_MARGIN="1px 0px"}return e.prototype.ngOnChanges=function(e){if(e.hasOwnProperty("model")){this.updateHiddenObs(),this.marginStyle=this.DEFAULT_MARGIN;var t=this.model.viewConfig.getFieldPresentation();this.hideLine=!!t&&t===C.umi.BLANK}},e.prototype.ngOnDestroy=function(){this.isHiddenSubs&&this.isHiddenSubs.unsubscribe()},e.prototype.updateHiddenObs=function(){var e=this;this.isHiddenSubs&&this.isHiddenSubs.unsubscribe();var t=this.ehrModelObservable.fromEvent(this.model,C.X4$.EVENT_IS_HIDDEN,this.model.getViewConfig().isHidden(!1,this.ehrFormState.isPresentationModeEnabled())),n=this.ehrFormState.getFormContext().pipe((0,M.j)("presentationMode"),(0,S.x)());this.isHiddenSubs=(0,y.a)([t,n]).subscribe(function(t){var n=(0,lt.CR)(t,2)[0];e.isHidden=e.ehrFormState.isPresentationModeEnabled()?!e.model.showInPresentationMode():n,e.changeDetectorRef.markForCheck()})},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(O.N),i.Y36(T.G),i.Y36(i.sBO))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-spacer"]],inputs:{model:"model"},outputs:{onEhrComponentRendered:"onEhrComponentRendered"},features:[i.TTD],decls:1,vars:1,consts:[["class","ehr-spacer","ehrOnRenderedEmitter","",3,"margin","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","",1,"ehr-spacer",3,"onEhrComponentRendered"],[3,"ngClass"]],template:function(e,t){1&e&&i.YNc(0,$s,2,6,"div",0),2&e&&i.Q6J("ngIf",!t.isHidden)},directives:[m.O5,I,m.mk],styles:[".no-border[_nghost-%COMP%]{border:none}.no-header[_nghost-%COMP%] > .ehr-container[_ngcontent-%COMP%] > .ehr-container-bar[_ngcontent-%COMP%]{display:none}hr[_ngcontent-%COMP%]{border-width:thin}hr.transparent-border[_ngcontent-%COMP%]{border-color:transparent}"],changeDetection:0}),e}(),tl=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[_n],imports:[[m.ez,o.u5,o.UX,un.A0,x.aw,a.M,a.UL,a.HK,a.xZ,hs.Su]]}),e}(),nl=[{language:"en",keys:{"duration.year":"year/s","duration.year.ph":"yr","duration.month":"month/s","duration.month.ph":"mo","duration.week":"week/s","duration.week.ph":"w","duration.day":"day/s","duration.day.ph":"day","duration.hour":"hour/s","duration.hour.ph":"hr","duration.minute":"minute/s","duration.minute.ph":"min","duration.second":"second/s","duration.second.ph":"sec","boolean.yes":"\u2713","boolean.unknown":"-","boolean.no":"\u2717","boolean.presentation.true":"True","boolean.presentation.false":"False","boolean.presentation.null":"-","boolean.presentation.yes":"Yes","boolean.presentation.no":"No","multimedia.upload":"Upload","ngSelect.noItemsFound":"No items found","ngSelect.addItem":"Add item",other:"Other","other.inputLabel":"Other","other.selectedLabel":"Other: ","other.selectOptionLabel":"Other value",browseFiles:"browse",dropFiles:"Drop here or",loading:"Loading",notFound:"Not found",clearValue:"Clear","validation.ngbDate":"Date Invalid","validation.required":"Required field","validation.required.unit":"Unit is required.","validation.required.anyGroupValue":"Any input required.","validation.lessThanEqual":"Max. value {{lteValue}}","validation.greaterThanEqual":"Min. value {{gteValue}}","validation.isNumeric":"Entered value is not a number","validation.required.numerator":"Numer. required","validation.min.gte.numerator":"Numer. Min. value {{operator}} {{value}}","validation.min.gt.numerator":"Numer. Min. value {{operator}} {{value}}","validation.max.lte.numerator":"Numer. Max. value {{operator}} {{value}}","validation.max.lt.numerator":"Numer. Max. value {{operator}} {{value}}","validation.required.denominator":"Den. required","validation.min.gte.denominator":"Den. Min. value {{operator}} {{value}}","validation.min.gt.denominator":"Den. Min. value {{operator}} {{value}}","validation.max.lte.denominator":"Den. Max. value {{operator}} {{value}}","validation.max.lt.denominator":"Den. Max. value {{operator}} {{value}}","validation.min.gte":"Min. value {{operator}} {{value}}","validation.min.gt":"Min. value {{operator}} {{value}}","validation.max.lte":"Max. value {{operator}} {{value}}","validation.max.lt":"Max. value {{operator}} {{value}}","validation.min.duration":"{{field}} {{minOp}} {{min}}","validation.max.duration":"{{field}} max val. {{maxOp}} {{max}}","validation.min.multi":"Min. {{min}} add {{delta}} more","validation.max.multi":"Max. {{max}} remove {{delta}}","validation.maxSelectedItems":"Too many selected","validation.minSelectedItems":"Select more values","validation.min.listOpen":"Min. values not reached.","validation.max.listOpen":"Max. values reached.","validation.decimalPlaces.max":"Max. {{max}} decimal places. Remove {{delta}}.","validation.decimalPlaces.max.numerator":"Max. decimal places in numerator. Remove {{delta}}.","validation.decimalPlaces.max.denominator":"Max. decimal places in denominator. Remove {{delta}}.","validation.numberOfSelectionsInvalid":"Number of options between {{numberOfSelectionsMin}} and {{numberOfSelectionsMax}}","validation.pattern":"Example: {{patternValidExample}}","validation.terminologyCodeNotFound":"Terminology code {{codeValue}} is not valid.","validation.dateOptional.closeSelection":"skip optional selection","validation.dateOptional.requiredSelection":"required selection","validation.dateInvalidPattern":"Date pattern not valid: {{datePattern}}","validation.dateNotAfter":"First valid date is {{date}}","validation.dateNotBefore":"Last valid date is {{date}}","model.notFound.byTag":"Model not found by '{{queryStr}}' tag.","model.notFound.byPath":"Model not found by '{{queryStr}}' path.","placeholder.terminology":"Type and select.","placeholder.numericRange":"Insert value from {{min}} to {{max}}","date.month.january":"January","date.month.february":"February","date.month.march":"March","date.month.april":"April","date.month.may":"May","date.month.june":"June","date.month.july":"July","date.month.august":"August","date.month.september":"September","date.month.october":"October","date.month.november":"November","date.month.december":"December","date.short.month.january":"Jan","date.short.month.february":"Feb","date.short.month.march":"Mar","date.short.month.april":"Apr","date.short.month.may":"May","date.short.month.june":"Jun","date.short.month.july":"Jul","date.short.month.august":"Aug","date.short.month.september":"Sep","date.short.month.october":"Oct","date.short.month.november":"Nov","date.short.month.december":"Dec","date.short.day.monday":"Mo","date.short.day.tuesday":"Tu","date.short.day.wednesday":"We","date.short.day.thursday":"Th","date.short.day.friday":"Fr","date.short.day.saturday":"Sa","date.short.day.sunday":"Su","select.day":"Day","select.month":"Month","select.year":"Year","GENERIC_CANVAS.MARKUP":"Markup","GENERIC_CANVAS.CHANGE":"Change image","GENERIC_CANVAS.UNDO":"Undo","GENERIC_CANVAS.CLEAR":"Clear all","GENERIC_CANVAS.CANCEL":"Cancel","GENERIC_CANVAS.SAVE":"Save","GENERIC_CANVAS.IMAGE_MISSING":"Image missing","MRD_IMAGE.BROKEN_IMAGE":"Failed to load image"}},{language:"de",keys:{"duration.year":"Jahre","duration.year.ph":"J.","duration.month":"Monate","duration.month.ph":"Mo","duration.week":"Wochen","duration.week.ph":"W","duration.day":"Tage","duration.day.ph":"Tag","duration.hour":"Std","duration.hour.ph":"Std","duration.minute":"Minuten","duration.minute.ph":"Min","duration.second":"Sekunden","duration.second.ph":"Sek","boolean.yes":"\u2713","boolean.unknown":"-","boolean.no":"\u2717","boolean.presentation.true":"Ja","boolean.presentation.false":"Nein","boolean.presentation.null":"-","boolean.presentation.yes":"Ja","boolean.presentation.no":"Nein","multimedia.upload":"Hochladen","ngSelect.noItemsFound":"Keine elemente gefunden","ngSelect.addItem":"Element hinzuf\xfcgen",other:"Andere","other.inputLabel":"Andere","other.selectedLabel":"Andere: ","other.selectOptionLabel":"Andere Datenwert",browseFiles:"browsen",dropFiles:"Hier ablegen oder",loading:"Laden",notFound:"Nicht gefunden",clearValue:"L\xf6schen","validation.ngbDate":"Datum erforderlich","validation.required":"Pflichtfeld","validation.required.unit":"Einheit erforderlich.","validation.required.anyGroupValue":"Irgendeiner Eingabe erforderlich.","validation.lessThanEqual":"Max. Datenwert {{lteValue}}","validation.greaterThanEqual":"Min. Datenwert {{gteValue}}","validation.isNumeric":"Die eingabe ist keine Nummer","validation.required.numerator":"Z\xe4hler erforderlich","validation.min.gte.numerator":"Z\xe4hler Min. Wert {{operator}} {{value}}","validation.min.gt.numerator":"Z\xe4hler Min. Wert {{operator}} {{value}}","validation.max.lte.numerator":"Z\xe4hler Max. Wert {{operator}} {{value}}","validation.max.lt.numerator":"Z\xe4hler Max. Wert {{operator}} {{value}}","validation.required.denominator":"Nenner erforderlich","validation.min.gte.denominator":"Nenner Min. Wert {{operator}} {{value}}","validation.min.gt.denominator":"Nenner Min. Wert {{operator}} {{value}}","validation.max.lte.denominator":"Nenner Max. Wert {{operator}} {{value}}","validation.max.lt.denominator":"Nenner Max. Wert {{operator}} {{value}}","validation.min.gte":"Min. Wert {{operator}} {{value}}","validation.min.gt":"Min. Wert {{operator}} {{value}}","validation.max.lte":"Max. Wert {{operator}} {{value}}","validation.max.lt":"Max. Wert {{operator}} {{value}}","validation.min.duration":"{{field}} {{minOp}} {{min}}","validation.max.duration":"{{field}} max Wert {{maxOp}} {{max}}","validation.min.multi":"Min. {{min}} f\xfcge {{delta}} weitere hinzu","validation.max.multi":"Max. {{max}} l\xf6schen Sie {{delta}}","validation.maxSelectedItems":"Zu viele ausgew\xe4hlt","validation.minSelectedItems":"W\xe4hlen Sie weitere Werte","validation.min.listOpen":"Min.  Werte nicht erreicht.","validation.max.listOpen":"Max. Werte erreicht.","validation.decimalPlaces.max":"Max. {{max}} Dezimalstellen. L\xf6schen Sie {{delta}}.","validation.decimalPlaces.max.numerator":"Max. Dezimalstellen im Z\xe4hler. L\xf6schen Sie {{delta}}.","validation.decimalPlaces.max.denominator":"Max. Dezimalstellen im Nenner. L\xf6schen Sie {{delta}}.","validation.numberOfSelectionsInvalid":"Nummer von Optionen zwischen {{numberOfSelectionsMin}} und {{numberOfSelectionsMax}}","validation.pattern":"Beispiel: {{patternValidExample}}","validation.terminologyCodeNotFound":"Terminologie Code {{codeValue}} is nicht valid.","validation.dateOptional.closeSelection":"optional Auswahl auslassen","validation.dateOptional.requiredSelection":"Auswahl erforderlich","validation.dateInvalidPattern":"Datumsmuster ist nicht valid: {{datePattern}}","validation.dateNotAfter":"Erstes g\xfcltiges Datum {{date}}","validation.dateNotBefore":"Letztes g\xfcltiges Datum {{date}}","model.notFound.byTag":"Model nicht gefunden bei '{{queryStr}}' Tag.","model.notFound.byPath":"Model nicht gefunden bei '{{queryStr}}' Weg.","placeholder.terminology":"Eingeben und w\xe4hlen.","placeholder.numericRange":"Eingebe Wert von {{min}} zu {{max}}","date.month.january":"Januar","date.month.february":"Februar","date.month.march":"M\xe4rz","date.month.april":"April","date.month.may":"Mai","date.month.june":"Juni","date.month.july":"Juli","date.month.august":"August","date.month.september":"September","date.month.october":"Oktober","date.month.november":"November","date.month.december":"Dezember","date.short.month.january":"Jan","date.short.month.february":"Feb","date.short.month.march":"M\xe4rz","date.short.month.april":"Apr","date.short.month.may":"Mai","date.short.month.june":"Juni","date.short.month.july":"Juli","date.short.month.august":"Aug","date.short.month.september":"Sept","date.short.month.october":"Okt","date.short.month.november":"Nov","date.short.month.december":"Dez","date.short.day.monday":"Mo","date.short.day.tuesday":"Di","date.short.day.wednesday":"Mi","date.short.day.thursday":"Do","date.short.day.friday":"Fr","date.short.day.saturday":"Sa","date.short.day.sunday":"So","select.day":"Tag","select.month":"Monat","select.year":"Jahr","GENERIC_CANVAS.MARKUP":"Markiegen","GENERIC_CANVAS.CHANGE":"Bild \xe4ndern","GENERIC_CANVAS.UNDO":"R\xfcckg\xe4ngig machen","GENERIC_CANVAS.CLEAR":"Alles l\xf6schen","GENERIC_CANVAS.CANCEL":"Stornieren","GENERIC_CANVAS.SAVE":"Speichern","GENERIC_CANVAS.IMAGE_MISSING":"Bild fehlt","MRD_IMAGE.BROKEN_IMAGE":"Error beim Bild laden"}},{language:"fr",keys:{"duration.year":"ans","duration.year.ph":"an","duration.month":"mois","duration.month.ph":"mo","duration.week":"semaines","duration.week.ph":"s","duration.day":"jours","duration.day.ph":"jour","duration.hour":"herures","duration.hour.ph":"hr","duration.minute":"minutes","duration.minute.ph":"min","duration.second":"seconds","duration.second.ph":"sec","boolean.yes":"\u2713","boolean.unknown":"-","boolean.no":"\u2717","boolean.presentation.true":"Vrai","boolean.presentation.false":"Faux","boolean.presentation.null":"-","boolean.presentation.yes":"Vrai","boolean.presentation.no":"Faux","multimedia.upload":"Charger","ngSelect.noItemsFound":"Aucun \xe9l\xe9ment trouv\xe9","ngSelect.addItem":"Ajouter un \xe9l\xe9ment",other:"Autre","other.inputLabel":"Autre","other.selectedLabel":"Autre: ","other.selectOptionLabel":"Autre valeur",browseFiles:"parcourir",dropFiles:"D\xe9posez ici ou",loading:"Chargement",notFound:"Non trouv\xe9",clearValue:"Effacer","validation.ngbDate":"Date requise","validation.required":"Champ requis","validation.required.unit":"L'unit\xe9 est requise.","validation.required.anyGroupValue":"Toute entr\xe9e requise.","validation.lessThanEqual":"Val. max {{lteValue}}","validation.greaterThanEqual":"Val. min {{gteValue}}","validation.isNumeric":"La valeur saisie n'est pas un nombre","validation.required.numerator":"Num\xe9r. requis","validation.min.gte.numerator":"Val. num\xe9r. Min. {{operator}} {{value}}","validation.min.gt.numerator":"Val. num\xe9r. min. {{operator}} {{value}}","validation.max.lte.numerator":"Val. num\xe9r. max. {{operator}} {{value}}","validation.max.lt.numerator":"Val. num\xe9r. max. {{operator}} {{value}}","validation.required.denominator":"Denum. requis","validation.min.gte.denominator":"Val. denum. min. {{operator}} {{value}}","validation.min.gt.denominator":"Val. denum. min. {{operator}} {{value}}","validation.max.lte.denominator":"Val. denum. min. {{operator}} {{value}}","validation.max.lt.denominator":"Val. denum. max. {{operator}} {{value}}","validation.min.gte":"Val. minimale {{operator}} {{value}}","validation.min.gt":"Val. minimale {{operator}} {{value}}","validation.max.lte":"Val. maximale {{operator}} {{value}}","validation.max.lt":"Val. maximale {{operator}} {{value}}","validation.min.duration":"{{field}} {{minOp}} {{min}}","validation.max.duration":"{{field}} valeur max. {{maxOp}} {{max}}","validation.min.multi":"Min. {{min}} ajouter {{delta}} de plus","validation.max.multi":"Max. {{max}} suprimer {{delta}}","validation.maxSelectedItems":"Trop de s\xe9lectionn\xe9s","validation.minSelectedItems":"S\xe9lectionnez d'autres valeurs","validation.min.listOpen":"Valeurs minimales non atteintes.","validation.max.listOpen":"Valeurs maximales non atteintes.","validation.decimalPlaces.max":"Max. {{max}} d\xe9cimales. Supprimer le {{delta}}.","validation.decimalPlaces.max.numerator":"Nombre maximal de d\xe9cimales dans le num\xe9rateur. Supprimer le {{delta}}.","validation.decimalPlaces.max.denominator":"Nombre maximal de d\xe9cimales au d\xe9nominateur. Supprimer le {{delta}}.","validation.numberOfSelectionsInvalid":"Nombre d'options entre {{numberOfSelectionsMin}} et {{numberOfSelectionsMax}}","validation.pattern":"Example: {{patternValidExample}}","validation.terminologyCodeNotFound":"Le code terminologique {{codeValue}} n'est pas valide.","validation.dateOptional.closeSelection":"sauter la s\xe9lection facultative","validation.dateOptional.requiredSelection":"s\xe9lection requise","validation.dateInvalidPattern":"Le mod\xe8le de date n'est pas valable : {{datePattern}}","validation.dateNotAfter":"Premi\xe8re date valide {{date}}","validation.dateNotBefore":"Derni\xe8re date de validit\xe9 {{date}}","model.notFound.byTag":"Mod\xe8le non trouv\xe9 par la balise \\'{{queryStr}}\\'.","model.notFound.byPath":"Mod\xe8le non trouv\xe9 par le chemin \\'{{queryStr}}\\'.","placeholder.terminology":"Tapez et s\xe9lectionnez.","placeholder.numericRange":"Ins\xe9rer une valeur comprise entre {{min}} et {{max}}","date.month.january":"Janvier","date.month.february":"F\xe9vrier","date.month.march":"Mars","date.month.april":"Avril","date.month.may":"Mai","date.month.june":"Juin","date.month.july":"Juillet","date.month.august":"Ao\xfbt","date.month.september":"Septembre","date.month.october":"Octobre","date.month.november":"Novembre","date.month.december":"D\xe9cembre","date.short.month.january":"Jan","date.short.month.february":"F\xe9v","date.short.month.march":"Mars","date.short.month.april":"Avr","date.short.month.may":"Mai","date.short.month.june":"Juin","date.short.month.july":"Juil","date.short.month.august":"Ao\xfbt","date.short.month.september":"Sep","date.short.month.october":"Oct","date.short.month.november":"Nov","date.short.month.december":"D\xe9c","date.short.day.monday":"Lun","date.short.day.tuesday":"Mar","date.short.day.wednesday":"Mer","date.short.day.thursday":"Jeu","date.short.day.friday":"Ven","date.short.day.saturday":"Sam","date.short.day.sunday":"Dim","select.day":"Jour","select.month":"Mois","select.year":"Ann\xe9e","GENERIC_CANVAS.MARKUP":"Markup","GENERIC_CANVAS.CHANGE":"Changer d'image","GENERIC_CANVAS.UNDO":"D\xe9faire","GENERIC_CANVAS.CLEAR":"Tout effacer","GENERIC_CANVAS.CANCEL":"Annuler","GENERIC_CANVAS.SAVE":"Sauvegarder","GENERIC_CANVAS.IMAGE_REMOVED":"Image supprim\xe9e","MRD_IMAGE.BROKEN_IMAGE":"Erreur de chargement de l'image"}},{language:"it",keys:{"duration.year":"anni","duration.year.ph":"aa.","duration.month":"mesi","duration.month.ph":"mm","duration.week":"settimane","duration.week.ph":"sett.","duration.day":"giorni","duration.day.ph":"giorno","duration.hour":"ore","duration.hour.ph":"h","duration.minute":"minuti","duration.minute.ph":"m","duration.second":"secondi","duration.second.ph":"s","boolean.yes":"\u2713","boolean.unknown":"-","boolean.no":"\u2717","boolean.presentation.true":"Vero","boolean.presentation.false":"Falso","boolean.presentation.null":"-","boolean.presentation.yes":"Vero","boolean.presentation.no":"Falso","multimedia.upload":"Caricare","ngSelect.noItemsFound":"Nessun elemento \xe8 stato trovato","ngSelect.addItem":"Aggiungi elemento",other:"Altro","other.inputLabel":"Altro","other.selectedLabel":"Altro: ","other.selectOptionLabel":"Altro valore",browseFiles:"sfogliare",dropFiles:"Trascina qui o",loading:"Caricando",notFound:"Non trovato",clearValue:"Sgombrare","validation.ngbDate":"Data richiesta","validation.required":"Campo obbligatorio","validation.required.unit":"Unit\xe0 \xe8 richiesta.","validation.required.anyGroupValue":"Qualsiasi ingresso richiesto.","validation.lessThanEqual":"Valore massimo {{lteValue}}","validation.greaterThanEqual":"Valore minimo {{gteValue}}","validation.isNumeric":"Il valore inserito non \xe8 un numero","validation.required.numerator":"Num. richiesto","validation.min.gte.numerator":"Num. valore minore {{operator}} {{value}}","validation.min.gt.numerator":"Num. valore min. {{operator}} {{value}}","validation.max.lte.numerator":"Num. valore max. {{operator}} {{value}}","validation.max.lt.numerator":"Num. valore max. {{operator}} {{value}}","validation.required.denominator":"Den. richiesto","validation.min.gte.denominator":"Den. valore min. {{operator}} {{value}}","validation.min.gt.denominator":"Den. valore min. {{operator}} {{value}}","validation.max.lte.denominator":"Den. valore max. {{operator}} {{value}}","validation.max.lt.denominator":"Den. valore max. {{operator}} {{value}}","validation.min.gte":"Valore min. {{operator}} {{value}}","validation.min.gt":"Valore min. {{operator}} {{value}}","validation.max.lte":"Valore max. {{operator}} {{value}}","validation.max.lt":"Valore max. {{operator}} {{value}}","validation.min.duration":"{{field}} {{minOp}} {{min}}","validation.max.duration":"{{field}} val. max {{maxOp}} {{max}}","validation.min.multi":"Min. {{min}} aggiungi {{delta}} pi\xf9","validation.max.multi":"Max. {{max}} rimuovi {{delta}}","validation.maxSelectedItems":"Troppi selezionati","validation.minSelectedItems":"Seleziona pi\xf9 valori","validation.min.listOpen":"Valori min. non raggiunti.","validation.max.listOpen":"Valori max. raggiunti.","validation.decimalPlaces.max":"Max. {{max}} decimal. Rimuovi {{delta}}.","validation.decimalPlaces.max.numerator":"Max. decimali nel numeratore. Rimuovi {{delta}}.","validation.decimalPlaces.max.denominator":"Max. decimali nel denumeratore. Rimuovi {{delta}}.","validation.numberOfSelectionsInvalid":"Numero di opzioni tra {{numberOfSelectionsMin}} e {{numberOfSelectionsMax}}","validation.pattern":"Esempio: {{patternValidExample}}","validation.terminologyCodeNotFound":"Il codice terminologico {{codeValue}} non \xe8 valido.","validation.dateOptional.closeSelection":"salta la selezione opzionale","validation.dateOptional.requiredSelection":"selezione richiesta","validation.dateInvalidPattern":"Modello data non valido: {{datePattern}}","validation.dateNotAfter":"Prima data valida {{date}}","validation.dateNotBefore":"Ultima data valida {{date}}","model.notFound.byTag":"Modello non trovato dal \\'{{queryStr}}\\' tag.","model.notFound.byPath":"Modello non trovato dal \\'{{queryStr}}\\' percorso.","placeholder.terminology":"Tipo e seleziona.","placeholder.numericRange":"Inserisci valore da {{min}} a {{max}}","date.month.january":"Gennaio","date.month.february":"Febbraio","date.month.march":"Marzo","date.month.april":"Aprile","date.month.may":"Maggio","date.month.june":"Giugno","date.month.july":"Luglio","date.month.august":"Agosto","date.month.september":"Settembre","date.month.october":"Ottobre","date.month.november":"Novembre","date.month.december":"Dicembre","date.short.month.january":"gen","date.short.month.february":"feb","date.short.month.march":"mar","date.short.month.april":"apr","date.short.month.may":"mag","date.short.month.june":"giu","date.short.month.july":"lug","date.short.month.august":"ago","date.short.month.september":"set","date.short.month.october":"ott","date.short.month.november":"nov","date.short.month.december":"dic","date.short.day.monday":"lun","date.short.day.tuesday":"mar","date.short.day.wednesday":"Mer","date.short.day.thursday":"Gio","date.short.day.friday":"Ven","date.short.day.saturday":"Sab","date.short.day.sunday":"Dom","select.day":"Giorno","select.month":"Mese","select.year":"Anno","GENERIC_CANVAS.MARKUP":"Ricarico","GENERIC_CANVAS.CHANGE":"Cambia un' immagine","GENERIC_CANVAS.UNDO":"Cancella","GENERIC_CANVAS.CLEAR":"Rimuovi tutto","GENERIC_CANVAS.CANCEL":"Annulla","GENERIC_CANVAS.SAVE":"Salva","GENERIC_CANVAS.IMAGE_MISSING":"Immagine rimossa","MRD_IMAGE.BROKEN_IMAGE":"Errore di caricamento dell'immagine"}},{language:"sl",keys:{"unit.kg":"kilogram","duration.year":"let","duration.year.ph":"let","duration.month":"mesecev","duration.month.ph":"mes","duration.week":"tednov","duration.week.ph":"ted","duration.day":"dni","duration.day.ph":"dn","duration.hour":"ur","duration.hour.ph":"ure","duration.minute":"minut","duration.minute.ph":"min","duration.second":"sekund","duration.second.ph":"sek","boolean.yes":"\u2713","boolean.unknown":"-","boolean.no":"\u2717","boolean.presentation.true":"Da","boolean.presentation.false":"Ne","boolean.presentation.null":"-","boolean.presentation.yes":"Da","boolean.presentation.no":"Ne","ngSelect.noItemsFound":"Nobene vrednosti najdene","ngSelect.addItem":"Dodaj vrednost","multimedia.upload":"Nalo\u017ei",other:"Drugo","other.inputLabel":"Drugo","other.selectedLabel":"Drugo: ","other.selectOptionLabel":"Druga vrednost>>",browseFiles:"prebrskaj",dropFiles:"Spusti tukaj ali",loading:"Prena\u0161am",notFound:"Ne obstaja",clearValue:"Izbri\u0161i","validation.ngbDate":"Napa\u010den datum","validation.required":"Obvezno polje","validation.required.unit":"Mer. enota obvezna.","validation.required.anyGroupValue":"Eno polje obvezno.","validation.lessThanEqual":"Max. vrednost je {{lteValue}}","validation.greaterThanEqual":"Min. vrednost je {{gteValue}}","validation.isNumeric":"Vne\u0161ena vrednost mora biti \u0161tevilka","validation.min.gte.numerator":"Numer. najm. vred. {{operator}} {{value}}","validation.min.gt.numerator":"Numer. najm. vred. {{operator}} {{value}}","validation.max.lte.numerator":"Numer. najv. vred. {{operator}} {{value}}","validation.max.lt.numerator":"Numer. najv. vred. {{operator}} {{value}}","validation.min.gte.denominator":"Den. najm. vred {{operator}} {{value}}","validation.min.gt.denominator":"Den. najm. vred {{operator}} {{value}}","validation.max.lte.denominator":"Den. najv. vred {{operator}} {{value}}","validation.max.lt.denominator":"Den. najv. vred {{operator}} {{value}}","validation.min.gte":"Najm. vrednost {{operator}} {{value}}","validation.min.gt":"Najm. vrednost {{operator}} {{value}}","validation.max.lte":"Najv. vrednost {{operator}} {{value}}","validation.max.lt":"Najv. vrednost {{operator}} {{value}}","validation.min.duration":"{{field}} {{minOp}} {{min}}","validation.min.multi":"Min. {{min}} dodaj {{delta}}","validation.max.multi":"Max. {{max}} odstrani {{delta}}","validation.min.listOpen":"Min. values not reached.","validation.max.listOpen":"Max. values reached.","validation.required.numerator":"Numer. je obvezen","validation.min.numerator":"Numer. najm. vred. {{operator}} {{value}}","validation.max.numerator":"Numer. najv. vred. {{operator}} {{value}}","validation.required.denominator":"Den. je obvezen","validation.min.denominator":"Den. najm. vred {{operator}} {{value}}","validation.max.denominator":"Den. najv. vred {{operator}} {{value}}","validation.max.duration":"{{field}} {{maxOp}} {{max}}","validation.decimalPlaces.max":"Max. {{max}} decimalnih mest.","validation.decimalPlaces.max.numerator":"Max. decimalnih mest v \u0161tevcu. Zmanj\u0161aj za {{delta}}.","validation.decimalPlaces.max.denominator":"Max. decimalnih mest v imenovalcu. Zmanj\u0161aj za {{delta}}.","validation.numberOfSelectionsInvalid":"Izberite med {{numberOfSelectionsMin}} in {{numberOfSelectionsMax}} mo\u017enosti.","validation.pattern":"Vzorec: {{patternValidExample}}","validation.terminologyCodeNotFound":"Neveljavna koda terminologije {{codeValue}}.","validation.dateOptional.closeSelection":"zapri poljubno izbiro","validation.dateOptional.requiredSelection":"zahtevana izbira","validation.dateInvalidPattern":"Datum neveljaven: {{datePattern}}","validation.dateNotAfter":"Prvi veljaven datum {{date}}","validation.dateNotBefore":"Zadnji veljaven datum {{date}}","model.notFound.byTag":"Model z oznako '{{queryStr}}' ne obstaja.","model.notFound.byPath":"Model s potjo '{{queryStr}}' ne obstaja.","placeholder.terminology":"Iskanje po terminologiji.","placeholder.numericRange":"Vnesite vrednost med {{min}} in {{max}}","date.month.january":"Januar","date.month.february":"Februar","date.month.march":"Marec","date.month.april":"April","date.month.may":"Maj","date.month.june":"Junij","date.month.july":"Julij","date.month.august":"Avgust","date.month.september":"September","date.month.october":"Oktober","date.month.november":"November","date.month.december":"December","date.short.month.january":"Jan","date.short.month.february":"Feb","date.short.month.march":"Mar","date.short.month.april":"Apr","date.short.month.may":"Maj","date.short.month.june":"Jun","date.short.month.july":"Jul","date.short.month.august":"Avg","date.short.month.september":"Sep","date.short.month.october":"Okt","date.short.month.november":"Nov","date.short.month.december":"Dec","date.short.day.monday":"Po","date.short.day.tuesday":"To","date.short.day.wednesday":"Sr","date.short.day.thursday":"\u010ce","date.short.day.friday":"Pe","date.short.day.saturday":"So","date.short.day.sunday":"Ne","select.day":"Izberite dan","select.month":"Izberite mesec","select.year":"Izberite leto","GENERIC_CANVAS.MARKUP":"Markup","GENERIC_CANVAS.CHANGE":"Spremeni sliko","GENERIC_CANVAS.UNDO":"Razveljaviti","GENERIC_CANVAS.CLEAR":"Resetirati","GENERIC_CANVAS.CANCEL":"Preklicati","GENERIC_CANVAS.SAVE":"Shraniti","GENERIC_CANVAS.IMAGE_MISSING":"Slika ni nalo\u017eena","MRD_IMAGE.BROKEN_IMAGE":"Napaka pri nalaganju slike"}}],rl=function(){function e(){}return e.prototype.handle=function(e){return nl.filter(function(e){return"en"===e.language})[0].keys[e.key]||e.key},e}(),il=n(58868),ol=(n(34950),n(13705)),al=n(82013),sl=n(37620),ll=n(88424),ul=n(22739),cl=function(){function e(e,t){this.formEnvironmentService=e,this.expressionEvaluationService=t,this.ITEM_INDEX_REGEX=new RegExp("^"+al.y.suffixDelimiter+C.U2h.N+"\\d*"+al.y.suffixDelimiter+"$","i")}return e.prototype.evaluateValueMapping=function(e,t,n,r){return void 0===n&&(n=null),void 0===r&&(r={pathParams:null,forcedCalls:new Set}),(0,lt.mG)(this,void 0,void 0,function(){return(0,lt.Jh)(this,function(i){return t.type===C.FN1.LIST?[2,this.evaluateListMapping(e,t,n,r)]:t.type===C.FN1.OBJECT?[2,this.evaluateObjectMapping(e,t,n,r)]:[2,this.evaluateLeafMapping(e,t,n,r)]})})},e.prototype.getParentApiTokenValue=function(e){if(e){var t=new RegExp("(\\w|-)+"+al.y.nameDelimiter+"(\\w|-)+(?="+al.y.externalApiDelitimer+")"),n=e.match(t);return null==n?void 0:n[0]}},e.prototype.evaluateListMapping=function(e,t,n,r){var i,o,a,s,l;return void 0===r&&(r={pathParams:null,forcedCalls:new Set}),(0,lt.mG)(this,void 0,void 0,function(){var u,c,d,h,f,p,m,v,g,y,b,_,E,T,w,O,x,I,M;return(0,lt.Jh)(this,function(S){switch(S.label){case 0:if(u=[],t.expression)return[3,9];c=t.children,S.label=1;case 1:S.trys.push([1,6,7,8]),d=(0,lt.XA)(c),h=d.next(),S.label=2;case 2:return h.done?[3,5]:(p=(f=u).push,[4,this.evaluateValueMapping(e,h.value,null,{forcedCalls:r.forcedCalls})]);case 3:p.apply(f,[S.sent()]),S.label=4;case 4:return h=d.next(),[3,2];case 5:return[3,8];case 6:return m=S.sent(),I={error:m},[3,8];case 7:try{h&&!h.done&&(M=d.return)&&M.call(d)}finally{if(I)throw I.error}return[7];case 8:return[3,14];case 9:return v=null!==(i=this.concatNodeExpression(t.expression,n))&&void 0!==i?i:"",g=ll.V.parseTokens(v,this.formEnvironmentService),this.updatePathParamsInApiTokens(g,{pathParams:null!==(o=null==t?void 0:t.pathParams)&&void 0!==o?o:r.pathParams,requestParams:r.requestParams},r.forcedCalls),[4,this.expressionEvaluationService.getValueFromTokens(e,g)];case 10:y=null!==(a=S.sent())&&void 0!==a?a:[],b=null===(s=null==t?void 0:t.children)||void 0===s?void 0:s[0],_=0,S.label=11;case 11:return _<y.length?(E=(0,lt.pi)({},b),w=v+" "+(T=al.y.suffixDelimiter+C.U2h.N+_+al.y.suffixDelimiter),E.isIndexLeaf||(E.expression=T,w=v),x=(O=u).push,[4,this.evaluateValueMapping(e,E,w,(0,lt.pi)((0,lt.pi)({},r),{pathParams:null!==(l=null==t?void 0:t.pathParams)&&void 0!==l?l:r.pathParams}))]):[3,14];case 12:x.apply(O,[S.sent()]),S.label=13;case 13:return _++,[3,11];case 14:return[2,Promise.all(u)]}})})},e.prototype.evaluateObjectMapping=function(e,t,n,r){var i,o;return void 0===r&&(r={pathParams:null,forcedCalls:new Set}),(0,lt.mG)(this,void 0,void 0,function(){var a,s,l,u,c,d,h,f,p,m,v,g;return(0,lt.Jh)(this,function(y){switch(y.label){case 0:s={},l=this.concatNodeExpression((a=t).expression,n),u=Object.keys(a.children),y.label=1;case 1:y.trys.push([1,6,7,8]),c=(0,lt.XA)(u),d=c.next(),y.label=2;case 2:return d.done?[3,5]:(h=d.value,(null===(i=null==t?void 0:t.children)||void 0===i?void 0:i.hasOwnProperty(h))?(f=s,p=h,[4,this.evaluateValueMapping(e,a.children[h],l,{pathParams:null!==(o=null==a?void 0:a.pathParams)&&void 0!==o?o:r.pathParams,forcedCalls:r.forcedCalls,requestParams:r.requestParams})]):[3,4]);case 3:f[p]=y.sent(),y.label=4;case 4:return d=c.next(),[3,2];case 5:return[3,8];case 6:return m=y.sent(),v={error:m},[3,8];case 7:try{d&&!d.done&&(g=c.return)&&g.call(c)}finally{if(v)throw v.error}return[7];case 8:return[2,s]}})})},e.prototype.evaluateLeafMapping=function(e,t,n,r){var i,o;return void 0===r&&(r={pathParams:null,forcedCalls:new Set}),(0,lt.mG)(this,void 0,void 0,function(){var a,s;return(0,lt.Jh)(this,function(l){switch(l.label){case 0:return a=null!==(i=this.sanitizeLeafExpression(t.expression,n))&&void 0!==i?i:"",s=ll.V.parseTokens(a,this.formEnvironmentService).map(function(e){return e.type===ul.AY.DATA_SOURCE_BIND&&(e.isDependent=!0),e}),this.updatePathParamsInApiTokens(s,{pathParams:null!==(o=t.pathParams)&&void 0!==o?o:r.pathParams,requestParams:r.requestParams},r.forcedCalls),[4,this.expressionEvaluationService.getValueFromTokens(e,s)];case 1:return[2,l.sent()]}})})},e.prototype.concatNodeExpression=function(e,t){return e&&t&&(al.y.dataSourceBindRegex.test(e)||this.ITEM_INDEX_REGEX.test(e))?t+" "+e:!e&&t?t:e},e.prototype.sanitizeLeafExpression=function(e,t){var n=this;if(e&&t){var r=ll.V.groupSpotsByDelimiter(e,al.y.dataSourceBindDelimiter),i=r.reduce(function(e,t,n){return t.startsWith(al.y.dataSourceBindDelimiter)||e.push(n),e},[]),o=[];if(!i.length){var a=r.join(" ");return o.push(this.appendParentBindings(a,t)),o.join(" ")}var s=[];return r.forEach(function(e,r){i.includes(r)?(s.length&&(o.push(n.appendParentBindings(s.join(" "),t)),s=[]),o.push(e)):s.push(e)}),s.length&&(o.push(this.appendParentBindings(s.join(" "),t)),s=[]),o.join(" ")}return e},e.prototype.updatePathParamsInApiTokens=function(e,t,n){((null==t?void 0:t.pathParams)||(null==t?void 0:t.requestParams))&&e.forEach(function(e){if(e.type===ul.AY.API){var r=n.has(e.value);r||n.add(e.value),e.additional={pathParameters:t.pathParams,requestParameters:t.requestParams||[],force:!r}}})},e.prototype.appendParentBindings=function(e,t){var n=e;return e.startsWith(al.y.dataSourceBindDelimiter)&&(n=t+" "+e),n},e.\u0275fac=function(t){return new(t||e)(i.LFG(C.eNT),i.LFG(sl.Q))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}(),dl=n(15523),hl=["externalWidgetComponent"],fl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onEhrComponentRendered=new i.vpe,t.subscriptions=[],t.destroy$=new g.x,t}return(0,lt.ZT)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.renderer.removeClass(this.elementRef.nativeElement,"row"),this.customInput=this.model.getInputByType(C.n$I.CUSTOM),(0,Mr.Dp)(customElements.whenDefined(this.model.name)).pipe((0,ut.R)(this.unsubscribe),(0,p.q)(1)).subscribe(function(){t.appendWidgetElement(),t.updateSubscriptions(),t.resolveConfig()})},Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"valueGetterSetter"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return null},enumerable:!1,configurable:!0}),t.prototype.mockData=function(){return!1},t.prototype.ngOnChanges=function(t){if(e.prototype.ngOnChanges.call(this,t),this.initializeProviders(),t.hasOwnProperty("model")){var n=this.model.getViewConfig().getLabelSize(!1),r=[C.bNd.INHERIT,C.bNd.COLUMN_HIDDEN].includes(n)?6:v.D.sizeToNumber(n);this.sizeClass=v.D.getColumnClasses(r),this.externalWidget&&this.updateSubscriptions()}},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this.subscriptions.length&&this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.externalWidget=void 0,this.destroy$.next(),this.destroy$.complete()},t.prototype.updateSubscriptions=function(){this.subscriptions.length&&(this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[]),this.handleValueSub(),this.handleReadonly(),this.handleConfig(),this.handleOutputData(),this.handleOutputAction(),this.mockData()||this.handleRefreshDataSub()},t.prototype.handleValueSub=function(){var e=this,t=this.modelValues$.pipe((0,ln.b)(250),(0,S.x)()).subscribe(function(t){null!=t[0]&&(e.externalWidget.inputData=t[0].hasOwnProperty("|value")?t[0]["|value"]:t[0])});this.subscriptions.push(t)},t.prototype.handleReadonly=function(){var e=this,t=(0,y.a)([this.ehrModelObservable.fromEvent(this.model,C.X4$.EVENT_IS_READ_ONLY),this.ehrFormState.getFormContext()]).pipe((0,ut.R)(this.destroy$)).subscribe(function(t){var n=(0,lt.CR)(t,2)[1],r=n.readonly,i=n.presentationMode,o=e.model.getViewConfig().isReadOnly(!0)||r||i;e.toggleReadonly(o)});this.subscriptions.push(t)},t.prototype.handleConfig=function(){var e=this,t=this.widgetConfigStore.state.pipe((0,S.x)(),(0,il.h)(function(t){return!!e.externalWidget}),(0,ut.R)(this.destroy$)).subscribe(function(t){e.externalWidget.config=e.resolveConfig(),e.changeDetectorRef.markForCheck()});this.subscriptions.push(t)},t.prototype.handleOutputData=function(){var e=this,t=(0,gn.R)(this.externalWidget,"outputData").pipe((0,ut.R)(this.destroy$)).subscribe(function(t){t instanceof CustomEvent?e.model.setValue({"|value":t.detail}):e.model.setValue({"|value":t})});this.subscriptions.push(t)},t.prototype.handleOutputAction=function(){var e=this,t=(0,gn.R)(this.externalWidget,"action").pipe((0,ut.R)(this.destroy$)).subscribe(function(t){t instanceof CustomEvent?e.model.handleAction(t.detail):e.model.handleAction(t)});this.subscriptions.push(t)},t.prototype.handleRefreshDataSub=function(){var e,t=this;null===(e=this.refreshDataSub)||void 0===e||e.unsubscribe(),this.refreshDataSub=this.ehrModelObservable.fromEvent(this.model,C.X4$.DATASOURCE_CHANGE).pipe((0,ln.b)(15),(0,il.h)(function(e){return!!t.model.getValueMapping()}),(0,f.w)(function(e){var n,r=t.model.getValueMapping(),i=t.model.getParentModelExpression(),o=t.model.getParentModelPathParams(),a=new Set,s=t.valueMappingService.getParentApiTokenValue(i);s&&a.add(s);var l=t.model.getParentModel(),u=[];if(l instanceof dl.W){var c=l,d=null===(n=null==c?void 0:c.getViewConfig())||void 0===n?void 0:n.getSortableColumns();d&&(u=t.resolveSortRequestParams(d,c.activeSortColumn))}return(0,Mr.Dp)(t.valueMappingService.evaluateValueMapping(t.model,r,i,{pathParams:o,forcedCalls:a,requestParams:u}))}),(0,d.K)(function(e){return(0,l.of)(null)})).subscribe(function(e){t.model.setValue(null!=e?[e]:e),t.changeDetectorRef.detectChanges()}),this.subscriptions.push(this.refreshDataSub)},t.prototype.toggleReadonly=function(e){this.externalWidget&&(this.externalWidget.style.pointerEvents=this.mockData()||e?"none":"unset")},t.prototype.resolveConfig=function(){var e;return null!==(e=this.widgetConfigStore.getWidgetConfig(this.model.getFormId()))&&void 0!==e?e:{}},t.prototype.appendWidgetElement=function(){this.externalWidget&&this.renderer.removeChild(this.element.nativeElement,this.externalWidget),this.externalWidget=this.renderer.createElement(this.model.name),this.externalWidget?(this.externalWidget.useDefaultData=this.mockData(),this.externalWidget.config=this.resolveConfig(),this.renderer.appendChild(this.element.nativeElement,this.externalWidget)):console.error("[ExternalWidgetComponent] failed to create <"+this.model.name+'> element for model "'+this.model.formId+'"')},t.prototype.initializeProviders=function(){this.widgetConfigStore||(this.widgetConfigStore=this.injector.get(ol.zX)),this.valueMappingService||(this.valueMappingService=this.injector.get(cl))},t.prototype.resolveSortRequestParams=function(e,t){return void 0!==t&&(null==e?void 0:e.length)?Object.keys(t.sortCol.sort).filter(function(e){return e===t.sortOrder}).reduce(function(e,n){return t.sortCol.sort[n].forEach(function(t){t.value&&t.name&&e.push({name:t.name,value:'"'+t.value+'"'})}),e},[]):[]},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-external-widget"]],viewQuery:function(e,t){var n;1&e&&i.Gf(hl,7),2&e&&i.iGM(n=i.CRH())&&(t.element=n.first)},inputs:{model:"model"},outputs:{onEhrComponentRendered:"onEhrComponentRendered"},features:[i._Bn([cl]),i.qOj,i.TTD],decls:4,vars:9,consts:[[1,"row",3,"ngClass"],[3,"ngClass"],["externalWidgetComponent",""]],template:function(e,t){var n;1&e&&(i.TgZ(0,"div",0),i.ALo(1,"fieldAlignmentClass"),i._UZ(2,"div",1,2),i.qZA()),2&e&&(i.ekj("d-none",t.isHiddenValue)("invalid",!1===t.fieldIsValid),i.Q6J("ngClass",i.lcZ(1,7,null==(n=t.model.getViewConfig().getLayout())||null==n.field?null:n.field.align)),i.uIk("data-ehr-path",t.model.getPath()),i.xp6(2),i.Q6J("ngClass",t.sizeClass))},directives:[m.mk],pipes:[zs],encapsulation:2,changeDetection:0}),t}(dt);function pl(e,t){if(1&e){var n=i.EpF();i.ynx(0),i.TgZ(1,"div",5),i.TgZ(2,"label",6),i.TgZ(3,"span",7),i._uU(4),i.qZA(),i.TgZ(5,"span",8),i._uU(6),i.qZA(),i.TgZ(7,"input",9,10),i.NdJ("change",function(){i.CHM(n);var e=i.MAs(8);return i.oxw().onFileSelected.emit(e)}),i.qZA(),i.qZA(),i.qZA(),i.BQk()}if(2&e){var r=i.oxw();i.xp6(4),i.hij("",r.buttonDropFilesLabel,"\xa0"),i.xp6(2),i.Oqu(r.buttonBrowseFilesLabel),i.xp6(1),i.Q6J("multiple",!1)}}function ml(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"img",14),i.NdJ("error",function(){return i.CHM(n),i.oxw(3).handleBrokenImage()}),i.qZA()}if(2&e){var r=i.oxw(3);i.Q6J("id",null==r.config?null:r.config.name)("alt",null==r.config?null:r.config.name)("src",null==r.config?null:r.config.imageSrc,i.LSH)}}function vl(e,t){if(1&e&&(i.TgZ(0,"div",12),i.YNc(1,ml,1,3,"img",13),i.qZA()),2&e){var n=i.oxw(2),r=i.MAs(8);i.xp6(1),i.Q6J("ngIf",!n.assetBroken)("ngIfElse",r)}}function gl(e,t){if(1&e&&i.YNc(0,vl,2,2,"div",11),2&e){var n=i.oxw(),r=i.MAs(4);i.Q6J("ngIf",null==n.config?null:n.config.imageSrc)("ngIfElse",r)}}function yl(e,t){1&e&&(i.TgZ(0,"div",16),i.TgZ(1,"div",17),i._UZ(2,"span",18),i.qZA(),i.qZA())}function bl(e,t){if(1&e&&(i.YNc(0,yl,3,0,"div",15),i.ALo(1,"async")),2&e){var n=i.oxw(),r=i.MAs(6);i.Q6J("ngIf",i.lcZ(1,2,n.loading$))("ngIfElse",r)}}function _l(e,t){1&e&&(i.TgZ(0,"div",19),i._UZ(1,"i",20),i.TgZ(2,"span"),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA()),2&e&&(i.xp6(3),i.Oqu(i.lcZ(4,1,"MRD_IMAGE.MISSING_IMAGE")))}function Cl(e,t){1&e&&(i.TgZ(0,"div",19),i.O4$(),i.TgZ(1,"svg",21),i.TgZ(2,"g",22),i.TgZ(3,"g",23),i.TgZ(4,"g",24),i.TgZ(5,"g",25),i.TgZ(6,"g",26),i.TgZ(7,"g",27),i._UZ(8,"path",28),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA())}var El=function(){function e(e,t,n){this.cd=e,this.imageService=t,this.formDataService=n,this.buttonDropFilesLabel="Drop files here or",this.buttonBrowseFilesLabel="Browse",this.onFileSelected=new i.vpe,this.loading$=new D.X(!0),this.assetBroken=!1,this.destroy=new g.x}return e.prototype.ngOnChanges=function(){var e=this;this.assetBroken=!1,this.config&&(this.imageService.isBase64Set(this.config)?this.imageService.setImageSrc(this.config):this.config.name&&(this.loading$.next(!0),this.imageService.retrieveImage(this.formDataService.form,this.config).pipe((0,ut.R)(this.destroy),(0,f.w)(function(t){return e.imageService.createImageFromBlob(t,e.config)}),(0,p.q)(1),(0,mn.x)(function(){e.loading$.next(!1),e.cd.markForCheck()})).subscribe()))},e.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete()},e.prototype.handleBrokenImage=function(){this.assetBroken=!0,this.cd.markForCheck()},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36(Cn),i.Y36(qe.W))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mrd-image"]],inputs:{config:"config",buttonDropFilesLabel:"buttonDropFilesLabel",buttonBrowseFilesLabel:"buttonBrowseFilesLabel"},outputs:{onFileSelected:"onFileSelected"},features:[i.TTD],decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["image",""],["imageLoading",""],["imageMissing",""],["imageBroken",""],[1,"file-upload"],[1,"file-upload-area"],[1,"file-upload--label1"],[1,"file-upload--label2"],["type","file","accept","image/*",3,"multiple","change"],["fileUpload",""],["class","image-wrapper",4,"ngIf","ngIfElse"],[1,"image-wrapper"],[3,"id","alt","src","error",4,"ngIf","ngIfElse"],[3,"id","alt","src","error"],["class","image-wrapper d-flex justify-content-center align-items-center",4,"ngIf","ngIfElse"],[1,"image-wrapper","d-flex","justify-content-center","align-items-center"],["role","status",1,"spinner-border","spinner-border-sm","text-secondary"],[1,"visually-hidden"],[1,"image-wrapper","d-flex","align-items-center","justify-content-center","text-danger"],[1,"b-icon","triangle-exclamation","text-danger","mr-2"],["width","20px","height","20px","viewBox","0 0 16 16","version","1.1","xmlns","http://www.w3.org/2000/svg"],["id","Icons","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["transform","translate(-1675.000000, -5772.000000)","fill","#000000","id","User-Interface"],["transform","translate(300.000000, 600.000000)"],["id","Independant-Icons","transform","translate(1094.000000, 160.000000)"],["id","No-Image","transform","translate(0.000000, 5008.000000)"],["id","Shape","transform","translate(281.000000, 4.000000)"],["d","M15.3372815,10.6627185 C15.5375504,10.8629873 15.5529557,11.1781157 15.3834974,11.3960552 L15.3372815,11.4483927 L13.7861111,13 L15.3372815,14.5516073 C15.5542395,14.7685653 15.5542395,15.1203236 15.3372815,15.3372815 C15.1370127,15.5375504 14.8218843,15.5529557 14.6039448,15.3834974 L14.5516073,15.3372815 L13,13.7861111 L11.4483927,15.3372815 L11.3960552,15.3834974 C11.1781157,15.5529557 10.8629873,15.5375504 10.6627185,15.3372815 C10.4624496,15.1370127 10.4470443,14.8218843 10.6165026,14.6039448 L10.6627185,14.5516073 L12.2138889,13 L10.6627185,11.4483927 C10.4457605,11.2314347 10.4457605,10.8796764 10.6627185,10.6627185 C10.8629873,10.4624496 11.1781157,10.4470443 11.3960552,10.6165026 L11.4483927,10.6627185 L13,12.2138889 L14.5516073,10.6627185 L14.6039448,10.6165026 C14.8218843,10.4470443 15.1370127,10.4624496 15.3372815,10.6627185 Z M12,2 C13.0543618,2 13.9181651,2.81587779 13.9945143,3.85073766 L14,4 L14,9.5 L13,9.5 L13,4 C13,3.48716416 12.6139598,3.06449284 12.1166211,3.00672773 L12,3 L4,3 C3.48716416,3 3.06449284,3.38604019 3.00672773,3.88337887 L3,4 L3,11.171 L6,8.17157288 L7.50053391,9.67157288 L10,7.17157288 L12.328,9.5 L10.5,9.5 C9.98716416,9.5 9.56449284,9.88604019 9.50672773,10.3833789 L9.5,10.5 L9.5,14 L4,14 C2.9456382,14 2.08183488,13.1841222 2.00548574,12.1492623 L2,12 L2,4 C2,2.9456382 2.81587779,2.08183488 3.85073766,2.00548574 L4,2 L12,2 Z M6,4 C6.82842712,4 7.5,4.67157288 7.5,5.5 C7.5,6.32842712 6.82842712,7 6,7 C5.17157288,7 4.5,6.32842712 4.5,5.5 C4.5,4.67157288 5.17157288,4 6,4 Z"]],template:function(e,t){if(1&e&&(i.YNc(0,pl,9,3,"ng-container",0),i.YNc(1,gl,1,2,"ng-template",null,1,i.W1O),i.YNc(3,bl,2,4,"ng-template",null,2,i.W1O),i.YNc(5,_l,5,3,"ng-template",null,3,i.W1O),i.YNc(7,Cl,9,0,"ng-template",null,4,i.W1O)),2&e){var n=i.MAs(2);i.Q6J("ngIf",!(null!=t.config&&t.config.name))("ngIfElse",n)}},directives:[m.O5],pipes:[m.Ov,x.X$],styles:[".file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;display:block;height:100%;width:100%;right:0;top:0;opacity:0;text-align:right;cursor:pointer}.file-upload[_ngcontent-%COMP%]   .file-upload--label2[_ngcontent-%COMP%]{cursor:pointer;color:var(--b-upload-clickable-label-color);font-weight:700}.file-upload[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]{overflow:hidden;position:relative;width:100%;height:200%;top:-1.75em;background:var(--b-upload-area-background-color);border-radius:0;min-height:1.25em;display:flex;align-items:flex-end;margin-bottom:.25em}.file-upload[_ngcontent-%COMP%]   .file-upload-area.disabled[_ngcontent-%COMP%]{cursor:not-allowed;color:var(--b-label-disabled-color);pointer-events:none}.file-upload[_ngcontent-%COMP%]   .file-upload-area.disabled[_ngcontent-%COMP%]   .file-upload--label2[_ngcontent-%COMP%]{color:var(--b-upload-clickable-label-disabled-color)}.upload-item[_ngcontent-%COMP%]{border-top:1px solid var(--b-upload-item-border-color);display:flex;justify-content:space-between;padding:.5em .25em .5em 0}.upload-item[_ngcontent-%COMP%]   .upload-item--thumbnail[_ngcontent-%COMP%]{height:1.75em;width:1.75em;margin:.25em;-o-object-fit:cover;object-fit:cover}.upload-item[_ngcontent-%COMP%]   .upload-item--name[_ngcontent-%COMP%]{color:var(--b-input-value-color);font-weight:700}.upload-item[_ngcontent-%COMP%]   .upload-item--remove[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex}.upload-item[_ngcontent-%COMP%]   .upload-item--remove[_ngcontent-%COMP%]   .b-icon[_ngcontent-%COMP%]{background-color:var(--b-upload-remove-icon-background-color);border-radius:.375em;color:var(--b-upload-remove-icon-color)}",".file-upload[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]{padding-bottom:.125em;top:.125em!important}.image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.image-wrapper[_ngcontent-%COMP%]   .b-icon[_ngcontent-%COMP%]{font-size:1em}"],changeDetection:0}),e}();function Tl(e,t){if(1&e&&(i.TgZ(0,"div",1),i.ALo(1,"elementClasses"),i.TgZ(2,"div",2),i.ALo(3,"fieldAlignmentClass"),i.TgZ(4,"div",3),i._UZ(5,"mrd-image",4),i.qZA(),i.qZA(),i.qZA()),2&e){var n,r=i.oxw();i.Q6J("ngClass",i.lcZ(1,5,r.elementSize)),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("ngClass",i.lcZ(3,7,null==(n=r.model.getViewConfig().getLayout())||null==n.field?null:n.field.align)),i.xp6(2),i.Q6J("ngClass",r.sizeClass),i.xp6(1),i.Q6J("config",r.imageConfig)}}var wl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.LabelPosition=C.htc,t.FieldPosition=C.$jN,t.isPresentation=!1,t}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){if(e.prototype.ngOnChanges.call(this,t),this.isPresentation=this.ehrFormState.isPresentationModeEnabled(),t.hasOwnProperty("model")){var n=this.model.getViewConfig();this.imageConfig=n.getFirstImage(),this.fieldPosition=n.getFieldPosition(!0);var r=n.getSize(!1).getLabel(!1);this.sizeClass=v.D.getColumnClasses(this.isPresentation?v.D.PRESENTATION_INPUT_WRAPPER_COLUMN_WIDTH:r===C.bNd.INHERIT?6:v.D.sizeToNumber(r))}},t.prototype.updateFieldValidityListener=function(){},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-image"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-field",3,"ngClass",4,"ngIf"],[1,"ehr-field",3,"ngClass"],[1,"row","d-flex",3,"ngClass"],[1,"m-2",3,"ngClass"],[3,"config"]],template:function(e,t){1&e&&i.YNc(0,Tl,6,9,"div",0),2&e&&i.Q6J("ngIf",t.imageConfig&&!t.isHiddenValue)},directives:[m.O5,m.mk,El],pipes:[ni,zs],encapsulation:2,changeDetection:0}),t}(dt);function Ol(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"fieldAlignmentClass"),i.TgZ(2,"button",2),i.NdJ("click",function(){return i.CHM(n),i.oxw().onBtnClick()}),i.ALo(3,"async"),i._UZ(4,"span",3),i.ALo(5,"async"),i.qZA(),i.qZA()}if(2&e){var r,o=i.oxw();i.ekj("ehr-disabled",o.isReadOnly),i.Q6J("ngClass",i.lcZ(1,7,null==(r=o.model.getViewConfig().getLayout())||null==r.field?null:r.field.align)),i.uIk("data-ehr-path",o.model.getPath()),i.xp6(2),i.Q6J("ngClass",o.model.getViewConfig().style)("disabled",o.isReadOnly||i.lcZ(3,9,o.savingInProgress$)),i.xp6(2),i.Q6J("innerHTML",o.model.labelFor(i.lcZ(5,11,o.ehrFormState.getFormContext()).language),i.oJD)}}var xl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isGloballyReadOnly=!1,t}return(0,lt.ZT)(t,e),t.prototype.ngOnInit=function(){this.platformApiService=this.injector.get(vn._),this.formDataService=this.injector.get(qe.W),this.formEnvironmentService=this.injector.get(C.eNT)},t.prototype.ngOnChanges=function(t){var n=this;e.prototype.ngOnChanges.call(this,t),t.hasOwnProperty("model")&&this.isReadOnlySubs.add(this.ehrFormState.getFormContext().pipe((0,E.U)(function(e){return e.readonly})).subscribe(function(e){n.isGloballyReadOnly=!0===e,n.changeDetectorRef.markForCheck()}))},t.prototype.onBtnClick=function(){var e,t=this;this.savingInProgress$.next(!0);var n=!!(null===(e=this.model.getBehaviour())||void 0===e?void 0:e.saveAsIncomplete);this.formDataService.saveComposition(this.model,!0,n).pipe((0,p.q)(1),(0,d.K)(function(e){return console.error(e),yn.E}),(0,mn.x)(function(){t.savingInProgress$.next(!1),t.model.buttonClicked()})).subscribe(function(e){t.model.handleSaveComposition(e)})},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-save-button"]],features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-button d-flex","ehrOnRenderedEmitter","",3,"ngClass","ehr-disabled","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","",1,"ehr-button","d-flex",3,"ngClass","onEhrComponentRendered"],["type","button",1,"btn","b-form-btn",3,"ngClass","disabled","click"],[3,"innerHTML"]],template:function(e,t){1&e&&i.YNc(0,Ol,6,13,"div",0),2&e&&i.Q6J("ngIf",!t.isHidden&&!t.isGloballyReadOnly)},directives:[m.O5,I,m.mk],pipes:[zs,m.Ov],styles:["@media only screen and (max-width:415px){.ehr-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width:415px){.ehr-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:auto}}"],changeDetection:0}),t}(Ws),Il=function(){function e(){}return e.prototype.handleError=function(e){console.error(e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}(),Ml=(n(47086),n(93386)),Sl=n(4659),Vl=n(16407),Al=n(27839),Dl=["fileInput"];function kl(e,t){if(1&e&&(i._UZ(0,"mrd-validation-error-list",9),i.ALo(1,"async")),2&e){var n=i.oxw(2);i.Q6J("translatedValidationErrors",i.lcZ(1,1,n.errorMessages))}}var Rl=function(e,t){return{"is-invalid":e,disabled:t}};function Pl(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.YNc(1,kl,2,3,"mrd-validation-error-list",2),i.ALo(2,"async"),i.TgZ(3,"div",3),i.TgZ(4,"label",4),i.ALo(5,"async"),i.TgZ(6,"span",5),i._uU(7),i.qZA(),i.TgZ(8,"span",6),i._uU(9),i.qZA(),i.TgZ(10,"input",7,8),i.NdJ("change",function(e){return i.CHM(n),i.oxw().fileSelected(e)}),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r,o,a=i.oxw();i.xp6(1),i.Q6J("ngIf",!a.isReadOnly&&!(null==(r=i.lcZ(2,4,a.errorMessages))||!r.length)),i.xp6(3),i.Q6J("ngClass",i.WLB(8,Rl,!(null==(o=i.lcZ(5,6,a.errorMessages))||!o.length),a.isReadOnly)),i.xp6(3),i.hij("",a.buttonDropFilesLabel,"\xa0"),i.xp6(2),i.Oqu(a.buttonBrowseFilesLabel)}}function Nl(e,t){if(1&e&&i._UZ(0,"img",17),2&e){var n=t.ngIf,r=i.oxw(2).$implicit;i.Q6J("src",n,i.LSH)("alt",r["|alternatetext"]||"multimedia thumbnail")}}function Fl(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",18),i.NdJ("click",function(){i.CHM(n);var e=i.oxw(2).index;return i.oxw(2).removeItem(e)}),i._UZ(1,"i",19),i.qZA()}}function Ll(e,t){if(1&e){var n=i.EpF();i.ynx(0),i.TgZ(1,"div",13),i.TgZ(2,"div"),i.YNc(3,Nl,1,2,"img",14),i.ALo(4,"async"),i.TgZ(5,"a",15),i.NdJ("click",function(){i.CHM(n);var e=i.oxw().$implicit;return i.oxw(2).downloadFile(e)}),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.qZA(),i.YNc(8,Fl,2,0,"div",16),i.qZA(),i.BQk()}if(2&e){var r=t.ngIf,o=i.oxw(),a=o.$implicit,s=o.index,l=i.oxw(2);i.xp6(3),i.Q6J("ngIf",i.lcZ(4,5,l.thumbnails.get(r))),i.xp6(2),i.Q6J("href",r,i.LSH)("title",a["|alternatetext"]),i.xp6(1),i.hij(" ",a["|alternatetext"]||i.lcZ(7,7,"multimedia.upload")+s+1," "),i.xp6(2),i.Q6J("ngIf",!l.isReadOnly)}}function Zl(e,t){1&e&&i._UZ(0,"ehr-presentation-value")}function Ul(e,t){if(1&e&&(i.TgZ(0,"div",11),i.YNc(1,Ll,9,9,"ng-container",12),i.YNc(2,Zl,1,0,"ehr-presentation-value",12),i.qZA()),2&e){var n=t.$implicit,r=i.oxw(2);i.xp6(1),i.Q6J("ngIf",n["|uri"]||n["|value"]),i.xp6(1),i.Q6J("ngIf",r.presentationMode&&!(n["|uri"]||n["|value"]))}}function Bl(e,t){if(1&e&&(i.TgZ(0,"div",1),i.YNc(1,Ul,3,2,"div",10),i.qZA()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("ngForOf",n.modelValue)}}var Gl=function(e){function t(t,n,r,a,s,l,u,c,d){var h=e.call(this,r,t,n,s,d)||this;return h.formState=r,h.validationResolver=a,h.parentFormGroup=s,h.resourceApiService=l,h.cd=u,h.sanitizer=c,h.modelStoreService=d,h.buttonDropFilesLabel="Drop files here or",h.buttonBrowseFilesLabel="Browse",h.onFileSelected=new i.vpe,h.thumbnails=new Map,h.formControl=new o.NI,h}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){var n,r=this;if(e.prototype.ngOnChanges.call(this,t),this.formControl){if(t.hasOwnProperty("isRequired")){var i=t.isRequired&&t.isRequired.currentValue?sn.required():null;this.formControl.setValidators(i),this.formControl.updateValueAndValidity()}var o=t.hasOwnProperty("modelValue")&&(null===(n=t.modelValue)||void 0===n?void 0:n.currentValue);if(this.formControl.value!==o){var a=this.isModelValueEmpty(o);this.formControl.setValue(a?null:o),a||(this.formControl.markAsDirty({onlySelf:!0}),this.formControl.value.forEach(function(e){var t=e["|uri"],n=e["|mediatype"],i=/image\/*/g.test(n);t&&i&&r.createImageSrc(t,n)}))}this.formControl&&t.hasOwnProperty("disabled")&&this.disableControl(this.formControl,!!t.disabled.currentValue)}},t.prototype.ngOnInit=function(){this.formControl=new o.NI({value:this.modelValue&&this.modelValue.length?this.modelValue[0]["|uri"]:null,disabled:this.disabled},this.isRequired?[sn.required()]:null),this.registerControl(this.controlName+"|0",this.formControl),this.subscriptions.push(this.validationResolver.initializeValueChangeListener(this.formControl)),this.errorMessages=this.validationResolver.getErrorMessage(this.formControl)},t.prototype.fileSelected=function(e){this.onFileSelected.next(this.convertFileListToArray(e.target.files))},t.prototype.removeItem=function(e){this.removeMultiInput.next(e),this.formControl.updateValueAndValidity(),this.fileInput.nativeElement.value=""},t.prototype.downloadFile=function(e){this.resourceApiService.getFile(e["|uri"]||e["|value"]).pipe((0,p.q)(1)).subscribe(function(t){C.lMr.downloadFile(t,e["|alternatetext"],e["|mediatype"])})},t.prototype.convertFileListToArray=function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++)t.push(e[n]);return t},t.prototype.createImageSrc=function(e,t){var n=this;this.thumbnails.has(e)||this.thumbnails.set(e,this.resourceApiService.getFile(e).pipe((0,E.U)(function(e){var t=URL.createObjectURL(e);return n.sanitizer.bypassSecurityTrustResourceUrl(t)}),(0,Al.B)({connector:function(){return new Vl.t(1)},resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})))},t.prototype.isModelValueEmpty=function(e){var t;return Array.isArray(e)?!(null==e?void 0:e.some(function(e){return!!e["|uri"]})):!(null===(t=e)||void 0===t?void 0:t["|uri"])},t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(T.G),i.Y36(A.r),i.Y36(o.sg),i.Y36(Zs.g),i.Y36(i.sBO),i.Y36(r.H7),i.Y36(w.G))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mrd-multimedia-input"]],viewQuery:function(e,t){var n;1&e&&i.Gf(Dl,5),2&e&&i.iGM(n=i.CRH())&&(t.fileInput=n.first)},inputs:{modelValue:"modelValue",buttonDropFilesLabel:"buttonDropFilesLabel",buttonBrowseFilesLabel:"buttonBrowseFilesLabel"},outputs:{removeMultiInput:"removeMultiInput",onFileSelected:"onFileSelected"},features:[i.qOj,i.TTD],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[1,"row"],["class","form-control--error-message col-12",3,"translatedValidationErrors",4,"ngIf"],[1,"col-sm-12","file-upload"],[1,"file-upload-area",3,"ngClass"],[1,"file-upload--label1"],[1,"file-upload--label2"],["type","file",3,"change"],["fileInput",""],[1,"form-control--error-message","col-12",3,"translatedValidationErrors"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[4,"ngIf"],[1,"upload-item"],["class","upload-item--thumbnail",3,"src","alt",4,"ngIf"],["target","_blank",1,"upload-item--name","text-truncate",3,"href","title","click"],["class","upload-item--remove",3,"click",4,"ngIf"],[1,"upload-item--thumbnail",3,"src","alt"],[1,"upload-item--remove",3,"click"],[1,"b-icon","cancel"]],template:function(e,t){1&e&&(i.YNc(0,Pl,12,11,"div",0),i.YNc(1,Bl,2,1,"div",0)),2&e&&(i.Q6J("ngIf",!t.presentationMode),i.xp6(1),i.Q6J("ngIf",t.modelValue))},directives:[m.O5,m.mk,fn,m.sg,pn],pipes:[m.Ov,x.X$],styles:[".file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;display:block;height:100%;width:100%;right:0;top:0;opacity:0;text-align:right;cursor:pointer}.file-upload[_ngcontent-%COMP%]   .file-upload--label2[_ngcontent-%COMP%]{cursor:pointer;color:var(--b-upload-clickable-label-color);font-weight:700}.file-upload[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]{overflow:hidden;position:relative;width:100%;height:200%;top:-1.75em;background:var(--b-upload-area-background-color);border-radius:0;min-height:1.25em;display:flex;align-items:flex-end;margin-bottom:.25em}.file-upload[_ngcontent-%COMP%]   .file-upload-area.disabled[_ngcontent-%COMP%]{cursor:not-allowed;color:var(--b-label-disabled-color);pointer-events:none}.file-upload[_ngcontent-%COMP%]   .file-upload-area.disabled[_ngcontent-%COMP%]   .file-upload--label2[_ngcontent-%COMP%]{color:var(--b-upload-clickable-label-disabled-color)}.upload-item[_ngcontent-%COMP%]{border-top:1px solid var(--b-upload-item-border-color);display:flex;justify-content:space-between;padding:.5em .25em .5em 0}.upload-item[_ngcontent-%COMP%]   .upload-item--thumbnail[_ngcontent-%COMP%]{height:1.75em;width:1.75em;margin:.25em;-o-object-fit:cover;object-fit:cover}.upload-item[_ngcontent-%COMP%]   .upload-item--name[_ngcontent-%COMP%]{color:var(--b-input-value-color);font-weight:700}.upload-item[_ngcontent-%COMP%]   .upload-item--remove[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex}.upload-item[_ngcontent-%COMP%]   .upload-item--remove[_ngcontent-%COMP%]   .b-icon[_ngcontent-%COMP%]{background-color:var(--b-upload-remove-icon-background-color);border-radius:.375em;color:var(--b-upload-remove-icon-color)}"],changeDetection:0}),t}(dn),Hl=["canvas"],ql=["canvasContainer"],jl=function(e,t){return{"is-invalid":e,disabled:t}};function Yl(e,t){if(1&e){var n=i.EpF();i.ynx(0),i.TgZ(1,"label",7),i.ALo(2,"async"),i.TgZ(3,"span",8),i._uU(4),i.qZA(),i.TgZ(5,"span",9),i._uU(6),i.qZA(),i.TgZ(7,"input",10),i.NdJ("change",function(e){return i.CHM(n),i.oxw(2).fileSelected(e)}),i.qZA(),i.qZA(),i.BQk()}if(2&e){var r,o=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.WLB(5,jl,!(null==(r=i.lcZ(2,3,o.errorMessages))||!r.length),o.isReadOnly)),i.xp6(3),i.hij("",o.buttonDropFilesLabel,"\xa0"),i.xp6(2),i.Oqu(o.buttonBrowseFilesLabel)}}function Jl(e,t){if(1&e&&(i.TgZ(0,"div",5),i.YNc(1,Yl,8,8,"ng-container",6),i.qZA()),2&e){var n=i.oxw(),r=i.MAs(5);i.xp6(1),i.Q6J("ngIf",!n.disableInput)("ngIfElse",r)}}function zl(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",22),i.NdJ("click",function(){var e=i.CHM(n).$implicit;return i.oxw(3).changeBrushColor(e)}),i.qZA()}if(2&e){var r=t.$implicit,o=i.oxw(3);i.ekj("active",o.activeColor===r),i.Q6J("ngClass",r)}}function Ql(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",14),i.TgZ(1,"div",15),i.TgZ(2,"div",16),i.YNc(3,zl,1,3,"div",17),i.qZA(),i.TgZ(4,"div",18),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).undo()}),i.ALo(5,"translate"),i._UZ(6,"i",19),i.qZA(),i.qZA(),i.TgZ(7,"div",20),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).clearAll()}),i.ALo(8,"translate"),i._UZ(9,"i",21),i.qZA(),i.qZA()}if(2&e){var r=i.oxw(2);i.xp6(3),i.Q6J("ngForOf",r.colorNames),i.xp6(1),i.Q6J("title",i.lcZ(5,3,"GENERIC_CANVAS.UNDO")),i.xp6(3),i.Q6J("title",i.lcZ(8,5,"GENERIC_CANVAS.CLEAR"))}}function Wl(e,t){if(1&e&&(i.ynx(0),i.YNc(1,Ql,10,7,"div",11),i._UZ(2,"canvas",12,13),i.BQk()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("ngIf",n.enableMarkup&&!n.isReadOnly&&!n.presentationMode),i.xp6(1),i.ekj("disabled",!n.enableMarkup||n.isReadOnly||n.presentationMode||n.disabled)("disable-touche-events",n.enableMarkup&&!n.isReadOnly&&!n.presentationMode||n.disabled)}}function Kl(e,t){1&e&&(i.TgZ(0,"label",23),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"GENERIC_CANVAS.IMAGE_MISSING")))}var Xl=function(e){function t(t,n,r,o,a,s,l,u,c,d,h){var f=e.call(this,t,n,r,o,a,l,u,s,h)||this;return f.formState=r,f.validationResolver=o,f.parentFormGroup=a,f.sanitizer=s,f.resourceApiService=l,f.cd=u,f.imageService=c,f.formDataService=d,f.modelStoreService=h,f.enableMarkup=!0,f.disableInput=!0,f.onUpdateCanvasImage=new i.vpe,f.showCanvas=!1,f.canvasIsDirty=!1,f.imageChangeIsEnabled=!1,f.activeColor="yellow",f.colorNames=[],f.scaleRatio=1,f.currentGestureEvents=[],f.undoStack=[],f.clearCanvasIndex=[],f.DEFAULT_CTX_PROPS={lineWidth:2,strokeStyle:"#000"},f.COLOR_PALETTE={yellow:"#FFE44D",orange:"#FFAA00",red:"#FF2D55",blue:"#007AFF",purple:"#42087A",black:"#000000",white:"#FFFFFF"},f}return(0,lt.ZT)(t,e),t.prototype.ngOnInit=function(){var e=this;this.colorNames=Object.keys(this.COLOR_PALETTE),(0,gn.R)(window,"resize").pipe((0,ln.b)(100),(0,ut.R)(this.destroy$)).subscribe(function(){e.scaleImageToAvailableSpace()})},t.prototype.ngOnChanges=function(t){var n=this;if(e.prototype.ngOnChanges.call(this,t),1===Object.keys(t).length&&t.hasOwnProperty("sizeChange")&&this.scaleImageToAvailableSpace(),1!==Object.keys(t).length||!t.hasOwnProperty("isReadOnly")){var r;if(t.hasOwnProperty("modelValue")){var i=t.modelValue.currentValue,o=t.modelValue.previousValue,a=o&&o.length>0&&i&&i.length>0&&o[0]["|uri"]===i[0]["|uri"];this.showCanvas=!!(r=i&&i.length>0&&i[0]["|uri"]),this.clearUndoStack(),!r||!t.modelValue.firstChange&&a||this.getImageAndSetItToCanvas(r)}!r&&this.config&&this.config.name&&(this.showCanvas=!0,this.imageService.isBase64Set(this.config)?this.setImageToCanvas(this.config.base64):this.formId&&this.formDataService.hasCanvasImageData(this.formId)?(this.setImageToCanvas(this.formDataService.getCanvasImage(this.formId)),this.cd.markForCheck()):this.imageService.retrieveImage(this.formDataService.form,this.config).pipe((0,ut.R)(this.destroy$)).subscribe(function(e){n.setImageToCanvas(e),n.cd.markForCheck()})),this.canvasIsDirty=!1,this.clearUndoStack(),this.imageChangeIsEnabled=!this.config||this.config&&!this.config.name,t.hasOwnProperty("clearValueObs")&&this.updateClearValueObs()}},t.prototype.refreshImage=function(){var e=this;if(this.canvasIsDirty){var t=new Image,n=document.createElement("canvas");t.onload=function(){n.width=t.width,n.height=t.height;var r=n.getContext("2d");e.setCanvasContext(r,{lineWidth:e.ctx.lineWidth/e.scaleRatio}),r.drawImage(t,0,0),e.recreateLastDrawing(1,r),n.toBlob(function(t){return e.onUpdateCanvasImage.emit(t)}),e.cd.detectChanges()},t.onerror=function(){console.error("[MrdCanvasComponent] Something went wrong with posting image")},t.src=URL.createObjectURL(this.referenceImage)}},t.prototype.changeBrushColor=function(e,t){void 0===t&&(t=this.ctx);var n=this.COLOR_PALETTE[e];n||(n=this.COLOR_PALETTE.black),t.fillStyle=n,t.strokeStyle=n,this.activeColor=e},t.prototype.undo=function(){if(this.undoStack.length>0){var e=this.undoStack.pop();0===(null==e?void 0:e.length)&&this.clearCanvasIndex.pop(),this.setImageToCanvas(this.referenceImage,!1),this.refreshImage()}},t.prototype.clearAll=function(){var e=this;this.config&&this.config.name?this.imageService.retrieveImage(this.formDataService.form,this.config).pipe((0,ut.R)(this.destroy$)).subscribe(function(t){e.setImageToCanvas(t),e.addClearItemToUndoStack(),e.canvasIsDirty=!0}):0!==this.undoStack.length&&(this.resetCanvas(),this.addClearItemToUndoStack())},t.prototype.changeImage=function(t){this.config||e.prototype.fileSelected.call(this,t)},t.prototype.ngOnDestroy=function(){this.clearValueSub&&this.clearValueSub.unsubscribe(),e.prototype.ngOnDestroy.call(this)},t.prototype.getImageAndSetItToCanvas=function(e){var t=this;e&&this.resourceApiService.getFile(e).subscribe(function(e){return t.setImageToCanvas(e)})},t.prototype.initCanvas=function(e,t){this.canvas=this.canvasRef.nativeElement,this.setCanvasDimensions(e,t),this.setCanvasContext(),this.canvasEventListenerSub||this.registerCanvasEventListeners(),this.setContainerToImageWidthRatio()},t.prototype.setCanvasContext=function(e,t){void 0===e&&(e=this.ctx),e||(e=this.canvas.getContext("2d"),this.ctx=e);var n=t&&t.strokeStyle?t.strokeStyle:this.COLOR_PALETTE[this.activeColor]||this.DEFAULT_CTX_PROPS.strokeStyle;e.lineWidth=t&&t.lineWidth?t.lineWidth:this.DEFAULT_CTX_PROPS.lineWidth,e.lineCap="round",e.strokeStyle=n,e.fillStyle=n},t.prototype.registerCanvasEventListeners=function(){var e=this,t=this.getEventNames(),n=t.end,r=t.move,i=t.cancel,o=(0,gn.R)(this.canvas,t.start).pipe((0,k.b)(function(){return e.currentGestureEvents=new Array})),a=(0,gn.R)(this.canvas,n).pipe((0,k.b)(function(){e.refreshImage(),e.undoStack.push(e.currentGestureEvents)})),s=(0,gn.R)(this.canvas,r),l=(0,gn.R)(this.canvas,i).pipe((0,k.b)(function(){return e.refreshImage()})),u=o.pipe((0,f.w)(function(){return s.pipe((0,ut.R)(a),(0,ut.R)(l),(0,Ml.e)(function(e,t){var n,r=!1;e.subscribe(new Sl.Q(t,function(e){var i=n;n=e,r&&t.next([i,e]),r=!0}))}))})),c=(0,gn.R)(this.canvas,"click");this.canvasEventListenerSub=(0,b.T)(c,u).pipe((0,ut.R)(this.destroy$),(0,E.U)(function(e){return Array.isArray(e)?e:[e]})).subscribe(function(t){var n,r;if(!e.isCanvasDisabled()){var i,o,a=(0,lt.CR)((0,lt.ev)([],(0,lt.CR)(t)),2),s=a[0],l=a[1],u=!!l;if(t.forEach(function(e){e.preventDefault(),e.stopPropagation()}),u){var c=e.isTouchscreenDevice(),d=c?null===(n=s.touches)||void 0===n?void 0:n[0]:s,h=c?null===(r=l.touches)||void 0===r?void 0:r[0]:l;i=e.getCoordinatesFromEvent(d),o=e.getCoordinatesFromEvent(h)}else o=i=e.getCoordinatesFromEvent(s);e.draw(i,o),e.saveCoordinatePairs(i,o),u||(e.undoStack[e.undoStack.length-1]=e.currentGestureEvents)}})},t.prototype.draw=function(e,t,n){void 0===n&&(n=this.ctx),n&&e&&t&&(n.beginPath(),t.x===e.x&&t.y===e.y?(n.arc(t.x,t.y,n.lineWidth/2,0,2*Math.PI),n.fill()):(n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke()),this.canvasIsDirty=!0)},t.prototype.setImageToCanvas=function(e,t){var n=this;if(void 0===t&&(t=!0),e){t||(e=this.referenceImageDimensions?this.referenceImage:e);var r=new Image;r.onload=function(){e&&t&&(n.referenceImage=e,n.referenceImageDimensions={width:r.width,height:r.height}),setTimeout(function(){n.resizeImage(r),n.initCanvas(r.width,r.height),n.ctx.drawImage(r,0,0,r.width,r.height),t||n.recreateLastDrawing(n.scaleRatio),n.refreshImage(),n.cd.detectChanges()},100)},r.onerror=function(){console.error("[MrdCanvasComponent] Something went wrong with setting an image on canvas")},r.src=e instanceof Blob?URL.createObjectURL(e):e}},t.prototype.resizeImage=function(e){if(this.canvasContainerRef&&this.referenceImageDimensions){var t=this.canvasContainerRef.nativeElement.offsetWidth,n=t/this.referenceImageDimensions.width;t>0&&t!==this.referenceImageDimensions.width&&(e.width=t,e.height=this.referenceImageDimensions.height*n)}},t.prototype.setContainerToImageWidthRatio=function(){this.scaleRatio=1,this.canvasContainerRef&&this.referenceImageDimensions&&(this.scaleRatio=this.canvasContainerRef.nativeElement.offsetWidth/this.referenceImageDimensions.width)},t.prototype.saveCoordinatePairs=function(e,t){var n={color:this.activeColor,previous:{x:e.x/this.scaleRatio,y:e.y/this.scaleRatio},current:{x:t.x/this.scaleRatio,y:t.y/this.scaleRatio}};this.currentGestureEvents.push(new $l(n.previous,n.current,n.color))},t.prototype.recreateLastDrawing=function(e,t){var n=this;void 0===t&&(t=this.ctx);for(var r=this.activeColor,i=this.getLastClearIndex();i<this.undoStack.length;i++)this.undoStack[i].forEach(function(r){t.strokeStyle!==r.color&&n.changeBrushColor(r.color,t),n.draw({x:r.previous.x*e,y:r.previous.y*e},{x:r.current.x*e,y:r.current.y*e},t)});this.changeBrushColor(r)},t.prototype.setCanvasDimensions=function(e,t){void 0===e&&(e=400),void 0===t&&(t=400),this.canvas.width=e,this.canvas.height=t},t.prototype.isCanvasDisabled=function(){return this.canvas.classList.contains("disabled")},t.prototype.resetCanvas=function(){this.setImageToCanvas(this.referenceImage),this.refreshImage()},t.prototype.addClearItemToUndoStack=function(){var e=this.undoStack.push([]);this.clearCanvasIndex.push(e-1)},t.prototype.getCoordinatesFromEvent=function(e){var t=this.canvas.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},t.prototype.clearUndoStack=function(){this.undoStack.length=0},t.prototype.getLastClearIndex=function(){return this.clearCanvasIndex[this.clearCanvasIndex.length-1]||0},t.prototype.scaleImageToAvailableSpace=function(){var e=this;this.setContainerToImageWidthRatio(),this.canvas&&this.canvas.toBlob(function(t){return e.setImageToCanvas(t,!1)})},t.prototype.isTouchscreenDevice=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0},t.prototype.getEventNames=function(){return this.isTouchscreenDevice()?{start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"}:{start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"}},t.prototype.updateClearValueObs=function(){var e=this;this.clearValueSub&&this.clearValueSub.unsubscribe(),this.clearValueSub=this.clearValueObs.pipe((0,il.h)(function(e){return!!e})).subscribe(function(){return e.clearAll()})},t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(T.G),i.Y36(A.r),i.Y36(o.sg),i.Y36(r.H7),i.Y36(Zs.g),i.Y36(i.sBO),i.Y36(Cn),i.Y36(qe.W),i.Y36(w.G))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mrd-canvas"]],viewQuery:function(e,t){if(1&e&&(i.Gf(Hl,5),i.Gf(ql,5)),2&e){var n=void 0;i.iGM(n=i.CRH())&&(t.canvasRef=n.first),i.iGM(n=i.CRH())&&(t.canvasContainerRef=n.first)}},inputs:{enableMarkup:"enableMarkup",config:"config",sizeChange:"sizeChange",clearValueObs:"clearValueObs",disableInput:"disableInput"},outputs:{onUpdateCanvasImage:"onUpdateCanvasImage"},features:[i.qOj,i.TTD],decls:6,vars:2,consts:[[1,"canvas--wrapper"],["canvasContainer",""],["class","file-upload",4,"ngIf"],[4,"ngIf"],["imageMissing",""],[1,"file-upload"],[4,"ngIf","ngIfElse"],[1,"file-upload-area",3,"ngClass"],[1,"file-upload--label1"],[1,"file-upload--label2"],["type","file","accept","image/*",3,"change"],["class","canvas--toolbar",4,"ngIf"],[1,"ml-auto","mr-auto"],["canvas",""],[1,"canvas--toolbar"],[1,"d-flex"],[1,"canvas--colors"],["class","canvas--color-button",3,"ngClass","active","click",4,"ngFor","ngForOf"],[1,"canvas--actions",3,"title","click"],[1,"b-icon","undo"],[1,"canvas--actions","reset",3,"title","click"],[1,"b-icon","revert"],[1,"canvas--color-button",3,"ngClass","click"],[1,"file-upload-area"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0,1),i.YNc(2,Jl,2,2,"div",2),i.YNc(3,Wl,4,5,"ng-container",3),i.qZA(),i.YNc(4,Kl,3,3,"ng-template",null,4,i.W1O)),2&e&&(i.xp6(2),i.Q6J("ngIf",!t.showCanvas),i.xp6(1),i.Q6J("ngIf",t.showCanvas))},directives:[m.O5,m.mk,m.sg],pipes:[m.Ov,x.X$],styles:[".file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;display:block;height:100%;width:100%;right:0;top:0;opacity:0;text-align:right;cursor:pointer}.file-upload[_ngcontent-%COMP%]   .file-upload--label2[_ngcontent-%COMP%]{cursor:pointer;color:var(--b-upload-clickable-label-color);font-weight:700}.file-upload[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]{overflow:hidden;position:relative;width:100%;height:200%;top:-1.75em;background:var(--b-upload-area-background-color);border-radius:0;min-height:1.25em;display:flex;align-items:flex-end;margin-bottom:.25em}.file-upload[_ngcontent-%COMP%]   .file-upload-area.disabled[_ngcontent-%COMP%]{cursor:not-allowed;color:var(--b-label-disabled-color);pointer-events:none}.file-upload[_ngcontent-%COMP%]   .file-upload-area.disabled[_ngcontent-%COMP%]   .file-upload--label2[_ngcontent-%COMP%]{color:var(--b-upload-clickable-label-disabled-color)}.upload-item[_ngcontent-%COMP%]{border-top:1px solid var(--b-upload-item-border-color);display:flex;justify-content:space-between;padding:.5em .25em .5em 0}.upload-item[_ngcontent-%COMP%]   .upload-item--thumbnail[_ngcontent-%COMP%]{height:1.75em;width:1.75em;margin:.25em;-o-object-fit:cover;object-fit:cover}.upload-item[_ngcontent-%COMP%]   .upload-item--name[_ngcontent-%COMP%]{color:var(--b-input-value-color);font-weight:700}.upload-item[_ngcontent-%COMP%]   .upload-item--remove[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex}.upload-item[_ngcontent-%COMP%]   .upload-item--remove[_ngcontent-%COMP%]   .b-icon[_ngcontent-%COMP%]{background-color:var(--b-upload-remove-icon-background-color);border-radius:.375em;color:var(--b-upload-remove-icon-color)}",".file-upload[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]{padding-bottom:.125em;top:.125em!important}canvas[_ngcontent-%COMP%]{cursor:pointer}canvas.disable-touche-events[_ngcontent-%COMP%]{touch-action:none}canvas.disabled[_ngcontent-%COMP%], canvas.markup-disabled[_ngcontent-%COMP%]{cursor:not-allowed}.canvas--toolbar[_ngcontent-%COMP%]{color:var(--b-canvas-toolbar-action-button-color);display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:.25em}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--actions[_ngcontent-%COMP%], .canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-color-button-background-color);border-radius:.25em;padding:.25em;margin-bottom:.25em}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--actions[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex;margin-right:.5em}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--actions.reset[_ngcontent-%COMP%]{background-color:transparent;border:2px solid var(--b-canvas-toolbar-reset-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--actions.reset[_ngcontent-%COMP%] > .b-icon[_ngcontent-%COMP%]{color:var(--b-canvas-toolbar-reset-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--actions[_ngcontent-%COMP%]   i.b-icon[_ngcontent-%COMP%]{font-size:.85em;padding-left:.5em;padding-right:.5em}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]{display:flex;margin-right:.5em}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button[_ngcontent-%COMP%]{border:none;border-radius:50%;cursor:pointer;height:1em;padding:0;width:1em}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button[_ngcontent-%COMP%] + .canvas--color-button[_ngcontent-%COMP%]{margin-left:.25em}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button[_ngcontent-%COMP%]:focus{outline:none}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.yellow[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-yellow-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.yellow.active[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-active-color-button-dot-color);border:.25em solid var(--b-canvas-toolbar-yellow-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.orange[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-orange-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.orange.active[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-active-color-button-dot-color);border:.25em solid var(--b-canvas-toolbar-orange-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.red[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-red-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.red.active[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-active-color-button-dot-color);border:.25em solid var(--b-canvas-toolbar-red-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.blue[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-blue-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.blue.active[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-active-color-button-dot-color);border:.25em solid var(--b-canvas-toolbar-blue-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.purple[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-purple-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.purple.active[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-active-color-button-dot-color);border:.25em solid var(--b-canvas-toolbar-purple-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.black[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-black-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.black.active[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-active-color-button-dot-color);border:.25em solid var(--b-canvas-toolbar-black-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.white[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-white-color-button-color)}.canvas--toolbar[_ngcontent-%COMP%]   .canvas--colors[_ngcontent-%COMP%]   .canvas--color-button.white.active[_ngcontent-%COMP%]{background-color:var(--b-canvas-toolbar-active-color-button-dot-color);border:.25em solid var(--b-canvas-toolbar-white-color-button-color);background-color:var(--b-canvas-toolbar-active-white-color-button-dot-color)}"],changeDetection:0}),t}(Gl),$l=function(){return function(e,t,n){this.previous=e,this.current=t,this.color=n}}();function eu(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function tu(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,eu,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.ALo(9,"fieldAlignmentClass"),i.TgZ(10,"div",5),i.TgZ(11,"mrd-canvas",6),i.NdJ("onUpdateCanvasImage",function(e){return i.CHM(n),i.oxw().updateCanvasImage(e)}),i.ALo(12,"async"),i.ALo(13,"translate"),i.ALo(14,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r,o=i.oxw();i.ekj("invalid",!1===o.fieldIsValid),i.Q6J("ngClass",i.lcZ(1,19,o.elementSize)),i.uIk("data-ehr-path",o.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,21,o.model.getViewConfig()))("inputClasses",i.lcZ(4,23,o.model.getViewConfig()))("tooltipValue",o.tooltipValue)("wrapperClasses",i.Dn7(5,25,o.model.rmType,o.isReadOnlyValue,o.hasValue))("isFieldValid",o.fieldIsValid),i.xp6(4),i.Q6J("ngIf",!o.isPresentation&&o.showLabel),i.xp6(2),i.Q6J("ngClass",i.lcZ(9,29,null==(r=o.model.getViewConfig().getLayout())||null==r.field?null:r.field.align)),i.xp6(2),i.Q6J("ngClass",o.sizeClass),i.xp6(1),i.Q6J("formId",o.model.formId)("modelValue",i.lcZ(12,31,o.modelValues$))("clearValueObs",o.clearValue$)("isReadOnly",o.isReadOnlyValue)("config",o.imageConfig)("buttonBrowseFilesLabel",i.lcZ(13,33,"browseFiles"))("buttonDropFilesLabel",i.lcZ(14,35,"dropFiles"))}}var nu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isPresentation=!1,t.FieldPosition=C.$jN,t}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){if(e.prototype.ngOnChanges.call(this,t),this.isPresentation=this.ehrFormState.isPresentationModeEnabled(),t.hasOwnProperty("model")){var n=this.model.getViewConfig(),r=n.getSize(!1).getLabel(!1),i=r===C.bNd.INHERIT?6:v.D.sizeToNumber(r);this.imageConfig=n.getFirstImage(),this.fieldPosition=n.getFieldPosition(!0),this.sizeClass=v.D.getColumnClasses(i),this.clearValue$=this.ehrModelObservable.fromEvent(this.model,C.X4$.CLEAR_CANVAS_MARKUP,!1)}},t.prototype.updateCanvasImage=function(e){this.formDataService.updateCanvasDrawing(this.model,e)},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-canvas"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[["class","ehr-field ehr-generic-canvas",3,"ngClass","invalid",4,"ngIf"],[1,"ehr-field","ehr-generic-canvas",3,"ngClass"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row","d-flex",3,"ngClass"],[3,"ngClass"],[3,"formId","modelValue","clearValueObs","isReadOnly","config","buttonBrowseFilesLabel","buttonDropFilesLabel","onUpdateCanvasImage"],[3,"model"]],template:function(e,t){1&e&&i.YNc(0,tu,15,37,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,m.mk,Hr,qr,Xl,V],pipes:[ni,ri,ai,oi,zs,m.Ov,x.X$],encapsulation:2,changeDetection:0}),t}(Hs),ru=n(18936),iu=n(66891),ou=n(54444),au=n(49929),su=(n(9383),n(33989)),lu=function(){function e(){}return e.prototype.validate=function(e,t){t||e?this.validateVariables(e,t):console.info("Form environment does not exists")},e.prototype.validateVariables=function(e,t){if(!t||!t.variables)return!0;if(!this.getExternallyProvidedVariables(t.variables))return!0;var n=t.variables.filter(this.isVariableExternallyProvided).filter(this.isVariableMandatory);if(!e||e&&!e.variables)return console.error("Following variables should be provided: "+n.map(function(e){return e.name}).join(", ")),!1;var r=this.getExternallyProvidedVariables(e.variables),i=this.getMissingVariables(r,n),o=e.variables.filter(function(e){return!e.value&&e.source!==C.hkZ.STATIC}).map(function(e){return e.name});return i.length?(console.error("Following variables should be provided: "+i.join(", ")),!1):(o.length&&console.warn("Following variables do not have values provided: "+o.join(", ")),!0)},e.prototype.getExternallyProvidedVariables=function(e){return e.filter(this.isVariableExternallyProvided)},e.prototype.isVariableExternallyProvided=function(e){return e.source===C.hkZ.EXTERNALLY_PROVIDED},e.prototype.isVariableMandatory=function(e){return e.mandatory},e.prototype.getMissingVariables=function(e,t){var n=t.map(function(e){return e.name}),r=e.map(function(e){return e.name}),i=[];return null==n||n.forEach(function(e){r.includes(e)||i.push(e)}),i},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}(),uu=n(24502),cu=n(52070),du=n(90015),hu=n(59860),fu=n(41852),pu=function(){function e(){}return e.getPageResource=function(t,n,r){if(!r)return t[n];var i=e.getPageResourceId(n,r);return n!==du.q.LAYOUT||Array.isArray(t[i])?t[i]:[t[i]]},e.getPageResourceId=function(e,t){return e+"-"+t},e}(),mu=n(37634),vu=n(35427);function gu(e,t){if(1&e&&(i.TgZ(0,"div"),i._UZ(1,"ehr-rows-renderer",2),i.qZA()),2&e){var n=i.oxw();i.ekj("ehr-form-root--with-offset",n.modelStoreService.maxContainerDepthFound>0),i.xp6(1),i.Q6J("rows",n.page.layout[0].children)("parentModel",n.page.rootModel)("ehrFormGroup",n.rootFormGroup)("leftOffset",n.modelStoreService.maxContainerDepthFound)("rightOffset",n.modelStoreService.maxContainerDepthFound)}}function yu(e,t){if(1&e&&i._UZ(0,"ehr-model-renderer",4),2&e){var n=t.$implicit,r=i.oxw(2);i.Q6J("model",n)("ehrFormGroup",r.rootFormGroup)}}function bu(e,t){if(1&e&&(i.TgZ(0,"div"),i.YNc(1,yu,1,2,"ehr-model-renderer",3),i.qZA()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("ngForOf",null==n.page.rootModel?null:n.page.rootModel.children)("ngForTrackBy",n.EhrLayoutHelper.trackByFieldModel)}}var _u=function(){function e(e){this.modelStoreService=e,this.EhrLayoutHelper=v.D}return e.\u0275fac=function(t){return new(t||e)(i.Y36(w.G))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-page-renderer"]],inputs:{page:"page",rootFormGroup:"rootFormGroup"},decls:2,vars:2,consts:[[3,"ehr-form-root--with-offset",4,"ngIf"],[4,"ngIf"],[3,"rows","parentModel","ehrFormGroup","leftOffset","rightOffset"],[3,"model","ehrFormGroup",4,"ngFor","ngForOf","ngForTrackBy"],[3,"model","ehrFormGroup"]],template:function(e,t){1&e&&(i.YNc(0,gu,2,7,"div",0),i.YNc(1,bu,2,2,"div",1)),2&e&&(i.Q6J("ngIf",(null==t.page||null==t.page.layout?null:t.page.layout.length)&&(null==t.page?null:t.page.rootModel)),i.xp6(1),i.Q6J("ngIf",!(null!=t.page&&t.page.layout)))},directives:[m.O5,Be,m.sg,Se],styles:[""],changeDetection:0}),e}();function Cu(e,t){if(1&e&&(i.ynx(0),i.TgZ(1,"ehr-model-renderer",1),i.ALo(2,"hideFieldInPresentation"),i.qZA(),i.BQk()),2&e){var n=t.$implicit,r=i.oxw();i.xp6(1),i.ekj("d-none",i.lcZ(2,5,n)),i.Q6J("layout",r.layout.get(null==n?null:n.formId))("model",n)("ehrFormGroup",r.rootFormGroup)}}var Eu=function(){function e(e,t,n){this.formDataService=e,this.isContainerListPipe=t,this.modelStoreService=n,this.fields=[],this.layout=new Map}return e.prototype.ngOnChanges=function(){var e=this;this.fields=[];var t=this.formDataService.getForm();t.pages.filter(function(e){return!0!==e.hideInPresentationMode}).forEach(function(n){var r,i=pu.getPageResource(t.pageResources,du.q.LAYOUT,n.id);e.fields=(0,lt.ev)((0,lt.ev)([],(0,lt.CR)(e.fields)),(0,lt.CR)(e.getLayoutFields(null===(r=i[0])||void 0===r?void 0:r.children)))})},e.prototype.getLayoutFields=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.modelStoreService.models.get(e.id),i=t.modelStoreService.getAllModelsForIdentification(e.id,r.parentModel);n.push.apply(n,(0,lt.ev)([],(0,lt.CR)(i))),t.layout.set(e.id,e)}),n},e.\u0275fac=function(t){return new(t||e)(i.Y36(qe.W),i.Y36(C.FT1),i.Y36(w.G))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-presentation-renderer"]],inputs:{rootFormGroup:"rootFormGroup"},features:[i.TTD],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"presentation-mode",3,"layout","model","ehrFormGroup"]],template:function(e,t){1&e&&i.YNc(0,Cu,3,7,"ng-container",0),2&e&&i.Q6J("ngForOf",t.fields)},directives:[m.sg,Se],pipes:[je],styles:[""],changeDetection:0}),e}();function Tu(e,t){if(1&e&&(i.TgZ(0,"div",2),i._uU(1),i.qZA()),2&e){var n=i.oxw();i.xp6(1),i.Oqu(n.errorMessage)}}function wu(e,t){if(1&e&&i._UZ(0,"ehr-page-renderer",8),2&e){var n=i.oxw(2);i.Q6J("page",n.formDefinition)("rootFormGroup",n.rootFormGroup)}}function Ou(e,t){if(1&e&&i._UZ(0,"ehr-presentation-renderer",9),2&e){var n=i.oxw(2);i.Q6J("rootFormGroup",n.rootFormGroup)}}function xu(e,t){if(1&e&&i._UZ(0,"ehr-page-renderer",8),2&e){var n=t.$implicit,r=i.oxw(3);i.Q6J("page",n)("rootFormGroup",r.rootFormGroup)}}function Iu(e,t){if(1&e&&(i.ynx(0),i.YNc(1,xu,1,2,"ehr-page-renderer",10),i.BQk()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",n.allFormDefinitions)}}function Mu(e,t){if(1&e&&(i.TgZ(0,"form",3),i.TgZ(1,"div",4),i.ALo(2,"lowercase"),i.ALo(3,"async"),i.YNc(4,wu,1,2,"ehr-page-renderer",5),i.YNc(5,Ou,1,1,"ehr-presentation-renderer",6),i.YNc(6,Iu,2,1,"ng-container",7),i.qZA(),i.qZA()),2&e){var n=i.oxw();i.Q6J("formGroup",n.rootFormGroup)("ngClass","ehr-form-"+n.formUid),i.xp6(1),i.Q6J("ngClass",i.lcZ(2,6,i.lcZ(3,8,n.theme))),i.xp6(3),i.Q6J("ngIf",n.formDefinition&&!(null!=n.context&&n.context.presentationMode)&&!(null!=n.context&&n.context.showAllPages)),i.xp6(1),i.Q6J("ngIf",null==n.context?null:n.context.presentationMode),i.xp6(1),i.Q6J("ngIf",(null==n.context?null:n.context.showAllPages)&&!(null!=n.context&&n.context.presentationMode))}}var Su=new i.OlP("DictionaryKeysArr"),Vu=function(){function e(e,t,n,r,o,a,s,l,u,c,d,h,f,p,m,b,_,C,T,w,O){var x=this;this.authService=e,this.platformApiService=t,this.cd=n,this.modelParser=r,this.ehrFormState=o,this.injector=a,this.formDataService=s,this.terminologyService=l,this.formEnvironmentService=u,this.translateService=c,this.ehrModelObservable=d,this.scriptApi=h,this.formEnvironmentValidationService=p,this.defaultValuesService=m,this.externalApiService=b,this.dataSourceService=_,this.modelStoreService=C,this.validationResolver=T,this.multiCompositionService=w,this.widgetConfigStore=O,this.composition={},this.onValueChange=new i.vpe,this.onFormRendered=new i.vpe,this.onCompositionSaved=new i.vpe,this.onRequestUpdatedToken=new i.vpe,this.onPageChanged=new i.vpe,this.onFormError=new i.vpe,this.removeSaveListener=[],this.allFormDefinitions=[],this.EhrLayoutHelper=v.D,this.formDefinitionChanges=new g.x,this.formEnvironmentChanges=new D.X(""),this.valuesEvaluationFinished=!1,this.formUid=(new Date).getTime().toString(),this.destroy$=new g.x,this.removeFormValueChangeListener=[],this.updateToken=function(e){return x.authService.updateToken(e)},(0,y.a)([this.formDefinitionChanges,this.ehrFormState.getFormContext()]).pipe((0,ut.R)(this.destroy$)).subscribe(function(){x.initFormContextData(),x.cd.markForCheck()}),(0,y.a)([this.formDefinitionChanges,this.formEnvironmentChanges]).pipe((0,ut.R)(this.destroy$),(0,E.U)(function(e){return(0,lt.CR)(e,2)[1]}),(0,S.x)()).subscribe(function(){x.formDefinition.environment&&(x.sanitizedFormEnvironment=x.updateFormEnvironmentWithExternallyProvidedData(x.formDefinition.environment),x.formEnvironmentValidationService.validate(x.sanitizedFormEnvironment,x.formDefinition.environment))}),f.forEach(function(e){x.setTranslation(e.language,e.keys)})}return Object.defineProperty(e.prototype,"values",{get:function(){return this.formDefinition.values},enumerable:!1,configurable:!0}),e.prototype.initFormContextData=function(){var e=this.formDefinition.rootModel,t=this.ehrFormState.initializeFormContextDataFromDescription(null==e?void 0:e.defaultLanguage,null==e?void 0:e.defaultTerminology);this.replaceStaticVariable(su.EV.FORM_LANGUAGE,t.language),this.replaceStaticVariable(su.EV.IS_READONLY,!!t.readonly),this.replaceStaticVariable(su.EV.DATE_FORMAT,t.dateFormat),t&&!t.disableFormScript&&e&&(this.api=this.scriptApi.exeFormScript(e))},e.prototype.ngOnInit=function(){var e=this;this.newTokenReqSub=this.authService.requestNewToken.subscribe(function(){return e.onRequestUpdatedToken.emit()}),this.theme=this.ehrFormState.getFormContext().pipe((0,M.j)("theme")),this.formDataService.activePageChanged().pipe((0,ut.R)(this.destroy$),(0,ou.T)(1),(0,S.x)()).subscribe(function(t){var n=e.formDataService.getActivePage(),r=e.formDataService.getForm(),i=e.formDataService.getRootTemplateId(n.id,r),o=e.formDataService.getComposition(i);e.replaceStaticVariable(su.EV.CURRENT_PAGE,n.id),e.initPage(o,r,n),e.setRootFormGroup(!0),e.initChangeListener(),e.onPageChanged.emit(n),e.cd.detectChanges(),e.scrollToTop()})},e.prototype.ngOnChanges=function(e){var t,n=e.hasOwnProperty("compositionId"),r=e.hasOwnProperty("composition");if(this.updateEnvironment(e.hasOwnProperty("formEnvironment")&&e.formEnvironment.currentValue),this.updateStaticVariables(n||r),e.hasOwnProperty("context")&&e.context.currentValue){var i=e.context.currentValue,o=this.ehrFormState.getFormContextValue();Object.keys(i).forEach(function(e){return o[e]=i[e]}),this.ehrFormState.setFormContext(o)}e.hasOwnProperty("resourceUrl")&&e.resourceUrl.currentValue&&this.platformApiService.setResourceUrl(this.resourceUrl),this.credentials&&(null===(t=e.credentials)||void 0===t?void 0:t.currentValue)&&this.authService.setCredentials(this.credentials);var a=this.formInputHasChanged(e.form);if(a||n||r){var s=!!this.compositionId;this.composition=this.composition&&(!a||a&&r)?this.composition:{},this.getFormData(s,a)}},e.prototype.getFormData=function(e,t){var n=this;void 0===e&&(e=!1),void 0===t&&(t=!0);var r=[this.formDataService.fetchForm(this.form.name,this.form.version),e?this.fetchNewComposition(this.compositionId):this.normalizeComposition(this.composition)];(0,iu.D)(r).pipe((0,d.K)(function(e){return console.error("Something went wrong, check error object for more details:",e),n.errorMessage=e&&404===e.status&&"FORM-5021"===e.error.code?e.error.userMessage:e&&401===e.status&&n.authService.getAuthType()===ru.VE.OAUTH2?"Session timeout":"Something went wrong. Please try again or contact administrator",n.onFormError.emit(n.errorMessage),yn.E}),(0,mn.x)(function(){n.errorMessage=null,n.cd.detectChanges()})).subscribe(function(e){var t=(0,lt.CR)(e,2),r=t[0],i=t[1];n.defaultValuesService.noOfFormPages=r.pages.length;var o=r.pages.find(function(e){return e.firstPage}),a=n.formDataService.getRootTemplateId(o.id,r),s=n.formDataService.getRelatedTemplates(o.id,r);n.form=new ru.yu(r.name,r.version,a,r.tags,s),n.formDataService.clearCanvasImageData(),n.setEnvironment(r.formEnvironment),n.setWidgetConfig(null==r?void 0:r.widgetConfig),n.replaceStaticVariable(su.EV.CURRENT_PAGE,null==o?void 0:o.id),n.initFormData(i,r,o),n.setRootFormGroup(!0),n.initChangeListener(!0),n.initSaveListener()})},e.prototype.initChangeListener=function(e){var t,n=this;void 0===e&&(e=!1),(null===(t=this.removeFormValueChangeListener)||void 0===t?void 0:t.length)&&this.removeFormValueChangeListener.forEach(function(e){return e.unsubscribe()}),setTimeout(function(){Array.from(n.modelStoreService.formForPage.values()).forEach(function(e){n.removeFormValueChangeListener.push(n.ehrModelObservable.fromEvent(e,C.X4$.CHANGE,e).subscribe(function(e){n.onValueChange.emit(e)}))}),e&&n.onFormRendered.emit(n.formDefinition.rootModel)}),this.formDefinitionChanges.next()},e.prototype.initSaveListener=function(){var e,t=this;(null===(e=this.removeSaveListener)||void 0===e?void 0:e.length)&&this.removeSaveListener.forEach(function(e){return e.unsubscribe()}),Array.from(this.modelStoreService.models.values()).filter(function(e){return e.rmType===C.B8O.GENERIC_SAVE_BUTTON}).forEach(function(e){t.removeSaveListener.push(t.ehrModelObservable.fromEvent(e,C.X4$.COMPOSITION_SAVED).pipe((0,il.h)(function(e){return!!e})).subscribe(function(e){t.onCompositionSaved.emit(e)}))})},e.prototype.formInputHasChanged=function(e){var t,n,r,i,o,a;return!(!e||e.previousValue)||(null===(t=null==e?void 0:e.currentValue)||void 0===t?void 0:t.name)!==(null===(n=null==e?void 0:e.previousValue)||void 0===n?void 0:n.name)&&(null===(r=null==e?void 0:e.currentValue)||void 0===r?void 0:r.version)!==(null===(i=null==e?void 0:e.previousValue)||void 0===i?void 0:i.version)&&(null===(o=null==e?void 0:e.currentValue)||void 0===o?void 0:o.templateId)!==(null===(a=null==e?void 0:e.previousValue)||void 0===a?void 0:a.templateId)},e.prototype.createFormDefinition=function(e,t,n,r,i){this.formDataService.form=new ru.yu(e.name,e.version,e.templateId,e.tags,e.relatedTemplates),t&&(this.formRootModel=this.modelParser.parseFormDescription(t,i,!1,!1)),this.formDefinition=new ru.z8(e.name,e.version,e.templateId,this.formRootModel,r,n,i,this.context)},e.prototype.validate=function(e){return void 0===e&&(e=!0),this.validationResolver.validate(this.rootFormGroup,null,e)},e.prototype.setTranslation=function(e,t,n){void 0===n&&(n=!1),this.translateService.setTranslation(e,t,!0),n&&this.translateService.setDefaultLang(e)},e.prototype.clearModelStore=function(){this.modelStoreService.clearModelStore()},e.prototype.ngOnDestroy=function(){var e,t,n;this.formDefinitionChanges.complete(),this.formEnvironmentChanges.complete(),this.newTokenReqSub.unsubscribe(),null===(e=this.removeFormValueChangeListener)||void 0===e||e.forEach(function(e){return e.unsubscribe()}),null===(t=this.removeSaveListener)||void 0===t||t.forEach(function(e){return e.unsubscribe()}),this.removeControl(this.rootFormGroup),this.modelStoreService.clearModelStore(),null===(n=this.formRootModel)||void 0===n||n.destroyEvents(),this.destroy$.next(),this.destroy$.complete()},e.prototype.setEnvironment=function(e){var t;if(e){var n=(null===(t=this.sanitizedFormEnvironment)||void 0===t?void 0:t.variables.filter(function(e){return e.source===C.hkZ.STATIC}))||[];this.sanitizedFormEnvironment=new C.bRo((0,lt.ev)((0,lt.ev)([],(0,lt.CR)(n)),(0,lt.CR)(e.variables)),e.externalApis),this.updateStaticVariables(),this.sanitizedFormEnvironment=this.updateFormEnvironmentWithExternallyProvidedData(e),this.formEnvironmentValidationService.validate(this.sanitizedFormEnvironment,e),this.formEnvironmentService.setEnvironment(this.sanitizedFormEnvironment)}},e.prototype.initFormData=function(e,t,n,r){var i=this;void 0===r&&(r=!1),this.allFormDefinitions.length=0,this.initPage(e,t,n,!0),this.initiateFormModels(t,e,n);var o=this.formDataService.getRootTemplateId(n.id,t);if(o){var a=(new Map).set(o,e);this.formDataService.setFormState(t,a,n,this.formUid),this.setRootFormGroup(r),this.valuesEvaluationFinished=!1,this.defaultValuesService.valueEvaluationFinished$.pipe((0,ut.R)(this.destroy$),(0,il.h)(function(e){return e}),(0,ou.T)(t.pages.length-1),(0,p.q)(1),(0,mn.x)(function(){i.valuesEvaluationFinished=!0,i.cd.detectChanges()})).subscribe(function(e){t.pages.forEach(function(e){var t=C.zR2.getModels(i.modelStoreService.formForPage.get(e.id));i.modelParser.executeFormScript(t)})})}else console.error("Can not init form date, because template id is missing")},e.prototype.initPage=function(e,t,n,r){var i,o,a,s=this;void 0===r&&(r=!1);var l=pu.getPageResource(t.pageResources,du.q.DESCRIPTION,null==n?void 0:n.id),u=pu.getPageResource(t.pageResources,du.q.LAYOUT,null==n?void 0:n.id);if(this.modelStoreService.formForPage.has(null==n?void 0:n.id)?(this.formRootModel=this.modelStoreService.formForPage.get(n.id),this.createFormDefinition(this.form,r?l:null,t.formEnvironment,u,e)):this.createFormDefinition(this.form,l,t.formEnvironment,u,e),this.formDefinition.scripts=t.scripts,this.composition=e,this.modelStoreService.addPageForm(this.formDefinition.rootModel,n.id),!(null===(a=this.allFormDefinitions)||void 0===a?void 0:a.some(function(e){var t,n;return e.rootModel.id===(null===(n=null===(t=s.formDefinition)||void 0===t?void 0:t.rootModel)||void 0===n?void 0:n.id)}))){var c=this.formDataService.getRootTemplateId(n.id,t);this.allFormDefinitions.push(new ru.z8(t.name,t.version,c,this.formDefinition.rootModel,u,t.formEnvironment))}this.modelStoreService.setMaxContainerDepth(n.id),this.formDataService.updatePageResource(((i={})[pu.getPageResourceId(du.q.DESCRIPTION,null==n?void 0:n.id)]=l,i)),this.formDataService.updatePageResource(((o={})[pu.getPageResourceId(du.q.LAYOUT,null==n?void 0:n.id)]=u,o))},e.prototype.updateFormEnvironmentWithExternallyProvidedData=function(e){var t;if(!e)return new C.bRo;this.removeTestingValuesFromExternallyProvidedVariables();var n=(null===(t=this.formEnvironment)||void 0===t?void 0:t.variables)?this.formEnvironment.variables.filter(function(e){return!(e.name in su.EV)}):[],r=n.map(function(e){return e.name}),i=e.variables.filter(function(e){return!r.includes(e.name)}),o=i.map(function(e){return e.name}),a=this.sanitizedFormEnvironment.variables.filter(function(e){return!o.includes(e.name)&&!r.includes(e.name)}),s=(0,lt.ev)((0,lt.ev)((0,lt.ev)([],(0,lt.CR)(n)),(0,lt.CR)(i)),(0,lt.CR)(a));return this.updateEnvironment(!0,new C.bRo(s,e.externalApis),!0)},e.prototype.removeControl=function(e){var t=this,n=Array.from(this.modelStoreService.modelControls.keys())||[];n.some(function(e){var n;return e.includes((null===(n=t.formRootModel)||void 0===n?void 0:n.formId)||"")})&&n.forEach(function(n){t.modelStoreService.removeModelControl(n,e)})},e.prototype.setRootFormGroup=function(e){var t,n,r,i;void 0===e&&(e=!1),this.removeControl(this.rootFormGroup);var a=this.rootFormGroup&&!e?this.rootFormGroup.controls:{};this.rootFormGroup=new o.cw({});try{for(var s=(0,lt.XA)(Object.keys(a)),l=s.next();!l.done;l=s.next()){var u=l.value;this.rootFormGroup.addControl(u,a[u])}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}this.rootFormGroup.setValidators(o.kI.required);var c=null===(r=this.formRootModel)||void 0===r?void 0:r.formId;if(c){var d=null===(i=this.formDataService.getActivePage())||void 0===i?void 0:i.id;this.modelStoreService.addModelControl(d?c+"-"+d:c,this.rootFormGroup)}},e.prototype.initiateFormModels=function(e,t,n){var r=this;e.pages.filter(function(e){return e.id!==n.id}).forEach(function(n){var i=pu.getPageResource(e.pageResources,du.q.DESCRIPTION,n.id),o=pu.getPageResource(e.pageResources,du.q.LAYOUT,n.id),a=r.modelParser.parseFormDescription(i,t,!1,!1);r.modelStoreService.addPageForm(a,n.id);var s=r.formDataService.getRootTemplateId(n.id,e);r.allFormDefinitions.push(new ru.z8(e.name,e.version,s,a,o,e.formEnvironment))})},e.prototype.removeTestingValuesFromExternallyProvidedVariables=function(){var e,t;(null===(t=null===(e=this.formEnvironment)||void 0===e?void 0:e.variables)||void 0===t?void 0:t.length)&&this.formEnvironment.variables.filter(function(e){return e.source===C.hkZ.EXTERNALLY_PROVIDED}).forEach(function(e){return delete e.testValue})},e.prototype.replaceStaticVariable=function(e,t){this.sanitizedFormEnvironment.replaceVariable(new C.$UT(e).setSource(C.hkZ.STATIC).setValue(t).build())},e.prototype.fetchNewComposition=function(e){var t=this;return e?this.platformApiService.getComposition(e).pipe((0,f.w)(function(e){return e.templateId===C.GWD?(0,y.a)((0,lt.ev)([(0,l.of)(e)],(0,lt.CR)(t.multiCompositionService.getRelatedCompositions(e.composition,t.ehrFormState.isLoadLastVersionValues())))):(0,l.of)(e)}),(0,k.b)(function(e){var n,r=e.compositionUid;Array.isArray(e)&&(r=null===(n=e[0])||void 0===n?void 0:n.compositionUid),t.compositionId&&t.compositionId.split("::").length<3&&(t.compositionId=r,t.replaceStaticVariable(su.EV.COMPOSITION_ID,r))}),(0,E.U)(function(e){return Array.isArray(e)?t.multiCompositionService.createSingleComposition(e):e.composition})):yn.E},e.prototype.normalizeComposition=function(e){var t=this;return e.hasOwnProperty("composed_document")?(0,y.a)((0,lt.ev)([],(0,lt.CR)(this.multiCompositionService.getRelatedCompositions(e)))).pipe((0,E.U)(function(e){return t.multiCompositionService.createSingleComposition(e)})):(0,l.of)(e)},e.prototype.scrollToTop=function(){setTimeout(function(){var e;null===(e=document.querySelector(".ehr-form"))||void 0===e||e.scrollIntoView()},0)},e.prototype.updateEnvironment=function(e,t,n){var r=this;if(void 0===n&&(n=!1),!this.formEnvironment&&!t)return this.sanitizedFormEnvironment=new C.bRo,this.sanitizedFormEnvironment;var i=t||this.formEnvironment;return e&&i?(this.sanitizedFormEnvironment?(i.variables.filter(function(e){return[C.hkZ.EXTERNALLY_PROVIDED,C.hkZ.PREDEFINED].includes(e.source)}).forEach(function(e){var t=r.sanitizedFormEnvironment.getVariable(e.name);t?t.setValue(e.value):r.sanitizedFormEnvironment.variables.push(C._wD.mapToVariableObject(e))}),this.sanitizedFormEnvironment.externalApis=i.externalApis):this.sanitizedFormEnvironment=new C.bRo(i.variables,i.externalApis),this.formEnvironmentService.setEnvironment(this.sanitizedFormEnvironment),n||this.formEnvironmentChanges.next(C.lMr.getUUID()),this.sanitizedFormEnvironment):this.sanitizedFormEnvironment},e.prototype.updateStaticVariables=function(e){var t,n,r,i,o,a,s,l;void 0===e&&(e=!1);var u=new Date;this.replaceStaticVariable(su.EV.CURRENT_DATE_TIME,Io.Y.getDateTimeByDate(u)),this.replaceStaticVariable(su.EV.CURRENT_DATE,on(u,fu.f.EHR_SERVER_FORMAT)),this.replaceStaticVariable(su.EV.DATE_FORMAT,null===(t=this.context)||void 0===t?void 0:t.dateFormat),this.replaceStaticVariable(su.EV.FORM_NAME,null===(n=this.form)||void 0===n?void 0:n.name),this.replaceStaticVariable(su.EV.FORM_VERSION,null===(r=this.form)||void 0===r?void 0:r.version),this.replaceStaticVariable(su.EV.COMPOSITION_ID,null!==(i=this.compositionId)&&void 0!==i?i:this.getCompositionUid(this.composition)),this.replaceStaticVariable(su.EV.FORM_LANGUAGE,(null===(o=this.context)||void 0===o?void 0:o.language)||""),this.replaceStaticVariable(su.EV.IS_READONLY,!!(null===(a=this.context)||void 0===a?void 0:a.readonly)),this.replaceStaticVariable(su.EV.PLATFORM_URL,this.resourceUrl||"");var c=!!(null===(s=this.compositionId)||void 0===s?void 0:s.length)||null!=this.composition&&Object.keys(this.composition).length>0,d=null===(l=this.sanitizedFormEnvironment)||void 0===l?void 0:l.getVariable(su.EV.IS_FORM_PREFILLED);this.replaceStaticVariable(su.EV.IS_FORM_PREFILLED,e?!!c:!!(null==d?void 0:d.value))},e.prototype.setWidgetConfig=function(e){e&&this.widgetConfigStore.setWidgetConfigurations(e)},e.prototype.getCompositionUid=function(e){var t,n,r=e?Object.keys(e).filter(function(e){return"ctx"!==e})[0]:void 0;if(r){var i=null===(n=null===(t=null==e?void 0:e[r])||void 0===t?void 0:t._uid)||void 0===n?void 0:n[0];if(i)return"string"==typeof i?i:i["|value"]}},e.\u0275fac=function(t){return new(t||e)(i.Y36(uu.e),i.Y36(vn._),i.Y36(i.sBO),i.Y36(_.K),i.Y36(T.G),i.Y36(i.zs3),i.Y36(qe.W),i.Y36(cn.a),i.Y36(C.eNT),i.Y36(x.sK),i.Y36(O.N),i.Y36(au.D8),i.Y36(Su),i.Y36(lu),i.Y36(cu.b),i.Y36(Sr.F),i.Y36(Vr.U),i.Y36(w.G),i.Y36(A.r),i.Y36(vu.Y),i.Y36(ol.zX))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-form-renderer"]],inputs:{form:"form",resourceUrl:"resourceUrl",credentials:"credentials",composition:"composition",compositionId:"compositionId",context:"context",formEnvironment:"formEnvironment",updateToken:"updateToken"},outputs:{onValueChange:"onValueChange",onFormRendered:"onFormRendered",onCompositionSaved:"onCompositionSaved",onRequestUpdatedToken:"onRequestUpdatedToken",onPageChanged:"onPageChanged",onFormError:"onFormError"},features:[i._Bn([au.j8,T.G,hu.l,qe.W,O.N,A.r,cn.a,cu.b,Sr.F,Vr.U,mu.q,sl.Q,w.G,_.K,vu.Y,xo]),i.TTD],decls:2,vars:2,consts:[["class","error-wrapper",4,"ngIf"],["class","m-form ehr-form",3,"formGroup","ngClass",4,"ngIf"],[1,"error-wrapper"],[1,"m-form","ehr-form",3,"formGroup","ngClass"],[1,"ehr-form--theme",3,"ngClass"],[3,"page","rootFormGroup",4,"ngIf"],[3,"rootFormGroup",4,"ngIf"],[4,"ngIf"],[3,"page","rootFormGroup"],[3,"rootFormGroup"],[3,"page","rootFormGroup",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(i.YNc(0,Tu,2,1,"div",0),i.YNc(1,Mu,7,10,"form",1)),2&e&&(i.Q6J("ngIf",t.errorMessage),i.xp6(1),i.Q6J("ngIf",t.rootFormGroup&&t.valuesEvaluationFinished))},directives:[m.O5,o._Y,o.JL,o.sg,m.mk,_u,Eu,m.sg],pipes:[m.i8,m.Ov],styles:[".error-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:50px auto;padding:16px;width:40vw;border-radius:4px;border:2px solid #fadbd8;background-color:#fdedec}"],changeDetection:0}),e}(),Au=function(){function e(e){this.http=e}return e.prototype.uploadFiles=function(e,t,n,r){if(e.length>0){for(var i=new FormData,o=0;o<e.length;o++){var a=e[o];i.append("file",a,a.name),i.append("mimeType",a.type),i.append("fileName",a.name)}if(n&&r&&i.append(n,r),i.has("file")){var l=new s.WM;return l=l.append("Ehr-Accept","application/json"),this.http.post(t,i,{headers:l}).pipe((0,E.U)(function(e){return[{fileUrl:e.href,fileMimeType:e.mimeType,success:!0}]}),(0,d.K)(function(e){return(0,u._)(function(){return e})}))}}return yn.E},e.prototype.uploadedFileRemoved=function(e){console.error("[FileUploadService] DELETE/ function not implemented")},e.\u0275fac=function(t){return new(t||e)(i.LFG(s.eN))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}();function Du(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function ku(e,t){if(1&e){var n=i.EpF();i.ynx(0),i.TgZ(1,"mrd-text-input",8),i.NdJ("onModelValue",function(e){var t=i.CHM(n).index;return i.oxw(2).updateModelId(e,t)})("addMultiInput",function(){return i.CHM(n),i.oxw(2).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(2).onRemoveMultiInput(e)}),i.qZA(),i.BQk()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(2);i.xp6(1),i.Q6J("multiIndex",o)("modelValue",r)("controlName",a.controlName)("formId",a.model.formId)("isRequired",a.model.isRequired())("isReadOnly",a.isReadOnlyValue)("inputPlaceholder",a.ehrInputPlaceholder)}}function Ru(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,Du,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,ku,2,7,"ng-container",6),i.ALo(12,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("ngClass",i.lcZ(1,11,r.elementSize)),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,13,r.model.getViewConfig()))("inputClasses",i.lcZ(4,15,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,17,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,21,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngForOf",i.lcZ(12,23,r.modelValues$))("ngForTrackBy",r.trackByIndex)}}n(22961);var Pu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,lt.ZT)(t,e),Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"idValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.onRemoveMultiInput=function(t){e.prototype.onRemoveMultiInput.call(this,t),this.model.setValue(null,t)},t.prototype.updateModelId=function(e,t){this.model.idValue(void 0,t)!==e&&this.model.idValue(e,t)},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-party-proxy"]],inputs:{model:"model"},features:[i.qOj],decls:1,vars:1,consts:[["class","ehr-field ehr-party-proxy","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"ngClass","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-party-proxy",3,"ngClass","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"multiIndex","modelValue","controlName","formId","isRequired","isReadOnly","inputPlaceholder","onModelValue","addMultiInput","removeMultiInput"]],template:function(e,t){1&e&&i.YNc(0,Ru,13,25,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,m.sg,V,ti],pipes:[ni,ri,ii,oi,ai,m.Ov],encapsulation:2,changeDetection:0}),t}(dt);function Nu(e,t){if(1&e&&(i.TgZ(0,"mrd-field-label"),i._UZ(1,"ehr-rich-field-label",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("model",n.model)}}function Fu(e,t){if(1&e){var n=i.EpF();i.ynx(0),i.TgZ(1,"mrd-text-input",8),i.NdJ("onModelValue",function(e){var t=i.CHM(n).index;return i.oxw(2).updateModelValue(e,t)})("addMultiInput",function(){return i.CHM(n),i.oxw(2).onAddMultiInput()})("removeMultiInput",function(){var e=i.CHM(n).index;return i.oxw(2).onRemoveMultiInput(e)}),i.qZA(),i.BQk()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(2);i.xp6(1),i.Q6J("multiIndex",o)("modelValue",r)("controlName",a.controlName)("formId",a.model.formId)("isRequired",a.model.isRequired())("isReadOnly",a.isReadOnlyValue)("inputPlaceholder",a.ehrInputPlaceholder)}}function Lu(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.ALo(1,"elementClasses"),i.TgZ(2,"mrd-labeled-input",2),i.ALo(3,"labelClasses"),i.ALo(4,"inputWrapperClasses"),i.ALo(5,"wrapperClasses"),i.YNc(6,Nu,2,1,"mrd-field-label",3),i.TgZ(7,"mrd-field-content"),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.ALo(10,"inputClasses"),i.YNc(11,Fu,2,7,"ng-container",6),i.ALo(12,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("ngClass",i.lcZ(1,11,r.elementSize)),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("labelClasses",i.lcZ(3,13,r.model.getViewConfig()))("inputClasses",i.lcZ(4,15,r.model.getViewConfig()))("tooltipValue",r.tooltipValue)("wrapperClasses",i.Dn7(5,17,r.model.rmType,r.isReadOnlyValue,r.hasValue))("isFieldValid",r.fieldIsValid),i.xp6(4),i.Q6J("ngIf",r.showLabel),i.xp6(3),i.Q6J("ngClass",i.lcZ(10,21,r.model.getViewConfig())),i.xp6(2),i.Q6J("ngForOf",i.lcZ(12,23,r.modelValues$))("ngForTrackBy",r.trackByIndex)}}n(39089);var Zu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,lt.ZT)(t,e),Object.defineProperty(t.prototype,"modelGetterSetterMethodName",{get:function(){return"valueValue"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelEmptyValue",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.onRemoveMultiInput=function(t){e.prototype.onRemoveMultiInput.call(this,t),this.model.setValue(null,t)},t.prototype.updateModelValue=function(e,t){this.model.valueValue(void 0,t)!==e&&this.model.valueValue(e,t)},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-parsable"]],inputs:{model:"model"},features:[i.qOj],decls:1,vars:1,consts:[["class","ehr-field ehr-parsable","ehrOnRenderedEmitter","","ehrClickToFocus","",3,"ngClass","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","","ehrClickToFocus","",1,"ehr-field","ehr-parsable",3,"ngClass","onEhrComponentRendered"],[3,"labelClasses","inputClasses","tooltipValue","wrapperClasses","isFieldValid"],[4,"ngIf"],[1,"row"],[3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"multiIndex","modelValue","controlName","formId","isRequired","isReadOnly","inputPlaceholder","onModelValue","addMultiInput","removeMultiInput"]],template:function(e,t){1&e&&i.YNc(0,Lu,13,25,"div",0),2&e&&i.Q6J("ngIf",!t.isHiddenValue)},directives:[m.O5,I,Dr,m.mk,Hr,qr,m.sg,V,ti],pipes:[ni,ri,ii,oi,ai,m.Ov],encapsulation:2,changeDetection:0}),t}(dt),Uu=n(34032),Bu=n(72226),Gu=n(27192),Hu=n(20895),qu=n(59700),ju=function(){function e(){this.verticalIntersectionClass="v-intersection",this.verticalIntersectionObserverClass="v-intersection-observer",this.verticalIntersectionShadowClass="v-intersection-shadow",this.leftHorizontalIntersectionClass="lh-intersection",this.leftHorizontalIntersectionObserverClass="lh-intersection-observer",this.rightHorizontalIntersectionClass="rh-intersection",this.rightHorizontalIntersectionObserverClass="rh-intersection-observer"}return e.prototype.setIntersectionObservers=function(e){var t=e.renderer,n=e.hostElementRef,r=e.stickyHeader,i=e.tableWrapperElementRef,o=e.tableElementRef,a=e.tableHeaderCells,s=e.vIntersectionShadowElementRef;this.setVerticalIntersectionObservers(t,n,r,i,o,a),this.setLeftHorizontalIntersectionObservers(t,n,i,o),this.setRightHorizontalIntersectionObservers(t,n,i,o),this.removeOnePxForIntersection(t,n,r,a),this.setVerticalIntersectionShadow(t,a,s)},e.prototype.ngOnDestroy=function(){this.verticalIntersectionObserver&&this.verticalIntersectionObserver.disconnect(),this.leftHorizontalIntersectionObserver&&this.leftHorizontalIntersectionObserver.disconnect(),this.rightHorizontalIntersectionObserver&&this.rightHorizontalIntersectionObserver.disconnect()},e.prototype.setVerticalIntersectionObservers=function(e,t,n,r,i,o){var a,s=this;if(this.verticalIntersectionObserver&&(null===(a=t.nativeElement.querySelector("."+this.verticalIntersectionObserverClass))||void 0===a||a.classList.remove(this.verticalIntersectionObserverClass),this.verticalIntersectionObserver.disconnect(),this.verticalIntersectionObserver=void 0),n){var l=new IntersectionObserver(function(e){i.nativeElement.classList.toggle(s.verticalIntersectionClass,e[0].intersectionRatio<1)},{root:r.nativeElement,rootMargin:"0px "+i.nativeElement.offsetWidth+"px "+i.nativeElement.offsetHeight+"px "+i.nativeElement.offsetWidth+"px",threshold:1}),u=o.get(0).nativeElement;e.addClass(u,this.verticalIntersectionObserverClass),l.observe(u),this.verticalIntersectionObserver=l}},e.prototype.setLeftHorizontalIntersectionObservers=function(e,t,n,r){var i,o=this;this.leftHorizontalIntersectionObserver&&(null===(i=t.nativeElement.querySelector("."+this.leftHorizontalIntersectionObserverClass))||void 0===i||i.classList.remove(this.leftHorizontalIntersectionObserverClass),this.leftHorizontalIntersectionObserver.disconnect(),this.leftHorizontalIntersectionObserver=void 0);var a=t.nativeElement.querySelector("table tr td.last-left");if(a){var s=a.style.getPropertyValue("left"),l=""===s?0:-1*parseFloat(s),u=new IntersectionObserver(function(e){r.nativeElement.classList.toggle(o.leftHorizontalIntersectionClass,e[0].intersectionRatio<1)},{root:n.nativeElement,rootMargin:r.nativeElement.offsetHeight+"px 0px "+r.nativeElement.offsetHeight+"px "+l+"px",threshold:1});e.addClass(a,this.leftHorizontalIntersectionObserverClass),u.observe(a),this.leftHorizontalIntersectionObserver=u}},e.prototype.setRightHorizontalIntersectionObservers=function(e,t,n,r){var i,o=this;this.rightHorizontalIntersectionObserver&&(null===(i=t.nativeElement.querySelector("."+this.rightHorizontalIntersectionObserverClass))||void 0===i||i.classList.remove(this.rightHorizontalIntersectionObserverClass),this.rightHorizontalIntersectionObserver.disconnect(),this.rightHorizontalIntersectionObserver=void 0);var a=t.nativeElement.querySelector("table tr td.last-right");if(a){var s=a.style.getPropertyValue("right"),l=""===s?0:-1*parseFloat(s),u=new IntersectionObserver(function(e){r.nativeElement.classList.toggle(o.rightHorizontalIntersectionClass,e[0].intersectionRatio<1)},{root:n.nativeElement,rootMargin:r.nativeElement.offsetHeight+"px "+l+"px "+r.nativeElement.offsetHeight+"px 0px",threshold:1});e.addClass(a,this.rightHorizontalIntersectionObserverClass),u.observe(a),this.rightHorizontalIntersectionObserver=u}},e.prototype.removeOnePxForIntersection=function(e,t,n,r){for(var i,o=t.nativeElement.querySelectorAll(".last-left"),a=0;a<o.length;a++){var s=o.item(a),l=parseFloat(s.style.getPropertyValue("left"))-1;e.setStyle(s,"left",l+"px")}var u=t.nativeElement.querySelectorAll(".last-right");for(a=0;a<u.length;a++){s=u.item(a);var c=parseFloat(s.style.getPropertyValue("right"))-1;e.setStyle(s,"right",c+"px")}if(n)for(a=0;a<r.length;a++)s=null===(i=r.get(a))||void 0===i?void 0:i.nativeElement,e.setStyle(s,"top","-1px")},e.prototype.setVerticalIntersectionShadow=function(e,t,n){if(t.get(0)){var r=t.get(0).nativeElement.offsetHeight-2;e.setStyle(n.nativeElement,"top",r+"px")}},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),Yu=function(){function e(){}return e.prototype.setStickyStyles=function(e){var t,n,r=this,i=null===(t=e.tableHeaderCells)||void 0===t?void 0:t.map(function(e){return e.nativeElement.getBoundingClientRect().width});if(!(null==i?void 0:i.length)){var o=null===(n=e.tableBodyRows.get(0))||void 0===n?void 0:n.nativeElement.querySelectorAll("td");i=o?Array.from(o).map(function(e){return e.getBoundingClientRect().width}):[]}if(null==i?void 0:i.length){var a=1===i.length?0:Math.round(i.length/2-1),s=this.getLastLeftStickyColumnIndex(e.stickyColumnIndices,a),l=this.getLastRightStickyColumnIndex(e.stickyColumnIndices,a+1);e.tableBodyRows.forEach(function(t){t.nativeElement.querySelectorAll("td").forEach(function(t,n){if(r.isStickyColumn(e.stickyColumnIndices,n)){var o=n<=a,u=0;n>0&&(u=r.calculateColumnOffset(e.stickyColumnIndices,i,o,n)),r.setTableHeaderStickyStyle(e.renderer,e.tableHeaderCells,e.stickyHeader,n,o,u),r.setLastColClass(e.renderer,e.tableHeaderCells,n,t,s,l),r.setTableColumnStickyStyle(e.renderer,t,o,u)}})})}},e.prototype.isStickyColumn=function(e,t){return!!(null==e?void 0:e.includes(t))},e.prototype.calculateColumnOffset=function(e,t,n,r){var i=0;if(n)for(var o=0;o<r;o++)this.isStickyColumn(e,o)&&(i+=t[o]);else for(o=t.length-1;o>r;o--)this.isStickyColumn(e,o)&&(i+=t[o]);return i},e.prototype.setTableHeaderStickyStyle=function(e,t,n,r,i,o){var a,s=null===(a=t.get(r))||void 0===a?void 0:a.nativeElement;s&&(e.addClass(s,"sticky-col"),e.setStyle(s,i?"left":"right",o+"px"),e.setStyle(s,"top",n?0:"auto"),e.setStyle(s,"z-index",5))},e.prototype.setTableColumnStickyStyle=function(e,t,n,r){e.addClass(t,"sticky-col"),e.setStyle(t,n?"left":"right",r+"px")},e.prototype.setLastColClass=function(e,t,n,r,i,o){var a,s=null===(a=t.get(n))||void 0===a?void 0:a.nativeElement;-1!==i&&n===i&&(s&&e.addClass(s,"last-left"),e.addClass(r,"last-left")),-1!==o&&n===o&&(s&&e.addClass(s,"last-right"),e.addClass(r,"last-right"))},e.prototype.getLastLeftStickyColumnIndex=function(e,t){var n=null==e?void 0:e.sort(function(e,t){return e-t});if(!n)return-1;for(var r=-1,i=0;i<n.length;i++){var o=n[i];if(o<=t&&(r=o),o>=t)break}return r},e.prototype.getLastRightStickyColumnIndex=function(e,t){var n=null==e?void 0:e.sort(function(e,t){return e-t});if(!n)return-1;for(var r=-1,i=n.length-1;i>=0;i--){var o=n[i];if(o>=t&&(r=o),o<=t)break}return r},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),Ju=["table"],zu=["tableWrapper"],Qu=["vIntersectionShadow"],Wu=["tableBottomEdge"],Ku=["tableHeaderCell"],Xu=["tableBodyRow"];function $u(e,t){1&e&&(i.O4$(),i.TgZ(0,"svg",22),i._UZ(1,"path",23),i.qZA())}function ec(e,t){1&e&&(i.O4$(),i.TgZ(0,"svg",24),i._UZ(1,"path",25),i.qZA())}function tc(e,t){if(1&e&&(i.ynx(0),i.YNc(1,$u,2,0,"svg",20),i.YNc(2,ec,2,0,"svg",21),i.BQk()),2&e){var n=i.oxw(7);i.xp6(1),i.Q6J("ngIf","ASC"===n.sortOrder),i.xp6(1),i.Q6J("ngIf","DESC"===n.sortOrder)}}function nc(e,t){1&e&&(i.O4$(),i.TgZ(0,"svg",26),i._UZ(1,"path",27),i.qZA())}function rc(e,t){if(1&e&&(i.ynx(0),i.YNc(1,tc,3,2,"ng-container",18),i.YNc(2,nc,2,0,"ng-template",null,19,i.W1O),i.BQk()),2&e){var n=i.MAs(3),r=i.oxw().index,o=i.oxw(5);i.xp6(1),i.Q6J("ngIf",((null==o.activeSortColumn||null==o.activeSortColumn.sortCol?null:o.activeSortColumn.sortCol.colIndex)||0)-1===r)("ngIfElse",n)}}function ic(e,t){if(1&e){var n=i.EpF();i.ynx(0),i.TgZ(1,"th",14,15),i.NdJ("click",function(){var e=i.CHM(n).index;return i.oxw(5).sort(e)}),i.TgZ(3,"div",16),i.TgZ(4,"ehr-rows-renderer",17),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(5).childComponentRendered(e)}),i.qZA(),i.YNc(5,rc,4,2,"ng-container",7),i.qZA(),i.qZA(),i.BQk()}if(2&e){var r=t.$implicit,o=t.index,a=i.oxw(5);i.xp6(1),i.ekj("sortable",a.sortableColumnsIndices.includes(o))("sticky-row",null==a.customHeight?null:a.customHeight.stickyHeader),i.xp6(3),i.Q6J("rows",r.children)("ehrFormGroup",a.ehrFormGroup)("parentModel",a.model),i.xp6(1),i.Q6J("ngIf",a.sortableColumnsIndices.includes(o))}}function oc(e,t){if(1&e&&(i.ynx(0),i.YNc(1,ic,6,8,"ng-container",11),i._UZ(2,"div",12,13),i.BQk()),2&e){var n=i.oxw().$implicit;i.xp6(1),i.Q6J("ngForOf",n.cols)}}function ac(e,t){if(1&e&&(i.ynx(0),i.YNc(1,oc,4,1,"ng-container",7),i.BQk()),2&e){var n=t.index;i.xp6(1),i.Q6J("ngIf",0===n)}}function sc(e,t){if(1&e&&(i.TgZ(0,"thead"),i.TgZ(1,"tr"),i.YNc(2,ac,2,1,"ng-container",11),i.qZA(),i.qZA()),2&e){var n=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",n.layout.rows)}}function lc(e,t){if(1&e){var n=i.EpF();i.ynx(0),i.TgZ(1,"td"),i.TgZ(2,"ehr-rows-renderer",17),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(4).childComponentRendered(e)}),i.qZA(),i.qZA(),i.BQk()}if(2&e){var r=t.$implicit,o=i.oxw(4);i.xp6(2),i.Q6J("rows",r.children)("ehrFormGroup",o.ehrFormGroup)("parentModel",o.model)}}var uc=function(e){return{pointer:e}};function cc(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"tr",29,30),i.NdJ("click",function(e){var t=i.CHM(n).index;return i.oxw(3).handleRowClick(t,e)}),i.YNc(2,lc,3,3,"ng-container",11),i.qZA()}if(2&e){var r=t.$implicit,o=i.oxw(3);i.Q6J("ngClass",i.VKq(2,uc,o.isClickable)),i.xp6(2),i.Q6J("ngForOf",r.cols)}}function dc(e,t){if(1&e&&(i.TgZ(0,"tbody"),i.YNc(1,cc,3,4,"tr",28),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",n.bodyRows)("ngForTrackBy",n.trackByIndex)}}function hc(e,t){1&e&&i.GkF(0)}function fc(e,t){if(1&e&&(i.TgZ(0,"table",31),i.YNc(1,hc,1,0,"ng-container",32),i.qZA()),2&e){i.oxw(2);var n=i.MAs(2);i.xp6(1),i.Q6J("ngTemplateOutlet",n)}}function pc(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",2),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.TgZ(1,"div",3,4),i.TgZ(3,"table",5,6),i.YNc(5,sc,3,1,"thead",7),i.YNc(6,dc,2,2,"tbody",7),i.qZA(),i._UZ(7,"div",8,9),i.YNc(9,fc,2,1,"table",10),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.ekj("ehr-disabled",r.isReadOnly),i.Q6J("formGroup",r.containerFormGroup),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(1),i.Udp("height",null!=r.customHeight&&r.customHeight.value?(null==r.customHeight?null:r.customHeight.value)+"px":null),i.xp6(2),i.ekj("table-bordered",r.showContainerBorders),i.xp6(2),i.Q6J("ngIf",!r.hideHeader),i.xp6(1),i.Q6J("ngIf",r.bodyRows),i.xp6(3),i.Q6J("ngIf",r.showSkeleton)}}function mc(e,t){1&e&&(i.ynx(0),i._UZ(1,"td",34),i.BQk())}function vc(e,t){if(1&e&&(i.ynx(0),i.TgZ(1,"tr"),i.YNc(2,mc,2,0,"ng-container",11),i.qZA(),i.BQk()),2&e){var n=t.$implicit;i.xp6(2),i.Q6J("ngForOf",n.cols)}}function gc(e,t){if(1&e&&(i.TgZ(0,"tbody",33),i.YNc(1,vc,3,1,"ng-container",11),i.qZA()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("ngForOf",n.skeletonRows)}}var yc=function(e){function t(t,n,r,i,o,a,s){var l=e.call(this,t,n,r,i,o,a)||this;return l.hostElementRef=s,l.bodyRows=null,l.skeletonRows=[],l.isClickable=!1,l.showSkeleton=!0,l.sortableColumnsIndices=[],l.sortOrder="ASC",l.rootBindingExpression=al.y.dataSourceBindDelimiter+Uu.H.root+al.y.dataSourceBindDelimiter,l.listUUID=C.lMr.getUUID(),l.duplicatedChildrenModelsIds=new Set,l.newWidgetConfigs={},l.lazyLoadIndex=0,l.loadItems=15,l.loadRows$=new g.x,l.updatedFormIdsInConditionStringCache=new Map,l}return(0,lt.ZT)(t,e),t.prototype.onResize=function(){this.setStickyStylesAndIntersectionRelatedProperties()},t.prototype.ngOnInit=function(){var t;e.prototype.ngOnInit.call(this),this.tableStickyStylesService=this.injector.get(Yu),this.tableIntersectionsService=this.injector.get(ju);var n=this.model.getDataSource(),r=this.resolveApis(n);r.api||r.apiCall||(null==n?void 0:n.variableId)||(this.bodyRows=(null===(t=this.layout.rows)||void 0===t?void 0:t.slice(1))||[])},t.prototype.ngOnChanges=function(t){var n,r,i,o,a=this;if(e.prototype.ngOnChanges.call(this,t),(null===(n=this.skeletonRows)||void 0===n?void 0:n.length)||(this.skeletonRows=Array(5).fill(this.layout.rows[0])),this.initializeProviders(),!this.ehrFormState.getFormContextValue().disableFormScript){var s=this.model.getDataSource(),u=this.resolveApis(s),c=u.api,h=u.apiCall,p=null==s?void 0:s.variableId,m=this.formEnvironmentService.getVariableById(p);if(c||h||p){if(t.hasOwnProperty("model")){if(this.model.getViewConfig()instanceof C.sfN){var v=this.getViewConfig();this.customHeight=v.getHeight(),this.stickyColumns=v.getStickyColumns(),this.stickyColumnIndices=this.stickyColumns?this.stickyColumns.map(function(e){return e-1}):[],this.sortableColumnsIndices=(null===(i=v.getSortableColumns())||void 0===i?void 0:i.map(function(e){return e.colIndex-1}))||[]}this.isClickable=this.shouldAddRowClickModel(),null===(o=this.datasourceSub)||void 0===o||o.unsubscribe();var g=this.getHiddenListener(this.model),b=this.ehrModelObservable.fromEvent(this.model,C.X4$.DATASOURCE_CHANGE,this.model.datasource);this.datasourceSub=(0,y.a)([g,b]).pipe((0,k.b)(function(){var e,t;a.bodyRows=null,null===(e=a.virtualScrollObserver)||void 0===e||e.disconnect(),null===(t=a.virtualScrollSubscription)||void 0===t||t.unsubscribe(),a.showSkeleton=!0,a.changeDetectorRef.markForCheck()}),(0,ln.b)(250),(0,k.b)(function(){return a.removeDuplicatedModelsFromStores()}),(0,il.h)(function(e){return!(0,lt.CR)(e,2)[0]}),(0,f.w)(function(){var e,t;if(null!=p)e=a.aqlExecutionHelperService.getAqlResultFromVariable(m,a.model),t=(0,Mr.Dp)(a.getSourceTokensFromAqlVariable(m));else{var n=a.resolveSortRequestParams(),r=h.parameters?(0,lt.ev)((0,lt.ev)([],(0,lt.CR)(h.parameters)),(0,lt.CR)(n)):n;e=a.externalApiService.callExternalApi(a.model,c,(0,lt.pi)((0,lt.pi)({},h),{parameters:r}),{pathParameters:{}}),t=(0,l.of)(null==h?void 0:h.response)}return(0,y.a)([(0,Mr.Dp)(e),t])}),(0,E.U)(function(e){var t=(0,lt.CR)(e,2),n=t[0],r={api:c,apiCall:h,variable:m},i=n;p&&(i=n.resultSet||n);var o=Uu.H.parseTokens(s.source,t[1]);return{source:r,sourceTokens:o,result:a.datasourceService.getDataSourceItems(i,o)||[]}}),(0,d.K)(function(e){return console.error("Can not load list - ",e),Bu.C})).subscribe(function(e){var t=a.getBodyRows();t=Array.from(e.result,function(e){return C.G1o.deepClone(t[0])}),a.initVirtualScroll(s,null==e?void 0:e.source,null==e?void 0:e.result,null==e?void 0:e.sourceTokens,t)})}}else this.bodyRows=(null===(r=this.layout.rows)||void 0===r?void 0:r.slice(1))||[]}},t.prototype.resolveSortRequestParams=function(){var e,t=this,n=this.getViewConfig().getSortableColumns();return void 0!==(null===(e=this.activeSortColumn)||void 0===e?void 0:e.sortCol)&&(null==n?void 0:n.length)?Object.keys(this.activeSortColumn.sortCol.sort).filter(function(e){return e===t.sortOrder}).reduce(function(e,n){var r,i=null===(r=t.activeSortColumn)||void 0===r?void 0:r.sortCol.sort[n];return null==i||i.forEach(function(t){t.value&&t.name&&e.push({name:t.name,value:'"'+t.value+'"'})}),e},[]):[]},t.prototype.getBodyRows=function(){var e;return(null===(e=this.layout.rows)||void 0===e?void 0:e.slice(1))||[]},t.prototype.getTemplateRow=function(){var e,t;return(null===(t=null===(e=this.layout.rows)||void 0===e?void 0:e.slice(1))||void 0===t?void 0:t[0])||[]},t.prototype.ngOnDestroy=function(){var t;this.removeDuplicatedModelsFromStores(),e.prototype.ngOnDestroy.call(this),null===(t=this.datasourceSub)||void 0===t||t.unsubscribe(),this.updatedFormIdsInConditionStringCache.clear()},t.prototype.handleRowClick=function(e,t){var n,r;t.preventDefault();var i=t.target;i.classList.contains("b-form-btn")||(null===(n=i.parentElement)||void 0===n?void 0:n.classList.contains("b-form-btn"))||null===(r=this.modelStoreService.models.get(this.getRowName(e)))||void 0===r||r.rowClicked()},t.prototype.trackByIndex=function(e,t){var n;return e+(null===(n=null==t?void 0:t.cols[0].children[0])||void 0===n?void 0:n.id)},t.prototype.sort=function(e){var t,n=this.getViewConfig().getSortableColumns();(null==n?void 0:n.length)&&(this.setActiveSortColumn(n.find(function(t){return t.colIndex-1===e})),(null===(t=this.activeSortColumn)||void 0===t?void 0:t.sortCol)&&(this.sortOrder="ASC"===this.sortOrder?"DESC":"ASC",this.model.setDataSource(C.G1o.deepClone(this.model.getDataSource()))))},t.prototype.getFieldType=function(e){return C.B8O[e].substr(8).toLowerCase()},t.prototype.resolveApis=function(e){if(!e)return{api:void 0,apiCall:void 0};var t=this.formEnvironmentService.getExternalApi(e.apiId);return{api:t,apiCall:this.formEnvironmentService.getExternalApiCall(t,e.apiCallId)}},t.prototype.createBodyRows=function(e,t,n,r,i){var o;return(0,lt.mG)(this,void 0,void 0,function(){var e,a,s,l,u,c,d,h,f,p,m,v,g,y;return(0,lt.Jh)(this,function(b){switch(b.label){case 0:e=this.lazyLoadIndex,this.lazyLoadIndex=a=this.lazyLoadIndex+this.loadItems>=r.length?r.length:this.lazyLoadIndex+this.loadItems,s=this.getTemplateRow(),l=new Map,u=new Map,c=e,b.label=1;case 1:if(!(c<a))return[3,9];d=[],this.isClickable&&(h=this.duplicateListItem(this.model,l,c),d.push(h)),f=0,b.label=2;case 2:if(!(f<s.cols.length))return[3,7];p=s.cols[f],m=function(e){var r,a,s,h,m,g,y,b,_,C,E,T,w;return(0,lt.Jh)(this,function(O){switch(O.label){case 0:return a=v.modelStoreService.models.get((r=p.children[e]).id),s=a.getParentModel()===v.model?a:v.model.children.find(function(e){return e.id===r.id}),h=s.getDataSource(),m=v.duplicateListItem(s,l,c),g=m.getDataSource(),d.push(m),i[c].cols[f].children[e].id=m.formId,g&&h?g.hasAdditionalApis()?[3,2]:[4,v.setDuplicatedItemValue(s,m,l,t,n,null===(o=t.apiCall)||void 0===o?void 0:o.pathParams,c)]:[2,"continue"];case 1:return O.sent(),[2,"continue"];case 2:return b=v.resolveApiAndApiCall(y=h.additionalApis[0]),_=b.externalApi,C=b.externalApiCall,v.setDependentModels(y.pathParameters,c,l,m,u),v.updateFormIdInApiParameters(l),[4,v.callAdditionalApi((E=g.additionalApis[0]).pathParameters,E)];case 3:return!(T=O.sent())||Array.isArray(T)&&!T.length?[2,"continue"]:[4,v.setDuplicatedItemValue(s,m,l,{api:_,apiCall:C},[],E.pathParameters,c,!0)];case 4:return O.sent(),u.get(m.formId)?(w=v.modelStoreService.models.get(u.get(m.formId)[0]),[4,v.evaluateDependentItems(w,w.datasource.additionalApis[0].pathParameters,u,m,n,c)]):[3,6];case 5:O.sent(),O.label=6;case 6:return[2]}})},v=this,g=0,b.label=3;case 3:return g<p.children.length?[5,m(g)]:[3,6];case 4:b.sent(),b.label=5;case 5:return g++,[3,3];case 6:return f++,[3,2];case 7:this.updateFormIdInDependencies(d,l),this.modelParser.executeFormScript(d),b.label=8;case 8:return c++,[3,1];case 9:return y=this.widgetConfigStore.getWidgetConfigs(),this.widgetConfigStore.setWidgetConfigurations((0,lt.pi)((0,lt.pi)({},y),this.newWidgetConfigs)),[2,i.slice(e,a)]}})})},t.prototype.resolveApiAndApiCall=function(e){var t=this.externalApiService.getExternalApi(e.apiId);return{externalApi:t,externalApiCall:this.externalApiService.getExternalApiCall(t,e.apiCallId)}},t.prototype.setDependentModels=function(e,t,n,r,i){var o=this;e&&Object.keys(e).forEach(function(a){var s=e[a].replace(":n",":n"+t),l=ll.V.parseTokens(s,o.formEnvironmentService);l.some(function(e){return e.type===ul.AY.FIELD})&&l.filter(function(e){return e.type===ul.AY.FIELD}).forEach(function(e){var a,l,u,c=o.modelStoreService.models.get(e.value);if((null==c?void 0:c.parentModel)instanceof dl.W&&(null===(a=null==c?void 0:c.datasource)||void 0===a?void 0:a.bindings)){var d=null===(u=null===(l=n.get(e.value))||void 0===l?void 0:l[t])||void 0===u?void 0:u.formId;d&&(s=s.replace(e.value,d)).includes(d)&&(i.get(r.formId)?i.get(d).push(r.formId):i.set(d,[r.formId]))}})})},t.prototype.evaluateDependentItems=function(e,t,n,r,i,o){var a,s;return(0,lt.mG)(this,void 0,void 0,function(){var l,u,c,d,h,f,p,m,v,g,y,b,_,C,E,T,w,O,x=this;return(0,lt.Jh)(this,function(I){switch(I.label){case 0:return u=this.resolveApiAndApiCall(l=e.datasource.additionalApis[0]),c=u.externalApi,d=u.externalApiCall,[4,this.callAdditionalApi(t,l)];case 1:if(h=I.sent(),!(f=null===(a=e.getDataSource())||void 0===a?void 0:a.bindings)||!h||Array.isArray(h)&&!h.length)return[2];p={},m=this.resolveSortRequestParams(),I.label=2;case 2:I.trys.push([2,7,8,9]),v=(0,lt.XA)(Object.keys(f)),g=v.next(),I.label=3;case 3:return g.done?[3,6]:(b=f[y=g.value],(null===(s=e.getDataSource())||void 0===s?void 0:s.isExpression())||(b=ll.V.convertExternalApiTokensExpressionToInputTokensExpression(b)),_=ll.V.prepareDataBindExpression({expression:b,api:c,apiCall:d,formEnvironmentService:this.formEnvironmentService,pathParameters:t,additionalRequestParameters:m,itemIndex:o,sourceTokens:i.map(function(e){return new ul.l0(e.name,null==e?void 0:e.value)})}),C=p,E=y,[4,this.expressionEvaluationService.getValueFromTokens(r,_)]);case 4:C[E]=I.sent(),I.label=5;case 5:return g=v.next(),[3,3];case 6:return[3,9];case 7:return T=I.sent(),w={error:T},[3,9];case 8:try{g&&!g.done&&(O=v.return)&&O.call(v)}finally{if(w)throw w.error}return[7];case 9:return n.get(r.formId).forEach(function(e){var t=x.modelStoreService.models.get(e);Object.keys(p).forEach(function(e){t.setValue(p[e],0,"|"+e)})}),[2]}})})},t.prototype.callAdditionalApi=function(e,t){var n=this.resolveApiAndApiCall(t);return this.externalApiService.callExternalApi(this.model,n.externalApi,n.externalApiCall,e?{pathParameters:e}:void 0).catch(function(e){return[]})},t.prototype.setDuplicatedItemValue=function(e,t,n,r,i,o,a,s){var l,u,c;return void 0===a&&(a=0),void 0===s&&(s=!1),(0,lt.mG)(this,void 0,void 0,function(){var d,h,f,p,m,v,g,y,b,_,E,T;return(0,lt.Jh)(this,function(w){switch(w.label){case 0:if(C.jYl.isExternalWidget(t.rmType))return[2];if(!(d=null===(l=e.getDataSource())||void 0===l?void 0:l.bindings)||!(null===(u=Object.keys(d))||void 0===u?void 0:u.length))return[2];h=!(null===(c=e.getDataSource())||void 0===c?void 0:c.isExpression()),w.label=1;case 1:w.trys.push([1,8,9,10]),f=(0,lt.XA)(Object.keys(d)),p=f.next(),w.label=2;case 2:return p.done?[3,7]:(!(v=d[m=p.value])&&s&&(v=this.rootBindingExpression),h&&(v=ll.V.convertExternalApiTokensExpressionToInputTokensExpression(v)),v?(g=this.resolveSortRequestParams(),y=ll.V.prepareDataBindExpression({expression:this.updateFormIdsInConditionsString(v,n),api:r.api,apiCall:r.apiCall,variable:r.variable,formEnvironmentService:this.formEnvironmentService,itemIndex:a,pathParameters:o,additionalRequestParameters:g,sourceTokens:i.map(function(e){return new ul.l0(e.name,e.name)})}),[4,this.getDataSourceEvaluatedValue(t,y)]):[3,6]);case 3:return b=w.sent(),[C.B8O.GENERIC_RICH_TEXT,C.B8O.GENERIC_HTML].includes(t.rmType)?[4,this.setDuplicatedRichTextModelValues(t,b)]:[3,5];case 4:return w.sent(),[3,6];case 5:t.setValue(b,0,"|"+m),w.label=6;case 6:return p=f.next(),[3,2];case 7:return[3,10];case 8:return _=w.sent(),E={error:_},[3,10];case 9:try{p&&!p.done&&(T=f.return)&&T.call(f)}finally{if(E)throw E.error}return[7];case 10:return[2]}})})},t.prototype.duplicateListItem=function(e,t,n){var r,i,o=this.duplicateModel(e,n),a=new RegExp(""+e.formId,"g"),s=o.getViewConfig().getAnnotations();s.conditions=null===(r=s.conditions)||void 0===r?void 0:r.replace(a,o.formId),this.modelStoreService.models.set(o.formId,o),this.duplicatedChildrenModelsIds.add(o.formId),t.get(e.id)?t.get(e.id).push(o):t.set(e.id,[o]);var l=e.getDataSource();return(null===(i=null==l?void 0:l.additionalApis)||void 0===i?void 0:i.length)&&!C.jYl.isExternalWidget(o.getRmType())&&(o.name="Loading..."),o},t.prototype.duplicateModel=function(e,t){var n=this.model.getFormId()===e.getFormId()&&null!=t,r=this.modelParser.duplicateModel(e,!0,!1);if(n)r.formId=this.getRowName(t),r.children=[];else if(r.formId="generic-"+this.getFieldType(e.getRmType())+"-"+C.lMr.getUUID(),C.jYl.isExternalWidget(e.rmType)){var i=this.widgetConfigStore.getWidgetConfig(e.formId);i&&(this.newWidgetConfigs[r.formId]=i);var o=r.getValueMappingData();o&&r.setValueMappingData((0,lt.pi)((0,lt.pi)({},o),{index:t}))}return r},t.prototype.updateFormIdInDependencies=function(e,t){var n=this;e.forEach(function(e){var r,i=null===(r=e.getViewConfig())||void 0===r?void 0:r.getAnnotations(),o=null==i?void 0:i.conditions,a=i.ehrFormScript;if(o&&(i.conditions=n.updateFormIdsInConditionsString(o,t)),a&&(i.ehrFormScript=n.updateFormIdsInConditionsString(a,t)),C.jYl.isExternalWidget(e.rmType)){var s=e.getValueMappingData();if(!s)return;var l=JSON.stringify(s);e.setValueMappingData(JSON.parse(n.updateFormIdsInConditionsString(l,t)))}})},t.prototype.updateFormIdsInConditionsString=function(e,t){var n=e;return t.forEach(function(e,t){var r=new RegExp(""+t,"g");r.test(n)&&(n=null==n?void 0:n.replace(r,e[e.length-1].formId))}),n},t.prototype.updateFormIdInApiParameters=function(e){var t=this;e.forEach(function(n,r){n.map(function(e){var t,n;return null===(n=null===(t=e.getDataSource())||void 0===t?void 0:t.additionalApis)||void 0===n?void 0:n[0]}).forEach(function(n,r){(null==n?void 0:n.pathParameters)&&Object.keys(null==n?void 0:n.pathParameters).forEach(function(i){ll.V.parseTokens(null==n?void 0:n.pathParameters[i],t.formEnvironmentService).filter(function(e){return e.type===ul.AY.FIELD}).forEach(function(t){var o,a,s=new RegExp(""+(null==t?void 0:t.value),"g"),l=e.get(null==t?void 0:t.value);(null==l?void 0:l.length)&&(n.pathParameters[i]=null===(a=null===(o=null==n?void 0:n.pathParameters)||void 0===o?void 0:o[i])||void 0===a?void 0:a.replace(s,l[r].formId))})})})})},t.prototype.initializeProviders=function(){this.externalApiService||(this.externalApiService=this.injector.get(Sr.F)),this.formEnvironmentService||(this.formEnvironmentService=this.injector.get(C.eNT)),this.expressionEvaluationService||(this.expressionEvaluationService=this.injector.get(sl.Q)),this.aqlExecutionHelperService||(this.aqlExecutionHelperService=this.injector.get(mu.q)),this.datasourceService||(this.datasourceService=this.injector.get(Vr.U)),this.renderer||(this.renderer=this.injector.get(i.Qsj)),this.widgetConfigStore||(this.widgetConfigStore=this.injector.get(ol.zX))},t.prototype.getSourceTokensFromAqlVariable=function(e){return(0,lt.mG)(this,void 0,void 0,function(){var t;return(0,lt.Jh)(this,function(n){switch(n.label){case 0:return[4,this.aqlExecutionHelperService.getAqlResultFromVariable(e,this.model)];case 1:return t=n.sent(),[2,Gu.h.parseResponse(t.resultSet||t)]}})})},t.prototype.getMustacheView=function(e){return(0,lt.mG)(this,void 0,void 0,function(){var t,n,r,i,o,a,s,l,u,c,d,h,f;return(0,lt.Jh)(this,function(p){switch(p.label){case 0:if(t={},!e.localizedNamesIncludeVariables)return[2,Promise.resolve(t)];n=this.formEnvironmentService.getVariables(),r=[],i=Object.keys(e.localizedNames);try{for(o=(0,lt.XA)(i),a=o.next();!a.done;a=o.next())s=e.getLocalizedName(a.value),l=qu.T.getTagKeysFromTemplate(s),r=r.concat(l)}catch(m){h={error:m}}finally{try{a&&!a.done&&(f=o.return)&&f.call(o)}finally{if(h)throw h.error}}r=(0,lt.ev)([],(0,lt.CR)(new Set(r))),n=n.filter(function(e){return r.includes(e.name)}),u=0,p.label=1;case 1:return u<n.length?[4,this.expressionEvaluationService.getValue(this.model,al.y.variableDelimiter+(c=n[u]).name+al.y.variableDelimiter)]:[3,4];case 2:if(void 0===(d=p.sent()))return[3,3];t[c.name]=C.lMr.jsonParseSafe(d),p.label=3;case 3:return u++,[3,1];case 4:return[2,Promise.resolve(t)]}})})},t.prototype.getDataSourceEvaluatedValue=function(e,t){return(0,lt.mG)(this,void 0,void 0,function(){var n;return(0,lt.Jh)(this,function(r){switch(r.label){case 0:return[4,this.expressionEvaluationService.getValueFromTokens(e,t)];case 1:return n=r.sent(),C.lMr.isStrictObject(n)&&(n=qu.T.removeTagSymbolsFromViewKeysStart(n)),[2,n]}})})},t.prototype.shouldAddRowClickModel=function(){var e,t,n=null===(e=this.model.getViewConfig())||void 0===e?void 0:e.getAnnotations();return!!(null===(t=null==n?void 0:n.conditions)||void 0===t?void 0:t.includes(C.N0$.CLICK))},t.prototype.getRowName=function(e){return"_generic_list_row_"+e+"_"+this.listUUID},t.prototype.setDuplicatedRichTextModelValues=function(e,t){return(0,lt.mG)(this,void 0,void 0,function(){var n,r,i,o,a,s,l,u,c;return(0,lt.Jh)(this,function(d){switch(d.label){case 0:return[4,this.getMustacheView(e)];case 1:(n=d.sent()).datasource=t,r=Object.keys(e.localizedNames),i={};try{for(o=(0,lt.XA)(r),a=o.next();!a.done;a=o.next())l=e.getLocalizedName(s=a.value)||"",i[s]=e.localizedNamesIncludeVariables?Hu.render(l,n):l}catch(h){u={error:h}}finally{try{a&&!a.done&&(c=o.return)&&c.call(o)}finally{if(u)throw u.error}}return e.localizedNames=i,e._onValueUpdated(),[2]}})})},t.prototype.setStickyStylesAndIntersectionRelatedProperties=function(){var e=this;setTimeout(function(){var t,n;e.stickyColumns&&e.tableStickyStylesService.setStickyStyles({renderer:e.renderer,tableHeaderCells:e.tableHeaderCells,tableBodyRows:e.tableBodyRows,stickyHeader:!!(null===(t=e.customHeight)||void 0===t?void 0:t.stickyHeader),stickyColumnIndices:e.stickyColumnIndices||[]}),e.tableIntersectionsService.setIntersectionObservers({renderer:e.renderer,hostElementRef:e.hostElementRef,stickyHeader:!!(null===(n=e.customHeight)||void 0===n?void 0:n.stickyHeader),tableWrapperElementRef:e.tableWrapperElementRef,tableElementRef:e.tableElementRef,tableHeaderCells:e.tableHeaderCells,vIntersectionShadowElementRef:e.vIntersectionShadowElementRef})})},t.prototype.initVirtualScroll=function(e,t,n,r,i){var o,a=this;this.registerVirtualScrollSubscription(e,t,r,n,i),this.lazyLoadIndex=0,null===(o=this.virtualScrollObserver)||void 0===o||o.disconnect(),this.virtualScrollObserver=new IntersectionObserver(function(e){(null==e?void 0:e[0].isIntersecting)&&a.loadRows$.next()},{threshold:0,rootMargin:"0px 0px 400px 0px"}),this.virtualScrollObserver.observe(this.tableBottomEdge.nativeElement)},t.prototype.loadRows=function(e){var t,n;(null==e?void 0:e.length)&&((null===(n=this.bodyRows)||void 0===n?void 0:n.length)?(t=this.bodyRows).push.apply(t,(0,lt.ev)([],(0,lt.CR)(e))):this.bodyRows=e,this.setStickyStylesAndIntersectionRelatedProperties(),this.changeDetectorRef.markForCheck())},t.prototype.registerVirtualScrollSubscription=function(e,t,n,r,i){var o,a,s,u=this;void 0===i&&(i=[]),null===(o=this.virtualScrollSubscription)||void 0===o||o.unsubscribe(),this.virtualScrollSubscription=this.loadRows$.pipe((0,f.w)(function(e){var t;return u.bodyRows&&(null===(t=u.bodyRows)||void 0===t?void 0:t.length)>=(null==r?void 0:r.length)?yn.E:(0,l.of)(e)}),(0,f.w)(function(o){return r?(0,Mr.Dp)(u.createBodyRows(e,t,n,r,(0,lt.ev)([],(0,lt.CR)(i)))):(0,l.of)([])}),(0,k.b)(function(e){return u.loadRows(e)}),(a=function(e){var t,n;return(null!==(n=null===(t=u.bodyRows)||void 0===t?void 0:t.length)&&void 0!==n?n:0)<r.length},void 0===s&&(s=!1),(0,Ml.e)(function(e,t){e.subscribe(new Sl.Q(t,function(e){var n=a();(n||s)&&t.next(e),!n&&t.complete()}))})),(0,mn.x)(function(){var e,t;null===(e=u.virtualScrollSubscription)||void 0===e||e.unsubscribe(),null===(t=u.virtualScrollObserver)||void 0===t||t.disconnect(),u.showSkeleton=!1,u.changeDetectorRef.detectChanges()})).subscribe()},t.prototype.removeDuplicatedModelsFromStores=function(){var e=this;if(0!==this.duplicatedChildrenModelsIds.size){var t=(0,lt.pi)({},this.widgetConfigStore.getWidgetConfigs()),n=Object.keys(t).length;this.duplicatedChildrenModelsIds.forEach(function(n){e.modelStoreService.models.delete(n),delete t[n]}),n!==Object.keys(t).length&&this.widgetConfigStore.setWidgetConfigurations(t),this.duplicatedChildrenModelsIds.clear()}},t.prototype.getViewConfig=function(){return this.model.getViewConfig()},t.prototype.setActiveSortColumn=function(e){this.model.activeSortColumn={sortOrder:this.sortOrder,sortCol:e}},Object.defineProperty(t.prototype,"activeSortColumn",{get:function(){return this.model.activeSortColumn},enumerable:!1,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(i.Y36(T.G),i.Y36(_.K),i.Y36(i.sBO),i.Y36(O.N),i.Y36(x.sK),i.Y36(i.zs3),i.Y36(i.SBq))},t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-column-list"]],viewQuery:function(e,t){if(1&e&&(i.Gf(Ju,5),i.Gf(zu,5),i.Gf(Qu,5),i.Gf(Wu,5),i.Gf(Ku,5),i.Gf(Xu,5)),2&e){var n=void 0;i.iGM(n=i.CRH())&&(t.tableElementRef=n.first),i.iGM(n=i.CRH())&&(t.tableWrapperElementRef=n.first),i.iGM(n=i.CRH())&&(t.vIntersectionShadowElementRef=n.first),i.iGM(n=i.CRH())&&(t.tableBottomEdge=n.first),i.iGM(n=i.CRH())&&(t.tableHeaderCells=n),i.iGM(n=i.CRH())&&(t.tableBodyRows=n)}},hostBindings:function(e,t){1&e&&i.NdJ("resize",function(e){return t.onResize(e)},!1,i.Jf7)},features:[i._Bn([Yu,ju]),i.qOj,i.TTD],decls:3,vars:1,consts:[["ehrOnRenderedEmitter","","class","ehr-column-list",3,"ehr-disabled","formGroup","onEhrComponentRendered",4,"ngIf"],["bodySkeleton",""],["ehrOnRenderedEmitter","",1,"ehr-column-list",3,"formGroup","onEhrComponentRendered"],[1,"table-wrapper"],["tableWrapper",""],[1,"table"],["table",""],[4,"ngIf"],[1,"table-bottom-edge"],["tableBottomEdge",""],["class","table","style","width: 100%;",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"v-intersection-shadow"],["vIntersectionShadow",""],["scope","col",3,"click"],["tableHeaderCell",""],[1,"d-flex","align-items-center","sort-icon"],[3,"rows","ehrFormGroup","parentModel","onEhrComponentRendered"],[4,"ngIf","ngIfElse"],["sort",""],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","sort-up","class","svg-inline--fa fa-sort-up fa-w-10","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",4,"ngIf"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","sort-down","class","svg-inline--fa fa-sort-down fa-w-10","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",4,"ngIf"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","sort-up","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"svg-inline--fa","fa-sort-up","fa-w-10"],["fill","currentColor","d","M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","sort-down","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"svg-inline--fa","fa-sort-down","fa-w-10"],["fill","currentColor","d","M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","sort","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"svg-inline--fa","fa-sort","fa-w-10"],["fill","currentColor","d","M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"],[3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass","click"],["tableBodyRow",""],[1,"table",2,"width","100%"],[4,"ngTemplateOutlet"],[1,"skeleton"],[1,"p-3"]],template:function(e,t){1&e&&(i.YNc(0,pc,10,11,"div",0),i.YNc(1,gc,2,1,"ng-template",null,1,i.W1O)),2&e&&i.Q6J("ngIf",!t.isHidden)},directives:[m.O5,I,o.JL,o.sg,m.sg,Be,m.mk,m.tP],styles:['.skeleton-table[_ngcontent-%COMP%]{width:100%}.skeleton[_ngcontent-%COMP%]{-webkit-animation:loading 1.5s linear infinite forwards;animation:loading 1.5s linear infinite forwards;background:linear-gradient(90deg,#fafafa 8%,#f4f4f4 38%,#f2f3f4 54%);background-size:1000px 640px}.table-wrapper[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto}.table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{white-space:nowrap;padding:0 1px}@-webkit-keyframes loading{0%{background-position:0}to{background-position:1000px}}@keyframes loading{0%{background-position:0}to{background-position:1000px}}table.table[_ngcontent-%COMP%]{border:none;border-collapse:separate;border-spacing:0}table.table.table-fixed[_ngcontent-%COMP%]{table-layout:fixed}table.table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]{cursor:pointer}table.table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-top:calc(.5rem - 2px);height:.875em}table.table.table-bordered[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,var(--b-table-border-color),var(--b-table-border-color));background-repeat:no-repeat;background-size:1px 80%;background-position:100%}table.table.table-bordered[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{background-image:none}table.table.table-bordered.lh-intersection[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.last-left[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,var(--b-table-border-color),var(--b-table-border-color));background-repeat:no-repeat;background-size:1px 80%;background-position:0}table.table.table-bordered.rh-intersection[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.last-right[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,var(--b-table-border-color),var(--b-table-border-color));background-repeat:no-repeat;background-size:2px 80%;background-position:100%}table.table.v-intersection[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{z-index:2!important;border-bottom:none}table.table.v-intersection[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.sticky-col[_ngcontent-%COMP%]{z-index:3!important}table.table.v-intersection.lh-intersection[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.last-left[_ngcontent-%COMP%]:after, table.table.v-intersection.rh-intersection[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.last-right[_ngcontent-%COMP%]:after{background-image:none}table.table.v-intersection[_ngcontent-%COMP%]   .v-intersection-shadow[_ngcontent-%COMP%]{display:block}table.table.lh-intersection[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.last-left[_ngcontent-%COMP%]:after, table.table.lh-intersection[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.last-left[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;height:100%;width:27px;right:-27px;background-image:linear-gradient(270deg,transparent,rgba(0,0,0,.1));left:unset}table.table.rh-intersection[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.last-right[_ngcontent-%COMP%]:after, table.table.rh-intersection[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.last-right[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;height:100%;width:27px;left:-27px;background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.1));right:unset}table.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;border-bottom:1px solid var(--b-table-border-color);background-color:var(--b-ehr-form-background)}table.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   th[_ngcontent-%COMP%]{background-color:var(--b-table-row-hover-color)}table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--b-table-header-color);font-size:.875em;font-weight:400}table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.sticky-row[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1}table.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.sticky-col[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.sticky-col[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;left:0;z-index:1}table.table[_ngcontent-%COMP%]   .v-intersection-shadow[_ngcontent-%COMP%]{position:absolute;display:none;top:0;left:0;height:27px;width:100%;background-image:linear-gradient(0deg,transparent,rgba(0,0,0,.1));z-index:4}.ehr-column-list[_ngcontent-%COMP%]{margin:0 .25em;position:relative}'],changeDetection:0}),t}(at);function bc(e,t){if(1&e){var n=i.EpF();i.ynx(0),i.TgZ(1,"ehr-rows-renderer",9),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(3).childComponentRendered(e)}),i.qZA(),i.BQk()}if(2&e){var r=t.$implicit,o=i.oxw(3);i.xp6(1),i.Q6J("rows",r.children)("ehrFormGroup",o.ehrFormGroup)("parentModel",o.model)}}var _c=function(e){return{pointer:e}};function Cc(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"li",7),i.NdJ("click",function(e){var t=i.CHM(n).index,r=i.oxw(2);return r.isClickable&&r.handleRowClick(t,e)}),i.YNc(1,bc,2,3,"ng-container",8),i.qZA()}if(2&e){var r=t.$implicit,o=i.oxw(2);i.Q6J("ngClass",i.VKq(2,_c,o.isClickable)),i.xp6(1),i.Q6J("ngForOf",r.cols)}}function Ec(e,t){1&e&&(i.ynx(0),i._UZ(1,"li",10),i._UZ(2,"li",10),i.BQk())}function Tc(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.TgZ(1,"ul",2),i.YNc(2,Cc,2,4,"li",3),i._UZ(3,"div",4,5),i.YNc(5,Ec,3,0,"ng-container",6),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.ekj("ehr-disabled",r.isReadOnly),i.Q6J("formGroup",r.containerFormGroup),i.uIk("data-ehr-path",r.model.getPath()),i.xp6(2),i.Q6J("ngForOf",r.bodyRows),i.xp6(3),i.Q6J("ngIf",r.showSkeleton)}}var wc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,lt.ZT)(t,e),t.prototype.getBodyRows=function(){var e;return(null===(e=this.layout.rows)||void 0===e?void 0:e.slice(0))||[]},t.prototype.getTemplateRow=function(){var e,t;return(null===(t=null===(e=this.layout.rows)||void 0===e?void 0:e.slice(0))||void 0===t?void 0:t[0])||[]},t.prototype.setStickyStylesAndIntersectionRelatedProperties=function(){},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-stacked-list"]],features:[i._Bn([Yu,ju]),i.qOj],decls:1,vars:1,consts:[["class","ehr-column-list ehr-column-list--stacked","ehrOnRenderedEmitter","",3,"ehr-disabled","formGroup","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","",1,"ehr-column-list","ehr-column-list--stacked",3,"formGroup","onEhrComponentRendered"],[1,"list-group"],["class","list-group-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"table-bottom-edge"],["tableBottomEdge",""],[4,"ngIf"],[1,"list-group-item",3,"ngClass","click"],[4,"ngFor","ngForOf"],[3,"rows","ehrFormGroup","parentModel","onEhrComponentRendered"],[1,"skeleton"]],template:function(e,t){1&e&&i.YNc(0,Tc,6,6,"div",0),2&e&&i.Q6J("ngIf",!t.isHidden)},directives:[m.O5,I,o.JL,o.sg,m.sg,m.mk,Be],styles:[".ehr-column-list--stacked[_ngcontent-%COMP%]{margin:0 .25em}.ehr-column-list--stacked[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border:none;border-bottom:1px solid var(--b-table-border-color);padding:.75em}.skeleton[_ngcontent-%COMP%]{-webkit-animation:loading 1.5s linear infinite forwards;animation:loading 1.5s linear infinite forwards;background:linear-gradient(90deg,#fafafa 8%,#f4f4f4 38%,#f2f3f4 54%);list-style:none;width:100%;height:30px}"],changeDetection:0}),t}(yc),Oc=function(){function e(){}return e.parseHtml=function(e){return(new DOMParser).parseFromString(e,"text/html")},e.getElementsByTagName=function(t,n){return e.parseHtml(t).getElementsByTagName(n)},e.getElementsByClassName=function(t,n){return e.parseHtml(t).getElementsByClassName(n)},e.getElementsBySelectors=function(t,n){return e.parseHtml(t).querySelectorAll(n)},e.replaceAllSelectorsMatches=function(t,n,r){var i=e.parseHtml(t);return Array.from(i.querySelectorAll(n)).forEach(function(e){var t,n=i.createElement("span");n.innerHTML=r,null===(t=e.parentNode)||void 0===t||t.replaceChild(n,e)}),i.head.innerHTML+i.body.innerHTML},e.replaceAllRegExpMatches=function(e,t,n){return e.replace(t,n)},e.setAnchorsTargetPropertyToBlank=function(t){var n=e.parseHtml(t),r=n.getElementsByTagName("a");if(!(r.length>0))return t;for(var i=0;i<r.length;i++)r[i].target="_blank";return n.head.innerHTML+n.body.innerHTML},e}(),xc=function(){function e(){}return e.hasImageProperty=function(e){return!!e.viewConfig.images},e.hasAnyImage=function(t){return e.hasImageProperty(t)&&t.viewConfig.images.length>0},e.getImageByName=function(t,n){return e.hasAnyImage(t)?t.viewConfig.images.find(function(e){return e.name===n}):void 0},e.getImageByIndex=function(t,n){return e.hasAnyImage(t)?t.viewConfig.images[n]:void 0},e.getImageByBase64=function(t,n){return e.hasAnyImage(t)?t.viewConfig.images.find(function(e){return e.base64===n}):void 0},e.setBase64ToImagesInHtmlFromModel=function(t,n){for(var r=Oc.parseHtml(t),i=r.getElementsByTagName("img"),o=0;o<i.length;o++){var a=i[o],s=e.getImageByName(n,a.id);s&&(a.src=s.base64)}return r.head.innerHTML+r.body.innerHTML},e}(),Ic=Object.prototype.toString,Mc=Array.isArray||function(e){return"[object Array]"===Ic.call(e)};function Sc(e){return"function"==typeof e}function Vc(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ac(e,t){return null!=e&&"object"==typeof e&&t in e}var Dc=RegExp.prototype.test,kc=/\S/,Rc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},Pc=/\s*/,Nc=/\s+/,Fc=/\s*=/,Lc=/\s*\}/,Zc=/#|\^|\/|>|\{|&|=|!/;function Uc(e){this.string=e,this.tail=e,this.pos=0}function Bc(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function Gc(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Uc.prototype.eos=function(){return""===this.tail},Uc.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},Uc.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},Bc.prototype.push=function(e){return new Bc(e,this)},Bc.prototype.lookup=function(e){var t,n,r=this.cache;if(r.hasOwnProperty(e))t=r[e];else{for(var i,o,a,s=this,l=!1;s;){if(e.indexOf(".")>0)for(i=s.view,o=e.split("."),a=0;null!=i&&a<o.length;)a===o.length-1&&(l=Ac(i,o[a])||null!=(n=i)&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(o[a])),i=i[o[a++]];else i=s.view[e],l=Ac(s.view,e);if(l){t=i;break}s=s.parent}r[e]=t}return Sc(t)&&(t=t.call(this.view)),t},Gc.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},Gc.prototype.parse=function(e,t){var n=this.templateCache,r=e+":"+(t||Hc.tags).join(":"),i=void 0!==n,o=i?n.get(r):void 0;return null==o&&(o=function(e,t){if(!e)return[];var n,r,i,o,a=!1,s=[],l=[],u=[],c=!1,d=!1,h="",f=0;function p(){if(c&&!d)for(;u.length;)delete l[u.pop()];else u=[];c=!1,d=!1}function m(e){if("string"==typeof e&&(e=e.split(Nc,2)),!Mc(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(Vc(e[0])+"\\s*"),r=new RegExp("\\s*"+Vc(e[1])),i=new RegExp("\\s*"+Vc("}"+e[1]))}m(t||Hc.tags);for(var v,g,y,b,_,C,E=new Uc(e);!E.eos();){if(v=E.pos,y=E.scanUntil(n))for(var T=0,w=y.length;T<w;++T)o=b=y.charAt(T),function(e,t){return Dc.call(e,t)}(kc,o)?(d=!0,a=!0,h+=" "):(u.push(l.length),h+=b),l.push(["text",b,v,v+1]),v+=1,"\n"===b&&(p(),h="",f=0,a=!1);if(!E.scan(n))break;if(c=!0,g=E.scan(Zc)||"name",E.scan(Pc),"="===g?(y=E.scanUntil(Fc),E.scan(Fc),E.scanUntil(r)):"{"===g?(y=E.scanUntil(i),E.scan(Lc),E.scanUntil(r),g="&"):y=E.scanUntil(r),!E.scan(r))throw new Error("Unclosed tag at "+E.pos);if(_=">"==g?[g,y,v,E.pos,h,f,a]:[g,y,v,E.pos],f++,l.push(_),"#"===g||"^"===g)s.push(_);else if("/"===g){if(!(C=s.pop()))throw new Error('Unopened section "'+y+'" at '+v);if(C[1]!==y)throw new Error('Unclosed section "'+C[1]+'" at '+v)}else"name"===g||"{"===g||"&"===g?d=!0:"="===g&&m(y)}if(p(),C=s.pop())throw new Error('Unclosed section "'+C[1]+'" at '+E.pos);return function(e){for(var t,n=[],r=n,i=[],o=0,a=e.length;o<a;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(l))}(e,t),i&&n.set(r,o)),o},Gc.prototype.render=function(e,t,n,r){var i=this.getConfigTags(r),o=this.parse(e,i),a=t instanceof Bc?t:new Bc(t,void 0);return this.renderTokens(o,a,n,e,r)},Gc.prototype.renderTokens=function(e,t,n,r,i){for(var o,a,s,l="",u=0,c=e.length;u<c;++u)s=void 0,"#"===(a=(o=e[u])[0])?s=this.renderSection(o,t,n,r,i):"^"===a?s=this.renderInverted(o,t,n,r,i):">"===a?s=this.renderPartial(o,t,n,i):"&"===a?s=this.unescapedValue(o,t):"name"===a?s=this.escapedValue(o,t,i):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(l+=s);return l},Gc.prototype.renderSection=function(e,t,n,r,i){var o=this,a="",s=t.lookup(e[1]);if(s){if(Mc(s))for(var l=0,u=s.length;l<u;++l)a+=this.renderTokens(e[4],t.push(s[l]),n,r,i);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)a+=this.renderTokens(e[4],t.push(s),n,r,i);else if(Sc(s)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(t.view,r.slice(e[3],e[5]),function(e){return o.render(e,t,n,i)}))&&(a+=s)}else a+=this.renderTokens(e[4],t,n,r,i);return a}},Gc.prototype.renderInverted=function(e,t,n,r,i){var o=t.lookup(e[1]);if(!o||Mc(o)&&0===o.length)return this.renderTokens(e[4],t,n,r,i)},Gc.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),i=e.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},Gc.prototype.renderPartial=function(e,t,n,r){if(n){var i=this.getConfigTags(r),o=Sc(n)?n(e[1]):n[e[1]];if(null!=o){var a=e[4],s=o;0==e[5]&&a&&(s=this.indentPartial(o,a,e[6]));var l=this.parse(s,i);return this.renderTokens(l,t,n,s,r)}}},Gc.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},Gc.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||Hc.escape,i=t.lookup(e[1]);if(null!=i)return"number"==typeof i&&r===Hc.escape?String(i):r(i)},Gc.prototype.rawValue=function(e){return e[1]},Gc.prototype.getConfigTags=function(e){return Mc(e)?e:e&&"object"==typeof e?e.tags:void 0},Gc.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!Mc(e)?e.escape:void 0};var Hc={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){qc.templateCache=e},get templateCache(){return qc.templateCache}},qc=new Gc;Hc.clearCache=function(){return qc.clearCache()},Hc.parse=function(e,t){return qc.parse(e,t)},Hc.render=function(e,t,n,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(Mc(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return qc.render(e,t,n,r)},Hc.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return Rc[e]})},Hc.Scanner=Uc,Hc.Context=Bc,Hc.Writer=Gc;var jc=Hc;function Yc(e,t){if(1&e&&(i.TgZ(0,"div",2),i.ALo(1,"wrapperClasses"),i.TgZ(2,"div",3),i.ALo(3,"inputClasses"),i._UZ(4,"div",4),i.qZA(),i.qZA()),2&e){var n=i.oxw();i.Q6J("ngClass",i.Dn7(1,4,n.model.rmType,n.isReadOnlyValue,n.hasValue)),i.xp6(2),i.Q6J("ngClass",i.lcZ(3,8,n.model.getViewConfig())),i.uIk("data-ehr-path",n.model.getPath()),i.xp6(2),i.Q6J("innerHTML",n.safeHtml,i.oJD)}}var Jc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sanitizer=t.injector.get(r.H7),t.formEnvironmentService=t.injector.get(C.eNT),t.expressionEvaluationService=t.injector.get(sl.Q),t.allImagesSet=!1,t.mustacheViewSet=!1,t.modelDataRetrieved=!1,t.imageServiceRenderer=t.injector.get(Cn),t}return(0,lt.ZT)(t,e),t.prototype.ngOnChanges=function(t){e.prototype.ngOnChanges.call(this,t),this.subscribeToModel(),this.subscribeToVariables()},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this.imageSetSubscription&&this.imageSetSubscription.unsubscribe(),this.modelSubscription&&this.modelSubscription.unsubscribe(),this.variablesValuesSubscription&&this.variablesValuesSubscription.unsubscribe(),this.formContextSubscription&&this.formContextSubscription.unsubscribe()},t.prototype.subscribeToModel=function(){var e=this;this.modelSubscription&&this.modelSubscription.unsubscribe(),this.modelSubscription=this.ehrModelObservable.fromEvent(this.model,C.X4$.CHANGE,this.model).pipe((0,ut.R)(this.unsubscribe)).subscribe(function(t){e.prepareDataForNewSafeHtml()})},t.prototype.subscribeToVariables=function(){var e=this;this.variablesValuesSubscription&&this.variablesValuesSubscription.unsubscribe();var t=this.formEnvironmentService.getVariables().filter(function(e){return e.source===C.hkZ.PREDEFINED}).map(function(t){return e.ehrModelObservable.fromEvent(t,C.X4$.CHANGE)});this.variablesValuesSubscription=(0,y.a)(t).pipe((0,ut.R)(this.unsubscribe)).subscribe(function(t){e.getAndSetMustacheView()})},t.prototype.prepareDataForNewSafeHtml=function(){this.retrieveModelData(),this.retrieveAndSetImages()},t.prototype.retrieveModelData=function(){this.modelDataRetrieved=!1,this.subscribeToFormContext()},t.prototype.subscribeToFormContext=function(){var e=this;this.formContextSubscription&&this.formContextSubscription.unsubscribe(),this.formContextSubscription=this.ehrFormState.getFormContext().pipe((0,M.j)("language"),(0,S.x)(),(0,ut.R)(this.unsubscribe)).subscribe(function(t){var n;e.modelData=null!==(n=e.model.getLocalizedName(t))&&void 0!==n?n:e.model.getName(),e.modelDataRetrieved=!0,e.getAndSetMustacheView()})},t.prototype.getAndSetMustacheView=function(){var e=this;this.mustacheViewSet=!1,this.getMustacheView().then(function(t){e.mustacheView=t,e.mustacheViewSet=!0,e.setNewSafeHtml()})},t.prototype.getMustacheView=function(){return(0,lt.mG)(this,void 0,void 0,function(){var e,t,n,r,i,o;return(0,lt.Jh)(this,function(a){switch(a.label){case 0:if(e={},!this.model.localizedNamesIncludeVariables)return[2,Promise.resolve(e)];t=qu.T.getTagKeysFromTemplate(this.modelData),n=(n=this.formEnvironmentService.getVariables()).filter(function(e){return t.includes(e.name)}),r=0,a.label=1;case 1:return r<n.length?[4,this.expressionEvaluationService.getValue(this.model,al.y.variableDelimiter+(i=n[r]).name+al.y.variableDelimiter)]:[3,4];case 2:if(void 0===(o=a.sent()))return e[i.name]="",[3,3];e[i.name]=C.lMr.jsonParseSafe(o),a.label=3;case 3:return r++,[3,1];case 4:return[2,Promise.resolve(e)]}})})},t.prototype.retrieveAndSetImages=function(){this.allImagesSet=this.areAllImagesSet(),this.allImagesSet?this.setNewSafeHtml():(this.subscribeToRetrieveImages(),this.subscribeToImageSet())},t.prototype.areAllImagesSet=function(){var e;return!xc.hasAnyImage(this.model)||!(null===(e=this.model.viewConfig.images)||void 0===e?void 0:e.find(function(e){return!e.base64}))},t.prototype.subscribeToRetrieveImages=function(){var e,t=this;null===(e=this.model.viewConfig.images)||void 0===e||e.forEach(function(e){t.imageServiceRenderer.retrieveImage(t.formDataService.form,e).pipe((0,p.q)(1)).subscribe(function(n){n&&t.imageServiceRenderer.readBlobAndSetImage(n,e)})})},t.prototype.subscribeToImageSet=function(){var e=this;this.imageSetSubscription&&this.imageSetSubscription.unsubscribe(),this.imageSetSubscription=this.imageServiceRenderer.imageSet$.pipe((0,ut.R)(this.unsubscribe)).subscribe(function(t){e.allImagesSet=e.areAllImagesSet(),e.allImagesSet&&e.setNewSafeHtml()})},t.prototype.setNewSafeHtml=function(){var e;this.modelDataRetrieved&&this.mustacheViewSet&&this.allImagesSet&&(e=xc.setBase64ToImagesInHtmlFromModel(this.modelData,this.model),Object.keys(this.mustacheView).length>0&&(e=jc.render(e,this.mustacheView)),this.safeHtml=this.sanitizer.bypassSecurityTrustHtml(e),this.changeDetectorRef.markForCheck(),this.onEhrComponentRendered.next(this.model))},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-html"]],inputs:{model:"model"},features:[i.qOj,i.TTD],decls:3,vars:4,consts:[[3,"ngClass"],["class","row labeled-input",3,"ngClass",4,"ngIf"],[1,"row","labeled-input",3,"ngClass"],[1,"ehr-field","ehr-html","labeled-input--label",3,"ngClass"],[1,"html-content",3,"innerHTML"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.ALo(1,"elementClasses"),i.YNc(2,Yc,5,10,"div",1),i.qZA()),2&e&&(i.Q6J("ngClass",i.lcZ(1,2,t.elementSize)),i.xp6(2),i.Q6J("ngIf",!t.isHiddenValue))},directives:[m.mk,m.O5],pipes:[ni,oi,ai],styles:[".labeled-input[_ngcontent-%COMP%]{background-color:var(--b-rich-text-background);border-color:var(--b-rich-text-background)}"],changeDetection:0}),t}(dt);function zc(e,t){if(1&e&&(i.TgZ(0,"div",2),i.ALo(1,"wrapperClasses"),i.TgZ(2,"div",3),i.ALo(3,"inputClasses"),i._UZ(4,"div",4),i.qZA(),i.qZA()),2&e){var n=i.oxw();i.Q6J("ngClass",i.Dn7(1,4,n.model.rmType,n.isReadOnlyValue,n.hasValue)),i.xp6(2),i.Q6J("ngClass",i.lcZ(3,8,n.model.getViewConfig())),i.uIk("data-ehr-path",n.model.getPath()),i.xp6(2),i.Q6J("innerHTML",n.safeHtml,i.oJD)}}var Qc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,lt.ZT)(t,e),t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-rich-text"]],features:[i.qOj],decls:3,vars:4,consts:[[3,"ngClass"],["class","row labeled-input",3,"ngClass",4,"ngIf"],[1,"row","labeled-input",3,"ngClass"],[1,"ehr-field","labeled-input--label",3,"ngClass"],[1,"ehr-rich-text",3,"innerHTML"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.ALo(1,"elementClasses"),i.YNc(2,zc,5,10,"div",1),i.qZA()),2&e&&(i.Q6J("ngClass",i.lcZ(1,2,t.elementSize)),i.xp6(2),i.Q6J("ngIf",!t.isHiddenValue))},directives:[m.mk,m.O5],pipes:[ni,oi,ai],styles:[".labeled-input[_ngcontent-%COMP%]{background-color:var(--b-rich-text-background);border-color:var(--b-rich-text-background)}"],changeDetection:0}),t}(Jc),Wc=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[m.ez]]}),e}(),Kc=["table"],Xc=["tableWrapper"],$c=["vIntersectionShadow"],ed=["tableHeaderCell"],td=["tableBodyRow"];function nd(e,t){if(1&e){var n=i.EpF();i.ynx(0),i.TgZ(1,"th",11,12),i.TgZ(3,"ehr-rows-renderer",13),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(5).childComponentRendered(e)}),i.qZA(),i.qZA(),i.BQk()}if(2&e){var r=t.$implicit,o=i.oxw(5);i.xp6(1),i.ekj("sticky-row",null==o.customHeight?null:o.customHeight.stickyHeader),i.xp6(2),i.Q6J("rows",r.children)("ehrFormGroup",o.ehrFormGroup)("parentModel",o.model)}}function rd(e,t){if(1&e&&i._UZ(0,"th",14,12),2&e){var n=i.oxw(5);i.ekj("sticky-row",null==n.customHeight?null:n.customHeight.stickyHeader)}}function id(e,t){if(1&e&&(i.ynx(0),i.YNc(1,nd,4,5,"ng-container",7),i.YNc(2,rd,2,2,"th",10),i.BQk()),2&e){var n=i.oxw().$implicit,r=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",n.cols),i.xp6(1),i.Q6J("ngIf",!r.isReadOnly&&!r.hideMultiButtons)}}function od(e,t){if(1&e&&(i.ynx(0),i.YNc(1,id,3,2,"ng-container",6),i.BQk()),2&e){var n=t.index;i.xp6(1),i.Q6J("ngIf",0===n)}}function ad(e,t){if(1&e&&(i.TgZ(0,"thead"),i.TgZ(1,"tr"),i.YNc(2,od,2,1,"ng-container",7),i._UZ(3,"div",8,9),i.qZA(),i.qZA()),2&e){var n=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",null==n.layout?null:n.layout.rows)}}function sd(e,t){if(1&e){var n=i.EpF();i.ynx(0),i.TgZ(1,"ehr-model-renderer",17),i.NdJ("onEhrComponentRendered",function(e){return i.CHM(n),i.oxw(7).childComponentRendered(e)}),i.qZA(),i.BQk()}if(2&e){var r=t.$implicit,o=i.oxw(4).index,a=i.oxw(3);i.xp6(1),i.Q6J("model",a.getRowModel(o,r.id))("ehrFormGroup",a.ehrFormGroup)}}function ld(e,t){if(1&e&&(i.TgZ(0,"td"),i.YNc(1,sd,2,2,"ng-container",7),i.qZA()),2&e){var n=t.$implicit;i.xp6(1),i.Q6J("ngForOf",n.children)}}function ud(e,t){if(1&e&&(i.ynx(0),i.YNc(1,ld,2,1,"td",7),i.BQk()),2&e){var n=i.oxw().$implicit;i.xp6(1),i.Q6J("ngForOf",n.cols)}}function cd(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"i",21),i.NdJ("click",function(e){i.CHM(n);var t=i.oxw(3).index;return i.oxw(3).addRow(e,t)}),i.qZA()}}function dd(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"i",22),i.NdJ("click",function(){i.CHM(n);var e=i.oxw(3).index;return i.oxw(3).removeRow(e)}),i.qZA()}}function hd(e,t){if(1&e&&(i.TgZ(0,"td",18),i.YNc(1,cd,1,0,"i",19),i.YNc(2,dd,1,0,"i",20),i.qZA()),2&e){var n=i.oxw(2).last,r=i.oxw(3);i.xp6(1),i.Q6J("ngIf",r.duplicationEnabled&&n),i.xp6(1),i.Q6J("ngIf",r.removalEnabled)}}function fd(e,t){if(1&e&&(i.TgZ(0,"tr",null,15),i.YNc(2,ud,2,1,"ng-container",6),i.YNc(3,hd,3,2,"td",16),i.qZA()),2&e){var n=t.last,r=i.oxw().index,o=i.oxw(3);i.xp6(2),i.Q6J("ngIf",!o.presentationMode||o.rowHasSomeValues(r)),i.xp6(1),i.Q6J("ngIf",n&&!o.isReadOnly&&!o.hideMultiButtons&&!o.presentationMode)}}function pd(e,t){if(1&e&&(i.ynx(0),i.YNc(1,fd,4,2,"tr",7),i.BQk()),2&e){var n=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",n.bodyRows)}}function md(e,t){if(1&e&&(i.TgZ(0,"tbody"),i.YNc(1,pd,2,1,"ng-container",7),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",n.rowIndexes)}}function vd(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",1),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.TgZ(1,"div",2,3),i.TgZ(3,"table",4,5),i.YNc(5,ad,5,1,"thead",6),i.YNc(6,md,2,1,"tbody",6),i.qZA(),i.qZA(),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("formGroup",r.ehrFormGroup),i.uIk("data-ehr-path",r.model.getPath())("ehr-name",r.model.getName()),i.xp6(1),i.Udp("height",null!=r.customHeight&&r.customHeight.value?(null==r.customHeight?null:r.customHeight.value)+"px":null),i.xp6(2),i.ekj("table-bordered",r.showContainerBorders),i.xp6(2),i.Q6J("ngIf",!r.hideHeader&&0===r.model.getMultiIndex()),i.xp6(1),i.Q6J("ngIf",r.bodyRows)}}var gd=function(e){function t(t,n,r,i,o,a,s){var l=e.call(this,t,n,r,i,o,a)||this;return l.hostElementRef=s,l.bodyRows=[],l.duplicatedSiblings=[],l.rowIndexes=[],l.childRenderedCount=0,l.childToBeRenderedCount=0,l}return(0,lt.ZT)(t,e),t.prototype.onResize=function(){this.setStickyStylesAndIntersectionRelatedProperties()},t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.tableStickyStylesService=this.injector.get(Yu),this.tableIntersectionsService=this.injector.get(ju)},t.prototype.ngOnChanges=function(t){var n,r,o=this;this.childRenderedCount=0,this.childToBeRenderedCount=0,null===(r=null===(n=this.layout)||void 0===n?void 0:n.rows)||void 0===r||r.forEach(function(e){return e.cols.forEach(function(e){return o.childToBeRenderedCount+=e.children.length})}),e.prototype.ngOnChanges.call(this,t),this.initialize(),this.renderer||(this.renderer=this.injector.get(i.Qsj)),t.hasOwnProperty("model")&&this.model.getViewConfig()instanceof C.sfN&&(this.customHeight=this.model.getViewConfig().getHeight(),this.stickyColumns=this.model.getViewConfig().getStickyColumns(),this.stickyColumnIndices=this.stickyColumns?this.stickyColumns.map(function(e){return e-1}):[])},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this.hiddenSub&&this.hiddenSub.unsubscribe()},t.prototype.getRowModel=function(e,t){return this.duplicatedSiblings[e].getChildModels().find(function(e){return e.formId===t})},t.prototype.addRow=function(e,t){var n=this;this.duplicateContainer(e,this.duplicatedSiblings[t]),this.initialize(),this.childRenderedCount=0,this.childToBeRenderedCount=0,this.layout.rows[1].cols.forEach(function(e){return n.childToBeRenderedCount+=e.children.length})},t.prototype.removeRow=function(e){var t=this;this.duplicatedSiblings[e].destroy(),this.initialize(),this.childRenderedCount=0,this.childToBeRenderedCount=0,this.layout.rows[0].cols.forEach(function(e){return t.childToBeRenderedCount+=e.children.length})},t.prototype.childComponentRendered=function(t){e.prototype.childComponentRendered.call(this,t),this.childRenderedCount+=1,this.childRenderedCount===this.childToBeRenderedCount&&this.setStickyStylesAndIntersectionRelatedProperties()},t.prototype.rowHasSomeValues=function(e){return this.duplicatedSiblings[e].getChildModels().some(function(e){return e.hasValue()})},t.prototype.registerRenderMin=function(e){var t=this;this.ehrFormState.getFormContextValue().disableFormScript||(this.renderMin&&this.renderMin.unsubscribe(),this.renderMin=this.ehrModelObservable.fromEvent(e,C.X4$.EVENT_MIN_UPDATED,e.getMin()).subscribe(function(n){v.D.renderContainersMin(n,e,t.modelParser),t.initialize(),t.changeDetectorRef.detectChanges()}))},t.prototype.initialize=function(){var e,t;this.bodyRows=(null===(t=null===(e=this.layout)||void 0===e?void 0:e.rows)||void 0===t?void 0:t.slice(1))||[],this.duplicatedSiblings=this.getDuplicatedSiblings(),this.updateSiblingContainersVisibility(),this.rowIndexes=new Array(this.duplicatedSiblings.length).fill(0).map(function(e,t){return t}),this.initializeHiddenListener()},t.prototype.getDuplicatedSiblings=function(){var e,t=this,n=this.model.getParentModel();return null!==(e=null==n?void 0:n.children.filter(function(e){return e.getFormId()===t.model.getFormId()}))&&void 0!==e?e:[]},t.prototype.setStickyStylesAndIntersectionRelatedProperties=function(){var e=this;setTimeout(function(){var t,n;e.stickyColumns&&e.tableStickyStylesService.setStickyStyles({renderer:e.renderer,tableHeaderCells:e.tableHeaderCells,tableBodyRows:e.tableBodyRows,stickyHeader:!!(null===(t=e.customHeight)||void 0===t?void 0:t.stickyHeader),stickyColumnIndices:e.stickyColumnIndices||[]}),e.tableIntersectionsService.setIntersectionObservers({renderer:e.renderer,hostElementRef:e.hostElementRef,stickyHeader:!!(null===(n=e.customHeight)||void 0===n?void 0:n.stickyHeader),tableWrapperElementRef:e.tableWrapperElementRef,tableElementRef:e.tableElementRef,tableHeaderCells:e.tableHeaderCells,vIntersectionShadowElementRef:e.vIntersectionShadowElementRef})})},t.prototype.initializeHiddenListener=function(){var e=this;this.hiddenSub&&this.hiddenSub.unsubscribe();var t=this.ehrModelObservable.fromEvent(this.model,C.X4$.EVENT_IS_HIDDEN,this.model.getViewConfig().isHidden(!0));this.hiddenSub=t.subscribe(function(t){e.updateSiblingContainersVisibility(t)})},t.prototype.updateSiblingContainersVisibility=function(e){void 0===e&&(e=this.model.getViewConfig().isHidden()),this.duplicatedSiblings.forEach(function(t){t.getViewConfig().isHidden()!==e&&t.getViewConfig().setHidden(e)})},t.\u0275fac=function(e){return new(e||t)(i.Y36(T.G),i.Y36(_.K),i.Y36(i.sBO),i.Y36(O.N),i.Y36(x.sK),i.Y36(i.zs3),i.Y36(i.SBq))},t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-container-list"]],viewQuery:function(e,t){if(1&e&&(i.Gf(Kc,5),i.Gf(Xc,5),i.Gf($c,5),i.Gf(ed,5),i.Gf(td,5)),2&e){var n=void 0;i.iGM(n=i.CRH())&&(t.tableElementRef=n.first),i.iGM(n=i.CRH())&&(t.tableWrapperElementRef=n.first),i.iGM(n=i.CRH())&&(t.vIntersectionShadowElementRef=n.first),i.iGM(n=i.CRH())&&(t.tableHeaderCells=n),i.iGM(n=i.CRH())&&(t.tableBodyRows=n)}},hostBindings:function(e,t){1&e&&i.NdJ("resize",function(e){return t.onResize(e)},!1,i.Jf7)},features:[i._Bn([Yu,ju]),i.qOj,i.TTD],decls:1,vars:1,consts:[["ehrOnRenderedEmitter","","class","ehr-container-list",3,"formGroup","onEhrComponentRendered",4,"ngIf"],["ehrOnRenderedEmitter","",1,"ehr-container-list",3,"formGroup","onEhrComponentRendered"],[1,"table-wrapper"],["tableWrapper",""],[1,"table"],["table",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"v-intersection-shadow"],["vIntersectionShadow",""],["class","action-buttons","scope","col",3,"sticky-row",4,"ngIf"],["scope","col"],["tableHeaderCell",""],[3,"rows","ehrFormGroup","parentModel","onEhrComponentRendered"],["scope","col",1,"action-buttons"],["tableBodyRow",""],["class","action-buttons",4,"ngIf"],[3,"model","ehrFormGroup","onEhrComponentRendered"],[1,"action-buttons"],["class","b-icon plus",3,"click",4,"ngIf"],["class","b-icon minus",3,"click",4,"ngIf"],[1,"b-icon","plus",3,"click"],[1,"b-icon","minus",3,"click"]],template:function(e,t){1&e&&i.YNc(0,vd,7,9,"div",0),2&e&&i.Q6J("ngIf",!t.isHidden)},directives:[m.O5,I,o.JL,o.sg,m.sg,Be,Se],styles:['.ehr-container-list[_ngcontent-%COMP%]{margin-left:calc(2px * 2);margin-right:calc(2px * 2);overflow-x:auto;width:calc(100% - 2 * calc(2px * 2))}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin-bottom:0;margin-left:.375em;margin-right:.375em;white-space:nowrap;width:calc(100% - 2 * .375em);overflow-y:auto}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]     ehr-rich-text .labeled-input{margin-left:0;margin-bottom:.5rem}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]     ehr-rich-text .labeled-input--label{padding-left:0}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]     ehr-rich-text p{padding:0}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-color:var(--b-table-border-color);padding:.5rem}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-of-type, .ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-of-type{padding-left:0}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-of-type     mrd-labeled-input .labeled-input, .ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-of-type     mrd-labeled-input .labeled-input{margin-left:0}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.action-buttons[_ngcontent-%COMP%], .ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.action-buttons[_ngcontent-%COMP%]{border-top:none}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-last-child(2), .ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-last-child(2){padding-right:0}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-last-child(2)     mrd-labeled-input .labeled-input, .ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-last-child(2)     mrd-labeled-input .labeled-input{margin-right:0}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{width:45px}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem;background-color:var(--b-card-multiplicity-button-background-color);border-radius:.375rem;margin:.25rem}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   i.plus[_ngcontent-%COMP%]{color:var(--b-card-multiplicity-add-button-color)}.ehr-container-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   i.minus[_ngcontent-%COMP%]{color:var(--b-card-multiplicity-remove-button-color)}.table-wrapper[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto}.table-wrapper[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{white-space:nowrap;padding:0 1px}@-webkit-keyframes loading{0%{background-position:0}to{background-position:1000px}}@keyframes loading{0%{background-position:0}to{background-position:1000px}}table.table[_ngcontent-%COMP%]{border:none;border-collapse:separate;border-spacing:0}table.table.table-fixed[_ngcontent-%COMP%]{table-layout:fixed}table.table.table-bordered[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,var(--b-table-border-color),var(--b-table-border-color));background-repeat:no-repeat;background-size:1px 80%;background-position:100%}table.table.table-bordered[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{background-image:none}table.table.v-intersection[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{z-index:4!important;border-bottom:none}table.table.v-intersection[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.sticky-col[_ngcontent-%COMP%]{z-index:5!important}table.table.v-intersection.lh-intersection[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.last-left[_ngcontent-%COMP%]:after, table.table.v-intersection.rh-intersection[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.last-right[_ngcontent-%COMP%]:after{background-image:none}table.table.v-intersection[_ngcontent-%COMP%]   .v-intersection-shadow[_ngcontent-%COMP%]{display:block}table.table.lh-intersection[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.last-left[_ngcontent-%COMP%]:after, table.table.lh-intersection[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.last-left[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;height:100%;width:27px;right:-27px;background-image:linear-gradient(270deg,transparent,rgba(0,0,0,.1));left:unset}table.table.lh-intersection[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.last-left[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,var(--b-table-border-color),var(--b-table-border-color));background-repeat:no-repeat;background-size:1px 80%;background-position:0}table.table.rh-intersection[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.last-right[_ngcontent-%COMP%]:after, table.table.rh-intersection[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.last-right[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;height:100%;width:27px;left:-27px;background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.1));right:unset}table.table.rh-intersection[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.last-right[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,var(--b-table-border-color),var(--b-table-border-color));background-repeat:no-repeat;background-size:2px 80%;background-position:100%}table.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;border-bottom:1px solid var(--b-table-border-color);background-color:var(--b-ehr-form-background)}table.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   th[_ngcontent-%COMP%]{background-color:var(--b-table-row-hover-color)}table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--b-table-header-color);font-size:.875em;font-weight:400}table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.sticky-row[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:3}table.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.sticky-col[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.sticky-col[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;left:0;z-index:3}table.table[_ngcontent-%COMP%]   .v-intersection-shadow[_ngcontent-%COMP%]{position:absolute;display:none;top:0;left:0;height:27px;width:100%;background-image:linear-gradient(0deg,transparent,rgba(0,0,0,.1));z-index:6}.ehr-container-list[_ngcontent-%COMP%]{margin:0 .25em;position:relative}',".ehr-container-label[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 100px;grid-template-rows:1fr;min-height:35px}.ehr-container-label[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{align-items:center;display:flex;line-height:1}.ehr-container-label[_ngcontent-%COMP%]   .multi-index[_ngcontent-%COMP%]{line-height:1;overflow-y:hidden}.ehr-container-controls[_ngcontent-%COMP%]{display:inline-block;text-align:right}.ehr-container-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:0;line-height:1em}.ehr-container-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:.25em}"],changeDetection:0}),t}(at);function yd(e,t){if(1&e&&i._UZ(0,"ehr-rows-renderer",5),2&e){var n=i.oxw(2);i.Q6J("rows",n.layout.rows)("parentModel",n.model)("ehrFormGroup",n.containerFormGroup)("leftOffset",n.elementOffset)("rightOffset",n.elementOffset)}}function bd(e,t){if(1&e&&i._UZ(0,"ehr-model-renderer",7),2&e){var n=t.$implicit,r=i.oxw(3);i.Q6J("model",n)("ehrFormGroup",r.containerFormGroup)}}function _d(e,t){if(1&e&&i.YNc(0,bd,1,2,"ehr-model-renderer",6),2&e){var n=i.oxw(2);i.Q6J("ngForOf",n.model.children)("ngForTrackBy",n.EhrLayoutHelper.trackByFieldModel)}}function Cd(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",2),i.NdJ("onEhrComponentRendered",function(){i.CHM(n);var e=i.oxw();return e.onEhrComponentRendered.next(e.model)}),i.YNc(1,yd,1,5,"ehr-rows-renderer",3),i.YNc(2,_d,1,2,"ng-template",null,4,i.W1O),i.qZA()}if(2&e){var r=i.MAs(3),o=i.oxw();i.ekj("d-none",o.isHidden)("card-bordered",o.showContainerBorders)("not-bordered",!o.showContainerBorders&&o.nrOfParents-1<=o.modelStoreService.maxContainerDepthFound)("ehr-disabled",o.isReadOnly),i.Q6J("formGroup",o.containerFormGroup),i.uIk("data-ehr-path",o.model.getPath()),i.xp6(1),i.Q6J("ngIf",!!o.layout)("ngIfElse",r)}}function Ed(e,t){if(1&e&&(i.TgZ(0,"ehr-model-renderer",11),i.ALo(1,"hideFieldInPresentation"),i.ALo(2,"fieldsLayout"),i.qZA()),2&e){var n=t.$implicit,r=i.oxw(3);i.ekj("d-none",i.lcZ(1,5,n)),i.Q6J("layout",i.xi3(2,7,n.formId,r.layout))("model",n)("ehrFormGroup",r.containerFormGroup)}}function Td(e,t){if(1&e&&(i.TgZ(0,"div",9),i.YNc(1,Ed,3,10,"ehr-model-renderer",10),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",n.model.children)("ngForTrackBy",n.EhrLayoutHelper.trackByFieldModel)}}function wd(e,t){if(1&e&&i.YNc(0,Td,2,2,"div",8),2&e){var n=i.oxw();i.Q6J("ngIf",n.model.showInPresentationMode())}}var Od=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,lt.ZT)(t,e),t.prototype.registerIsCollapsed=function(e){},t.prototype.registerRenderMin=function(e){},t.prototype.registerRenderMax=function(e){},t.prototype.registerMultiplicity=function(){},t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["ehr-layout-group"]],features:[i.qOj],decls:3,vars:2,consts:[["class","ehr-layout-group","ehrOnRenderedEmitter","",3,"d-none","card-bordered","not-bordered","ehr-disabled","formGroup","onEhrComponentRendered",4,"ngIf","ngIfElse"],["presentationRenderer",""],["ehrOnRenderedEmitter","",1,"ehr-layout-group",3,"formGroup","onEhrComponentRendered"],[3,"rows","parentModel","ehrFormGroup","leftOffset","rightOffset",4,"ngIf","ngIfElse"],["renderModel",""],[3,"rows","parentModel","ehrFormGroup","leftOffset","rightOffset"],[3,"model","ehrFormGroup",4,"ngFor","ngForOf","ngForTrackBy"],[3,"model","ehrFormGroup"],["class","ehr-container--presentation",4,"ngIf"],[1,"ehr-container--presentation"],[3,"d-none","layout","model","ehrFormGroup",4,"ngFor","ngForOf","ngForTrackBy"],[3,"layout","model","ehrFormGroup"]],template:function(e,t){if(1&e&&(i.YNc(0,Cd,4,12,"div",0),i.YNc(1,wd,1,1,"ng-template",null,1,i.W1O)),2&e){var n=i.MAs(2);i.Q6J("ngIf",!t.presentationMode)("ngIfElse",n)}},directives:[m.O5,I,o.JL,o.sg,Be,m.sg,Se],pipes:[je,Ye],styles:[""],changeDetection:0}),t}(at),xd=n(63039),Id=n(64494),Md=n(36655);function Sd(e,t){return void 0===t&&(t=[]),e.forEach(function(e){var n=t.find(function(t){return t.language===e.language});n?Object.keys(e.keys).forEach(function(t){void 0===n.keys[t]&&(n.keys[t]=e.keys[t])}):t.push(e)}),t}var Vd=new i.OlP("DictionaryKeysDefArr"),Ad=new i.OlP("DictionaryKeysParamArr"),Dd=new i.OlP("EHRCustomComponentsMap");function kd(){var e=new a.M4;return e.minDate={year:1900,month:1,day:1},e.maxDate={year:2099,month:12,day:31},e}var Rd=function(){function e(){}return e.forRoot=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[{provide:Dd,useValue:t?t.customComponentsMap:null},{provide:R,useClass:R,deps:[Dd]},{provide:Vd,useValue:nl},{provide:Ad,useValue:t.translations},{provide:Su,useFactory:Sd,deps:[Vd,Ad]},{provide:x.sK,useClass:t.translateService||x.sK},{provide:x.gC,useClass:rl},{provide:i.qLn,useClass:t.errorHandler||Il},{provide:_.K,useClass:t.modelParser||_.K},{provide:ol.zX,useClass:t.widgetConfigStore||ol.zX},t.httpInterceptors?t.httpInterceptors:[]]}},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[au.j8,uu.e,v.D,A.r,O.N,C.y3m,vn._,sl.Q,Cn,Zs.g,w.G,_.K,xd.b,Au,C.FT1,{provide:a.M4,useFactory:kd}],imports:[[m.ez,o.u5,o.UX,x.aw,tl,Wc,C.VXg],m.ez,o.u5,Wc,o.UX,tl]}),e}();i.B6R(Se,[m.O5,m.mk,m.RF,m.n9,fi,Js,Zu,Pu,_i,Ii,Zi,eo,po,Oo,Ua,ns,as,cs,Ps,Hs,Ws,xl,el,fl,wl,nu,yc,wc,Qc,Jc,Od,m.ED,at,gd,I,Ls],[Ge,Ks,Id.W,Md.F]),i.B6R(Hs,[m.O5,I,m.mk,Hr,qr,V,Gl],[ni,ri,ii,oi,ai,m.Ov,x.X$]),n(89896);var Pd=function(){function e(e,t){var n=this;this.modelScriptExecutor=e,this.zone=t,this.removeListener=function(e,t){n.zone.run(function(){n.modelScriptExecutor.removeListener(e,t)})},this.destroy=function(){n.zone.run(function(){return n.modelScriptExecutor.destroy()})},this.addFormElementInput=function(e,t,r,i,o){n.zone.run(function(){n.modelScriptExecutor.addFormElementInput(e,t,r,i)})},this.removeFormElementInput=function(e,t,r,i){n.zone.run(function(){n.modelScriptExecutor.removeFormElementInput(e,t,r,i)})},this.getVariable=function(e){var t;return n.zone.run(function(){t=n.modelScriptExecutor.getVariable(e)}),t},this.getComposition=function(){var e;return n.zone.run(function(){e=n.modelScriptExecutor.getComposition()}),e},this.saveComposition=function(e,t){var r;return void 0===e&&(e=!0),void 0===t&&(t=!1),n.zone.run(function(){r=n.modelScriptExecutor.saveComposition(e,t)}),r},this.updateComposition=function(e,t){var r;return void 0===e&&(e=!0),void 0===t&&(t=!1),n.zone.run(function(){r=n.modelScriptExecutor.updateComposition(e,t)}),r},this.setVariableValue=function(e,t){var r;return n.zone.run(function(){r=n.modelScriptExecutor.setVariableValue(e,t)}),r},this.isElementValid=function(e,t,r){var i;return n.zone.run(function(){i=n.modelScriptExecutor.isElementValid(e,t,r)}),i},this.validatePage=function(e){var t;return n.zone.run(function(){t=n.modelScriptExecutor.validatePage(e)}),t},this.isPageValid=function(e){var t;return n.zone.run(function(){t=n.modelScriptExecutor.isPageValid(e)}),t},this.getAqlView=function(e){var t=Promise.resolve();return n.zone.run(function(){t=n.modelScriptExecutor.getAqlView(e)}),t},this.getFormInfo=function(){var e;return n.zone.run(function(){e=n.modelScriptExecutor.getFormInfo()}),e},this.setWidgetConfig=function(e,t){n.zone.run(function(){n.modelScriptExecutor.setWidgetConfig(e,t)})},this.enableValue=function(e,t){n.zone.run(function(){n.modelScriptExecutor.enableValue(e,t)})},this.disableValue=function(e,t){n.zone.run(function(){n.modelScriptExecutor.disableValue(e,t)})},this.setFeederAudit=function(e,t){n.zone.run(function(){n.modelScriptExecutor.setFeederAudit(e,t)})},this.getFeederAudit=function(){var e=[];return n.zone.run(function(){e=n.modelScriptExecutor.getFeederAudit()}),e}}return e.prototype.addListener=function(e,t,n,r){var i=this;this.zone.run(function(){i.modelScriptExecutor.addListener(e,t,n,r)})},e.prototype.getFieldModel=function(e,t,n){var r,i=this;return this.zone.run(function(){r=i.modelScriptExecutor.getFieldModel(e,t,n)}),r},e.prototype.getValueRef=function(e,t,n){var r,i=this;return this.zone.run(function(){r=i.modelScriptExecutor.getValueRef(e,t,n)}),r},e.prototype.validateElement=function(e,t,n){var r=this;this.zone.run(function(){r.modelScriptExecutor.validateElement(e,t,n)})},e.prototype.getOrdinalNumberValue=function(e,t,n){var r,i=this;return this.zone.run(function(){r=i.modelScriptExecutor.getOrdinalNumberValue(e,t,n)}),r},e.prototype.getScaleNumberValue=function(e,t,n){var r,i=this;return this.zone.run(function(){r=i.modelScriptExecutor.getScaleNumberValue(e,t,n)}),r},e.prototype.getFieldValue=function(e,t,n,r){var i,o=this;return void 0===t&&(t=0),this.zone.run(function(){i=o.modelScriptExecutor.getFieldValue(e,t,n,r)}),i},e.prototype.getTerminologySelectedValues=function(e,t,n){var r,i=this;return this.zone.run(function(){r=i.modelScriptExecutor.getTerminologySelectedValues(e,t,n)}),r},e.prototype.setFieldValue=function(e,t,n,r,i,o){var a=this;void 0===n&&(n="value"),this.zone.run(function(){a.modelScriptExecutor.setFieldValue(e,t,n,r,i,o)})},e.prototype.setTerminologyParameter=function(e,t,n,r,i){var o=this;this.zone.run(function(){o.modelScriptExecutor.setTerminologyParameter(e,t,n,r,i)})},e.prototype.setCodedTextFieldByLabel=function(e,t,n,r){var i=this;this.zone.run(function(){i.modelScriptExecutor.setCodedTextFieldByLabel(e,t,n,r)})},e.prototype.setOrdinalFieldByLabel=function(e,t,n,r){var i=this;this.zone.run(function(){i.modelScriptExecutor.setOrdinalFieldByLabel(e,t,n,r)})},e.prototype.setScaleFieldByLabel=function(e,t,n,r){var i=this;this.zone.run(function(){i.modelScriptExecutor.setScaleFieldByLabel(e,t,n,r)})},e.prototype.setProportionField=function(e,t,n,r,i,o){var a=this;void 0===r&&(r=0),this.zone.run(function(){a.modelScriptExecutor.setProportionField(e,t,n,r,i,o)})},e.prototype.setDateField=function(e,t,n,r,i,o,a){var s=this;void 0===i&&(i=0),this.zone.run(function(){s.modelScriptExecutor.setDateField(e,t,n,r,i,o,a)})},e.prototype.setDateTimeField=function(e,t,n,r,i,o,a,s,l){var u=this;void 0===a&&(a=0),this.zone.run(function(){u.modelScriptExecutor.setDateTimeField(e,t,n,r,i,o,a,s,l)})},e.prototype.setTimeField=function(e,t,n,r,i,o){var a=this;void 0===r&&(r=0),this.zone.run(function(){a.modelScriptExecutor.setTimeField(e,t,n,r,i,o)})},e.prototype.resetFormElement=function(e,t,n){var r=this;this.zone.run(function(){r.modelScriptExecutor.resetFormElement(e,t,n)})},e.prototype.setMaxMultiplicity=function(e,t,n,r){var i=this;this.zone.run(function(){i.modelScriptExecutor.setMaxMultiplicity(e,t,n,r)})},e.prototype.setMultiplicity=function(e,t,n,r){var i=this;this.zone.run(function(){i.modelScriptExecutor.setMultiplicity(e,t,n,r)})},e.prototype.setAnnotation=function(e,t,n,r,i){var o=this;this.zone.run(function(){o.modelScriptExecutor.setAnnotation(e,t,n,r,i)})},e.prototype.removeAnnotation=function(e,t,n,r){var i=this;this.zone.run(function(){i.modelScriptExecutor.removeAnnotation(e,t,n,r)})},e.prototype.getAnnotations=function(e,t,n){var r,i=this;return this.zone.run(function(){r=i.modelScriptExecutor.getAnnotations(e,t,n)}),r},e.prototype.setMinMultiplicity=function(e,t,n,r){var i=this;this.zone.run(function(){i.modelScriptExecutor.setMinMultiplicity(e,t,n,r)})},e.prototype.clearFormElement=function(e,t){var n=this;this.zone.run(function(){var r;n.modelScriptExecutor.clearFormElement(e,{prop:(r="string"==typeof t?{prop:void 0,searchWithinContainerTag:t,containerMultiIndex:void 0}:t).prop,searchWithinContainerTag:r.searchWithinContainerTag,containerMultiIndex:r.containerMultiIndex})})},e.prototype.hideFormElement=function(e,t,n){var r=this;this.zone.run(function(){r.modelScriptExecutor.hideFormElement(e,t,n)})},e.prototype.showFormElement=function(e,t,n){var r=this;this.zone.run(function(){r.modelScriptExecutor.showFormElement(e,t,n)})},e.prototype.enableFormElement=function(e,t,n){var r=this;this.zone.run(function(){r.modelScriptExecutor.enableFormElement(e,t,n)})},e.prototype.disableFormElement=function(e,t,n){var r=this;this.zone.run(function(){r.modelScriptExecutor.disableFormElement(e,t,n)})},e.prototype.requireFormElement=function(e,t,n,r){var i=this;this.zone.run(function(){i.modelScriptExecutor.requireFormElement(e,t,n,r)})},e.prototype.setFormLanguage=function(e){var t=this;this.zone.run(function(){t.modelScriptExecutor.setFormLanguage(e)})},e.prototype.getFieldPosition=function(e,t,n){var r,i=this;return this.zone.run(function(){r=i.modelScriptExecutor.getFieldPosition(e,t,n)}),r},e.prototype.setCodedTextInputs=function(e,t,n,r){var i=this;this.zone.run(function(){i.modelScriptExecutor.setCodedTextInputs(e,t,n,r)})},e.prototype.addCodedTextInput=function(e,t,n,r){var i=this;this.zone.run(function(){i.modelScriptExecutor.addCodedTextInput(e,t,n,r)})},e.prototype.removeCodedTextInput=function(e,t,n,r){var i=this;this.zone.run(function(){i.modelScriptExecutor.removeCodedTextInput(e,t,n,r)})},e.prototype.toggleElement=function(e,t,n){var r=this;this.zone.run(function(){r.modelScriptExecutor.toggleElement(e,t,n)})},e.prototype.duplicateModel=function(e,t,n){var r=this;this.zone.run(function(){r.modelScriptExecutor.duplicateModel(e,t,n)})},e.prototype.collapse=function(e,t,n){var r=this;this.zone.run(function(){r.modelScriptExecutor.collapse(e,t,n)})},e.prototype.expand=function(e,t,n){var r=this;this.zone.run(function(){r.modelScriptExecutor.expand(e,t,n)})},e.prototype.setFormSubmissionType=function(e){var t=this;this.zone.run(function(){t.modelScriptExecutor.setFormSubmissionType(e)})},e}(),Nd=["form"];function Fd(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"ehr-form-renderer",1,2),i.NdJ("onValueChange",function(e){return i.CHM(n),i.oxw().onValueChange.emit(e)})("onFormRendered",function(){return i.CHM(n),i.oxw().onFormRendered.emit(!0)})("onCompositionSaved",function(e){return i.CHM(n),i.oxw().onCompositionSaved.emit(e)})("onRequestUpdatedToken",function(){return i.CHM(n),i.oxw().onRequestUpdatedToken.emit()})("onPageChanged",function(e){return i.CHM(n),i.oxw().onPageChanged.emit(e)})("onFormError",function(e){return i.CHM(n),i.oxw().onFormError.emit(e)}),i.qZA()}if(2&e){var r=i.oxw();i.Q6J("form",r.formMetadataInput)("resourceUrl",r.resourceUrl)("credentials",r.credentials)("composition",r.compositionInput)("compositionId",r.compositionId)("context",r.context)("formEnvironment",r.formEnvironment)}}var Ld,Zd=function(){function e(e,t){var n=this;this.changeDetectorRef=e,this.zone=t,this.onValueChange=new i.vpe,this.onValidationChange=new i.vpe,this.onFormRendered=new i.vpe,this.onCompositionSaved=new i.vpe,this.onFormError=new i.vpe,this.onRequestUpdatedToken=new i.vpe,this.onPageChanged=new i.vpe,this.setTranslation=function(e,t,r){void 0===r&&(r=!1),n.ehrFormComponent.setTranslation(e,t,r)},this.validate=function(e){return n.validateHelper(e)},this.getScriptApi=function(){return new Pd(n.api,n.zone)},this.updateToken=function(e){return n.updateTokenHelper(e)}}return Object.defineProperty(e.prototype,"formMetadata",{get:function(){var e;return null===(e=this.ehrFormComponent)||void 0===e?void 0:e.form},set:function(e){this.formMetadataInput=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"composition",{get:function(){var e;return null===(e=this.ehrFormComponent)||void 0===e?void 0:e.composition},set:function(e){e&&(this.compositionInput=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"api",{get:function(){return this.ehrFormComponent.api},enumerable:!1,configurable:!0}),e.prototype.validateHelper=function(e){void 0===e&&(e=!0);var t=this.ehrFormComponent.validate(e);return this.changeDetectorRef.detectChanges(),t},e.prototype.ngOnChanges=function(e){this.changeDetectorRef.detectChanges()},e.prototype.updateTokenHelper=function(e){this.ehrFormComponent.updateToken(e)},e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36(i.R0b))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ehr-form-element"]],viewQuery:function(e,t){var n;1&e&&i.Gf(Nd,5),2&e&&i.iGM(n=i.CRH())&&(t.ehrFormComponent=n.first)},inputs:{formMetadata:"formMetadata",resourceUrl:"resourceUrl",credentials:"credentials",context:"context",composition:"composition",compositionId:"compositionId",formEnvironment:"formEnvironment",setTranslation:"setTranslation",validate:"validate",getScriptApi:"getScriptApi",updateToken:"updateToken"},outputs:{onValueChange:"onValueChange",onValidationChange:"onValidationChange",onFormRendered:"onFormRendered",onCompositionSaved:"onCompositionSaved",onFormError:"onFormError",onRequestUpdatedToken:"onRequestUpdatedToken",onPageChanged:"onPageChanged"},features:[i.TTD],decls:1,vars:1,consts:[[3,"form","resourceUrl","credentials","composition","compositionId","context","formEnvironment","onValueChange","onFormRendered","onCompositionSaved","onRequestUpdatedToken","onPageChanged","onFormError",4,"ngIf"],[3,"form","resourceUrl","credentials","composition","compositionId","context","formEnvironment","onValueChange","onFormRendered","onCompositionSaved","onRequestUpdatedToken","onPageChanged","onFormError"],["form",""]],template:function(e,t){1&e&&i.YNc(0,Fd,2,7,"ehr-form-renderer",0),2&e&&i.Q6J("ngIf",t.formMetadataInput)},directives:[m.O5,Vu],encapsulation:2,changeDetection:0}),e}(),Ud=(n(85997),n(64905),n(86617),n(23811),n(3928),n(51544),n(80465),n(3586),n(79031),n(63510),n(34430),n(60638),n(4053),n(79993),n(3512),n(67019),n(74901),n(44493),n(28626),n(73466),n(30128),n(52813),function(){function e(e){this.authService=e}return e.prototype.intercept=function(e,t){var n=this;return t.handle(e).pipe((0,d.K)(function(r){if(r&&401===r.status&&n.authService.getAuthType()===ru.VE.OAUTH2){n.authService.requestNewToken.next();var i=(0,l.of)(r).pipe((0,h.g)(5e3),(0,f.w)(function(e){return(0,u._)(function(){return e})})),o=n.authService.credentialsUpdated.pipe((0,p.q)(1),(0,f.w)(function(){return t.handle(n.updateRequestHeaders(e))}));return(0,c.S)(i,o)}return(0,u._)(function(){return r})}))},e.prototype.updateRequestHeaders=function(e){var t=this.authService.getHeaders().get("Authorization");return t?e.clone({setHeaders:{Authorization:t}}):e},e.\u0275fac=function(t){return new(t||e)(i.LFG(uu.e))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}()),Bd=n(98288),Gd=n(57285),Hd=n(92593),qd=n(88879),jd=n(87428),Yd=n(81336),Jd={schedule:function(e,t){var n=setTimeout(e,t);return function(){return clearTimeout(n)}},scheduleBeforeRender:function(e){if("undefined"==typeof window)return Jd.schedule(e,0);if(void 0===window.requestAnimationFrame)return Jd.schedule(e,16);var t=window.requestAnimationFrame(e);return function(){return window.cancelAnimationFrame(t)}}};function zd(e,t,n){var r=n;return function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some(function(t,n){return!("*"===t||!function(e,t){if(!Ld){var n=Element.prototype;Ld=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&Ld.call(e,t)}(e,t)||(r=n,0))}),r}var Qd=function(){function e(t,n){(0,Bd.Z)(this,e),this.componentFactory=n.get(i._Vd).resolveComponentFactory(t)}return(0,Gd.Z)(e,[{key:"create",value:function(e){return new Wd(this.componentFactory,e)}}]),e}(),Wd=function(){function e(t,n){(0,Bd.Z)(this,e),this.componentFactory=t,this.injector=n,this.eventEmitters=new Vl.t(1),this.events=this.eventEmitters.pipe((0,f.w)(function(e){return b.T.apply(void 0,(0,Yd.Z)(e))})),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(function(e){return e.propName})),this.ngZone=this.injector.get(i.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(function(){return Zone.current})}return(0,Gd.Z)(e,[{key:"connect",value:function(e){var t=this;this.runInZone(function(){if(null!==t.scheduledDestroyFn)return t.scheduledDestroyFn(),void(t.scheduledDestroyFn=null);null===t.componentRef&&t.initializeComponent(e)})}},{key:"disconnect",value:function(){var e=this;this.runInZone(function(){null!==e.componentRef&&null===e.scheduledDestroyFn&&(e.scheduledDestroyFn=Jd.schedule(function(){null!==e.componentRef&&(e.componentRef.destroy(),e.componentRef=null,e.viewChangeDetectorRef=null)},10))})}},{key:"getInputValue",value:function(e){var t=this;return this.runInZone(function(){return null===t.componentRef?t.initialInputValues.get(e):t.componentRef.instance[e]})}},{key:"setInputValue",value:function(e,t){var n=this;this.runInZone(function(){var r,i;null!==n.componentRef?((r=t)!==(i=n.getInputValue(e))&&(r==r||i==i)||void 0===t&&n.unchangedInputs.has(e))&&(n.recordInputChange(e,t),n.unchangedInputs.delete(e),n.hasInputChanges=!0,n.componentRef.instance[e]=t,n.scheduleDetectChanges()):n.initialInputValues.set(e,t)})}},{key:"initializeComponent",value:function(e){var t=i.zs3.create({providers:[],parent:this.injector}),n=function(e,t){var n=e.childNodes,r=t.map(function(){return[]}),i=-1;t.some(function(e,t){return"*"===e&&(i=t,!0)});for(var o=0,a=n.length;o<a;++o){var s=n[o],l=zd(s,t,i);-1!==l&&r[l].push(s)}return r}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,n,e),this.viewChangeDetectorRef=this.componentRef.injector.get(i.sBO),this.implementsOnChanges="function"==typeof this.componentRef.instance.ngOnChanges,this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(i.z2F).attachView(this.componentRef.hostView)}},{key:"initializeInputs",value:function(){var e=this;this.componentFactory.inputs.forEach(function(t){var n=t.propName;e.initialInputValues.has(n)&&e.setInputValue(n,e.initialInputValues.get(n))}),this.initialInputValues.clear()}},{key:"initializeOutputs",value:function(e){var t=this.componentFactory.outputs.map(function(t){var n=t.templateName;return e.instance[t.propName].pipe((0,E.U)(function(e){return{name:n,value:e}}))});this.eventEmitters.next(t)}},{key:"callNgOnChanges",value:function(e){if(this.implementsOnChanges&&null!==this.inputChanges){var t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}}},{key:"markViewForCheck",value:function(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}},{key:"scheduleDetectChanges",value:function(){var e=this;this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Jd.scheduleBeforeRender(function(){e.scheduledChangeDetectionFn=null,e.detectChanges()}))}},{key:"recordInputChange",value:function(e,t){if(this.implementsOnChanges){null===this.inputChanges&&(this.inputChanges={});var n=this.inputChanges[e];if(n)n.currentValue=t;else{var r=this.unchangedInputs.has(e),o=r?void 0:this.getInputValue(e);this.inputChanges[e]=new i.WD2(o,t,r)}}}},{key:"detectChanges",value:function(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}},{key:"runInZone",value:function(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}]),e}(),Kd=function(e){(0,Hd.Z)(n,e);var t=(0,qd.Z)(n);function n(){var e;return(0,Bd.Z)(this,n),(e=t.apply(this,arguments)).ngElementEventsSubscription=null,e}return(0,Gd.Z)(n)}((0,jd.Z)(HTMLElement));function Xd(e,t){var n=function(e,t){return t.get(i._Vd).resolveComponentFactory(e).inputs}(e,t.injector),r=t.strategyFactory||new Qd(e,t.injector),o=function(e){var t={};return e.forEach(function(e){var n,r=e.propName;t[(n=e.templateName,n.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())}))]=r}),t}(n),a=function(e){(0,Hd.Z)(a,e);var i=(0,qd.Z)(a);function a(e){var t;return(0,Bd.Z)(this,a),(t=i.call(this)).injector=e,t}return(0,Gd.Z)(a,[{key:"ngElementStrategy",get:function(){var e=this;if(!this._ngElementStrategy){var i=this._ngElementStrategy=r.create(this.injector||t.injector);n.forEach(function(t){var n=t.propName;if(e.hasOwnProperty(n)){var r=e[n];delete e[n],i.setInputValue(n,r)}})}return this._ngElementStrategy}},{key:"attributeChangedCallback",value:function(e,t,n,r){this.ngElementStrategy.setInputValue(o[e],n)}},{key:"connectedCallback",value:function(){var e=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),e=!0),this.ngElementStrategy.connect(this),e||this.subscribeToEvents()}},{key:"disconnectedCallback",value:function(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}},{key:"subscribeToEvents",value:function(){var e=this;this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(function(t){var n=function(e,t,n){if("function"!=typeof CustomEvent){var r=e.createEvent("CustomEvent");return r.initCustomEvent(t,!1,!1,n),r}return new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:n})}(e.ownerDocument,t.name,t.value);e.dispatchEvent(n)})}}]),a}(Kd);return a.observedAttributes=Object.keys(o),n.forEach(function(e){var t=e.propName;Object.defineProperty(a.prototype,t,{get:function(){return this.ngElementStrategy.getInputValue(t)},set:function(e){this.ngElementStrategy.setInputValue(t,e)},configurable:!0,enumerable:!0})}),a}new i.GfV("12.0.2");var $d=function(){function e(t,n){(0,Bd.Z)(this,e),this.strategy=t,this.injector=n,this.ngZone=this.injector.get(i.R0b),this.strategy.events&&(this.events=this.strategy.events)}return(0,Gd.Z)(e,[{key:"connect",value:function(e){var t=this;this.runInZone(function(){t.strategy.connect(e)}),this.events||(this.events=this.strategy.events)}},{key:"disconnect",value:function(){var e=this;this.runInZone(function(){e.strategy.disconnect()})}},{key:"getInputValue",value:function(e){var t=this;return this.runInZone(function(){return t.strategy.getInputValue(e)})}},{key:"setInputValue",value:function(e,t){var n=this;this.runInZone(function(){n.strategy.setInputValue(e,t)})}},{key:"runInZone",value:function(e){return this.ngZone.run(e)}}]),e}(),eh=function(){var e=function(){function e(t,n){(0,Bd.Z)(this,e),this.component=t,this.injector=n,this.ngElement=Xd(this.component,{injector:this.injector}),customElements.define(this.generateName(),this.ngElement)}return(0,Gd.Z)(e,[{key:"string4",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateName",value:function(){var t="dummy-name-n";return t=t+(e.counter+"-")+this.string4()+this.string4()+this.string4()+"-"+this.string4()+this.string4()+"-"+this.string4(),e.counter++,t}},{key:"create",value:function(e){var t=new this.ngElement(this.injector),n=t.ngElementStrategy;return t=null,new $d(n,this.injector)}}]),e}();return e.counter=1,e}(),th=[{language:"ru",keys:{"validation.required":"rObvezno polje"}}],nh=function(){function e(e){this.injector=e}return e.prototype.ngDoBootstrap=function(){var e=new eh(Zd,this.injector),t=Xd(Zd,{injector:this.injector,strategyFactory:e});customElements.define("form-renderer",t)},e.\u0275fac=function(t){return new(t||e)(i.LFG(i.zs3))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[{provide:s.TP,useClass:Ud,multi:!0},uu.e,vn._,Cn],imports:[[o.u5,r.b2,o.UX,s.JF,x.aw.forRoot(),Rd.forRoot({translations:th}),a.XC,a._A]]}),e}();(0,i.G48)(),r.q6().bootstrapModule(nh).catch(function(e){return console.error(e)})},44432:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var r=function(){return function(){}}()},9383:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(41852),i=n(52813),o=function(){function e(e){this.theme=i.p.DEFAULT,this.presentationMode=!1,this.showAllPages=!1,this.dateFormat=r.f.FORMAT_L,this.validationDisabled=!1,this.showNumericRangePlaceholder=!1,this.disableFormScript=!1,this.textareaAutosize=!1,this.disableScriptRunOnInitialization=!1,this.loadLastVersionValues=!1,e&&(this.language=e.language,e.hasOwnProperty("readonly")&&(this.readonly=!!e.readonly),e.hasOwnProperty("presentationMode")&&(this.presentationMode=!!e.presentationMode),e.hasOwnProperty("theme")&&(this.theme=e.theme),e.hasOwnProperty("showAllPages")&&(this.showAllPages=!!e.showAllPages),this.terminologyUrl=e.terminologyUrl,this.territory=e.territory,this.dateFormat=e.dateFormat&&""!==e.dateFormat?e.dateFormat:r.f.FORMAT_L,this.timePlaceholder=e.timePlaceholder,this.datePlaceholder=e.datePlaceholder,this.showNumericRangePlaceholder=!!e.showNumericRangePlaceholder,this.uploadUrl=e.uploadUrl,this.dropdownPresentationMinItems=e.dropdownPresentationMinItems,this.displayValidationMessagesOnTouched=!!e.displayValidationMessagesOnTouched,this.validationDisabled=!!e.validationDisabled,e.disableFormScript&&(this.disableFormScript=e.disableFormScript),null!=e.loadLastVersionValues&&(this.loadLastVersionValues=e.loadLastVersionValues),this.textareaAutosize=!!e.textareaAutosize,this.disableScriptRunOnInitialization=!!e.disableScriptRunOnInitialization,this.submissionType=e.submissionType)}return Object.defineProperty(e.prototype,"locale",{get:function(){return this.language},set:function(e){var t=e.split("-");this.language=t[0]},enumerable:!1,configurable:!0}),e}()},29748:function(e,t,n){"use strict";n.d(t,{G:function(){return s}});var r=n(97425),i=n(9383),o=n(35322),a=n(70468),s=function(){function e(e){this.translateService=e,this._formContext=new r.X(new i.d({}))}return e.prototype.initializeFormContextDataFromDescription=function(e,t){var n=this.getFormContextValue(),r=!1;return!n.terminologyUrl&&t&&(r=!0,n.terminologyUrl=t),!n.language&&e&&(r=!0,n.language=e),n.language&&this.translateService.langs.indexOf(n.language)>-1&&this.translateService.use(n.language),r&&this.setFormContext(n),n},e.prototype.getFormContext=function(){return this._formContext},e.prototype.getFormContextValue=function(){return this._formContext.getValue()},e.prototype.isLoadLastVersionValues=function(){return this.getFormContextValue().loadLastVersionValues},e.prototype.getFormSubmissionType=function(){return this.getFormContextValue().submissionType},e.prototype.setFormContext=function(e){this._formContext.next(e)},Object.defineProperty(e.prototype,"currentLanguage",{get:function(){var e=this.getFormContextValue();return e?e.language:null},enumerable:!1,configurable:!0}),e.prototype.refreshFormContext=function(){this._formContext.next(this.getFormContextValue())},e.prototype.isPresentationModeEnabled=function(){var e;return!!(null===(e=this.getFormContextValue())||void 0===e?void 0:e.presentationMode)},e.\u0275fac=function(t){return new(t||e)(o.LFG(a.sK))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e}()},49929:function(e,t,n){"use strict";n.d(t,{D8:function(){return o},j8:function(){return a}});var r=n(35322),i=n(73466),o=new r.OlP("FormScriptApiTkn"),a={provide:o,useFactory:function(e){return e.get(i.hd,new i.hd(e))},deps:[r.zs3]}},73466:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{hd:function(){return ScriptApi},BV:function(){return ModelScriptExecutor}});var tslib__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(64762),_angular_core__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(35322),rxjs__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(79969),_ehr_model_model_fieldModel_CodeValueBasedFieldModel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22410),_ehr_model_model_fieldModel_DateTimeFieldModel__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87974),_ehr_model_model_fieldModel_DateFieldModel__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57490),_ehr_model_model_fieldModel_ProportionFieldModel__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24309),_ehr_model_model_fieldModel_TimeFieldModel__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(62118),rxjs_operators__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(54444),_EhrFormState__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(29748),_ehr_model_parsing_ModelParser__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16947),_ehr_model_observable__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(76984),_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(33989),_better_studio_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1954),_ehr_model_model_NodeModel__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(28148),_ehr_model_model_GenericButtonModel__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(79031),_angular_forms__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(16073),_platform_api_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(70299),_external_api_service__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(96174),_form_data_service__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6728),_forms_dependencies_DependencyScriptGenerator__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(28626),_validation_resolver_service__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(77377),_forms_ehr_form_components_FormRendererErrors__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(89896),_forms_dependencies_ExpressionTokenConstants__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(82013),_forms_ehr_form_components_utils_EhrLayoutHelper__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(92305),_ehr_model_model_fieldModel_ExternalWidgetModel__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(34950),_model_store_service__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(99275),_aql_execution_helper_service__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(37634),_data_source_data_source_service__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(87394),_shared_api_response_util__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(27192),_ehr_model_model_fieldModel_CodedTextFieldModel__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(85997),_ehr_model_model_fieldModel_TextFieldModel__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(1724),_ehr_model_model_GenericStackedListModel__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(83981),_better_widget_configuration__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(13705),ScriptApi=function(){function ScriptApi(e){this.injector=e}return ScriptApi.prototype.exeFormScript=function(forModel){var _this=this;if(!this.injector.get(_EhrFormState__WEBPACK_IMPORTED_MODULE_5__.G).getFormContextValue().disableFormScript){var api=new ModelScriptExecutor(forModel,this.injector),ehrFormScriptArr=forModel.getFormScript();if(ehrFormScriptArr=this.evaluateDependencies(forModel,ehrFormScriptArr),!ehrFormScriptArr||!ehrFormScriptArr.length)return api;var window=void 0,self=void 0,parent=void 0,document=void 0;ehrFormScriptArr=ehrFormScriptArr.map(function(e){return _this.isJsonString(e)?JSON.parse(e):e});try{eval(ehrFormScriptArr.join(";"))}catch(e){var error_1=new _forms_ehr_form_components_FormRendererErrors__WEBPACK_IMPORTED_MODULE_16__.F(forModel.formId,e.message);setTimeout(function(){throw error_1})}return api}},ScriptApi.prototype.isJsonString=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},ScriptApi.prototype.evaluateDependencies=function(e,t){var n=e.getFieldDependency();if(n){var r=e.findMultiAncestor(),i=r?r.getFormId():"",o=_forms_dependencies_DependencyScriptGenerator__WEBPACK_IMPORTED_MODULE_14__.J.toFormScript(n,this.injector,i);o&&t.push(o)}return t},ScriptApi.\u0275fac=function(e){return new(e||ScriptApi)(_angular_core__WEBPACK_IMPORTED_MODULE_27__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_27__.zs3))},ScriptApi.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_27__.Yz7({token:ScriptApi,factory:ScriptApi.\u0275fac}),ScriptApi}(),ModelScriptExecutor=function(){function e(e,t){var n=this;this._forModel=e,this._injector=t,this._subscriptionArr=[],this.subscriptionsByIdAndType=new Map,this.addListenerForVariable=function(e,t,r){var i,o=n._formEnvironment.getVariable(e),a=[];a.push(n._ehrModelObservable.fromEvent(o,_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.X4$[t],o,!0).subscribe(function(){r({id:o.id,name:o.name,source:o.source,type:o.type,value:o.value})})),(i=n._subscriptionArr).push.apply(i,(0,tslib__WEBPACK_IMPORTED_MODULE_28__.ev)([],(0,tslib__WEBPACK_IMPORTED_MODULE_28__.CR)(a)))},this.addListener=function(e,t,r,i){var o=new ScriptApiListenerOptions(i);return n.onEvent(_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.X4$[t],e,r,o.searchWithinContainer,o.onInitialValueSet)},this.removeListener=function(e,t){var r=n.subscriptionsByIdAndType.get(e);if(r){var i=r.get(_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.X4$[t]);i&&(i.forEach(function(e){return e.unsubscribe()}),n.removeSubscriptionsByIdAndType(e,_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.X4$[t]))}else console.warn("listener for field with tag or path "+e+" does not exists!")},this.destroy=function(){n._subscriptionArr.forEach(function(e){e.unsubscribe()})},this.getFieldModel=function(e,t,r){var i=n.getModelsForIdentifier(e,t,r);return 1===i.length?n.formatFieldValue(e,i[0]):i.length>1?i.map(function(t){return n.formatFieldValue(e,t)}):void 0},this.getValueRef=function(e,t,r){var i=n.getModelsForIdentifier(e,t,r);return 1===i.length?{name:e,type:i[0].getRmType(),value:i[0].valueNodeRef,aqlPath:i[0].getPath(),isContainer:i[0].isContainer(),isReadOnly:n._formState.getFormContextValue().readonly||i[0].getViewConfig().isReadOnly()}:i.length>1?i.map(function(t){return{name:e,type:t.getRmType(),value:t.valueNodeRef,aqlPath:t.getPath(),isContainer:t.isContainer(),isReadOnly:n._formState.getFormContextValue().readonly||t.getViewConfig().isReadOnly()}}):void 0},this.validateElement=function(e,t,r,i){var o=n.getModelsForIdentifier(e,t,r),a=[];return o.forEach(function(e){a=Array.from(n._modelStoreService.getModelControls(e.formId)).map(function(e){return n._validationResolver.validate(e,e instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_29__.cw?n._modelStoreService.getControlName(e):null,void 0===i||i)})}),a.every(function(e){return e.valid})},this.isElementValid=function(e,t,r){return n.validateElement(e,t,r,!1)},this.validatePage=function(e){return n._formDataService.isPageValid(e)},this.isPageValid=function(e){return n._formDataService.isPageValid(e,!1)},this.getOrdinalNumberValue=function(e,t,r){var i=n.getModelsForIdentifier(e,t,r);if(1===i.length){var o=i[0].getValue();if(0===o.length)return;if(1===o.length)return o[0]["|ordinal"];n.printSingleValueError("getOrdinalNumberValue()",e)}else i.length>1&&n.printSingleModelError("getOrdinalNumberValue()",e)},this.getScaleNumberValue=function(e,t,r){var i=n.getModelsForIdentifier(e,t,r);if(1===i.length){var o=i[0].getValue();if(0===o.length)return;if(1===o.length)return o[0]["|scale"];n.printSingleValueError("getScaleNumberValue()",e)}else i.length>1&&n.printSingleModelError("getScaleNumberValue()",e)},this.getFieldValue=function(e,t,r,i,o){void 0===t&&(t=0),void 0===o&&(o=!0);var a=n.getModelsForIdentifier(e,r,i);if(1===a.length){var s=n.formatFieldValue(e,a[0]),l=s.value&&s.value.length?s.value[t]:void 0,u=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O[s.type],c=u===_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O.DV_QUANTITY&&null===(null==l?void 0:l.unit)&&(null==(null==l?void 0:l.magnitude)||Number.isNaN(l.magnitude)),d=u===_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O.DV_BOOLEAN&&null==l,h=u===_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O.DV_IDENTIFIER&&null===(null==l?void 0:l.id)&&null===(null==l?void 0:l.value);if(a[0].isContainer()&&(null==s?void 0:s.value)&&s.value.length>0)return s.value;if(void 0===l||d||c||h)return;return o&&[_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O.DV_CODED_TEXT,_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O.GENERIC_CODED_TEXT].includes(u)?l.label:l}a.length>1&&n.printSingleModelError("getValue()",e)},this.getFieldSearchValue=function(e,t,r,i){void 0===t&&(t=0);var o=n.getModelsForIdentifier(e,r,i);if(1===o.length)return o[0].searchInput;o.length>1&&n.printSingleModelError("getValue()",e)},this.getTerminologySelectedValues=function(e,t,r){var i=n.getModelsForIdentifier(e,t,r);if(1===i.length)return i[0].getTerminologySelectedValues();i.length>1&&n.printSingleModelError("getValue()",e)},this.setFieldValue=function(e,t,r,i,o,a){void 0===r&&(r="value"),void 0===i&&(i=0),n.forEachModelByTagOrPath(e,function(e){e.setPropertyValue(r,t,i)},o,a)},this.setTerminologyParameter=function(e,t,r,i,o){n.forEachModelByTagOrPath(e,function(e){e.getViewConfig().setDatasourceParam(t,r)},i,o)},this.setCodedTextFieldByLabel=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){e instanceof _ehr_model_model_fieldModel_CodeValueBasedFieldModel__WEBPACK_IMPORTED_MODULE_0__.y&&e.setPropertyValue("label",t,void 0)},r,i)},this.setOrdinalFieldByLabel=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){e instanceof _ehr_model_model_fieldModel_CodeValueBasedFieldModel__WEBPACK_IMPORTED_MODULE_0__.y&&e.setPropertyValue("label",t,void 0)},r,i)},this.setScaleFieldByLabel=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){e instanceof _ehr_model_model_fieldModel_CodeValueBasedFieldModel__WEBPACK_IMPORTED_MODULE_0__.y&&e.setPropertyValue("label",t,void 0)},r,i)},this.setProportionField=function(e,t,r,i,o,a){void 0===i&&(i=0),n.forEachModelByTagOrPath(e,function(e){e instanceof _ehr_model_model_fieldModel_ProportionFieldModel__WEBPACK_IMPORTED_MODULE_3__.V&&(e.numeratorValue(t,i),e.denominatorValue(r,i))},o,a)},this.setDateField=function(e,t,r,i,o,a,s){void 0===o&&(o=0),n.forEachModelByTagOrPath(e,function(e){e instanceof _ehr_model_model_fieldModel_DateFieldModel__WEBPACK_IMPORTED_MODULE_2__.l&&e.dateValue(t+"-"+r+"-"+i,o)},a,s)},this.setDateTimeField=function(e,t,r,i,o,a,s,l,u){void 0===s&&(s=0),n.forEachModelByTagOrPath(e,function(e){e instanceof _ehr_model_model_fieldModel_DateTimeFieldModel__WEBPACK_IMPORTED_MODULE_1__.Y&&e.setDateTime(t,r,i,o,a,s)},l,u)},this.setTimeField=function(e,t,r,i,o,a){void 0===i&&(i=0),n.forEachModelByTagOrPath(e,function(e){e instanceof _ehr_model_model_fieldModel_TimeFieldModel__WEBPACK_IMPORTED_MODULE_4__.m&&e.timeValue(t+":"+r,i)},o,a)},this.resetFormElement=function(e,t,r){n.forEachModelByTagOrPath(e,function(e){e.resetValue()},t,r)},this.setMaxMultiplicity=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){return e.setMax(t)},r,i)},this.setMultiplicity=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){e.setMax(t),e.setMin(t)},r,i)},this.setAnnotation=function(e,t,r,i,o){n.forEachModelByTagOrPath(e,function(e){e.setAnnotationValue(t,r)},i,o)},this.removeAnnotation=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){e.removeAnnotation(t)},r,i)},this.getAnnotations=function(e,t,r){return n.getModelsForIdentifier(e,t,r).map(function(e){return{aqlPath:e.getPath(),formId:e.formId,annotations:_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.G1o.deepClone(e.getAnnotations())}})},this.setMinMultiplicity=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){e.setMin(t)},r,i)},this.clearFormElement=function(e,t){var r;n.forEachModelByTagOrPath(e,function(e){"value"!==r.prop&&null!=r.prop?e.setPropertyValue(r.prop,null,r.containerMultiIndex):e.clearValue()},(r="string"==typeof t?{prop:void 0,searchWithinContainerTag:t}:null==t?{prop:void 0,searchWithinContainerTag:void 0,containerMultiIndex:void 0}:t).searchWithinContainerTag,r.containerMultiIndex)},this.hideFormElement=function(e,t,r){n.forEachModelByTagOrPath(e,function(e){e.getViewConfig().setHidden(!0)},t,r)},this.showFormElement=function(e,t,r){n.forEachModelByTagOrPath(e,function(e){e.getViewConfig().setHidden(!1)},t,r)},this.enableFormElement=function(e,t,r){n.forEachModelByTagOrPath(e,function(e){e.setReadOnly(!1)},t,r)},this.disableFormElement=function(e,t,r){n.forEachModelByTagOrPath(e,function(e){e.setReadOnly(!0)},t,r)},this.requireFormElement=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){e.setMin&&e.setMin(t?1:0)},r,i)},this.getFieldPosition=function(e,t,r){var i=n.getModelsForIdentifier(e,t,r);if(1===i.length)return i[0].getChildIndex();i.length>1&&n.printSingleModelError("getFieldPosition()",e)},this.removeModel=function(e,t,r){n.forEachModelByTagOrPath(e,function(e){e.destroy()},t,r)},this.removeValue=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){var n=[_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O.DV_ORDINAL,_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O.DV_SCALE,_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O.GENERIC_ORDINAL,_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O.DV_CODED_TEXT,_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O.GENERIC_CODED_TEXT,_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O.DV_TEXT,_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.B8O.GENERIC_INPUT_TEXT];n.includes(e.getRmType())?e.removeValue(""+t):console.warn('Value can not be removed on rm type "'+e.getRmType()+'". Available types for removing value are '+n.join(", ")+".")},r,i)},this.setCodedTextInputs=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){e instanceof _ehr_model_model_fieldModel_CodeValueBasedFieldModel__WEBPACK_IMPORTED_MODULE_0__.y&&t.forEach(function(t){e.addCodedTextInputItem(t)})},r,i)},this.addCodedTextInput=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){e instanceof _ehr_model_model_fieldModel_CodeValueBasedFieldModel__WEBPACK_IMPORTED_MODULE_0__.y&&e.addCodedTextInputItem(t)},r,i)},this.removeCodedTextInput=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){e instanceof _ehr_model_model_fieldModel_CodeValueBasedFieldModel__WEBPACK_IMPORTED_MODULE_0__.y&&e.removeCodedTextInputItem(t)},r,i)},this.addFormElementInput=function(e,t,r,i,o){n.forEachModelByTagOrPath(e,function(e){void 0!==e.addInputItem&&e.addInputItem(t,r)},i,o)},this.removeFormElementInput=function(e,t,r,i){n.forEachModelByTagOrPath(e,function(e){(e instanceof _ehr_model_model_fieldModel_TextFieldModel__WEBPACK_IMPORTED_MODULE_24__.A||e instanceof _ehr_model_model_fieldModel_CodedTextFieldModel__WEBPACK_IMPORTED_MODULE_23__.$)&&e.removeInputItem(t)},r,i)},this.toggleElement=function(e,t,r){var i=n._formState.isPresentationModeEnabled();n.forEachModelByTagOrPath(e,function(e){e.getViewConfig().setHidden(!e.getViewConfig().isHidden(!1,i))},t,r)},this.duplicateModel=function(e,t,r){var i,o=n.getModelsForIdentifier(e,t,r),a=o[o.length-1],s=a&&a.isMulti()&&_forms_ehr_form_components_utils_EhrLayoutHelper__WEBPACK_IMPORTED_MODULE_17__.D.getMultiSiblingsCount(a)===a.getMax();return a&&a.isContainer()?s?console.warn("Maximum number of containers is already rendered"):i=n._modelParser.duplicateModel(a):a?console.warn("Duplicate model is only supported for containers."):console.error("model with identifier "+e+" was not found"),{duplicatedModel:i,modelIndex:i&&i.getMultiIndex()}},this.getVariable=function(e){return n._formEnvironment.getVariable(e)},this.setVariableValue=function(e,t){var r=n._formEnvironment.getVariable(e);if(r)return r.setValue(t),r},this.setFormLanguage=function(e){var t=n._formState.getFormContextValue();t.language=e,n._formEnvironment.getEnvironment().replaceVariable(new _better_studio_common__WEBPACK_IMPORTED_MODULE_8__.$UT(_model__WEBPACK_IMPORTED_MODULE_7__.EV.FORM_LANGUAGE).setSource(_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.hkZ.STATIC).setValue(e).build()),n._formState.setFormContext(t)},this.callExternalApi=function(e,t,r,i,o){return void 0===r&&(r=!1),(0,tslib__WEBPACK_IMPORTED_MODULE_28__.mG)(n,void 0,void 0,function(){var n,a;return(0,tslib__WEBPACK_IMPORTED_MODULE_28__.Jh)(this,function(s){return t.customValueSet&&!t.url?[2,Promise.resolve(t.customValueSet)]:(n=(null===(a=this._forModel.getDataSource())||void 0===a?void 0:a.pathParameters)||{},i&&Object.keys(i).length&&(n=i),[2,this._externalApiService.callExternalApi(this._forModel,e,t,{pathParameters:n,dynamicParams:null==t?void 0:t.dynamicParams,requestParameters:o,force:r})])})})},this.callApi=function(e,t){return(0,tslib__WEBPACK_IMPORTED_MODULE_28__.mG)(n,void 0,void 0,function(){var n,r;return(0,tslib__WEBPACK_IMPORTED_MODULE_28__.Jh)(this,function(i){switch(i.label){case 0:return(n=this._formEnvironment.getExternalApis().find(function(t){return t.name===e}))?(r=n.calls.find(function(e){return e.name===t}))?[4,this.callExternalApi(n,r,!0)]:[2,Promise.reject({error:"api call does not exists"})]:[2,Promise.reject({error:"api does not exists"})];case 1:return[2,i.sent()]}})})},this.extractDataFromApiResponse=function(e,t){return _shared_api_response_util__WEBPACK_IMPORTED_MODULE_22__.h.extractValueFromApiResponse(e,t)},this.executeAql=function(e,t){try{var r=t;return t||(r=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.getAqlParameters(e)),n._aqlExecutionHelperService.evaluateParameters(r,n._forModel).then(function(t){var r=[];return Object.keys(t).forEach(function(e){return r.push([e,t[e]])}),n._aqlExecutionHelperService.getAqlQueryResult(e,n._forModel,r).catch(function(e){n.runTaskInNgZone(new _forms_ehr_form_components_FormRendererErrors__WEBPACK_IMPORTED_MODULE_16__.F("AQL query",e.error.exceptionMessage),!0)})})}catch(i){return n.runTaskInNgZone(i,!0),Promise.reject(i)}},this.setFieldValuesFromAqlResultSet=function(e,t,r){var i,o=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.getSelectionAqls(e),a=0,s=null===(i=null==r?void 0:r.executionContext)||void 0===i?void 0:i.field;s&&(a=o.findIndex(function(t){return t===s||e.indexOf(t+"["+s)>-1})),n.setAqlModelValues(t,a,r,r&&r.value&&r.value.suffix)},this.getComposition=function(){return n._forModel.getRootModel().valueNodeRef},this.getFormInfo=function(){var e=n._formDataService.getForm(),t=n._formDataService.getRelatedTemplates(n._formDataService.getActivePage().id);return{name:e.name,version:e.version,templateId:e.templateId,relatedTemplates:t,tags:e.tags}},this.getValueForGivenAqlFromAqlResultSet=function(e,t,r,i){var o=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.unescapeString(e)||"",a=(0,tslib__WEBPACK_IMPORTED_MODULE_28__.CR)(o.split(_forms_dependencies_ExpressionTokenConstants__WEBPACK_IMPORTED_MODULE_30__.y.nameDelimiter),2),s=a[0],l=a[1];if(null==(null==t?void 0:t.aql))return null;var u=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.getAliases(_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.getFullSelections(t.aql)).reduce(function(e,t,n){var r,i;return(t.alias===l&&(null===(r=t.aql)||void 0===r?void 0:r.endsWith(s))||(null===(i=t.alias)||void 0===i?void 0:i.endsWith(s)))&&e.push(n),e},[]);if((null==u?void 0:u.length)>1)console.warn('Multiple results relates to the same aql "'+s+'", please provide aliases to query to differentiate them.');else{var c=u[0],d=t.resultSet;if(d&&d.length){d.length>1&&console.warn("AQL returns more than one result, all results except FIRST will be omitted!");var h,f=d[0],p=Object.keys(f)[c>-1?c:0],m=n.getModelsForIdentifier(i);if(0===m.length)return _better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.resolveValue(f[p],r);var v=m[0];if(v.isContainer())return t;var g=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.getResultValues(f[p]);if((null==g?void 0:g.length)>1){var y=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.findRelevantResult(g.length?g:f[p],v);h=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.resolveValue(y&&y.value,r)}else h=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.resolveValue(f[p],r);return h}console.warn("No results found for given AQL!")}},this.runTaskInNgZone=function(e,t){n._ngZone.runTask(function(){if(t)throw e})},this.getAqlView=function(e){return n._aqlExecutionHelperService.getAqlView(e)},this.getViewResult=function(e,t){var r,i={};return t.forEach(function(e){var t;return i[e.name]=(null===(t=n._formEnvironment.getVariable(e.name))||void 0===t?void 0:t.value)||""}),i[_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.XF1.EHR_ID]=null===(r=n._formEnvironment.getVariable(_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.XF1.EHR_ID))||void 0===r?void 0:r.value,n._aqlExecutionHelperService.getAqlViewResult({name:e,parameters:i})},this.setWidgetConfig=function(e,t){var r=n.getModelsForIdentifier(e);null==r||r.forEach(function(e){e instanceof _ehr_model_model_fieldModel_ExternalWidgetModel__WEBPACK_IMPORTED_MODULE_18__.x&&n._widgetConfigStore.setWidgetConfig(e.getFormId(),t)})},this.refreshData=function(e,t){var r=n.getModelsForIdentifier(e,t);null==r||r.forEach(function(e){return(0,tslib__WEBPACK_IMPORTED_MODULE_28__.mG)(n,void 0,void 0,function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_28__.Jh)(this,function(t){switch(t.label){case 0:return _better_studio_common__WEBPACK_IMPORTED_MODULE_8__.jYl.isExternalWidget(e.getRmType())?(e.refreshData(),[3,3]):[3,1];case 1:return[4,this.refreshDatasource(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})})},this.disableValue=function(e,t){n.forEachModelByTagOrPath(e,function(e){return(0,tslib__WEBPACK_IMPORTED_MODULE_28__.mG)(n,void 0,void 0,function(){var n,r,i,o,a,s,l,u;return(0,tslib__WEBPACK_IMPORTED_MODULE_28__.Jh)(this,function(c){switch(c.label){case 0:return e instanceof _ehr_model_model_fieldModel_CodeValueBasedFieldModel__WEBPACK_IMPORTED_MODULE_0__.y?(n=void 0,r=e.getDataSource(),(null===(s=e._getCodeInput())||void 0===s?void 0:s.list.length)||!(null==r?void 0:r.isValid())?[3,2]:[4,this._datasourceService.getDataSource(r,e)]):[3,4];case 1:return n=c.sent(),[3,3];case 2:n=null===(l=e._getCodeInput())||void 0===l?void 0:l.list,c.label=3;case 3:(i=null===(u=null==n?void 0:n.find(function(e){return e.value===t+""}))||void 0===u?void 0:u.value)||console.warn("Cannot disable value! Code '"+t+"' is not part of the provided dataset!"),(o=e.getViewConfig().field)||(e.getViewConfig().field={}),o[i]?o[i].disabled=!0:((a=new _better_studio_common__WEBPACK_IMPORTED_MODULE_8__.gNt).disabled=!0,o[i]=a),e.dispatchEvent(_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.X4$.INPUT_ITEMS_UPDATED,n),c.label=4;case 4:return[2]}})})})},this.enableValue=function(e,t){n.forEachModelByTagOrPath(e,function(e){return(0,tslib__WEBPACK_IMPORTED_MODULE_28__.mG)(n,void 0,void 0,function(){var n,r,i,o,a,s,l,u;return(0,tslib__WEBPACK_IMPORTED_MODULE_28__.Jh)(this,function(c){switch(c.label){case 0:return e instanceof _ehr_model_model_fieldModel_CodeValueBasedFieldModel__WEBPACK_IMPORTED_MODULE_0__.y?(n=void 0,r=e.getDataSource(),i=void 0,(null===(a=e._getCodeInput())||void 0===a?void 0:a.list.length)||!(null==r?void 0:r.isValid())?[3,2]:[4,this._datasourceService.getDataSource(r,e)]):[3,4];case 1:return n=c.sent(),i=null===(s=null==n?void 0:n.find(function(e){return e.value===t+""}))||void 0===s?void 0:s.value,[3,3];case 2:n=null===(l=e._getCodeInput())||void 0===l?void 0:l.list,i=null===(u=null==n?void 0:n.find(function(e){return e.value===t+""}))||void 0===u?void 0:u.value,c.label=3;case 3:(null==(o=e.getViewConfig().field)?void 0:o[i])&&!(null==o?void 0:o[i].hidden)&&delete o[i],e.dispatchEvent(_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.X4$.INPUT_ITEMS_UPDATED,n),c.label=4;case 4:return[2]}})})})},this.setFeederAudit=function(e,t){var r=n._formDataService.getRootTemplateId(n._formDataService.getActivePage().id);if(r){var i=n._formDataService.getComposition(r);Object.keys(i).filter(function(e){return"ctx"!==e}).forEach(function(n){var r;i[n]._feeder_audit||(i[n]._feeder_audit=[]),i[n]._feeder_audit.some(function(t){return Object.keys(t).some(function(t){return t===e})})||i[n]._feeder_audit.push(((r={})[e]=[],r)),i[n]._feeder_audit.find(function(t){return Object.keys(t).some(function(t){return t===e})})[e].push(t)});var o=n._modelStoreService.formForPage.get(n._formDataService.getActivePage().id);o.dispatchEvent(_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.X4$.CHANGE,o)}else console.warn("feeder audit can not be set, because of template can not be found")},this.getFeederAudit=function(){var e=n._formDataService.getRootTemplateId(n._formDataService.getActivePage().id);if(!e)return console.warn("feeder audit can not be returned, because of template can not be found"),[];var t=n._formDataService.getComposition(e),r=Object.keys(t).filter(function(e){return"ctx"!==e}),i=[];return r.forEach(function(e){var n,r=null===(n=t[e])||void 0===n?void 0:n._feeder_audit;r&&i.push({key:e,feederAudit:r})}),i},this.hideAndClear=function(e,t,r){n.forEachModelByTagOrPath(e,function(e){e.getViewConfig().setHidden(!0),e.clearValue()},t,r)},this._injector&&(this._ehrModelObservable=this._injector.get(_ehr_model_observable__WEBPACK_IMPORTED_MODULE_31__.N),this._formEnvironment=this._injector.get(_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.eNT),this._platformApiService=this._injector.get(_platform_api_service__WEBPACK_IMPORTED_MODULE_11__._),this._formState=this._injector.get(_EhrFormState__WEBPACK_IMPORTED_MODULE_5__.G),this._ngZone=this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_27__.R0b),this._externalApiService=this._injector.get(_external_api_service__WEBPACK_IMPORTED_MODULE_12__.F),this._datasourceService=this._injector.get(_data_source_data_source_service__WEBPACK_IMPORTED_MODULE_21__.U),this._formDataService=this._injector.get(_form_data_service__WEBPACK_IMPORTED_MODULE_13__.W),this._modelParser=this._injector.get(_ehr_model_parsing_ModelParser__WEBPACK_IMPORTED_MODULE_6__.K),this._modelStoreService=this._injector.get(_model_store_service__WEBPACK_IMPORTED_MODULE_19__.G),this._validationResolver=this._injector.get(_validation_resolver_service__WEBPACK_IMPORTED_MODULE_15__.r),this._aqlExecutionHelperService=this._injector.get(_aql_execution_helper_service__WEBPACK_IMPORTED_MODULE_20__.q),this._widgetConfigStore=this._injector.get(_better_widget_configuration__WEBPACK_IMPORTED_MODULE_26__.zX))}return e.prototype.setFormSubmissionType=function(e){var t=this._formState.getFormContextValue();t.submissionType=e,this._formState.setFormContext(t)},e.prototype.saveComposition=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=!1),(0,rxjs__WEBPACK_IMPORTED_MODULE_32__.n)(this._formDataService.saveComposition(this._forModel,e,t))},e.prototype.updateComposition=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=!1),(0,rxjs__WEBPACK_IMPORTED_MODULE_32__.n)(this._formDataService.updateComposition(this._forModel,e,t))},e.prototype.goTo=function(e){this._formDataService.setActivePage(e)},e.prototype.setAqlModelValues=function(e,t,n,r){var i=this,o=(null==e?void 0:e.resultSet)||[],a=this.getModelsForIdentifier(n.target);if(a){if(!o||!o.length){var s=a[0];return s.isContainer()?this.setContainerModelValues(s,null,0):s.setPropertyValue(r||"value",null),void console.warn("No results found for given AQL!")}o.forEach(function(e,o){var s=Object.keys(e)[t>-1?t:0];if(0!==a.length){var l=a[o];if(l||(l=i.duplicateModel(a[0].formId).duplicatedModel)){var u=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.getResultValues(e[s]);if(l.isContainer())i.setContainerModelValues(l,u,o);else if(u&&u.length>1)u.map(function(e,t){return _better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.findRelevantResult([u[t]],l)}).map(function(e){return _better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.resolveValue(e&&e.value,r)}).forEach(function(e,t){return l.setPropertyValue(r,e,t)});else{var c=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.resolveValue(e[s],r);l.setPropertyValue(r,c)}}else console.error("model with index "+o+" does not exists")}else{var d=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.resolveValue(e[s],r);i.setFieldValue(n.target,d,r)}})}},e.prototype.collapse=function(e,t,n){this.forEachModelByTagOrPath(e,function(e){e.getViewConfig().setCollapsed(!0)},t,n)},e.prototype.expand=function(e,t,n){this.forEachModelByTagOrPath(e,function(e){e.getViewConfig().setCollapsed(!1)},t,n)},e.prototype.setContainerModelValues=function(e,t,n){var r=this;e.children.forEach(function(i,o){var a,s;if(i.isContainer())r.setContainerModelValues(i,t,n);else{var l=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.zR2.getModelSuffixes(i),u=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.findRelevantResult(t,i);if(t&&(null===(s=null===(a=e.rmType)||void 0===a?void 0:a.toString())||void 0===s?void 0:s.includes("DV_INTERVAL"))&&(u=t[o]),l&&l.length)l.forEach(function(e){var t=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.resolveValue((null==u?void 0:u.value)||u,e);i.setPropertyValue(e,t)});else{var c=_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.pq4.resolveValue((null==u?void 0:u.value)||u);i.setPropertyValue("value",c)}}})},e.prototype.onEvent=function(e,t,n,r,i){var o,a=this;void 0===i&&(i=!0);var s=this.getModelsForIdentifier(t,r),l=[];return s&&s.length&&s.forEach(function(r){var o=a.isListenerShared(r),s=!(r instanceof _ehr_model_model_GenericButtonModel__WEBPACK_IMPORTED_MODULE_10__.G||r instanceof _ehr_model_model_GenericStackedListModel__WEBPACK_IMPORTED_MODULE_25__.f);l.push(a._ehrModelObservable.fromEvent(r,e,r,o).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_33__.T)(i&&!a._formState.getFormContextValue().disableScriptRunOnInitialization?0:1)).subscribe(function(i){var o;[_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.X4$.WIDGET_CONFIG_CHANGE,_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.X4$.WIDGET_OUTPUT_EVENT].includes(e)?o=i:s&&(o=a.formatFieldValue(t,r)),n(o)}))}),this.addSubscriptionsByIdAndType(t,e,l),(o=this._subscriptionArr).push.apply(o,(0,tslib__WEBPACK_IMPORTED_MODULE_28__.ev)([],(0,tslib__WEBPACK_IMPORTED_MODULE_28__.CR)(l))),l},e.prototype.addSubscriptionsByIdAndType=function(e,t,n){var r=this;n.forEach(function(n){if(r.subscriptionsByIdAndType.has(e)){var i=r.subscriptionsByIdAndType.get(e),o=null==i?void 0:i.get(t);o?o.push(n):null==i||i.set(t,[n])}else{var a=(new Map).set(t,[n]);r.subscriptionsByIdAndType.set(e,a)}})},e.prototype.removeSubscriptionsByIdAndType=function(e,t){var n=this.subscriptionsByIdAndType.get(e);n&&n.delete(t),this.subscriptionsByIdAndType.get(e)||this.subscriptionsByIdAndType.delete(e)},e.prototype.forEachModelByTagOrPath=function(e,t,n,r){var i;null===(i=this.getModelsForIdentifier(e,n,r))||void 0===i||i.forEach(t)},e.prototype.formatFieldValue=function(e,t){var n,r=this,i=this._formState.isPresentationModeEnabled();return t.isContainer()?n=t.getChildModels().map(function(e){return r.formatFieldValue(e.id,e)}):t instanceof _ehr_model_model_NodeModel__WEBPACK_IMPORTED_MODULE_9__.X&&(n=t.getPrettyValue(),t instanceof _ehr_model_model_fieldModel_CodeValueBasedFieldModel__WEBPACK_IMPORTED_MODULE_0__.y&&n.forEach(function(e){e.value&&(e.label=e.value,e.value=e.code)})),{name:e,type:t.getRmType(),value:n,isHidden:t.getViewConfig().isHidden(!1,i),isReadOnly:this._formState.getFormContextValue().readonly||t.getViewConfig().isReadOnly(),aqlPath:t.getPath(),isContainer:t.isContainer(),isCollapsed:t.isContainer()&&t.getViewConfig().isCollapsed(),min:t.getMin(),max:t.getMax()}},e.prototype.getModelsForIdentifier=function(e,t,n){return this._modelStoreService.getModelsForIdentifier(e,this._forModel,t,n)},e.prototype.printSingleModelError=function(e,t){console.error("api."+e+" for field identifier ("+t+") returned multiple models. Identifier must return single model!")},e.prototype.printSingleValueError=function(e,t){console.error("api."+e+" for field identifier ("+t+") returned multiple values. There should be only one value stored in model!")},e.prototype.isListenerShared=function(e){var t=this,n=!1,r=this._modelStoreService.getMultiContainerAncestorsForModel(e);return this._forModel&&(null==r?void 0:r.length)&&(n=!r.some(function(e){return t._modelStoreService.isModelInParent(t._forModel,e)})),n},e.prototype.refreshDatasource=function(e){return(0,tslib__WEBPACK_IMPORTED_MODULE_28__.mG)(this,void 0,void 0,function(){var t,n;return(0,tslib__WEBPACK_IMPORTED_MODULE_28__.Jh)(this,function(r){switch(r.label){case 0:return(t=e.getDataSource())?(n=t.apiCallId,t.apiId&&n||t.variableId?[4,this._datasourceService.getDataSource(t,e,!0)]:[3,2]):[3,3];case 1:r.sent(),r.label=2;case 2:e.setDataSource(_better_studio_common__WEBPACK_IMPORTED_MODULE_8__.G1o.deepClone(t)),r.label=3;case 3:return[2]}})})},e}(),ScriptApiListenerOptions=function(){return function(e){this.onInitialValueSet=!0,e&&Object.assign(this,e)}}()},1097:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var r=function(){return function(){}}()},84708:function(e,t,n){"use strict";n.d(t,{a:function(){return h}});var r=n(29063),i=n(14951),o=n(16407),a=n(91681),s=n(27839),l=n(29748),u=n(1097),c=n(49045),d=n(35322),h=function(){function e(e,t){this.http=e,this.formState=t,this.cachedQueries=new Map,u.O.TERMINOLOGY_SERVICE=this}return e.prototype.extractTerminologyCodeSystem=function(e){var t=e.split("?"),n={};if(t.length>1)for(var r=t[1].split("&"),i=0;i<r.length;i++)if(""!==r[i]){var o=r[i].split("=");n[o[0]]=o[1]}return{codeSystem:t[0],extQuery:n}},e.prototype.getList=function(e,t,n,l){void 0===t&&(t="");var u=null!=l?l:this.formState.getFormContextValue().terminologyUrl;if(!u)return i.E;var c=this.extractTerminologyCodeSystem(e);c.extQuery.language||(c.extQuery.language=n),c.extQuery.match||(c.extQuery.match="token"),c.extQuery.matchvalue=t;var d=new r.LE({fromObject:c.extQuery}),h=Object.keys(c.extQuery).filter(function(e){return!("matchvalue"===e||"match"===e||"language"===e||"pagesize"===e)}),f=u+"/"+c.codeSystem+"/entities",p=f+JSON.stringify(c.extQuery);return this.cachedQueries.has(p)||this.cachedQueries.set(p,this.http.get(f,{params:d}).pipe((0,a.U)(function(e){return e.items.filter(function(e){return!h.find(function(t){var n=c.extQuery[t],r=n.startsWith("!");r&&(n=n.substring(1));var i=n.split("||").some(function(n){return e[t]===n});return r?i:!i})})}),(0,s.B)({connector:function(){return new o.t(1)},resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1}))),this.cachedQueries.get(p)},e.prototype.getItem=function(e,t,n){var r=this.formState.getFormContextValue().terminologyUrl;if(!r)return i.E;var a=r+"/"+e+"/entity/"+encodeURIComponent(t)+"?language="+n;return this.cachedQueries.has(a)||this.cachedQueries.set(a,this.http.get(a).pipe((0,s.B)({connector:function(){return new o.t(1)},resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1}))),this.cachedQueries.get(a)},e.prototype.getTerminologyDataset=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=[]);var r=e.parameters||{},i=r?this.getTerminologyParameterString(r):"";return this.getList((null==e?void 0:e.url)+i,t.term||t,r.language||this.formState.getFormContextValue().language).pipe((0,a.U)(function(e){var t=e.map(function(e){var t;return{label:e.description,value:e.code,valueAndLabel:"("+e.code+") "+e.description,inputItemElement:!1,selected:!!(null===(t=c.Y.findModelValue(n,e,!0))||void 0===t?void 0:t.selected)}});return n.forEach(function(e){t.some(function(t){return t.label===e.label})||t.push({label:e.label,value:e.value,valueAndLabel:"("+e.value+") "+e.label,inputItemElement:!1,selected:!0})}),t}))},e.prototype.getLanguage=function(){return this.formState.getFormContextValue().language},e.prototype.getTerminologyParameterString=function(e){return"?"+Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")},e.\u0275fac=function(t){return new(t||e)(d.LFG(r.eN),d.LFG(l.G))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e}()},37634:function(e,t,n){"use strict";n.d(t,{q:function(){return d}});var r=n(64762),i=n(70299),o=n(1954),a=n(27192),s=n(13062),l=n(37620),u=n(79969),c=n(35322),d=function(e){function t(t,n,r){var i=e.call(this)||this;return i.platformApiService=t,i.expressionEvaluationService=n,i.formEnvironmentService=r,i}return(0,r.ZT)(t,e),t.prototype.getAqlResultFromVariable=function(e,t,n){return void 0===n&&(n=!1),(0,r.mG)(this,void 0,void 0,function(){var i;return(0,r.Jh)(this,function(r){switch(r.label){case 0:return e&&e.source===o.hkZ.AQL?[4,this.getSanitizedAqlView(e)]:(console.warn("can not get source tokens from non AQL variable"),[2,null]);case 1:return(i=r.sent())?[2,this.getAqlViewResult(i,n)]:[2,this.getAqlQueryResult(e.value.code,t,void 0,n)]}})})},t.prototype.getSourceTokensFromAqlResultSet=function(e){return(0,r.mG)(this,void 0,void 0,function(){return(0,r.Jh)(this,function(t){return e?(e.resultSet&&(e.resultSet=this.mergeResults(e.resultSet)),[2,a.h.parseResponse(e.resultSet||e)]):[2,[]]})})},t.prototype.getAqlView=function(e){var t=this.getCacheToken(e,{});return(0,u.n)(this.executeWithCache(this.platformApiService.getView(e),t)).catch(function(e){return[]})},t.prototype.getAqlQueryResult=function(e,t,n,i){return void 0===i&&(i=!1),(0,r.mG)(this,void 0,void 0,function(){var a,s,l,c,d,h;return(0,r.Jh)(this,function(r){switch(r.label){case 0:return(null==n?void 0:n.length)?(a=new Map(n),[3,3]):[3,1];case 1:return s=o.pq4.getAqlParameters(e),[4,this.evaluateParameters(s,t)];case 2:return l=r.sent(),c=new Map,Object.keys(l).forEach(function(e){return c.set(e,l[e])}),d=this.getCacheToken(e,l),[2,(0,u.n)(this.executeWithCache(this.platformApiService.getAqlQueryResultWithParameters(e,c),d,i)).catch(function(e){return[]})];case 3:return h=this.getCacheToken(e,this.sanitizeParametersToObject(a)),[2,(0,u.n)(this.executeWithCache(this.platformApiService.getAqlQueryResultWithParameters(e,a),h,i)).catch(function(e){return[]})]}})})},t.prototype.evaluateParameters=function(e,t){return(0,r.mG)(this,void 0,void 0,function(){var n,i,o=this;return(0,r.Jh)(this,function(a){return n=Array.isArray(e)?e.map(function(e){return(0,r.CR)(e,2)[0]}):Array.from(e.keys()),i=n.map(function(e){var n=o.formEnvironmentService.getVariable(e),r=(null==n?void 0:n.value)||(null==n?void 0:n.testValue);return n&&r?o.expressionEvaluationService.getValue(t,r):Promise.resolve()}),[2,Promise.all(i).then(function(e){var t={};return n.forEach(function(n,r){var i=o.formEnvironmentService.getVariable(n);t[n]=e[r]||(null==i?void 0:i.testValue)}),t})]})})},t.prototype.getAqlViewResult=function(e,t){return void 0===t&&(t=!1),(0,r.mG)(this,void 0,void 0,function(){var n;return(0,r.Jh)(this,function(r){return n=this.getCacheToken(e.name,e.parameters),t&&this.cacheExpires.delete(n),[2,(0,u.n)(this.executeWithCache(this.platformApiService.getViewResult(e.name,e.parameters),n)).catch(function(e){return[]})]})})},t.prototype.getCacheToken=function(e,t){return""+btoa(unescape(encodeURIComponent(e)))+btoa(Object.keys(t).map(function(e){return e+"="+t[e]}).join(""))},t.prototype.getSanitizedAqlView=function(e){var t;return(0,r.mG)(this,void 0,void 0,function(){var n,i,a,s,l=this;return(0,r.Jh)(this,function(r){switch(r.label){case 0:return e.value.name?[4,this.getAqlView(e.value.name)]:[3,2];case 1:return i=r.sent(),[3,3];case 2:i=null,r.label=3;case 3:return(n=i)?(a=JSON.parse(n.metaData).parameters,(s=a.reduce(function(e,t){var n;return t[e.name]=(null===(n=l.formEnvironmentService.getVariable(e.name))||void 0===n?void 0:n.value)||"",t},{}))[o.XF1.EHR_ID]=null===(t=this.formEnvironmentService.getVariable(o.XF1.EHR_ID))||void 0===t?void 0:t.value,[2,Promise.resolve({name:n.name,parameters:s})]):[2,null]}})})},t.prototype.sanitizeParametersToObject=function(e){var t={};return Array.from(e.keys()).forEach(function(n){return t[n]=e.get(n)||""}),t},t.prototype.mergeResults=function(e){return e.forEach(function(t,n){Object.keys(t).filter(function(e){return null==t[e]}).forEach(function(r){var i;null!=(null===(i=e[n+1])||void 0===i?void 0:i[r])&&(t[r]=e[n+1][r])})}),e},t.\u0275fac=function(e){return new(e||t)(c.LFG(i._),c.LFG(l.Q),c.LFG(o.eNT))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t}(s.q)},24502:function(e,t,n){"use strict";n.d(t,{e:function(){return l}});var r=n(89666),i=n(18936),o=n(29063),a=n(1954),s=n(35322),l=function(){function e(){this.requestNewToken=new r.x,this.credentialsUpdated=new r.x,this.authHeaderValue=""}return e.prototype.updateToken=function(e){this.credentials.token=e,this.setOAuth2Header(),this.credentialsUpdated.next()},e.prototype.setCredentials=function(e){this.credentials=e,this.credentials.authType===i.VE.OAUTH2?this.setOAuth2Header():this.setBasicAuthHeader(),this.credentialsUpdated.next()},e.prototype.getAuthType=function(){return this.credentials.authType},e.prototype.getHeaders=function(){return this.headers},e.prototype.getAuthHeaderValue=function(){return this.authHeaderValue},e.prototype.setBasicAuthHeader=function(){var e=this.credentials;this.authHeaderValue="Basic "+(0,a.Eox)(e.username+":"+e.password);var t=new o.WM;t=(t=t.append("Content-Type","application/json")).append("Authorization",this.authHeaderValue),this.headers=t},e.prototype.setOAuth2Header=function(){this.authHeaderValue="Bearer "+this.credentials.token;var e=new o.WM;e=(e=e.append("Content-Type","application/json")).append("Authorization",this.authHeaderValue),this.headers=e},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}()},52070:function(e,t,n){"use strict";n.d(t,{b:function(){return h}});var r=n(64762),i=n(37620),o=n(29748),a=n(44432),s=n(82013),l=n(1724),u=n(89666),c=n(97425),d=n(35322),h=function(){function e(e,t){this.expressionEvaluationService=e,this.ehrFormState=t,this.noOfFormPages=1,this.dependentEvaluations=[],this.destroy$=new u.x,this.valueEvaluationFinished=new c.X(!1),this.evalDependentEvaluations=new c.X(!1),a.A.DEFAULT_VALUES_SERVICE=this,this.valueEvaluationFinished$=this.valueEvaluationFinished.asObservable(),this.evalDependentEvaluations$=this.evalDependentEvaluations.asObservable()}return e.prototype.setDefaultValues=function(e){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(n){switch(n.label){case 0:if(!this.isFormScriptEnabled())return console.warn("form script is disabled, evaluation of external default values will not be executed"),[2];t=0,n.label=1;case 1:return t<e.length?[4,this.setModelDefaultValue(e[t])]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.setModelDefaultValue=function(e){return(0,r.mG)(this,void 0,void 0,function(){var t,n,i,o,a;return(0,r.Jh)(this,function(s){if(!this.isFormScriptEnabled())return console.warn("form script is disabled, evaluation of external default values will not be executed"),[2];if(!e.inputs||!e.inputs.some(function(e){return!!e.getDefaultValue()}))return[2];try{for(t=(0,r.XA)(e.inputs),n=t.next();!n.done;n=t.next())if(!((i=n.value.getDefaultValue())&&i.length>0))return[2]}catch(l){o={error:l}}finally{try{n&&!n.done&&(a=t.return)&&a.call(t)}finally{if(o)throw o.error}}return[2]})})},e.prototype.getDefaultValues=function(e,t,n,i){return void 0===i&&(i=!1),(0,r.mG)(this,void 0,void 0,function(){var o,a,s,u;return(0,r.Jh)(this,function(r){switch(r.label){case 0:if(!this.isFormScriptEnabled()&&!i)return[2,Promise.resolve([""])];o=[],a=0,r.label=1;case 1:return a<(null==t?void 0:t.length)?(s=t[a],u=void 0,n&&"value"!==n?[4,this.evaluateSuffixValue(e,n,s)]:[3,3]):[3,9];case 2:return u=r.sent(),[3,7];case 3:return e instanceof l.A&&!e.isRegularText()?[4,this.evaluateSuffixValue(e,"",s)]:[3,5];case 4:return u=r.sent(),[3,7];case 5:return[4,this.expressionEvaluationService.getValue(e,s)];case 6:u=r.sent(),r.label=7;case 7:o.push(null!=u?u:void 0),r.label=8;case 8:return a++,[3,1];case 9:return[2,Promise.resolve(o)]}})})},e.prototype.setContainerDefaultValues=function(e,t){return(0,r.mG)(this,void 0,void 0,function(){var n,i;return(0,r.Jh)(this,function(r){switch(r.label){case 0:return[4,this.expressionEvaluationService.getValue(e,t[0])];case 1:return n=r.sent(),i="string"==typeof n?JSON.parse(n):n,this.expressionEvaluationService.setValueForContainer(e,i),[2]}})})},e.prototype.isFormScriptEnabled=function(){return!this.ehrFormState.getFormContextValue().disableFormScript},e.prototype.notifyDefaultValuesSet=function(){this.valueEvaluationFinished.next(!0),this.valueEvaluationFinished.next(!1)},e.prototype.notifyEvalDependentEvaluations=function(){this.evalDependentEvaluations.next(!0),this.evalDependentEvaluations.next(!1)},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.evaluateSuffixValue=function(e,t,n){return(0,r.mG)(this,void 0,void 0,function(){return(0,r.Jh)(this,function(r){switch(r.label){case 0:return[4,this.expressionEvaluationService.getValue(e,""+s.y.suffixDelimiter+t+s.y.suffixDelimiter+" "+n)];case 1:return[2,r.sent()]}})})},e.\u0275fac=function(t){return new(t||e)(d.LFG(i.Q),d.LFG(o.G))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e}()},76984:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(97425),i=n(35322),o=function(){function e(){}return e.prototype.fromEvent=function(e,t,n,i){void 0===i&&(i=!1);var o=new r.X(n);return e.addEventListener(function(e){o.next(e)},t,i),o.asObservable()},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}()},37620:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return ExpressionEvaluationService}});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(64762),_forms_dependencies_expression_token_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(88424),_better_studio_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1954),_ScriptApi__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(73466),_forms_dependencies_expression_token_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22739),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(35322),_ehr_model_observable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(76984),ExpressionEvaluationService=function(){function ExpressionEvaluationService(e,t,n){this.injector=e,this.ehrModelObservable=t,this.formEnvironmentService=n}return ExpressionEvaluationService.prototype.getValue=function(e,t){return(0,tslib__WEBPACK_IMPORTED_MODULE_4__.mG)(this,void 0,void 0,function(){var n;return(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Jh)(this,function(r){switch(r.label){case 0:return"string"!=typeof t?[2,t]:(n=_forms_dependencies_expression_token_util__WEBPACK_IMPORTED_MODULE_0__.V.parseTokens(t,this.formEnvironmentService),[4,this.extractResult(e,n)]);case 1:return[2,r.sent()]}})})},ExpressionEvaluationService.prototype.getValueFromTokens=function(e,t){return(0,tslib__WEBPACK_IMPORTED_MODULE_4__.mG)(this,void 0,void 0,function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Jh)(this,function(n){switch(n.label){case 0:return(null==t?void 0:t.length)?[4,this.extractResult(e,t)]:[2];case 1:return[2,n.sent()]}})})},ExpressionEvaluationService.prototype.setValue=function(e,t,n,r){void 0===r&&(r=0);var i=new _ScriptApi__WEBPACK_IMPORTED_MODULE_2__.BV(e,this.injector);i.setFieldValue(e.formId,t,n,r),i.destroy()},ExpressionEvaluationService.prototype.setValueForContainer=function(e,t){var n=new _ScriptApi__WEBPACK_IMPORTED_MODULE_2__.BV(e,this.injector);n.setFieldValuesFromAqlResultSet(t.aql,t,{target:e.formId}),n.destroy()},ExpressionEvaluationService.prototype.getEvaluations=function(e,t,n,r){var i=this;return n.reduce(function(o,a){if(a.isDependent)return o;var s=r.getVariable(a.name);if(a.type!==_forms_dependencies_expression_token_model__WEBPACK_IMPORTED_MODULE_3__.AY.VARIABLE||(null==s?void 0:s.source)!==_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.hkZ.PREDEFINED)o.push(a.evaluate(e,t,n,r));else{var l=[];_forms_dependencies_expression_token_util__WEBPACK_IMPORTED_MODULE_0__.V.isSimpleValue(s.value)?o.push(a.evaluate(e,t,n,r)):(l.push(new _forms_dependencies_expression_token_model__WEBPACK_IMPORTED_MODULE_3__.I0("(","(")),l.push.apply(l,(0,tslib__WEBPACK_IMPORTED_MODULE_4__.ev)([],(0,tslib__WEBPACK_IMPORTED_MODULE_4__.CR)(_forms_dependencies_expression_token_util__WEBPACK_IMPORTED_MODULE_0__.V.parseTokens(s.value,r)))),l.push(new _forms_dependencies_expression_token_model__WEBPACK_IMPORTED_MODULE_3__.I0(")",")")),o.push.apply(o,(0,tslib__WEBPACK_IMPORTED_MODULE_4__.ev)([],(0,tslib__WEBPACK_IMPORTED_MODULE_4__.CR)(i.getEvaluations(e,t,l,r)))))}return o},[])},ExpressionEvaluationService.prototype.extractResult=function(e,t){var n;return(0,tslib__WEBPACK_IMPORTED_MODULE_4__.mG)(this,void 0,void 0,function(){var r,i,o,a,s,l,u;return(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Jh)(this,function(c){switch(c.label){case 0:return r=new _ScriptApi__WEBPACK_IMPORTED_MODULE_2__.BV(e,this.injector),i=this.getEvaluations(e,r,t,this.formEnvironmentService),[4,Promise.all(i)];case 1:return o=c.sent(),(null==(a=t[0])?void 0:a.type)===_forms_dependencies_expression_token_model__WEBPACK_IMPORTED_MODULE_3__.AY.VARIABLE&&(["(",")"].includes(o[0])&&["(",")"].includes(o[o.length-1])&&(o=o.slice(1,o.length-1)),(null==(s="string"==typeof(null===(n=null==a?void 0:a.value)||void 0===n?void 0:n.value)?_forms_dependencies_expression_token_util__WEBPACK_IMPORTED_MODULE_0__.V.parseTokens(null==a?void 0:a.value.value,this.formEnvironmentService):[])?void 0:s.length)&&t.splice.apply(t,(0,tslib__WEBPACK_IMPORTED_MODULE_4__.ev)([0,1],(0,tslib__WEBPACK_IMPORTED_MODULE_4__.CR)(s)))),o=this.sanitizeResults(o,t),l=this.getDecodedResult(o),u=this.evaluateResult(l,e),r.destroy(),[2,"string"==typeof u?u.trim():u]}})})},ExpressionEvaluationService.prototype.evaluateResult=function(result,model){var value="";try{_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.lMr.isDate(result)?value=result:(value=eval(result),"function"==typeof value&&(value=result))}catch(_a){/^["'].*["']$/g.test(result.replace(/\n/g," "))&&result.includes("\n")?(value=this.evaluateResult(result.replace(/\n/g,"#_#"),model),value=value.replace(/#_#/g,"\n")):value=_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.lMr.jsonParseSafe(result)}return value},ExpressionEvaluationService.prototype.sanitizeResults=function(results,expressionTokens){var sanitizedResults=results.slice(),nonDependentTokensIndexes=expressionTokens.map(function(e,t){return e.isDependent?null:t}).filter(function(e){return null!=e}),resultIndexes=nonDependentTokensIndexes.map(function(e,t){return[_forms_dependencies_expression_token_model__WEBPACK_IMPORTED_MODULE_3__.AY.TEXT,_forms_dependencies_expression_token_model__WEBPACK_IMPORTED_MODULE_3__.AY.FN].includes(expressionTokens[e].type)?null:t}).filter(function(e){return null!=e});resultIndexes.forEach(function(e){var t=results[e];if("string"!=typeof t&&null!=t)sanitizedResults[e]=JSON.stringify(t);else{var n=/['"].*['"]/.test(results[e]);sanitizedResults[e]=results[e]&&!n?'"'+results[e]+'"':results[e]}}),sanitizedResults=this.stringifyResults(sanitizedResults);try{return eval(sanitizedResults.join(" ")),sanitizedResults}catch(e){return this.stringifyResults(results)}},ExpressionEvaluationService.prototype.stringifyResults=function(e){var t=/^['"]?(?:null|undefined)['"]?$/;return e.map(function(e){return null==e||t.test(e)?"undefined":"string"!=typeof e?JSON.stringify(e):""+e})},ExpressionEvaluationService.prototype.getDecodedResult=function(e){try{return decodeURIComponent(null==e?void 0:e.join(" "))}catch(t){return e.join(" ")}},ExpressionEvaluationService.\u0275fac=function(e){return new(e||ExpressionEvaluationService)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_5__.zs3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.LFG(_ehr_model_observable__WEBPACK_IMPORTED_MODULE_6__.N),_angular_core__WEBPACK_IMPORTED_MODULE_5__.LFG(_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.eNT))},ExpressionEvaluationService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Yz7({token:ExpressionEvaluationService,factory:ExpressionEvaluationService.\u0275fac}),ExpressionEvaluationService}()},96174:function(e,t,n){"use strict";n.d(t,{F:function(){return m}});var r=n(64762),i=n(29063),o=n(99597),a=n(79969),s=n(14951),l=n(1954),u=n(84708),c=n(29748),d=n(37620),h=n(13062),f=n(24502),p=n(35322),m=function(e){function t(t,n,r,i,o,a,s){var l=e.call(this)||this;return l.formEnvironmentService=t,l.terminologyService=n,l.formState=r,l.authService=i,l.expressionEvaluationService=o,l.httpClient=a,l.ngZone=s,l}return(0,r.ZT)(t,e),t.prototype.callExternalApi=function(e,t,n,i){return(0,r.mG)(this,void 0,void 0,function(){var s,u,c,d,h,f,p,m,v,g,y,b,_,C;return(0,r.Jh)(this,function(E){switch(E.label){case 0:return u=this.resolvePathParameters,[4,this.evaluatePathParameters(e,(0,r.pi)((0,r.pi)({},this.getTerminologyPathParams(n)),n.pathParams))];case 1:return c=[E.sent()],[4,this.evaluatePathParameters(e,null==i?void 0:i.pathParameters)];case 2:return s=u.apply(this,c.concat([E.sent()])),[4,this.getApiCallUrl(e,n,s)];case 3:return d=E.sent(),f=this.prepareParameters,[4,this.evaluateParametersAndHeaders(e,t.parameters)];case 4:return p=[E.sent()],[4,this.evaluateParametersAndHeaders(e,(null==i?void 0:i.requestParameters)?(0,r.ev)((0,r.ev)([],(0,r.CR)(n.parameters)),(0,r.CR)(i.requestParameters)):n.parameters)];case 5:return h=f.apply(this,p.concat([E.sent(),d])),v=this.prepareHeaders,[4,this.evaluateParametersAndHeaders(e,t.headers)];case 6:return g=[E.sent()],[4,this.evaluateParametersAndHeaders(e,n.headers)];case 7:return m=v.apply(this,g.concat([E.sent()])),y=this.prepareAuthentication(t),[4,this.evaluateDynamicParameters(e,null==i?void 0:i.dynamicParams)];case 8:return b=E.sent(),d?Object.keys(s).some(function(e){return d.includes(e)&&null==s[e]})?(console.warn("not all path parameters are provided, so api call would not be executed"),[2,Promise.resolve([])]):(sessionStorage.setItem(l.cf6.EXTERNAL_API_CALL,JSON.stringify(this.prepareApiMetadata(t,n))),_=this.resolveCall(n,d,b,h,this.getHeaders(m,y)),C=this.getCacheToken(""+t.name+n.name,s,h,m),this.cachedParams.set(n.id,h+JSON.stringify(s)),[2,(0,a.n)(this.executeWithCache(_,C,null==i?void 0:i.force).pipe((0,o.x)(function(){return sessionStorage.removeItem(l.cf6.EXTERNAL_API_CALL)})))]):n.customValueSet?[2,Promise.resolve(n.customValueSet)]:(console.warn("api url can not be resolved, so api call would not be executed"),[2])}})})},t.prototype.getHeaders=function(e,t){void 0===e&&(e=[]);var n=new i.WM;return e.length&&this.sanitizeHeaders(e).forEach(function(e){n=n.append(e.name,e.value)}),t&&(n=t instanceof l.pYP?t.appendAuthHeader(n,this.formEnvironmentService,this.authService.getAuthHeaderValue()):t.appendAuthHeader(n,this.formEnvironmentService)),n},t.prototype.prepareApiMetadata=function(e,t){return{url:t.url,requestMethod:t.requestMethod,authentication:e.authentication,sharedHeaders:e.headers,headers:t.headers,sharedParams:e.parameters,params:t.parameters}},t.prototype.prepareParameters=function(e,t,n){void 0===e&&(e=[]),void 0===t&&(t=[]);var i=[];return e.length&&(i=this.sanitizeParameters(e)),this.isTerminology(n)&&this.prepareTerminologyParameters(t,n),t.length&&i.push.apply(i,(0,r.ev)([],(0,r.CR)(this.sanitizeParameters(t)))),i.length?n.includes("?")?"&"+i.join("&"):"?"+i.join("&"):""},t.prototype.handlePathParameters=function(e,t){return t&&e?(Object.keys(t).forEach(function(n){var r,i=new RegExp(""+n,"g");e=e.replace(i,null!==(r=t[n])&&void 0!==r?r:n)}),encodeURI(e)):e},t.prototype.getRequestParams=function(e){return e&&this.cachedParams.get(e)},t.prototype.evaluateParametersAndHeaders=function(e,t){return(0,r.mG)(this,void 0,void 0,function(){var n,i=this;return(0,r.Jh)(this,function(o){return t&&e?(n=t.map(function(t){var n=t.name,o=t.value;return(0,r.mG)(i,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(r){switch(r.label){case 0:return t={name:n},[4,this.expressionEvaluationService.getValue(e,o)];case 1:return[2,(t.value=r.sent(),t)]}})})}),[2,Promise.all(n)]):[2,[]]})})},t.prototype.evaluatePathParameters=function(e,t){return(0,r.mG)(this,void 0,void 0,function(){var n,i,o,a=this;return(0,r.Jh)(this,function(r){switch(r.label){case 0:return e&&t?(n=[],Object.keys(t).forEach(function(r){return n.push(a.expressionEvaluationService.getValue(e,t[r]))}),[4,Promise.all(n)]):[2,{}];case 1:return i=r.sent(),o={},Object.keys(t).forEach(function(e,t){return o[e]=i[t]}),[2,o]}})})},t.prototype.evaluateDynamicParameters=function(e,t){return(0,r.mG)(this,void 0,void 0,function(){var n,i,o,a,s,l,u,c;return(0,r.Jh)(this,function(d){switch(d.label){case 0:if(!e||!t)return[2,[]];n=[],d.label=1;case 1:d.trys.push([1,6,7,8]),i=(0,r.XA)(t),o=i.next(),d.label=2;case 2:return o.done?[3,5]:(s=(a=n).push,[4,this.evaluatePathParameters(e,o.value)]);case 3:s.apply(a,[d.sent()]),d.label=4;case 4:return o=i.next(),[3,2];case 5:return[3,8];case 6:return l=d.sent(),u={error:l},[3,8];case 7:try{o&&!o.done&&(c=i.return)&&c.call(i)}finally{if(u)throw u.error}return[7];case 8:return[2,n]}})})},t.prototype.getExternalApi=function(e){return this.formEnvironmentService.getExternalApi(e)},t.prototype.getExternalApiCall=function(e,t){return this.formEnvironmentService.getExternalApiCall(e,t)},t.prototype.getFormContext=function(){return this.formState.getFormContext()},t.prototype.getApiCallUrl=function(e,t,n){return(0,r.mG)(this,void 0,void 0,function(){var i,o;return(0,r.Jh)(this,function(r){switch(r.label){case 0:return i=this.formEnvironmentService.getVariable(t.url),o=t.url,i?[4,this.expressionEvaluationService.getValue(e,i.value)]:[3,2];case 1:o=r.sent()||i.testValue,sessionStorage.setItem(t.url,(0,l.Eox)(o)),r.label=2;case 2:return[2,this.handlePathParameters(o,n)]}})})},t.prototype.getCacheToken=function(e,t,n,r){var i=e;if(t&&Object.keys(t).length){var o=this.getParametersWithValues(t);o&&(i+=JSON.stringify(o))}return n&&(i+=n),r.length&&(i+=JSON.stringify(r)),i},t.prototype.resolvePathParameters=function(e,t){var n=(0,r.pi)({},e);return t&&Object.entries(t).forEach(function(e){var t=(0,r.CR)(e,2),i=t[0],o=t[1];!o&&n[i]||(n[i]=o)}),Object.keys(n).forEach(function(e){null==n[e]&&(n[e]="")}),n},t.prototype.sanitizeParameters=function(e){var t=this;return void 0===e&&(e=[]),e.map(function(e){var n=t.formEnvironmentService.getVariable(e.name);return null!=(null==n?void 0:n.value)||null!=(null==n?void 0:n.testValue)||null!=e.value?n&&(n.value||n.testValue)?e.name+"="+encodeURIComponent(n.value||n.testValue):e.name+"="+encodeURIComponent(e.value):""}).filter(function(e){return!!e})},t.prototype.prepareHeaders=function(e,t){var n=[];return e&&(n=this.sanitizeHeaders(e)),t&&n.push.apply(n,(0,r.ev)([],(0,r.CR)(this.sanitizeHeaders(t)))),n},t.prototype.sanitizeHeaders=function(e){var t=this;return e.filter(function(e){return!!e.name&&!!e.value}).map(function(e){var n=t.formEnvironmentService.getVariable(e.name),r=t.formEnvironmentService.getVariable(e.value);return n||r?{name:(null==n?void 0:n.value)||(null==n?void 0:n.testValue)||e.name,value:(null==r?void 0:r.value)||(null==r?void 0:r.testValue)||e.value}:{name:e.name,value:e.value}})},t.prototype.prepareAuthentication=function(e){var t=l.RCe.getAuthentication(e.authentication.type);return t.params=(0,r.ev)([],(0,r.CR)(e.authentication.params)),t},t.prototype.isTerminology=function(e){var t=(null==e?void 0:e.split(/[/?]/g))||[];return["terminology","codesystem","entities"].every(function(e){return t.includes(e)})},t.prototype.resolveCall=function(e,t,n,r,i){var o=this.sanitizePayload(e.requestPayload,e,n);return e.requestMethod===l.Lhd.GET?this.httpClient.get(""+t+r,{headers:i}):e.requestMethod===l.Lhd.POST?this.httpClient.post(""+t+r,o,{headers:i}):e.requestMethod===l.Lhd.PUT?this.httpClient.put(""+t+r,o,{headers:i}):e.requestMethod===l.Lhd.DELETE?this.httpClient.delete(""+t+r,{headers:i}):s.E},t.prototype.sanitizePayload=function(e,t,n){var r=this;if(e||(null==n?void 0:n.length))try{if(t.bodyType===l._1o.JSON){var i=JSON.stringify(e);return(i.match(new RegExp(l.XM9,"g"))||[]).forEach(function(e){var t=n.find(function(t){return t.name===e});i=i.replace(new RegExp("<"+e+">","g"),(null==t?void 0:t.value)||"")}),JSON.parse(i)}if(t.bodyType===l._1o.FORM_DATA){var o=new FormData;return n.forEach(function(e){var t=r.formEnvironmentService.getVariable(e.name),n=r.formEnvironmentService.getVariable(e.value);o.append((null==t?void 0:t.value)||(null==e?void 0:e.name),(null==n?void 0:n.value)||(null==e?void 0:e.value))}),o}}catch(a){console.error("can not parse json")}},t.prototype.getParametersWithValues=function(e){if(!e)return"";var t={},n=Object.keys(e).filter(function(t){return!!e[t]});return n.length?(n.forEach(function(n){t[n]=e[n]}),t):""},t.prototype.prepareTerminologyParameters=function(e,t){[{name:"matchvalue",value:""},{name:"match",value:"token"},{name:"language",value:this.formState.getFormContextValue().language||""}].forEach(function(t){var n=e.find(function(e){return e.name===t.name});n&&n.value||e.push(t)})},t.prototype.getTerminologyPathParams=function(e){var t,n=e.url;if(this.isTerminology(n)&&!n.includes(l.Yhe.codeSystemPlaceholder)){var r=n.slice(n.indexOf("codesystem/")+"codesystem/".length);return(t={})[l.Yhe.codeSystemPlaceholder]=r.slice(0,r.indexOf("/")),t}return{}},t.\u0275fac=function(e){return new(e||t)(p.LFG(l.eNT),p.LFG(u.a),p.LFG(c.G),p.LFG(f.e),p.LFG(d.Q),p.LFG(i.eN),p.LFG(p.R0b))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t}(h.q)},6728:function(e,t,n){"use strict";n.d(t,{W:function(){return V}});var r=n(64762),i=n(18936),o=n(32041),a=n(89647),s=n(15868),l=n(51929),u=n(91681),c=n(58868),d=n(76424),h=n(14324),f=n(51816),p=n(90343),m=n(1954),v=n(70299),g=n(29748),y=n(89896),b=n(60104),_=n(33989),C=n(77377),E=n(90015),T=n(96174),w=n(99275),O=n(97581),x=n(35427),I=n(86087),M=n(35322),S=n(59860),V=function(){function e(e,t,n,r,i,o,a,s,l){this.formEnvironmentService=e,this.platformApiService=t,this.resourceApiService=n,this.externalApiService=r,this.formStore=i,this.ehrFormState=o,this.validationResolver=a,this.modelStoreService=s,this.multiCompositionService=l,this.canvasImageData=new Map,this.validatedPages=new Map}return e.prototype.fetchForm=function(e,t){var n=this;return this.platformApiService.getForm(e,t).pipe((0,u.U)(function(e){var t=n.populateResources(e),r=t.formEnvironment,i=t.pages,o=t.widgetConfig,a=t.pageResources;if(!(null==i?void 0:i.length)){var s=e.form.templateId;i.push((new m.qrN).setName(s).setFirstPage(!0).build())}var l=i.find(function(e){return e.firstPage}),u=a[E.q.LAYOUT];return a[E.q.DESCRIPTION+"-"+l.id]=a[E.q.DESCRIPTION],a[E.q.LAYOUT+"-"+l.id]=u,delete a[E.q.DESCRIPTION],delete a[E.q.LAYOUT],new E.l({name:e.form.name,version:e.form.version,templateId:e.form.templateId,tags:e.form.tags,pageResources:a,formEnvironment:r,widgetConfig:o,pages:i,scripts:[]})}))},e.prototype.activePageChanged=function(){return this.formStore.state.pipe((0,u.U)(function(e){var t;return null===(t=e.activePage)||void 0===t?void 0:t.id}),(0,c.h)(function(e){return!!e}),(0,d.x)())},e.prototype.getPageResource=function(e,t){var n=t||this.getForm();return null==n?void 0:n.pageResources["form-description-"+e]},e.prototype.getPageTemplates=function(e,t){var n,r=this.getPageResource(e,t);return(null===(n=r.templates)||void 0===n?void 0:n.length)&&r.templates||[new m.RaB(null==r?void 0:r.templateId,null==r?void 0:r.templateId)]},e.prototype.getRelatedTemplates=function(e,t){var n,r=null!=t?t:this.getForm();return this.getRootTemplateId(e,r)===m.GWD&&(n=this.getPageTemplates(e,r).map(function(e){return e.templateId})),n},e.prototype.getRootTemplateId=function(e,t){var n,r,i,o;if(!e)return null===(n=this.formStore.getForm())||void 0===n?void 0:n.templateId;var a=this.getPageResource(e,t);return a.templates&&(null===(r=a.templates)||void 0===r?void 0:r.length)>1?m.GWD:(null===(o=null===(i=a.templates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.templateId)||(null==a?void 0:a.templateId)},e.prototype.getComposition=function(e){if(e)return this.formStore.getCompositions().get(e)},e.prototype.getForm=function(){return this.formStore.getForm()},e.prototype.getActivePage=function(){return this.formStore.getActivePage()},e.prototype.getFormUid=function(){return this.formStore.getFormUID()},e.prototype.setFormState=function(e,t,n,r){void 0===r&&(r=(new Date).getTime().toString()),this.formStore.setState({form:e,compositions:t,activePage:n,uid:r})},e.prototype.setComposition=function(e,t){var n=this.formStore.getCompositions();n?n.set(e,t):n=(new Map).set(e,t),this.formStore.setState((0,r.pi)((0,r.pi)({},this.formStore.getState()),{compositions:n}))},e.prototype.setForm=function(e){this.formStore.setState((0,r.pi)((0,r.pi)({},this.formStore.getState()),{form:e}))},e.prototype.setActivePage=function(e){this.formStore.setActivePage(e)},e.prototype.updateComposition=function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!1),!e){var r=new y.P("Error","can not update composition because given model does not exists!");return(0,o.of)({success:!1,type:A.COMPOSITION,error:r})}var i=this.formEnvironmentService.getVariable(_.EV.COMPOSITION_ID),a=n?_.NP.INCOMPLETE:_.NP.COMPLETE;return(null==i?void 0:i.value)?this.saveComposition(e,t,n,i.value):(r=new y.P(e.getFormId(),"can not update composition because you did not prefill the form with a compositionId!"),(0,o.of)({success:!1,type:A.COMPOSITION,error:r,lifeCycleState:a}))},e.prototype.saveComposition=function(e,t,n,i){var o,a,s;void 0===t&&(t=!0),void 0===n&&(n=!1);var l=this.formEnvironmentService.getVariable(_.EV.COMPOSITION_ID);i=null!=i?i:null==l?void 0:l.value;var c=n?_.NP.INCOMPLETE:_.NP.COMPLETE,d=e.getRootModel(),h=!!(null===(a=null===(o=d.templates)||void 0===o?void 0:o.filter(function(e){return e.templateId!==m.GWD}))||void 0===a?void 0:a.length)&&!d.templateId,f=!!(null===(s=this.getForm())||void 0===s?void 0:s.templateId)&&this.getForm().templateId!==m.GWD;return(d.templates&&d.templates.length>1||!h&&!f?this.saveOrUpdateMultiCompositions(e,t,i,n):this.saveOrUpdateComposition(e,t,i,n)).pipe((0,u.U)(function(e){return(0,r.pi)((0,r.pi)({},e),{lifeCycleState:c})}))},e.prototype.updateCanvasDrawing=function(e,t){var n,r,i=null===(n=this.ehrFormState.getFormContextValue())||void 0===n?void 0:n.uploadUrl,o=e.annotationValue("uploadUrl")||(null===(r=this.formEnvironmentService.getVariable("uploadUrl"))||void 0===r?void 0:r.value)||i;if(!e||!t||!o&&!(null==e?void 0:e.resourceData))throw new y.P(e.formId,"Canvas update data missing\n       [resource server url missing: "+!o+"],\n       [image data missing: "+!t+"]");this.canvasImageData.set(e.formId,[t,(null==e?void 0:e.resourceData)||o,e])},e.prototype.isPageValid=function(e,t){void 0===t&&(t=!0);var n=this.formStore.getForm().pageResources[E.q.DESCRIPTION+"-"+e].formId+"-"+e;return this.modelStoreService.getModelControls(n)?this.isFormValid(n,t):(console.error("root form control for page id: "+e+" does not exists, so form can not be validated"),!1)},e.prototype.getCanvasImage=function(e){return this.canvasImageData.has(e)?this.canvasImageData.get(e)[0]:void 0},e.prototype.hasCanvasImageData=function(e){return this.canvasImageData.has(e)},e.prototype.clearCanvasImageData=function(){this.canvasImageData=new Map},e.prototype.updatePageResource=function(e){this.formStore.updatePageResource(e)},e.prototype.saveOrUpdateComposition=function(e,t,n,r){var s,l,c=this;void 0===t&&(t=!0),void 0===r&&(r=!1);var d=r?_.NP.INCOMPLETE:_.NP.COMPLETE,v=this.formEnvironmentService.getVariable(m.XF1.EHR_ID),g=!v||v&&!v.value,b=(null===(s=this.getActivePage())||void 0===s?void 0:s.id)?e.getRootModel().formId+"-"+(null===(l=this.getActivePage())||void 0===l?void 0:l.id):e.getRootModel().formId;if(t&&!this.isFormValid(b)){var C=new y.P(e.getFormId(),"can not save composition because form is invalid!");return(0,o.of)({success:!1,type:A.COMPOSITION,error:C,lifeCycleState:d})}if(g)return C=new y.P(e.getFormId(),"can not save composition because ehrId or template does not exists"),(0,o.of)({success:!1,type:A.COMPOSITION,error:C,lifeCycleState:d});var E=this.ehrFormState.getFormSubmissionType();if("UPDATE"===E&&!n)return C=new y.P(e.getFormId(),"can not update composition because you did not prefill the form with a compositionId!"),(0,o.of)({success:!1,type:A.COMPOSITION,error:C,lifeCycleState:d});var T=e.getRootModel().getValueNodeRef(),w=this.ehrFormState.getFormContext().getValue();return T.ctx.language=w.language||"en",T.ctx.territory=w.territory||w.language||"SI",T=this.addTagsToCompositionContext(T,this.form),this.postCanvasImages().pipe((0,h.w)(function(e){var t,r,o=null==e?void 0:e.find(function(e){return e instanceof y.P});return o?(0,a._)(function(){return o}):n&&E!==i.qO.CREATE?c.platformApiService.updateComposition(c.getRootTemplateId(null===(t=c.getActivePage())||void 0===t?void 0:t.id),null==v?void 0:v.value,n,T,d):c.platformApiService.postComposition(c.getRootTemplateId(null===(r=c.getActivePage())||void 0===r?void 0:r.id),null==v?void 0:v.value,T,d)}),(0,u.U)(function(e){return{success:!0,type:A.COMPOSITION,uid:e.compositionUid,lifeCycleState:d}}),(0,f.K)(function(t){var n=c.getSaveCompositionError(t,e);return(0,o.of)({success:!1,type:A.COMPOSITION,error:new y.P(e.formId,n.errMsg,n.userMsg,n.code,n.status),lifeCycleState:d})}),(0,p.b)(function(e){return e.success?console.log("Composition saved successfully: "+e.uid):console.error("Composition saving failed",e.error)}))},e.prototype.addTagsToCompositionContext=function(e,t){if(!t)return e;var n=e.ctx.tags||[];return n=this.addContextTag({name:"formName",value:t.name},n),n=this.addContextTag({name:"formVersion",value:t.version},n),e.ctx.tags=n,e},e.prototype.addContextTag=function(e,t){if(!e.value)return t;var n=t.find(function(t){return t.tag===e.name});return n?n.value=e.value:t.push({tag:e.name,value:e.value}),t},e.prototype.postCanvasImages=function(){var e=this,t=Array.from(this.canvasImageData.values());return t.length?(0,s.a)(t.map(function(t){var n=(0,r.CR)(t,3),i=n[0],o=n[1],s=n[2],c="string"!=typeof o&&o;if(c){var d=e.formEnvironmentService.getExternalApi(c.api),m=e.formEnvironmentService.getExternalApiCall(d,c.apiCall);return m?(0,l.Dp)(e.externalApiService.evaluatePathParameters(s,m.pathParams)).pipe((0,h.w)(function(t){return(0,l.Dp)(e.uploadFilesToApi(s,m,t,i))}),(0,p.b)(function(t){return e.updateModelValueFromApiResponse(t,s)}),(0,u.U)(function(e){return{res:!0}}),(0,f.K)(function(e){return(0,a._)(function(){return new y.P(s.formId,"Saving canvas image for model "+s.formId+" failed!")})})):(0,a._)(function(){return new y.P(s.formId,"Saving canvas image failed. Unable to find API or API call for "+s.formId)})}return e.resourceApiService.uploadFiles([i],o).pipe((0,p.b)(function(t){return e.updateCanvasModelValue(s,t[0])}),(0,u.U)(function(e){return{res:e[0].success}}),(0,f.K)(function(e){return(0,a._)(function(){return new y.P(s.formId,"Saving canvas image for model "+s.formId+" failed!")})}))})):(0,o.of)(null)},e.prototype.updateCanvasModelValue=function(e,t){if(t.success){var n=t.fileMimeType,r=t.altText;e.uriValue(t.fileUrl),e.mediaTypeValue(n,0),e.altTextValue(r,0)}},e.prototype.isFormValid=function(e,t){void 0===t&&(t=!0);var n=(0,r.CR)(Array.from(this.modelStoreService.getModelControls(e)),1)[0];if(!n)return!!this.validatedPages.get(e);var i=this.validationResolver.validate(n,null,t).valid;return this.validatedPages.set(e,i),i},e.prototype.uploadFilesToApi=function(e,t,n,i){var o=this;return(0,s.a)([(0,l.Dp)(this.externalApiService.getApiCallUrl(e,t,n)),(0,l.Dp)(this.externalApiService.evaluateDynamicParameters(e,t.dynamicParams))]).pipe((0,h.w)(function(e){var t=(0,r.CR)(e,2);return o.resourceApiService.uploadFilesThroughApi([i],{url:t[0],dynamicParams:t[1]})}))},e.prototype.updateModelValueFromApiResponse=function(e,t){var n=this,r=O.F.mapToMultimediaModelValues(e,t.resourceData);null==r||r.forEach(function(e){return n.updateCanvasModelValue(t,e)})},e.prototype.saveOrUpdateMultiCompositions=function(e,t,n,r){var a,s,l,c=this,d=r?_.NP.INCOMPLETE:_.NP.COMPLETE,v=this.formEnvironmentService.getVariable(_.EV.COMPOSITION_ID);n=n||(null==v?void 0:v.value);var g=e.getRootModel(),b=g.valueNodeRef,C=null===(a=this.formEnvironmentService.getVariable(m.XF1.EHR_ID))||void 0===a?void 0:a.value,E=(null===(s=this.getActivePage())||void 0===s?void 0:s.id)?g.formId+"-"+(null===(l=this.getActivePage())||void 0===l?void 0:l.id):g.formId;if(t&&!this.isFormValid(E)){var T=new y.P(e.getFormId(),"can not save composition because form is invalid!");return(0,o.of)({success:!1,error:T,commitData:[]})}if(!C)return T=new y.P(e.getFormId(),"can not save composition because ehrId or template does not exists"),(0,o.of)({success:!1,error:T,commitData:[]});var w=this.ehrFormState.getFormContext().getValue(),O=this.multiCompositionService.prepareCompositionContexts(b,w),x=this.multiCompositionService.prepareGenericComposition(O,b,w,C);this.addTagsToCompositionContext(x,this.form),O.splice(0,0,x);var M=this.ehrFormState.getFormSubmissionType();if("UPDATE"===M&&!n)return T=new y.P(e.getFormId(),"can not update composition because you did not prefill the form with a compositionId!"),(0,o.of)({success:!1,error:T,commitData:[]});var S=n&&M!==i.qO.CREATE?I.a.UPDATE:I.a.CREATE,V=this.formStore.getState().form.pages.map(function(e){return c.getPageResource(e.id)}),A=this.getTemplateInstancesWithCompositionNames(V),D=this.multiCompositionService.enrichWithContributionData(O,C,A,S,d,n);return this.postCanvasImages().pipe((0,h.w)(function(e){return c.createContribution(e,D)}),(0,u.U)(function(e){return{success:!0,commitData:e.commitData}}),(0,f.K)(function(t){var n=c.getSaveCompositionError(t,e);return(0,o.of)({success:!1,error:new y.P(e.formId,n.errMsg,n.userMsg,n.code,n.status),commitData:[]})}),(0,p.b)(function(e){e.success?console.log("Compositions saved successfully: "+e.commitData.map(function(e){return e.id}).join(", ")):console.error("Composition saving failed",e.error)}))},e.prototype.getTemplateInstancesWithCompositionNames=function(e){var t,n=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.templates;if(!(null==n?void 0:n.length))return[];var i=(0,r.ev)([],(0,r.CR)(n)),o=function(e,t){var n,i,a,s,l=m.jYl.genericRmTypes.has(e.rmType)||(null===(a=e.rmType)||void 0===a?void 0:a.startsWith("GENERIC_")),u=!e.templateInstance&&!t.instance;if(null===(s=e.children)||void 0===s?void 0:s.length)try{for(var c=(0,r.XA)(e.children),d=c.next();!d.done;d=c.next()){var h=o(d.value,t);if(h)return h}}catch(f){n={error:f}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}if(e.templateInstance===t.instance||u&&!l)return e};return null==i||i.forEach(function(t){var n,i,a,s,l,u;try{for(var c=(0,r.XA)(e),d=c.next();!d.done;d=c.next()){var h=d.value;try{for(var f=(a=void 0,(0,r.XA)(h.children)),p=f.next();!p.done&&!(u=o(p.value,t));p=f.next());}catch(g){a={error:g}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}if(u)break}}catch(y){n={error:y}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}if(u){var v=null===(l=u.formId.split("/"))||void 0===l?void 0:l[0];t.compositionName=v?m.zR2.sanitizePath(v):null}}),i},e.prototype.createContribution=function(e,t){var n=null==e?void 0:e.find(function(e){return e instanceof y.P});return n?(0,a._)(function(){return n}):this.platformApiService.createContribution(t)},e.prototype.getSaveCompositionError=function(e,t){var n,r,i,o=e.message;return(null==e?void 0:e.error)&&(o=e.error.exceptionMessage||e.error.developerMessage,i=e.error.userMessage,n=e.error.code,r=e.error.status),{errMsg:o,code:n,status:r,userMsg:i}},e.prototype.populateResources=function(e){var t,n,r,i=new m.bRo,o=[],a={};return null===(n=null===(t=null==e?void 0:e.form)||void 0===t?void 0:t.resources)||void 0===n||n.forEach(function(e){e.name.indexOf(E.q.DESCRIPTION)>-1||e.name.indexOf(E.q.LAYOUT)>-1?a[e.name]=e.content:e.name===E.q.ENVIRONMENT?i=e.content:e.name===E.q.PAGES?o=e.content:e.name===E.q.WIDGET_CONFIG?r=e.content:"text/javascript"===e.mimetype&&m.XCQ.createAndAppendScript(e.name,e.content)}),{formEnvironment:i,pages:o,widgetConfig:r,pageResources:a}},e.\u0275fac=function(t){return new(t||e)(M.LFG(m.eNT),M.LFG(v._),M.LFG(b.g),M.LFG(T.F),M.LFG(S.l),M.LFG(g.G),M.LFG(C.r),M.LFG(w.G),M.LFG(x.Y))},e.\u0275prov=M.Yz7({token:e,factory:e.\u0275fac}),e}(),A=function(e){return e[e.COMPOSITION=0]="COMPOSITION",e[e.DRAFT=1]="DRAFT",e}({})},99275:function(e,t,n){"use strict";n.d(t,{G:function(){return s}});var r=n(64762),i=n(1954),o=n(16073),a=n(35322),s=function(){function e(){this.models=new Map,this.modelsWithValues=new Map,this.formGroupWithUserInputedValues=new Set,this.modelControls=new Map,this.formForPage=new Map,this.maxContainerDepthFound=0,this.MAX_CONTAINER_DEPTH=4}return e.prototype.hasChildSet=function(e){var t=this;if(this.modelsWithValues.has(e))return!0;var n=e.controls;return Object.keys(n).filter(function(e){return n[e]instanceof o.cw&&t.hasChildSet(n[e])}).length>0},e.prototype.addModelControl=function(e,t){var n;this.modelControls.has(e)||this.modelControls.set(e,new Set),null===(n=this.modelControls.get(e))||void 0===n||n.add(t)},e.prototype.removeModelControl=function(e,t){if(this.modelControls.has(e)&&t){var n=this.modelControls.get(e);1===(null==n?void 0:n.size)?this.modelControls.delete(e):null==n||n.delete(t)}},e.prototype.clearModelControls=function(e){this.modelControls.has(e)&&this.modelControls.set(e,new Set)},e.prototype.getModelControls=function(e){return this.modelControls.has(e)?this.modelControls.get(e):new Set},e.prototype.getControlName=function(e){var t,n,i;if(!(null===(i=e.parent)||void 0===i?void 0:i.controls))return null;try{for(var o=(0,r.XA)(Object.entries(e.parent.controls)),a=o.next();!a.done;a=o.next()){var s=(0,r.CR)(a.value,2);if(s[1]===e)return s[0]}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return null},e.prototype.clearModelStore=function(){this.models.clear(),this.modelsWithValues.clear(),this.formGroupWithUserInputedValues.clear(),this.formForPage.clear()},e.prototype.addPageForm=function(e,t){e?this.formForPage.set(t,e):console.warn("Can not add form page, because root model does not exists")},e.prototype.getAllModelsForIdentification=function(e,t){var n=[];return this.formForPage.size?Array.from(this.formForPage.values()).forEach(function(t){i.zR2.getChildModelsForIdentification(t,e,n)}):i.zR2.getChildModelsForIdentification(t.getRootModel(),e,n),n},e.prototype.getModelsForIdentifier=function(e,t,n,r){var o=this;if(!t)return[];if(null!=r&&null!=n){var a=this.findByIdent(n,t),s=this.getMultiContainerAncestorsForModel(t),l=a.filter(function(e){return o.getMultiContainerAncestorsForModel(e).some(function(e){return s.includes(e)})});if((null==l?void 0:l.length)||(l=a),l[r]){var u=[];return i.zR2.getChildModelsForIdentification(l[r],e,u),u}return console.warn("Container with multi index "+r+" does not exists"),[]}return this.findByIdent(e,t,n)},e.prototype.findByIdent=function(e,t,n){var r=this,o=n?this.findParentMatchingIdentifier(t,n):this.getMultiContainerAncestorForModel(t);if(null!=o){if(i.zR2.modelMatchesIdentifier(o,e))return[o];var a=[];if(i.zR2.getChildModelsForIdentification(o,e,a),a.length>0)return a}var s=this.getAllModelsForIdentification(e,t);if(0===s.length)return console.warn("No model found for tagOrPath or path =",e," within=",n),[];if(s.length>1&&!n){var l=this.getMultiContainerAncestorsForModel(t),u=s.filter(function(e){return l.some(function(t){return r.isModelInParent(e,t)})});return(null==u?void 0:u.length)?u:s}return s},e.prototype.setMaxContainerDepth=function(e){var t,n,r=0;this.maxContainerDepthFound=0;var i=this.formForPage.get(e);if(i)for(var o=0;o<(null===(t=null==i?void 0:i.children)||void 0===t?void 0:t.length);o++){if((null===(n=i.children[o])||void 0===n?void 0:n.getViewConfig().getAdvanced().showContainerBorders)&&(r+=1),(r=this.getMaxContainerDepth(i.children[o],r))>=this.MAX_CONTAINER_DEPTH){this.maxContainerDepthFound=this.MAX_CONTAINER_DEPTH;break}r>this.maxContainerDepthFound&&(this.maxContainerDepthFound=r)}},e.prototype.isModelInParent=function(e,t){var n=this;return e===t||!!t.isContainer()&&!!t.children.find(function(t){return n.isModelInParent(e,t)})},e.prototype.getMultiContainerAncestorsForModel=function(e,t){return void 0===t&&(t=[]),e.isContainer()&&e.isMulti()&&t.push(e),(null==e?void 0:e.getParentModel())?this.getMultiContainerAncestorsForModel(e.getParentModel(),t):t},e.prototype.getMultiContainerAncestorForModel=function(e){return e.isContainer()&&e.isMulti()?e:e.getParentModel()?this.getMultiContainerAncestorForModel(e.getParentModel()):e},e.prototype.getControlNameForModel=function(e){var t=e.formId,n=e.getParentModel();if(!n)return t;for(;n.getParentModel();){var r=n.getParentModel(),i=r.children.findIndex(function(e){return e===n}),o=n.formId,a=n.formId+"|"+i.toString();t=t.replace(o,a),n=r}return t},e.prototype.getMaxContainerDepth=function(e,t){var n=this;return void 0===t&&(t=0),t>=this.MAX_CONTAINER_DEPTH?this.MAX_CONTAINER_DEPTH:(e.children.forEach(function(e){e.isContainer()&&(t=e.getViewConfig().getAdvanced().showContainerBorders?t+1:t,t=n.getMaxContainerDepth(e,t))}),t)},e.prototype.findParentMatchingIdentifier=function(e,t){return i.zR2.modelMatchesIdentifier(e,t)?e:e.getParentModel()?this.findParentMatchingIdentifier(e.getParentModel(),t):void 0},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}()},33989:function(e,t,n){"use strict";n.d(t,{EV:function(){return r},NP:function(){return i},S0:function(){return o}});var r=function(e){return e.CURRENT_DATE_TIME="currentDateTime",e.CURRENT_DATE="currentDate",e.COMPOSITION_ID="compositionId",e.PLATFORM_URL="platformUrl",e.IS_FORM_PREFILLED="isFormPrefilled",e.FORM_LANGUAGE="formLanguage",e.FORM_VERSION="formVersion",e.FORM_NAME="formName",e.DATE_FORMAT="dateFormat",e.IS_READONLY="isReadOnly",e.CURRENT_PAGE="currentPage",e}({}),i=function(e){return e.COMPLETE="complete",e.INCOMPLETE="incomplete",e}({}),o=function(e){return e.file="file",e.fileName="fileName",e.fileType="fileType",e}({})},35427:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var r=n(64762),i=n(1954),o=n(70299),a=n(86087),s=n(35322),l=function(){function e(e){this.platformApiService=e,this.compositionDelimiter="::"}return e.prototype.prepareGenericComposition=function(e,t,n,r){var i=this.getGenericComposition(n);return i.ctx.generic_fields=t.ctx.generic_fields,null==e||e.forEach(function(e,t){i.composed_document.dynamic_entry.push({ehr_uri:"ehr:/"+r+"/compositions/$composition"+(t+1)+"/"})}),(null==e?void 0:e.length)||i.composed_document.dynamic_entry.push({ehr_uri:"ehr:/"+r}),i},e.prototype.prepareCompositionContexts=function(e,t){return Object.keys(e).filter(function(e){return"ctx"!==e}).map(function(n){var i;return(i={ctx:(0,r.pi)((0,r.pi)({},e.ctx),{language:t.language||"en",territory:t.territory||t.language||"SI"})})[n]=e[n],i})},e.prototype.enrichWithContributionData=function(e,t,n,o,s,l){return e.map(function(e){var u,c=n.findIndex(function(t){return Object.keys(e).some(function(e){return e===t.compositionName})}),d={action:o,ehrId:t,format:a.J.STRUCTURED,templateId:(null===(u=n[c])||void 0===u?void 0:u.templateId)||i.GWD,composition:e,lifecycleState:s};if(o===a.a.UPDATE&&l){var h=l;c>-1&&(h=e[n[c].compositionName]._uid[0]["|value"]),d=(0,r.pi)((0,r.pi)({},d),{compositionUid:h})}return d})},e.prototype.getRelatedCompositions=function(e,t){var n,r,i=this;void 0===t&&(t=!1);var o=[];return null===(r=null===(n=null==e?void 0:e.composed_document)||void 0===n?void 0:n.dynamic_entry)||void 0===r||r.forEach(function(e){var n=Array.isArray(e.ehr_uri)?e.ehr_uri[0]:e.ehr_uri;if(n.includes("ehr:")){var r=n.split("/").filter(function(e){return!!e});if("ehr:"===r[r.length-2])return;n=r[r.length-1]}t&&(n=n.split(i.compositionDelimiter).slice(0,1).join("")),o.push(i.platformApiService.getComposition(n))}),o},e.prototype.createSingleComposition=function(e){var t={};return e.forEach(function(e){if(e.templateId===i.GWD)t.ctx=e.composition.ctx;else{var n=Object.keys(e.composition).filter(function(e){return"ctx"!==e})[0];t[n]=e.composition[n]}}),t},e.prototype.getGenericComposition=function(e){return{composed_document:{context:[{}],dynamic_entry:[]},ctx:{generic_fields:{},language:e.language||"en",territory:e.territory||e.language||"SI"}}},e.\u0275fac=function(t){return new(t||e)(s.LFG(o._))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}()},70299:function(e,t,n){"use strict";n.d(t,{_:function(){return h}});var r=n(14951),i=n(32041),o=n(79969),a=n(91681),s=n(24502),l=n(33989),u=n(1954),c=n(35322),d=n(29063),h=function(){function e(e,t){this.http=e,this.authService=t}return e.prototype.setResourceUrl=function(e){this.url=this.stripURLTrailingSlash(e)},e.prototype.postComposition=function(e,t,n,i){return void 0===i&&(i=l.NP.COMPLETE),e?this.http.post(this.url+"/composition?templateId="+e+"&ehrId="+t+"&format=STRUCTURED&lifecycleState="+i,n,{headers:this.authService.getHeaders()}):(console.warn("Composition can not be saved because templateId does not exists"),r.E)},e.prototype.updateComposition=function(e,t,n,i,o){return void 0===o&&(o=l.NP.COMPLETE),e?this.http.put(this.url+"/composition/"+n+"?templateId="+e+"&ehrId="+t+"&format=STRUCTURED&lifecycleState="+o,i,{headers:this.authService.getHeaders()}):(console.warn("Composition can not be updated because templateId does not exists"),r.E)},e.prototype.getWebTemplateAqlPathMapping=function(e){return e?this.http.get(this.url+"/template/"+e+"/fields",{headers:this.authService.getHeaders()}):(console.warn("No template id."),r.E)},e.prototype.getForm=function(e,t){var n=t?"/"+t:"";return this.http.get(this.url+"/form/"+encodeURIComponent(e)+n+"?resources=ALL",{headers:this.authService.getHeaders()})},e.prototype.getFormResource=function(e,t){return e&&e.name&&e.version?this.http.get(this.url+"/form/"+encodeURIComponent(e.name)+"/"+e.version+"/resource/"+t,{headers:this.authService.getHeaders(),responseType:"blob"}):(0,i.of)(null)},e.prototype.getView=function(e){return this.http.get(this.getAdminUrl()+"/views/"+e,{headers:this.authService.getHeaders()})},e.prototype.getViewResult=function(e,t){var n=t[u.XF1.EHR_ID];if(null==n)return console.error("View can not be executed - EHR ID is missing. Please provide EHR ID."),r.E;var i="?"+Object.keys(t).filter(function(e){return e!==u.XF1.EHR_ID}).map(function(e){return e+"="+t[e]}).join("&");return this.http.get(this.url+"/view/"+n+"/"+e+i,{headers:this.authService.getHeaders()})},e.prototype.getComposition=function(e){return this.http.get(this.url+"/composition/"+e+"?format=STRUCTURED",{headers:this.authService.getHeaders()})},e.prototype.getArchetypes=function(e){return(0,o.n)(this.http.get(this.url+"/archetype/flat?type="+e.join("&type="),{headers:this.authService.getHeaders()}))},e.prototype.getArchetypeDescription=function(e){return(0,o.n)(this.http.get(this.url+"/archetype/flat/"+e+"?includeTemplates=true",{headers:this.authService.getHeaders()}))},e.prototype.getAqlQueryResultWithParameters=function(e,t){var n={aql:e,aqlParameters:t?this.createAqlParamsObject(t):{}};return this.http.post(this.url+"/query",n,{headers:this.authService.getHeaders()}).pipe((0,a.U)(function(e){return e?{aql:e.aql||null,executedAql:e.executedAql||null,resultSet:e.resultSet||[]}:{aql:null,executedAql:null,resultSet:[]}}))},e.prototype.createContribution=function(e){return this.http.post(this.url+"/composition/contribution",e,{headers:this.authService.getHeaders()})},e.prototype.stripURLTrailingSlash=function(e){var t=e.length-1;return"/"===e[t]?e.substring(0,t):e},e.prototype.getAdminUrl=function(){var e=this.url.indexOf("/rest");return this.url.slice(0,e)+"/admin"+this.url.slice(e)},e.prototype.createAqlParamsObject=function(e){var t={};return Array.from(e.keys()).forEach(function(n){t[n]=e.get(n)}),t},e.\u0275fac=function(t){return new(t||e)(c.LFG(d.eN),c.LFG(s.e))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}()},60104:function(e,t,n){"use strict";n.d(t,{g:function(){return d}});var r=n(64762),i=n(14951),o=n(15868),a=n(29063),s=n(91681),l=n(33989),u=n(24502),c=n(35322),d=function(){function e(e,t){this.http=e,this.authService=t}return e.prototype.uploadFilesThroughApi=function(e,t){var n,a;if(!t.url||!t.dynamicParams)return i.E;var s=[],u=function(e){var n=new FormData,r={};t.dynamicParams.forEach(function(e){return r[e.name]=e.value}),Object.keys(r).forEach(function(t){n.append(t,r[t]===l.S0[l.S0.file]?e:r[t]===l.S0[l.S0.fileType]?e.type:r[t]===l.S0[l.S0.fileName]?e.name:r[t])});var i=c.http.post(t.url,n);s.push(i)},c=this;try{for(var d=(0,r.XA)(e),h=d.next();!h.done;h=d.next())u(h.value)}catch(f){n={error:f}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}return(0,o.a)(s)},e.prototype.uploadFiles=function(e,t,n){var l,u;if(!t)return i.E;var c=[];try{for(var d=(0,r.XA)(e),h=d.next();!h.done;h=d.next()){var f=h.value,p=new FormData;p.append("resource",f),p.append("mimeType",f.type),f instanceof File&&(p.append("fileName",f.name),p.append("alternatetext",f.name)),n&&n.ehrParam&&n.ehrValue&&p.append(n.ehrParam,n.ehrValue);var m=new a.WM;(null==n?void 0:n.urlProvidedFromContext)&&(m=(m=this.authService.getHeaders()).delete("Content-Type"));var v=this.http.post(t,p,{headers:m}).pipe((0,s.U)(function(e){return{fileUrl:e.href,fileMimeType:e.mimeType,altText:e.fileName,success:!0}}));c.push(v)}}catch(g){l={error:g}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(l)throw l.error}}return(0,o.a)(c)},e.prototype.removeFile=function(e){console.error("[ResourceApiService] DELETE/ function not implemented")},e.prototype.getFile=function(e){return this.http.get(e+"/",{responseType:"blob"})},e.\u0275fac=function(t){return new(t||e)(c.LFG(a.eN),c.LFG(u.e))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}()},59860:function(e,t,n){"use strict";n.d(t,{l:function(){return l}});var r=n(64762),i=function(){return function(){}}(),o=n(97425),a=function(){function e(e){this.state$=new o.X(e),this.state=this.state$.asObservable()}return e.prototype.getState=function(){return this.state$.getValue()},e.prototype.setState=function(e){this.state$.next(e)},e}(),s=n(35322),l=function(e){function t(){return e.call(this,new i)||this}return(0,r.ZT)(t,e),t.prototype.getCompositions=function(){var e;return null===(e=this.getState())||void 0===e?void 0:e.compositions},t.prototype.setActivePage=function(e){var t=this.getForm().pages.find(function(t){return t.id===e});t?this.setState((0,r.pi)((0,r.pi)({},this.getState()),{activePage:t})):console.error("page with id "+e+" does not exists")},t.prototype.getForm=function(){return this.getState().form},t.prototype.getFormUID=function(){return this.getState().uid},t.prototype.getActivePage=function(){return this.getState().activePage},t.prototype.updatePageResource=function(e){if(this.getForm()){var t=(0,r.pi)((0,r.pi)({},this.getForm().pageResources),e),n=this.getForm();n.pageResources=t,this.setState((0,r.pi)((0,r.pi)({},this.getState()),{form:n}))}},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(a)},77377:function(e,t,n){"use strict";n.d(t,{r:function(){return v}});var r=n(70468),i=n(15868),o=n(14951),a=n(76042),s=n(16073),l=n(81258),u=n(91681),c=n(58612),d=n(76424),h=n(29748),f=n(1954),p=n(99275),m=n(35322),v=function(){function e(e,t,n){this.formState=e,this.translate=t,this.modelStoreService=n}return e.prototype.getErrorMessages=function(e){var t=this;return(0,i.a)(e.map(function(e){return t.getErrorMessage(e).pipe((0,l.O)([]))})).pipe((0,u.U)(function(e){return[].concat.apply([],e)}))},e.prototype.getErrorMessage=function(e){var t=this;if(this.formState.getFormContextValue().validationDisabled)return o.E;var n=this.formState.getFormContext().pipe((0,c.j)("language"),(0,d.x)());return(0,i.a)([e.valueChanges.pipe((0,l.O)("")),n]).pipe((0,u.U)(function(){return(null==e?void 0:e.errors)&&(null==e?void 0:e.dirty)?Object.keys(e.errors).map(function(n){var r,i=null===(r=e.errors)||void 0===r?void 0:r[n];return{name:n,value:i,message:t.getValidationMessage(n,i)}}):[]}))},e.prototype.controlIsMandatory=function(e){var t=e.split("|"),n=this.modelStoreService.models.get(t[0]);return n?n.min>parseInt(t[1],10):(console.warn("control '"+e+"' has improper name. Name should conform to FORM_ID|anything else. Control will be treated as non mandatory until you changes its name"),!1)},e.prototype.validate=function(e,t,n){void 0===n&&(n=!0);var r=new Map;return this.recursivelyCheckIsValid(e,r,t,n),{valid:0===r.size,errorMessages:r}},e.prototype.recursivelyCheckIsValid=function(e,t,n,r){var i=this;if(e instanceof s.NI){if(!e.invalid)return;r&&(e.markAsDirty({onlySelf:!0}),e.updateValueAndValidity({onlySelf:!0}));var o=n?n.split("|")[0]:"";if(!e.errors)return;if(t.has(o)){var a=t.get(o)||new Set;t.set(o,a)}else(a=new Set).add(e.errors),t.set(o,a)}else if(!n||this.controlIsMandatory(n)||this.modelStoreService.hasChildSet(e)){var l=e.controls;Object.keys(l).forEach(function(e){return i.recursivelyCheckIsValid(l[e],t,e,r)}),e.updateValueAndValidity({onlySelf:!0})}},e.prototype.initializeValueChangeListener=function(e){var t=this,n=this.formState.getFormContextValue();if(n.validationDisabled)return a.w0.EMPTY;this.isEmptyValue(e.value)||this.addToModelsWithValues(e);var r=e.valueChanges.subscribe(function(r){if(t.isEmptyValue(r)){var i=t.modelStoreService.modelsWithValues.get(e.parent);i&&i.has(e)?1===i.size?(t.modelStoreService.modelsWithValues.delete(e.parent),t.modelStoreService.formGroupWithUserInputedValues.delete(e.parent),t.isFromGroupMandatory(e.parent)||t.recursivelyMark(e.parent,!1)):i.delete(e):n.displayValidationMessagesOnTouched&&t.isFromGroupMandatory(e.parent)&&t.mark(e,!0)}else{var o=!t.modelStoreService.formGroupWithUserInputedValues.has(e.parent);t.modelStoreService.formGroupWithUserInputedValues.add(e.parent),t.addToModelsWithValues(e,o)}}),i=new a.w0(function(){var n=e.parent;if(t.modelStoreService.modelsWithValues.has(n)){var r=t.modelStoreService.modelsWithValues.get(n);r&&(r.delete(e),r.size||t.modelStoreService.modelsWithValues.delete(n))}});return r.add(i),r},e.prototype.recursivelyMark=function(e,t,n){var r=this;void 0===n&&(n=null),e instanceof s.NI?this.mark(e,t):(null==n||this.controlIsMandatory(n))&&Object.keys(e.controls).forEach(function(n){r.recursivelyMark(e.controls[n],t,n)})},e.prototype.mark=function(e,t){t&&e.pristine?(e.markAsDirty({onlySelf:!0}),e.updateValueAndValidity({onlySelf:!0})):!t&&e.dirty&&(e.markAsPristine({onlySelf:!0}),e.updateValueAndValidity({onlySelf:!0}))},e.prototype.addToModelsWithValues=function(e,t){var n;if(void 0===t&&(t=!1),!this.modelStoreService.modelsWithValues.has(e.parent)||t)this.modelStoreService.modelsWithValues.has(e.parent)||this.modelStoreService.modelsWithValues.set(e.parent,new Set),null===(n=this.modelStoreService.modelsWithValues.get(e.parent))||void 0===n||n.add(e);else{var r=this.modelStoreService.modelsWithValues.get(e.parent);(null==r?void 0:r.has(e))||null==r||r.add(e)}},e.prototype.isEmptyValue=function(e){return null==e||Number.isNaN(e)||""===e||f.G1o.isArray(e)&&0===e.length},e.prototype.isFromGroupMandatory=function(e){return!e||e instanceof s.cw&&(!!this.modelStoreService.hasChildSet(e)||this.hasRequiredValidator(e)&&this.isFromGroupMandatory(e.parent))},e.prototype.hasRequiredValidator=function(e){if(e.validator){var t=e.validator({});return t&&t.required}return!1},e.prototype.getValidationMessage=function(e,t){return this.translate.instant("validation."+e,t)},e.\u0275fac=function(t){return new(t||e)(m.LFG(h.G),m.LFG(r.sK),m.LFG(p.G))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac}),e}()},83288:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r=function(){return function(){}}()},87394:function(e,t,n){"use strict";n.d(t,{U:function(){return A}});var r=n(64762),i=n(89666),o=n(97425),a=n(32041),s=n(79969),l=n(15868),u=n(51929),c=n(42607),d=n(69056),h=n(91681),f=n(14324),p=n(90343),m=n(27839),v=n(29748),g=n(96174),y=n(37620),b=n(37634),_=n(1954),C=n(89896),E=n(88424),T=n(34032),w=n(30128),O=n(27192),x=function(){return function(e,t){this.label=e,this.value=t}}(),I=n(13062),M=n(83288),S=n(22739),V=n(35322),A=function(e){function t(t,n,r,a,s){var l=e.call(this)||this;return l.formState=t,l.externalApiService=n,l.expressionEvaluationService=r,l.aqlExecutionHelperService=a,l.formEnvironmentService=s,l.destroy=new i.x,l.dataSourceChanged$=new o.X(new Map),l.pendingDataSources=new Map,M.X.DATA_SOURCE=l,l.dataSourceChanged=l.dataSourceChanged$.asObservable().pipe((0,c.d)({bufferSize:1,refCount:!0})),l}return(0,r.ZT)(t,e),t.prototype.ngOnDestroy=function(){this.destroy.next(!0),this.destroy.complete()},t.prototype.getDataSource=function(e,t,n){return void 0===n&&(n=!1),(0,r.mG)(this,void 0,void 0,function(){return(0,r.Jh)(this,function(r){return(null==e?void 0:e.apiId)&&(null==e?void 0:e.apiCallId)?[2,this.resolveFromApiCall(e,t,n)]:(null==e?void 0:e.variableId)?[2,this.resolveFromAqlVariable(e,t,n)]:(console.warn("Neither API nor Aql variable is not defined, so datasource could not be resolved."),[2,[]])})})},t.prototype.dataExists=function(e){if(!e)return!1;if(e.apiCallId){var t=this.formEnvironmentService.getExternalApi(e.apiId),n=this.formEnvironmentService.getExternalApiCall(t,e.apiCallId);return!!t&&!!n}return!!this.formEnvironmentService.getVariableById(null==e?void 0:e.variableId)},t.prototype.getFormContext=function(){return this.formState.getFormContext().asObservable()},t.prototype.getDataSourceItems=function(e,t){var n=e;return t.forEach(function(e){n=e.type!==w.Zw.INDEX?O.h.extractValueFromApiResponse(n,e.name):e.value===_.U2h.LAST?n[n.length-1]:n[0]}),n},t.prototype.getCacheToken=function(e,t){var n,r,i,o="";e.pathParameters&&(o+=JSON.stringify(e.pathParameters));var a=t||this.externalApiService.getRequestParams(e.apiCallId);return a&&(o+=JSON.stringify(a)),o+""+e.apiId+e.apiCallId+e.source+(null===(n=e.bindings)||void 0===n?void 0:n.value)+(null===(r=e.bindings)||void 0===r?void 0:r.label)+(null===(i=this.formState.getFormContextValue())||void 0===i?void 0:i.language)},t.prototype.resolveFromApiCall=function(e,t,n){var i,o;return(0,r.mG)(this,void 0,void 0,function(){var l,u,c,d,h,f,p,m,v,g,y,b,_;return(0,r.Jh)(this,function(r){switch(r.label){case 0:return l=this.formEnvironmentService.getExternalApi(e.apiId),u=this.formEnvironmentService.getExternalApiCall(l,e.apiCallId),l&&u?(c=T.H.parseTokens(e.source,u.response),d=null===(i=e.bindings)||void 0===i?void 0:i.value,h=null===(o=e.bindings)||void 0===o?void 0:o.label,e.expression||(d=E.V.convertExternalApiTokensExpressionToInputTokensExpression(d),h=E.V.convertExternalApiTokensExpressionToInputTokensExpression(h)),[4,this.externalApiService.callExternalApi(t,l,u,{pathParameters:null==e?void 0:e.pathParameters,force:n}).catch(function(e){return[]})]):[2,Promise.reject(new C.F("External api call error","Api or api call does not exists any longer, please check external api configuration."))];case 1:return f=r.sent(),v=(m=this.externalApiService).resolvePathParameters,[4,this.externalApiService.evaluatePathParameters(t,u.pathParams)];case 2:return g=[r.sent()],[4,this.externalApiService.evaluatePathParameters(t,null==e?void 0:e.pathParameters)];case 3:return p=v.apply(m,g.concat([r.sent()])),[4,this.externalApiService.getApiCallUrl(t,u,p)];case 4:return(y=r.sent())||u.customValueSet?y&&Object.keys(p).some(function(e){return y.includes(e)})?[2,Promise.resolve([])]:(b=this.getCacheToken(e,this.externalApiService.getRequestParams(u.id)),_={callToPerform:(0,a.of)(f),sourceTokens:c,valueExpression:d,labelExpression:h,model:t,api:l,apiCall:u},[2,(0,s.n)(this.evaluateDatasource(_,b,n),{defaultValue:[]})]):[2,Promise.resolve([])]}})})},t.prototype.resolveFromAqlVariable=function(e,t,n){var i,o;return void 0===n&&(n=!1),(0,r.mG)(this,void 0,void 0,function(){var l,u,c,d,h,f,p,m,v;return(0,r.Jh)(this,function(r){switch(r.label){case 0:return(l=e.variableId)&&(u=this.formEnvironmentService.getVariableById(l))?[4,this.aqlExecutionHelperService.getAqlResultFromVariable(u,t,n)]:[2,Promise.resolve([])];case 1:return c=r.sent(),[4,this.aqlExecutionHelperService.getSourceTokensFromAqlResultSet(c)];case 2:return d=r.sent(),h=T.H.parseTokens(e.source,d),c||(null==c?void 0:c.resultSet)?(f=null===(i=e.bindings)||void 0===i?void 0:i.value,p=null===(o=e.bindings)||void 0===o?void 0:o.label,m=this.getCacheToken(e),v={callToPerform:(0,a.of)((null==c?void 0:c.resultSet)||c),sourceTokens:h,valueExpression:f,labelExpression:p,model:t,aqlVariable:u},[2,(0,s.n)(this.evaluateDatasource(v,m,n),{defaultValue:[]})]):[2,Promise.resolve([])]}})})},t.prototype.evaluateDatasource=function(e,t,n){var i=this;if(void 0===n&&(n=!1),this.pendingDataSources.has(t)&&!n)return this.pendingDataSources.get(t).pipe((0,d.q)(1));if(this.cachedData.has(t)&&!n)return(0,a.of)(this.cachedData.get(t)).pipe((0,d.q)(1));var o=e.callToPerform.pipe((0,h.U)(function(e){return(null==e?void 0:e.resultSet)||e}),(0,f.w)(function(t){var n=e.sourceTokens,o=e.valueExpression,a=e.labelExpression,s=e.api,u=e.apiCall,c=e.model,d=e.aqlVariable,h=i.getDataSourceItems(t,n),f=i.getDataSourceExpressionEvaluations(h,n,o,c,s,u,d),p=i.getDataSourceExpressionEvaluations(h,n,a,c,s,u,d);return(0,l.a)((0,r.ev)((0,r.ev)([],(0,r.CR)(f)),(0,r.CR)(p)))}),(0,h.U)(function(e){if(!e||!e.length)return[];var t=e.slice(0,e.length/2),n=e.slice(e.length/2);return t.map(function(e,t){var r;return new x(null!==(r=n[t])&&void 0!==r?r:"N/A",""+e)})}),(0,p.b)(function(e){t&&i.cachedData.set(t,e),i.dataSourceChanged$.next(i.cachedData),i.pendingDataSources.delete(t)}),(0,m.B)());return this.pendingDataSources.set(t,o),o.pipe((0,d.q)(1))},t.prototype.getDataSourceExpressionEvaluations=function(e,t,n,r,i,o,s){var l=this;return e&&Array.isArray(e)?e.map(function(e,a){var c,d=E.V.prepareDataBindExpression({expression:n,api:i,apiCall:o,variable:s,formEnvironmentService:l.formEnvironmentService,itemIndex:a,pathParameters:null===(c=r.getDataSource())||void 0===c?void 0:c.pathParameters,sourceTokens:t.map(function(e){return new S.l0(e.name,e.name)})});return(0,u.Dp)(l.expressionEvaluationService.getValueFromTokens(r,d))}):[(0,a.of)([])]},t.\u0275fac=function(e){return new(e||t)(V.LFG(v.G),V.LFG(g.F),V.LFG(y.Q),V.LFG(b.q),V.LFG(_.eNT))},t.\u0275prov=V.Yz7({token:t,factory:t.\u0275fac}),t}(I.q)},83472:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.booleanValue=function(e){var t=this.transformToBoolean(e);return void 0!==t&&this.setValue(t,0,"|value"),this.transformToBoolean(this.getValue("|value",0))},t.prototype.hasValue=function(){return null!=this.booleanValue()},t.prototype.setPropertyValue=function(e,t,n){"value"===e||"label"===e?this.booleanValue(t):this.setSpecificPropertyValue(e,t,n)},t.prototype.getDefaultValue=function(){var e;return null===(e=this.getInputByType(i.n$I.BOOLEAN))||void 0===e?void 0:e.getDefaultValue()},t.prototype.defaultValue=function(){var e=this.getInputByType(i.n$I.BOOLEAN);return e?(this.hasExternalDefaultValues()&&this.moveExternalDefaultValuesToDefaultValue(),null==this.transformToBoolean(e.getDefaultValue())?[]:this.setDefaultValues(!0)):[]},t.prototype.getRmType=function(){return i.B8O.DV_BOOLEAN},t.prototype.getFieldPresentation=function(){var e=null,t=this.viewConfig.getFields("code")?this.viewConfig.getFields("code"):this.viewConfig.getFields();return t&&t.presentation&&(e=t.presentation),e},t.prototype.isButtonGroup=function(){return this.getFieldPresentation()===i.umi.THREE_STATE},t.prototype.isYesNo=function(){return this.getFieldPresentation()===i.umi.YES_NO},t.prototype.allowedValues=function(){if(!this._allowedValues){this._allowedValues=[];var e=this.getInput(0);if(e&&e.hasAnyInputItems())for(var t=0;t<e.getInputItemList().length;t++){var n=e.getInputItem(t),r=null==n?void 0:n.value;void 0!==r&&this._allowedValues.push(this.transformToBoolean(r))}else this._allowedValues.push(!0,!1)}return(this.isButtonGroup()||this.isYesNo())&&this._allowedValues.every(function(e){return null!==e})&&this._allowedValues.push(null),this._allowedValues},t.prototype.transformToBoolean=function(e){var t=e;if(i.G1o.isArray(e)&&(t=e.length>0?e[0]:null),i.G1o.isString(t)){var n=t.trim();if(0===n.length)return null;if("true"===n)return!0;if("false"===n)return!1}return t},t.prototype.isMulti=function(){return!1},t.prototype.getDefaultInput=function(){return this.getInputByType(i.n$I.BOOLEAN)},t.prototype.hasSimpleValueFormat=function(){return!0},t}(n(28148).X)},34991:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(64762),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.hasValue=function(){var e;return null===(e=this.valueGetterSetter())||void 0===e?void 0:e.some(function(e){return e&&null!=e["|value"]&&""!==e["|value"]})},t.prototype.getDefaultValue=function(){var e=this.getDefaultInput();return null==e?void 0:e.defaultValue},t.prototype.defaultValue=function(){var e,t=this.getDefaultInput();return t?(this.hasExternalDefaultValues()&&this.moveExternalDefaultValuesToDefaultValue(),(null===(e=null==t?void 0:t.defaultValue)||void 0===e?void 0:e.length)>0?this.setDefaultValues():[]):[]},t.prototype.hasSimpleValueFormat=function(){return!0},t}(n(28148).X)},79031:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.getRmType=function(){return i.B8O.GENERIC_BUTTON},t.prototype.isMulti=function(){return!1},t.prototype.isGeneric=function(){return!0},t.prototype.getValue=function(){return[this.btnValue]},t.prototype.hasValue=function(){return!1},t.prototype.buttonClicked=function(){this.eventDispatcher.dispatchEvent(i.X4$.CLICK,this),this._buttonClickedBackwardsCompatibility()},t.prototype.defaultValue=function(){return[]},t.prototype._buttonClickedBackwardsCompatibility=function(){var e=this;this.btnValue=!0,this.eventDispatcher.dispatchEvent(i.X4$.CHANGE,this),setTimeout(function(){e.btnValue=!1})},t.prototype.hasSimpleValueFormat=function(){return!1},t}(n(28148).X)},47086:function(e,t,n){"use strict";n.d(t,{e:function(){return a}});var r=n(64762),i=n(9165),o=n(1954),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.getRmType=function(){return o.B8O.GENERIC_CANVAS},t.prototype.isMulti=function(){return!1},t.prototype.isGeneric=function(){return!0},t.prototype.defaultValue=function(){return[]},t.prototype.clearValue=function(){this.eventDispatcher.dispatchEvent(o.X4$.CLEAR_CANVAS_MARKUP,!0),e.prototype.clearValue.call(this)},t}(i.W)},15523:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultNumberOfColumns=3,t.numberOfColumns=t.defaultNumberOfColumns,t}return(0,r.ZT)(t,e),t.prototype.getNumberOfColumns=function(){return this.numberOfColumns},t.prototype.isMulti=function(){return!1},t.prototype.getRmType=function(){return i.B8O.GENERIC_COLUMN_LIST},t.prototype.isGeneric=function(){return!0},t.prototype.rowClicked=function(){this.eventDispatcher.dispatchEvent(i.X4$.CLICK,this)},t.prototype.getViewConfig=function(){return this.viewConfig},t.prototype.setViewConfig=function(e){this.viewConfig=e,e&&e.setEventDispatcher(this.eventDispatcher)},t.prototype.setViewConfigValues=function(e){if(e.viewConfig){var t=i.y3m.parseViewConfig(e.viewConfig,this.eventDispatcher,new i.sfN(this.eventDispatcher));t=i.y3m.parseTableProperties(t,e.viewConfig),this.setViewConfig(t)}else this.setViewConfig(new i.sfN(this.eventDispatcher))},t}(n(51544).f)},3586:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.isMulti=function(){return!1},t.prototype.getRmType=function(){return i.B8O.GENERIC_FIELDSET},t.prototype.isGeneric=function(){return!0},t}(n(51544).f)},79993:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.getRmType=function(){return i.B8O.GENERIC_HTML},t.prototype.isMulti=function(){return!1},t.prototype.isGeneric=function(){return!0},t.prototype.defaultValue=function(){return[]},t.prototype.hasValue=function(){return!1},t.prototype.getValue=function(e,t){return[this.name]},t.prototype.setValue=function(e,t,n){if(null==e)return this.name;if(this.name=e,this.localizedNames){var r={};Object.keys(this.localizedNames).forEach(function(t){return r[t]=e}),this.localizedNames=r}return this._onValueUpdated(),this.name},t.prototype.hasSimpleValueFormat=function(){return!1},t}(n(28148).X)},80465:function(e,t,n){"use strict";n.d(t,{e:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.getRmType=function(){return i.B8O.GENERIC_LAYOUT_GROUP},t.prototype.isGeneric=function(){return!0},t}(n(51544).f)},4053:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.getRmType=function(){return i.B8O.GENERIC_RICH_TEXT},t.prototype.isMulti=function(){return!1},t.prototype.isGeneric=function(){return!0},t.prototype.defaultValue=function(){return[]},t.prototype.hasValue=function(){return!1},t.prototype.getValue=function(e,t){return[this.name]},t.prototype.setValue=function(e,t,n){if(null==e)return this.name;if(this.name=e,this.localizedNames){var r={};Object.keys(this.localizedNames).forEach(function(t){return r[t]=e}),this.localizedNames=r}return this._onValueUpdated(),this.name},t.prototype.hasSimpleValueFormat=function(){return!1},t}(n(28148).X)},63510:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.getRmType=function(){return i.B8O.GENERIC_SAVE_BUTTON},t.prototype.handleSaveComposition=function(e){this.eventDispatcher.dispatchEvent(i.X4$.COMPOSITION_SAVED,e)},t}(n(79031).G)},34430:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.getRmType=function(){return i.B8O.GENERIC_SPACER},t.prototype.isMulti=function(){return!1},t.prototype.isGeneric=function(){return!0},t.prototype.defaultValue=function(){return[]},t.prototype.hasValue=function(){return!1},t.prototype.hasSimpleValueFormat=function(){return!1},t}(n(28148).X)},83981:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.isMulti=function(){return!1},t.prototype.getRmType=function(){return i.B8O.GENERIC_STACKED_LIST},t.prototype.isGeneric=function(){return!0},t.prototype.rowClicked=function(){this.eventDispatcher.dispatchEvent(i.X4$.CLICK,this)},t}(n(51544).f)},28148:function(e,t,n){"use strict";n.d(t,{X:function(){return f}});var r=n(64762),i=n(1954),o=n(44432),a=n(82013),s=n(79969),l=n(69568),u=n(58868),c=n(54444),d=n(14324),h=n(69056),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputs=[],t}return(0,r.ZT)(t,e),t.prototype.getDefaultValueFor=function(e){var t,n;return null!==(n=null===(t=this.getInputFor(e))||void 0===t?void 0:t.getDefaultValue())&&void 0!==n?n:[""]},t.prototype.setSpecificPropertyValue=function(e,t,n){this.setValue(t,n,e)},t.prototype.getInputFor=function(e){for(var t=0;t<this.inputs.length;t++){var n=this.inputs[t];if(n.getSuffix()===e)return n}return null},t.prototype.hasValue=function(){var e;return(null===(e=this.valueGetterSetter())||void 0===e?void 0:e.length)>0},t.prototype.getInputByType=function(e){for(var t=0;t<this.inputs.length;t++){var n=this.inputs[t];if(n.getType()===e)return n}return null},t.prototype.valueGetterSetter=function(e,t,n){return"|value"===n&&null===e&&null!=t?this.setValue(null,t):void 0!==e?this.setValue(e,t,n):this.getValue(n,t)},t.prototype.getPrettyValue=function(){return this.hasSimpleValueFormat()?this.getValue("|value"):this.getValue().map(function(e){var t,n;if(e&&"object"==typeof e){var i={};try{for(var o=(0,r.XA)(Object.keys(e)),a=o.next();!a.done;a=o.next()){var s=a.value,l=s.endsWith("code");s.startsWith("|")?i[s.substr(1)]=isNaN(e[s])||!e[s]||l?e[s]:+e[s]:i[s]=isNaN(e[s])||!e[s]||l?e[s]:+e[s]}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return e})},t.prototype.getValue=function(e,t){var n=i.G1o.deepClone(this.getOrCreateValueNodeRef());if(void 0===t)return n.map(function(t){return e&&null!=t?t[e]:t});var r=n[t];if(null!=r){var o=void 0;return e?void 0===(o=r[e])&&void 0===(o=r["|"+e])?null:o:r}return null},t.prototype.setValue=function(e,t,n){var r=this.getOrCreateValueNodeRef();if(null==e&&null==t){if(0===r.length)return[];if(null==n)r.length=0;else{var o=!1;if(r.forEach(function(e){null!==e[n]&&(e[n]=null,o=!0)}),!o)return this.getValue(n,t);var a=[];r.forEach(function(e,t){Object.keys(e).filter(function(t){return null!==e[t]}).length>0||a.push(t)}),a.forEach(function(e){return r.splice(e,1)}),this.setValueNodeRef(r)}}else if(void 0===t)if(null==e||i.G1o.isArray(e)||(e=[e]),void 0===n){if(r.length===e.length){var s=!1;if(e.forEach(function(e,t){e!==r[t]&&(r[t]=e,s=!0)}),!s)return this.getValue(n,t)}r.length=0,e.forEach(function(e){r.push(e)})}else{if(e.some(function(e){return i.G1o.isObject(e)}))throw new Error("NodeModel.setValue / when propertyName param is set with multiIndex===undefined values can not be objects");var l=!1;if(e.forEach(function(e,t){void 0===r[t]&&(r[t]={}),r[t][n]!==e&&(r[t][n]=e,l=!0)}),!l)return this.getValue(n,t)}else if(void 0===n)if(null===e)r.splice(t,1);else{if(r[t]===e)return this.getValue(n,t);r[t]=e}else if(null==n&&null===e)r.splice(r.indexOf(r[t]),1);else if(null!=n){if(null==r[t]&&(r[t]={}),r[t][n]===e)return this.getValue(n,t);r[t][n]=e}else{if(r[t]===e)return this.getValue(n,t);r[t]=e}return this._onValueUpdated(),this.getValue(n,t)},t.prototype.setPropertyValue=function(e,t,n){e&&"value"!==e?this.setSpecificPropertyValue(e,t,n):this.hasSimpleValueFormat()?this.setValue(t,n,"|value"):this.setValue(t,n)},t.prototype.setDefaultValues=function(e){var t,n,r=this;void 0===e&&(e=!1);var o=null!==(t=this.getDefaultValue())&&void 0!==t?t:[],a=i.zR2.getModelSuffixes(this),s=[];return(null==a?void 0:a.length)&&o.filter(i.G1o.isObject).forEach(function(t){Object.keys(t).forEach(function(n){s.push(r.setDefaultValue(t[n],n,e))})}),(null===(n=this.inputs)||void 0===n?void 0:n.some(function(e){return!e.suffix}))&&(s=[this.setDefaultValue(o)]),s},t.prototype.setDefaultValue=function(e,t,n){var r=this;if(void 0===n&&(n=!1),!o.A.DEFAULT_VALUES_SERVICE||!o.A.DEFAULT_VALUES_SERVICE.isFormScriptEnabled())return Promise.resolve(!1);var i=new RegExp(""+a.y.fieldDelimiter,"g");return e.some(function(e){var t="string"==typeof e?e.match(i):[];return(null==t?void 0:t.length)&&(null==t?void 0:t.length)%2==0})?(o.A.DEFAULT_VALUES_SERVICE.dependentEvaluations.push((0,s.n)(o.A.DEFAULT_VALUES_SERVICE.evalDependentEvaluations$.pipe((0,l.R)(o.A.DEFAULT_VALUES_SERVICE.destroy$),(0,u.h)(function(e){return e}),(0,c.T)(o.A.DEFAULT_VALUES_SERVICE.noOfFormPages-1),(0,d.w)(function(i){return r.resolveDefaultValue(e,n,t)}),(0,h.q)(1)))),Promise.resolve(!0)):this.resolveDefaultValue(e,n,t)},t.prototype.clearValue=function(){this.setValue(null)},t.prototype.getDefaultValue=function(){},t.prototype.isDefaultValueSet=function(){var e=this.getDefaultValue();return Array.isArray(e)?e.length>0:!!e},t.prototype.resetValue=function(){return this.clearValue(),this.defaultValue()},t.prototype.getValueNodeRefOrEmptyArray=function(){return this.getValueNodeRef()?this.getValueNodeRef():[]},t.prototype.getOrCreateValueNodeRef=function(){return this.getValueNodeRef()||this.setValueNodeRef([]),this.getValueNodeRef()},t.prototype._onValueUpdated=function(){this.dispatchEvent(i.X4$.CHANGE,this)},t.prototype.isContainer=function(){return!1},t.prototype.getInputs=function(){return this.inputs},t.prototype.getInput=function(e){return e>=0&&e<this.inputs.length?this.inputs[e]:null},t.prototype.setInputs=function(e){this.inputs=e},t.prototype.addInput=function(e){var t=this.getViewConfig().getTerminology();t&&e.setTerminology(t),this.inputs.push(e)},t.prototype.hasExternalDefaultValues=function(){var e;return!!(null===(e=this.getInputs())||void 0===e?void 0:e.some(function(e){return!!e.externalDefaultValues}))},t.prototype.moveExternalDefaultValuesToDefaultValue=function(){var e,t;try{for(var n=(0,r.XA)(this.getInputs()),i=n.next();!i.done;i=n.next()){var o=i.value;(null==o?void 0:o.externalDefaultValues)&&(null==o?void 0:o.externalDefaultValues.length)>0&&(o.defaultValue=o.externalDefaultValues,delete o.externalDefaultValues)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.resolveDefaultValue=function(e,t,n){var r=this;return o.A.DEFAULT_VALUES_SERVICE.getDefaultValues(this,e,n).then(function(e){var i,o,a=null!==(o=null===(i=r.getParentModel())||void 0===i?void 0:i.getMultiIndex())&&void 0!==o?o:0,s=a<e.length?e[a]:e[0];return null==s||r.setValue(s,0,n?t?"|"+n:""+n:"|value"),!0})},t}(i.Hnr)},51544:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(64762),i=n(1954),o=n(44432),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputs=[],t}return(0,r.ZT)(t,e),t.prototype.isContainer=function(){return!0},t.prototype.hasValue=function(){return this.getChildModels().some(function(e){return e.hasValue()})},t.prototype.showInPresentationMode=function(){var e=this.getChildModels().some(function(e){var n=!e.getViewConfig().isHidden(!0,!0);return e instanceof t?n&&e.showInPresentationMode():n&&e.hasValue()});return!this.getViewConfig().isHidden()&&e},t.prototype.setValue=function(e,t,n){this.setValueNodeRef(e)},t.prototype.resetValue=function(){var e=[];return this.getChildModels().forEach(function(t){e.push.apply(e,(0,r.ev)([],(0,r.CR)(t.resetValue())))}),this.hasDefaultValues()&&this.setDefaultValues(),e},t.prototype.clearValue=function(){this.getChildModels().forEach(function(e){e.clearValue()})},t.prototype.getInputs=function(){return this.inputs},t.prototype.setInputs=function(e){this.inputs=e},t.prototype.addInput=function(e){this.inputs.push(e)},t.prototype.hasDefaultValues=function(){var e,t;return!!(null===(e=this.getInputs())||void 0===e?void 0:e.some(function(e){var t;return!!(null===(t=e.externalDefaultValues)||void 0===t?void 0:t.length)}))||!!(null===(t=this.getInputs())||void 0===t?void 0:t.some(function(e){var t;return!!(null===(t=e.defaultValue)||void 0===t?void 0:t.length)}))},t.prototype.setDefaultValues=function(){var e,t,n,r=null===(t=null===(e=this.inputs)||void 0===e?void 0:e.find(function(e){return e.hasOwnProperty("defaultValue")}))||void 0===t?void 0:t.defaultValue;(null===(n=null==o.A?void 0:o.A.DEFAULT_VALUES_SERVICE)||void 0===n?void 0:n.isFormScriptEnabled())&&r&&o.A.DEFAULT_VALUES_SERVICE.setContainerDefaultValues(this,r)},t.prototype.hasInputField=function(){return this.getChildModels().some(function(e){return e.isContainer()?e.hasInputField():i.jYl.isInputField(e.rmType)})},t.prototype.isAnyValueShown=function(){return this.getChildModels().some(function(e){return e.isContainer()?e.isAnyValueShown():e.hasValue()&&!e.getViewConfig().isHidden()})},t.prototype.hasSimpleValueFormat=function(){return!1},t.prototype.setViewConfigValues=function(e){if(e.viewConfig){var t=i.y3m.parseViewConfig(e.viewConfig,this.eventDispatcher,new i.sfN(this.eventDispatcher));t=i.y3m.parseTableProperties(t,e.viewConfig),this.setViewConfig(t)}else this.setViewConfig(new i.sfN(this.eventDispatcher))},t}(i.Hnr)},22410:function(e,t,n){"use strict";n.d(t,{y:function(){return y}});var r=n(64762),i=n(28148),o=n(1954),a=n(79969),s=n(15868),l=n(32041),u=n(20324),c=n(91681),d=n(14324),h=n(58868),f=n(69056),p=n(1097),m=n(44432),v=n(83288),g=n(67019),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.searchInput="",t}return(0,r.ZT)(t,e),t.prototype.setSearchInput=function(e){this.searchInput=e,this.dispatchEvent(o.X4$.SEARCH_INPUT_CHANGES,this)},t.prototype.getCodeValues=function(){return this.getValue().filter(function(e){return void 0!==e["|code"]}).map(function(e){return e["|code"]})},t.prototype.defaultValueCode=function(){var e,t=this._getCodeInput()?null===(e=this._getCodeInput())||void 0===e?void 0:e.getDefaultValue():null;return o.G1o.isString(t)&&t.length>0&&(t=t.split(",").map(function(e){return e.toString().trim()})),t&&o.G1o.isArray(t)?t.map(function(e){return o.G1o.isObject(e)&&(e=e.value||e.code),e.toString().trim()},this):null},t.prototype.otherValue=function(e,t){return this.isListOpen()?this.valueGetterSetter(e,t,"|other"):[]},t.prototype.addOtherValue=function(e){var t=this.isMulti()?this.getValue().length:0;return this.valueGetterSetter(e,t,"|other")},t.prototype.replaceOtherValue=function(e,t){var n=this.getValue().findIndex(function(e){return Object.keys(e).includes("|other")});n<0||this.setValue(t,n,null===t?t:"|other")},t.prototype.getOtherValues=function(e){return this.getValue("|other").filter(function(e){return void 0!==e})},t.prototype.findInputItemByCode=function(e){var t;return this._getCodeInput()?null===(t=this._getCodeInput())||void 0===t?void 0:t.findInputItemByValue(e):null},t.prototype.findValueObjectByCode=function(e){var t=this.getValueNodeRefOrEmptyArray();if(t)for(var n=0;n<t.length;n++){var r=t[n];if(r["|code"]===e)return r}return null},t.prototype.getTerminology=function(){var e=this.viewConfig.datasource,t=null;return e&&e.url&&""!==e.url?t={loadRemote:!0,url:this.getTerminologyCodeFromInput(),parameters:e&&e.parameters?e.parameters:{}}:!this.hasDataset()&&e&&e.loadRemote?t={loadRemote:e.loadRemote,url:e.loadRemoteUrl,parameters:e.parameters}:this.getTerminologyCodeFromInput()&&(t={loadRemote:!0,url:this.getTerminologyCodeFromInput(),parameters:{}}),t},t.prototype.getTerminologyCodeFromInput=function(){var e;return this.getInputFor("code")&&(null===(e=this.getInputFor("code"))||void 0===e?void 0:e.getTerminology())},t.prototype.codeValue=function(e,t,n){var i,a;return(0,r.mG)(this,void 0,void 0,function(){var s,l,u,c,d;return(0,r.Jh)(this,function(r){switch(r.label){case 0:return void 0===e?[2,this.getCodeValues()]:(o.G1o.isString(e)||null===e||(e=e.toString()),this.findValueObjectByCode(e)&&!t?[2,Promise.resolve()]:(s=this.findInputItemByCode(e),l=this.getTerminology(),this.hasDataset()&&null!==e&&!s?(console.warn("setting code value on model that doesn't allow this",e),[2,Promise.resolve()]):s||null===e||n?[3,4]:(null===(i=this.getDataSource())||void 0===i?void 0:i.isValid())?[4,this.setCodeValueFromDatasource(e,t)]:[3,2]));case 1:return r.sent(),[2,Promise.resolve()];case 2:return!l||e&&n?[3,4]:[4,this.enrichCodeValueWithTerminology(e,l.url,t)];case 3:return r.sent(),[2,Promise.resolve()];case 4:return this.isMulti()||null!==e?(u=this.isMulti()?this.getValueNodeRefOrEmptyArray().length:0,c={},s?(c={"|code":s.value,"|value":s.getLabel(t,!0)},o.jYl.isOrdinal(this.getRmType())?c["|ordinal"]=s.ordinal:o.jYl.isScale(this.getRmType())&&(c["|scale"]=s.scale)):(c={"|code":e,"|value":n},d=null===(a=this.getDataSource())||void 0===a?void 0:a.getCodeSystem(),(l||d)&&(c["|terminology"]=(null==l?void 0:l.url)||d)),this.getCodeValues().includes(c["|code"])?(this.valueNodeRef.splice(this.valueNodeRef.findIndex(function(e){return e["|code"]===c["|code"]}),1),this.setValue(c,Math.max(0,u-1))):this.setValue(c,u),[2,this.getCodeValues()]):(this.clearValue(),[2,Promise.resolve()])}})})},t.prototype.enrichCodeValueWithTerminology=function(e,t,n){var r,i,o=this,s=n||(null===(r=p.O.TERMINOLOGY_SERVICE)||void 0===r?void 0:r.getLanguage());return(0,a.n)(null===(i=p.O.TERMINOLOGY_SERVICE)||void 0===i?void 0:i.getItem(t,e,s).pipe((0,u.g)(0))).then(function(t){return t&&t.description?o.codeValue(e,s,t.description):(console.warn("setting terminology item that does not exist in terminology)"),!0)}).catch(function(e){return!1})},t.prototype.setCodeValueFromDatasource=function(e,t){var n=this;if(!this.datasource||!this.datasource.isValid()||!v.X.DATA_SOURCE.dataExists(this.datasource))return Promise.resolve(!0);var i=t||p.O.TERMINOLOGY_SERVICE.getLanguage(),o="";return(0,a.n)((0,s.a)([v.X.DATA_SOURCE.getFormContext(),v.X.DATA_SOURCE.dataSourceChanged]).pipe((0,c.U)(function(e){var t=(0,r.CR)(e,2)[1];return o=v.X.DATA_SOURCE.getCacheToken(n.datasource),t}),(0,d.w)(function(e){return o&&e.has(o)?(0,l.of)(o):v.X.DATA_SOURCE.getDataSource(n.datasource,n)}),(0,d.w)(function(e){return o=v.X.DATA_SOURCE.getCacheToken(n.datasource),v.X.DATA_SOURCE.dataSourceChanged}),(0,h.h)(function(e){return e&&e.has(o)}),(0,u.g)(0),(0,f.q)(1))).then(function(t){var r=t.get(o);if(r){var a=r.find(function(t){return t.value===e});if(a)return n.codeValue(e,i,a.label)}else console.warn("default value cannot be set because api response is empty");return!0}).catch(function(e){return!1})},t.prototype.resetValue=function(){var e,t=this;this.clearValue();var n=this.getTerminology(),r=null===(e=this.datasource)||void 0===e?void 0:e.isValid();if(n||r){var i=this.defaultValueCode();i&&i.length||(i=[]),i.forEach(function(e){t.findInputItemByCode(e)||(r?t.setCodeValueFromDatasource(e):t.enrichCodeValueWithTerminology(e,n.url))})}return this.defaultValue()},t.prototype.removeValue=function(e){var t=this.findValueObjectByCode(e);if(t){var n=this.getOrCreateValueNodeRef().indexOf(t);this.setValue(null,n)}return t},t.prototype.clearAllOtherValues=function(){for(var e=this.getValue(),t=e.length-1;t>=0;t--)if(e[t]["|other"])return this.setValue(null,t)},t.prototype.isListOpen=function(){var e;return!this._getCodeInput()||(null===(e=this._getCodeInput())||void 0===e?void 0:e.isListOpen())},t.prototype.addCodedTextInputItem=function(e){this.addInputItem(e)},t.prototype.removeCodedTextInputItem=function(e){this.removeInputItem(e)},t.prototype.addInputItem=function(e,t){"object"==typeof e&&(this.findInputItemByCode(e.code)||(this.createInputItem(e.code,e.label,t),this.onInputItemsUpdated()))},t.prototype.removeInputItem=function(e){var t=this,n=this._getCodeInput();this.codeValue().then(function(r){var i=r.some(function(t){return t===e});n&&!i?(n.removeInputItem(e),t.onInputItemsUpdated()):i&&console.warn("Input item value must be deselected before removal / value=",e)})},t.prototype.addInput=function(t){e.prototype.addInput.call(this,t),t.getType()===o.n$I.CODED_TEXT&&this.onInputItemsUpdated()},t.prototype.hasDataset=function(){var e=this.getModelValueDataset();return!!e&&e.length>0},t.prototype.getModelValueDataset=function(){var e;return this.getInputFor("code")?null===(e=this.getInputFor("code"))||void 0===e?void 0:e.getInputItemList():[]},t.prototype.hasInputItemsSet=function(){var e=this.getInputFor("code");return(null==e?void 0:e.list)&&!!(null==e?void 0:e.list.length)||!!(null==e?void 0:e.hasOwnProperty("terminology"))},t.prototype._getCodeInput=function(){return this.getInputFor("code")},t.prototype._getOtherInput=function(){return this.getInputFor("other")},t.prototype.getDefaultValue=function(){var e;return null===(e=this._getCodeInput())||void 0===e?void 0:e.getDefaultValue()},t.prototype.setDefaultValues=function(e){var t;void 0===e&&(e=!1);var n=null!==(t=this.getDefaultValueFor("code"))&&void 0!==t?t:[];return[this.setDefaultValue(n,"code",e)]},t.prototype.defaultValue=function(){var e,t=this,n=this._getCodeInput();if(!n)return[];var r=this.defaultValueCode();if((null==r?void 0:r.length)>0&&r.some(function(e){return!g.G.isExpression(e)})){var i=r.every(function(e){return!g.G.isExpression(e)});if(n.defaultValue=r.map(function(e){return t.transformSimpleDefaultValueToExpression(e)}),i){var o=void 0;g.G.startsWithListFunction(n.defaultValue)||(o=g.G.createListExpression(n.defaultValue)),n.defaultValue=o?[o]:n.defaultValue}}return this.hasExternalDefaultValues()&&this.moveExternalDefaultValuesToDefaultValue(),(null===(e=null==n?void 0:n.defaultValue)||void 0===e?void 0:e.length)>0?this.setDefaultValues(!0):[]},t.prototype.getTerminologySelectedValues=function(){var e=p.O.TERMINOLOGY_SERVICE.getLanguage(),t=this.getTerminology().url;return(0,s.a)(this.getCodeValues().map(function(n){var r;return null===(r=p.O.TERMINOLOGY_SERVICE)||void 0===r?void 0:r.getItem(t,n,e)}))},t.prototype.setPropertyValue=function(e,t,n){var r=this;null==e?this.clearValue():"value"===e?Array.isArray(t)?t.forEach(function(e){return r.codeValue(e)}):this.codeValue(t):this.setSpecificPropertyValue(e,t,n)},t.prototype.resolveDefaultValue=function(e,t,n){var r=this;return m.A.DEFAULT_VALUES_SERVICE.getDefaultValues(this,e,n).then(function(e){var t,n,i=null!==(n=null===(t=r.getParentModel())||void 0===t?void 0:t.getMultiIndex())&&void 0!==n?n:0,o=i<e.length?e[i]:e[0];if(Array.isArray(o)){var a=[];return o.map(function(e){return e.trim()}).forEach(function(e){return a.push(r.codeValue(e))}),Promise.all(a)}return r.codeValue(o)})},t.prototype.createInputItem=function(e,t,n){var r=this._getCodeInput();if(r){var i=new o.O6i;return i.setLabel(t),i.setValue(e),r.addInputItem(i,n),i}},t.prototype.onInputItemsUpdated=function(){this.dispatchEvent(o.X4$.INPUT_ITEMS_UPDATED,this.getModelValueDataset())},t.prototype.setSpecificPropertyValue=function(t,n,r){var i,a=this;if("code"===t)this.codeValue(n);else if("label"===t){var s=null===(i=this.getInputByType(o.n$I.CODED_TEXT))||void 0===i?void 0:i.list.filter(function(e){return a.inputItemHasLocalizedValue(e,n)}),l=null==s?void 0:s.length;1===l?this.codeValue(null==s?void 0:s[0].value):l&&l>1&&console.warn("model "+this.getFormId()+" has more than one code with label: "+n)}else"otherValue"===t||"other"===t?this.otherValue(n):e.prototype.setSpecificPropertyValue.call(this,t,n,r)},t.prototype.inputItemHasLocalizedValue=function(e,t){return e.localizedLabels?Object.keys(e.localizedLabels).filter(function(n){return e.localizedLabels[n]===t}).length>0:e.label===t},t.prototype.transformSimpleDefaultValueToExpression=function(e){var t,n=null===(t=this._getCodeInput())||void 0===t?void 0:t.list;if((null==e?void 0:e.length)>0&&n){var r=n.find(function(t){return t.getValue()===e});if(r)return g.G.createPlainExpression(r.getLabel(),r.getValue())}return e},t.prototype.hasSimpleValueFormat=function(){return!1},t}(i.X)},85997:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.getRmType=function(){return i.B8O.DV_CODED_TEXT},t}(n(22410).y)},81180:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.countValue=function(e,t){return this.convertToValidNumber(this.valueGetterSetter(this.convertToValidNumber(e),t,"|value"))},t.prototype.hasValue=function(){var e;return null===(e=this.countValue())||void 0===e?void 0:e.some(function(e){return i.G1o.isNumber(e)})},t.prototype.convertToValidNumber=function(e){var t=function(e){return null==e?e:i.G1o.isInteger(e)?parseInt(e,10):i.G1o.isString(e)?0===e.trim().length?"":parseInt(e,10):i.G1o.isNumber(e)?Math.trunc(e):e};return i.G1o.isArray(e)?e.map(function(e){return t(e)}):t(e)},t.prototype.setPropertyValue=function(e,t,n){"value"===e?this.countValue(t,n):this.setSpecificPropertyValue(e,t,n)},t.prototype.getDefaultInput=function(){return this.getInputByType(i.n$I.INTEGER)},t.prototype.getRmType=function(){return i.B8O.DV_COUNT},t}(n(34991).W)},57490:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.dateValue=function(e,t){return this.valueGetterSetter(e,t,"|value")},t.prototype.dateObjectValue=function(){return i.G1o.toDate(this.dateValue())},t.prototype.getDefaultInput=function(){return this.getInputByType(i.n$I.DATE)},t.prototype.getRmType=function(){return i.B8O.DV_DATE},t.prototype.getPresentation=function(){if(this.hasPresentationSet())return this.getViewConfig().getFields("code").presentation},t.prototype.setViewConfigValues=function(e){if(e.viewConfig){var t=i.y3m.parseViewConfig(e.viewConfig,this.eventDispatcher,new i.Fxi(this.eventDispatcher));this.setDatePresentation(t),this.setViewConfig(t)}else this.setViewConfig(new i.Fxi(this.eventDispatcher))},t.prototype.hasPresentationSet=function(){var e=this.getViewConfig().getFields("code");return!!e&&e.hasOwnProperty("presentation")},t.prototype.setDatePresentation=function(e){var t,n,r,o=null===(t=e.field)||void 0===t?void 0:t.code,a=i.zR2.anyDatePattern;null===(n=this.inputs)||void 0===n||n.forEach(function(e){e.validation&&e.validation.getPattern()&&(a=e.validation.getPattern())}),r=o&&o.presentation?i.umi.DATEPICKER!==o.presentation||this.isMonthOrDayHidden(e)?i.umi.PARTIAL_DATE:i.umi.DATEPICKER:-1!==a.indexOf("XX")||this.isMonthOrDayHidden(e)?i.umi.PARTIAL_DATE:i.umi.DATEPICKER;var s=new i.gNt(r);return e.field?e.field.code=s:e.field={code:s},e},t.prototype.isMonthOrDayHidden=function(e){var t=[],n=[i.Qgf.YEAR,i.Qgf.MONTH,i.Qgf.DAY],r=e.field;return r&&(t=Object.keys(r).filter(function(e){return n.includes(i.Qgf[e.toUpperCase()])}).filter(function(e){return!0===r[e].hidden})),t.includes(i.Qgf.DAY)||t.includes(i.Qgf.MONTH)},t}(n(34991).W)},87974:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.getDateTimeByDate=function(e){return i.G1o.toLocalTimezoneOffsetISOString(e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+"T"+e.getHours()+":"+e.getMinutes())},t.prototype.dateTimeValue=function(e,t){return this.valueGetterSetter(i.G1o.toLocalTimezoneOffsetISOString(e),t,"|value")},t.prototype.setDateTime=function(e,t,n,r,i,o){void 0===o&&(o=0),this.dateTimeValue(e+"-"+t+"-"+n+"T"+r+":"+i,o)},t.prototype.setPropertyValue=function(e,t,n){"value"===e?this.dateTimeValue(t,n):this.setSpecificPropertyValue(e,t,n)},t.prototype.getDefaultInput=function(){return this.getInputByType(i.n$I.DATETIME)},t.prototype.getRmType=function(){return i.B8O.DV_DATE_TIME},t}(n(34991).W)},1550:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(64762),i=n(34991),o=n(1954),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.mapObjectToPeriodString=function(e){var t=o.zR2.getDurationFieldNames().map(function(t){return e[t]?e[t]:0});return o.yC5.periodToString(t)},t.getFieldIndex=function(e){return o.zR2.getDurationFieldNames().indexOf(e)},t.prototype.setPeriodValue=function(e,t){this.setValue(o.zR2.mapPeriodStringValueToObject(e),t)},t.prototype.getPeriodValue=function(e){return null!=e?t.mapObjectToPeriodString(this.getValue(void 0,e)):this.getValue().map(function(e){return t.mapObjectToPeriodString(e)})},t.prototype.hasValue=function(){return this.durationValue().some(function(e){return Object.values(e).some(function(e){return null!=e&&e.toString().length>0})})},t.prototype.durationValue=function(e,t){return this.valueGetterSetter(e,t)},t.prototype.yearsValue=function(e,t){return void 0===t&&(t=0),this.valueGetterSetter(e,t,"year")},t.prototype.monthsValue=function(e,t){return void 0===t&&(t=0),this.valueGetterSetter(e,t,"month")},t.prototype.weeksValue=function(e,t){return void 0===t&&(t=0),this.valueGetterSetter(e,t,"week")},t.prototype.daysValue=function(e,t){return void 0===t&&(t=0),this.valueGetterSetter(e,t,"day")},t.prototype.hoursValue=function(e,t){return void 0===t&&(t=0),this.valueGetterSetter(e,t,"hour")},t.prototype.minutesValue=function(e,t){return void 0===t&&(t=0),this.valueGetterSetter(e,t,"minute")},t.prototype.secondsValue=function(e,t){return void 0===t&&(t=0),this.valueGetterSetter(e,t,"second")},t.prototype.setSpecificPropertyValue=function(t,n,r){o.zR2.getDurationFieldNames().findIndex(function(e){return e===t})>-1?this.setValue(n,r,t):e.prototype.setSpecificPropertyValue.call(this,t,n,r)},t.prototype.getDefaultValue=function(){for(var e=[this.getDefaultValueFor("year"),this.getDefaultValueFor("month"),this.getDefaultValueFor("week"),this.getDefaultValueFor("day"),this.getDefaultValueFor("hour"),this.getDefaultValueFor("minute"),this.getDefaultValueFor("second")],n=e.reduce(function(e,t){var n;return Math.max(e,null!==(n=null==t?void 0:t.length)&&void 0!==n?n:0)},0),r=[],i=function(n){var i={};o.zR2.getDurationFieldNames().forEach(function(n){var r=e[t.getFieldIndex(n)];(null==r?void 0:r.length)&&(i[n]=r)}),r.push(i)},a=0;a<n;a++)i();return 1===r.length&&0===Object.keys(r[0]).length?null:r},t.prototype.isDefaultValueSet=function(){return[this.getDefaultValueFor("year"),this.getDefaultValueFor("month"),this.getDefaultValueFor("week"),this.getDefaultValueFor("day"),this.getDefaultValueFor("hour"),this.getDefaultValueFor("minute"),this.getDefaultValueFor("second")].reduce(function(e,t){var n;return Math.max(e,null!==(n=null==t?void 0:t.length)&&void 0!==n?n:0)},0)>0},t.prototype.defaultValue=function(){this.hasExternalDefaultValues()&&this.moveExternalDefaultValuesToDefaultValue();var e=[this.defaultValueFor("year"),this.defaultValueFor("month"),this.defaultValueFor("week"),this.defaultValueFor("day"),this.defaultValueFor("hour"),this.defaultValueFor("minute"),this.defaultValueFor("second")];return 0===(null==e?void 0:e.length)?[]:this.setDefaultValues()},t.prototype.getDefaultInput=function(){},t.prototype.defaultValueFor=function(e){var t=this.getInputFor(e);if(t){var n=t.getDefaultValue();if(null!=n)return o.G1o.isArray(n)?n:[n]}return[]},t.prototype.getDefaultValueFor=function(e){var t;return null===(t=this.getInputFor(e))||void 0===t?void 0:t.getDefaultValue()},t.prototype.getRmType=function(){return o.B8O.DV_DURATION},t.prototype.columns=function(e){if(void 0===e){if(void 0===this._columns){var t=this.getInputs().length,n=this.getViewConfig().getFields(),r=n&&n.columns?parseInt(n.columns.toString(),10):t;this._columns=r<=t?r:t}}else this._columns=e;return this._columns},t.prototype.isFieldDisabled=function(e){var t=this.getViewConfig().getFields(e);return t&&!0===t.disabled},t.prototype.isFieldHidden=function(e){var t=this.getViewConfig().getFields(e);return t&&!0===t.hidden},t.prototype.hasSimpleValueFormat=function(){return!1},t}(i.W)},64905:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var r=n(64762),i=n(3928),o=n(1954),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.ehrUriValue=function(e,t){return this.valueGetterSetter(e,t,"|value")},t.prototype.getRmType=function(){return o.B8O.DV_EHR_URI},t}(i.g)},34950:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var r=n(64762),i=n(1954),o=n(28148),a=n(82013),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.getRmType=function(){return i.B8O.GENERIC_EXTERNAL_WIDGET},t.prototype.getInputs=function(){return this.inputs},t.prototype.getInputByType=function(e){for(var t=0;t<this.inputs.length;t++){var n=this.inputs[t];if(n.getType()===e)return n}return null},t.prototype.setValuesFromObject=function(t){e.prototype.setValuesFromObject.call(this,t),t.hasOwnProperty("valueMappingData")&&this.setValueMappingData(t.valueMappingData)},t.prototype.getValueMappingData=function(){return this.valueMappingData},t.prototype.setValueMappingData=function(e){this.valueMappingData=e},t.prototype.isGeneric=function(){return!0},t.prototype.defaultValue=function(){return[]},t.prototype.getFieldDependency=function(){var e=this.annotationValue("conditions"),t=e?JSON.parse(e):void 0,n=this.getUpdateDependency();return n&&!t?t={formId:this.formId,expressions:[n]}:n&&t.expressions.unshift(n),t},t.prototype.handleAction=function(e){this.eventDispatcher.dispatchEvent(i.X4$.WIDGET_OUTPUT_EVENT,e)},t.prototype.hasSimpleValueFormat=function(){return!0},t.prototype.refreshData=function(){this.eventDispatcher.dispatchEvent(i.X4$.DATASOURCE_CHANGE,this)},t.prototype.getValueMapping=function(){var e;return null===(e=this.valueMappingData)||void 0===e?void 0:e.valueMapping},t.prototype.getParentModelExpression=function(){var e,t,n=null===(e=this.valueMappingData)||void 0===e?void 0:e.listExpression,r=null===(t=this.valueMappingData)||void 0===t?void 0:t.index;if(n&&null!=r&&!(r<0))return n+" "+a.y.dataSourceBindDelimiter+i.U2h.N+r+a.y.dataSourceBindDelimiter},t.prototype.getParentModelPathParams=function(){var e;return null===(e=this.valueMappingData)||void 0===e?void 0:e.listPathParams},t.prototype.isValueMappingValid=function(){var e;return!1!==(null===(e=this.getValueMappingData())||void 0===e?void 0:e.valid)},t.prototype.setValueMappingValidity=function(e){var t,n=null!==(t=this.getValueMappingData())&&void 0!==t?t:{};n.valid=e,this.setValueMappingData((0,r.pi)({},n))},t.prototype.setSpecificPropertyValue=function(e,t,n){e&&"|value"!==e?(null==t?void 0:t.hasOwnProperty("|value"))&&this.setValue(t["|value"]):this.setValue(t)},t.prototype.getUpdateDependency=function(){try{var e=this.getInputByType(i.n$I.CUSTOM);return JSON.parse(null==e?void 0:e.updateValueExpression)}catch(t){return}},t}(o.X)},60638:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.getRmType=function(){return i.B8O.GENERIC_NUMERIC_FIELD},t.prototype.convertToValidNumber=function(e){var t=function(e){return null==e?e:i.G1o.isNumber(e)?parseFloat(e):i.G1o.isString(e)?0===e.trim().length?"":parseFloat(e):e};return i.G1o.isArray(e)?e.map(function(e){return t(e)}):t(e)},t.prototype.isGeneric=function(){return!0},t}(n(81180).t)},84520:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.idValue=function(e,t){return this.valueGetterSetter(e,t,"|id")},t.prototype.typeValue=function(e,t){return this.valueGetterSetter(e,t,"|type")},t.prototype.issuerValue=function(e,t){return this.valueGetterSetter(e,t,"|issuer")},t.prototype.assignerValue=function(e,t){return this.valueGetterSetter(e,t,"|assigner")},t.prototype.getDefaultInput=function(){return this.getInputFor("id")},t.prototype.identifierValue=function(e,t){var n=this.valueGetterSetter(e,t,"|id"),r=this.valueGetterSetter(e,t,"|type"),i=this.valueGetterSetter(e,t,"|issuer"),o=this.valueGetterSetter(e,t,"|assigner");if(void 0===e)return n.map(function(e,t){return{id:e,type:r[t],assigner:o[t],issuer:i[t]}})},t.prototype.setSpecificPropertyValue=function(t,n,r){"id"===t?this.idValue(n,r):"type"===t?this.typeValue(n,r):"issuer"===t?this.issuerValue(n,r):"assigner"===t?this.assignerValue(n,r):e.prototype.setSpecificPropertyValue.call(this,t,n,r)},t.prototype.getDefaultValue=function(){var e=this.getDefaultValueFor("id"),t=this.getDefaultValueFor("type"),n=this.getDefaultValueFor("issuer"),r=this.getDefaultValueFor("assigner");if([e,t,n,r].every(function(e){return null==e}))return[];for(var i=Math.max(e.length,t.length,n.length,r.length),o=[],a=0;a<i;a++)o.push({id:e,type:t,issuer:n,assigner:r});return o},t.prototype.isDefaultValueSet=function(){return[this.getDefaultValueFor("id"),this.getDefaultValueFor("type"),this.getDefaultValueFor("issuer"),this.getDefaultValueFor("assigner")].some(function(e){return e.length>0&&e.some(function(e){return e.length>0})})},t.prototype.defaultValue=function(){this.hasExternalDefaultValues()&&this.moveExternalDefaultValuesToDefaultValue();var e=this.getDefaultValueFor("id"),t=this.getDefaultValueFor("type"),n=this.getDefaultValueFor("issuer"),r=this.getDefaultValueFor("assigner");return 0===Math.max(e.length,t.length,n.length,r.length)?[]:this.setDefaultValues(!0)},t.prototype.hasValue=function(){var e,t=(0,r.CR)(this.idValue(),1)[0];return i.G1o.isString(t)?(null===(e=t)||void 0===e?void 0:e.length)>0:null!=t},t.prototype.getRmType=function(){return i.B8O.DV_IDENTIFIER},t.prototype.hasSimpleValueFormat=function(){return!1},t}(n(34991).W)},9165:function(e,t,n){"use strict";n.d(t,{W:function(){return a}});var r=n(64762),i=n(28148),o=n(1954),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.uriValue=function(e,t){return this.valueGetterSetter(e,t,"|uri")},t.prototype.defaultValueUri=function(){var e,t=null===(e=this.getInputByType(o.n$I.TEXT))||void 0===e?void 0:e.getDefaultValue();return null!=t?Array.isArray(t)?t:[t]:[]},t.prototype.getDefaultValue=function(){return this.defaultValueUri()},t.prototype.mediaTypeValue=function(e,t){return this.valueGetterSetter(e,t,"|mediatype")},t.prototype.altTextValue=function(e,t){return this.valueGetterSetter(e,t,"|alternatetext")},t.prototype.replaceValueWithUri=function(e,t){if(e["|value"]){var n=e["|value"];delete e["|value"],e=(0,r.pi)({"|uri":n},e)}return this.valueGetterSetter(e,t)},t.prototype.getRmType=function(){return o.B8O.DV_MULTIMEDIA},t.prototype.defaultValue=function(){return this.clearValue(),[Promise.resolve(!0)]},t.prototype.hasSimpleValueFormat=function(){return!1},t}(i.X)},86617:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(64762),i=n(22410),o=n(1954),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype._getCodeInput=function(){return this.getInput(0)},t.prototype.getInputFor=function(t){return"code"===t?this.getInput(0):e.prototype.getInputFor.call(this,t)},t.prototype.getRmType=function(){return o.B8O.DV_ORDINAL},t.prototype.setSpecificPropertyValue=function(t,n,r){var i;if("ordinal"===t){var a=null===(i=this.getInputByType(o.n$I.CODED_TEXT))||void 0===i?void 0:i.list.filter(function(e){return e.ordinal===n});a&&a.length>1&&console.warn("model "+this.getFormId()+" has more than one code with ordinal: "+n),1===(null==a?void 0:a.length)&&this.codeValue(a[0].value)}else e.prototype.setSpecificPropertyValue.call(this,t,n,r)},t}(i.y)},39089:function(e,t,n){"use strict";n.d(t,{y:function(){return a}});var r=n(64762),i=n(28148),o=n(1954),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.valueValue=function(e,t){return this.valueGetterSetter(e,t,"|value")},t.prototype.hasValue=function(){return this.valueValue().some(function(e){return Object.values(e).some(function(e){return!!e})})},t.prototype.formalismValue=function(e,t){return this.valueGetterSetter(e,t,"|formalism")},t.prototype.setPropertyValue=function(e,t,n){e&&"value"!==e?"formalism"===e&&this.formalismValue(t,n):this.valueValue(t,n)},t.prototype.defaultValue=function(){this.hasExternalDefaultValues()&&this.moveExternalDefaultValuesToDefaultValue();var e=this.getDefaultValueFor("value"),t=this.getDefaultValueFor("formalism");return 0===Math.max(e.length,t.length)?[]:this.setDefaultValues(!0)},t.prototype.getDefaultValue=function(){var e=this.getDefaultValueFor("value"),t=this.getDefaultValueFor("formalism");if(!e||!t)return[];for(var n=Math.max(e.length,t.length),r=[],i=0;i<n;i++)r.push({value:e,formalism:t});return r},t.prototype.isDefaultValueSet=function(){return[this.getDefaultValueFor("value"),this.getDefaultValueFor("formalism")].some(function(e){return e.length>0&&e.some(function(e){return e.length>0})})},t.prototype.setSpecificPropertyValue=function(t,n,r){"value"===t?this.valueValue(n,r):"formalism"===t?this.formalismValue(n,r):e.prototype.setSpecificPropertyValue.call(this,t,n,r)},t.prototype.getRmType=function(){return o.B8O.DV_PARSABLE},t.prototype.hasSimpleValueFormat=function(){return!1},t}(i.X)},22961:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=n(64762),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.idValue=function(e,t){return this.valueGetterSetter(e,t,"|id")},t.prototype.idSchemeValue=function(e,t){return this.valueGetterSetter(e,t,"|id_scheme")},t.prototype.idNamespaceValue=function(e,t){return this.valueGetterSetter(e,t,"|id_namespace")},t.prototype.nameValue=function(e,t){return this.valueGetterSetter(e,t,"|name")},t.prototype.setPropertyValue=function(e,t,n){e&&"value"!==e&&"id"!==e?"id_schema"===e?this.idSchemeValue(t,n):"id_namespace"===e?this.idNamespaceValue(t,n):"name"===e&&this.nameValue(t,n):this.idValue(t,n)},t.prototype.getDefaultValue=function(){var e=this.getDefaultValueFor("id"),t=this.getDefaultValueFor("id_scheme"),n=this.getDefaultValueFor("id_namespace"),r=this.getDefaultValueFor("name");if(!(e&&t&&n&&r))return[];for(var i=Math.max(e.length,t.length,n.length,r.length),o=[],a=0;a<i;a++)o.push({id:e,id_scheme:t,id_namespace:n,name:r});return o},t.prototype.setSpecificPropertyValue=function(t,n,r){"id"===t?this.idValue(n,r):"id_scheme"===t?this.idSchemeValue(n,r):"id_namespace"===t?this.idNamespaceValue(n,r):"name"===t?this.nameValue(n,r):e.prototype.setSpecificPropertyValue.call(this,t,n,r)},t.prototype.defaultValue=function(){this.hasExternalDefaultValues()&&this.moveExternalDefaultValuesToDefaultValue();var e=this.getDefaultValueFor("id"),t=this.getDefaultValueFor("id_scheme"),n=this.getDefaultValueFor("id_namespace"),r=this.getDefaultValueFor("name");return 0===Math.max(e.length,t.length,n.length,r.length)?[]:this.setDefaultValues(!0)},t.prototype.hasSimpleValueFormat=function(){return!1},t}(n(28148).X)},24309:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var r=n(64762),i=n(28148),o=n(1954),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.setSpecificPropertyValue=function(t,n,r){"denominator"===t?this.denominatorValue(n,r):"numerator"===t?this.numeratorValue(n,r):e.prototype.setSpecificPropertyValue.call(this,t,n,r)},t.prototype.numeratorValue=function(e,t){if(void 0!==e){var n=e&&o.G1o.isString(e)?parseFloat(e):e;this.setValue(n,t,"|numerator");var r=this._getFixedDenominator();null!=r&&this.setValue(r,t,"|denominator")}return this.getValue("|numerator",t)},t.prototype.defaultValueNumerator=function(){var e,t=null===(e=this.getInputFor("numerator"))||void 0===e?void 0:e.getDefaultValue();return o.G1o.isString(t)?t.length>0?[parseFloat(t)]:[]:null!=t?o.G1o.isArray(t)?t:[t]:[]},t.prototype.denominatorValue=function(e,t){if(void 0!==e){var n=this._getFixedDenominator();null!=n&&(e=n);var r=e&&o.G1o.isString(e)?parseFloat(e):e;this.setValue(r,t,"|denominator")}return this.getValue("|denominator",t)},t.prototype.defaultValueDenominator=function(e){var t;void 0===e&&(e=this.defaultValueNumerator().length);var n=null===(t=this.getInputFor("denominator"))||void 0===t?void 0:t.getDefaultValue(),r=[];o.G1o.isString(n)?r=n.length>0?[parseFloat(n)]:[]:null!=n&&(r=o.G1o.isArray(n)?n:[n]);var i=this._getFixedDenominator();if(null!=i&&e>=r.length)for(var a=0;a<e;a++)void 0===r[a]&&(r[a]=i);return r},t.prototype._getFixedDenominator=function(){var e=this.getMinValueForDenominator(),t=this.getMaxValueForDenominator();return e&&e===t?parseFloat(e):null},t.prototype._getRangeNumericProperty=function(e,t){if(!e||!e.range)return null;var n=e.range[t];return void 0===n?null:"string"==typeof n?parseFloat(n):"number"==typeof n?n:null},t.prototype._getRangeStringProperty=function(e,t){return e&&e.range&&o.G1o.isString(e.range[t])?e.range[t]:null},t.prototype.getMinValueForNumerator=function(){var e;return this._getRangeNumericProperty(null===(e=this.getInputFor("numerator"))||void 0===e?void 0:e.getValidation(),"min")},t.prototype.getMaxValueForNumerator=function(){var e;return this._getRangeNumericProperty(null===(e=this.getInputFor("numerator"))||void 0===e?void 0:e.getValidation(),"max")},t.prototype.getMinValueForDenominator=function(){var e;return this._getRangeNumericProperty(null===(e=this.getInputFor("denominator"))||void 0===e?void 0:e.getValidation(),"min")},t.prototype.getMaxValueForDenominator=function(){var e;return this._getRangeNumericProperty(null===(e=this.getInputFor("denominator"))||void 0===e?void 0:e.getValidation(),"max")},t.prototype.getMinOperatorForNumerator=function(){var e;return this._getRangeStringProperty(null===(e=this.getInputFor("numerator"))||void 0===e?void 0:e.getValidation(),"minOp")},t.prototype.getMaxOperatorForNumerator=function(){var e;return this._getRangeStringProperty(null===(e=this.getInputFor("numerator"))||void 0===e?void 0:e.getValidation(),"maxOp")},t.prototype.getMinOperatorForDenominator=function(){var e;return this._getRangeStringProperty(null===(e=this.getInputFor("denominator"))||void 0===e?void 0:e.getValidation(),"minOp")},t.prototype.getMaxOperatorForDenominator=function(){var e;return this._getRangeStringProperty(null===(e=this.getInputFor("denominator"))||void 0===e?void 0:e.getValidation(),"maxOp")},t.prototype.getRmType=function(){return o.B8O.DV_PROPORTION},t.prototype.getDefaultValue=function(){for(var e=this.defaultValueNumerator(),t=this.defaultValueDenominator(e.length),n=[],r=Math.max(t?t.length:0,e?e.length:0),i=0;i<r;i++)n.push({denominator:t,numerator:e});return n},t.prototype.defaultValue=function(){this.hasExternalDefaultValues()&&this.moveExternalDefaultValuesToDefaultValue();var e=this.defaultValueNumerator(),t=this.defaultValueDenominator(e.length);return 0===Math.max(t?t.length:0,e?e.length:0)?[]:this.setDefaultValues(!0)},t.prototype.clearDenominatorValue=function(e){this.setValue(null,e,"|denominator")},t.prototype.clearNumeratorValue=function(e){this.setValue(null,e,"|numerator")},t.prototype.removeValue=function(e){this.setValue(null,e)},t.prototype.hasValue=function(){return this.denominatorValue().some(function(e){return null!=e&&""!==e})||this.numeratorValue().some(function(e){return null!=e&&""!==e})},t.prototype.hasSimpleValueFormat=function(){return!1},t}(i.X)},49522:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});var r=n(64762),i=n(28148),o=n(1954),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.magnitudeValue=function(e,t){if(void 0!==e){var n=e&&o.G1o.isString(e)?parseFloat(e):e;if(null===n||""===e||void 0===n)return this.clearMagnitudeValue(t),null;this.setValue(n,t,"|magnitude")}return this.getValue("|magnitude",t)},t.prototype.defaultValueMagnitude=function(){var e,t=this.getMultiContainerDefaultValue();if(null!=t&&(t=this._getPropertyValueFromMultiDefaultString(t,"magnitude",!1))&&(null===(e=this.getInputFor("magnitude"))||void 0===e||e.setDefaultValue(t)),null==t){var n=this.getInputFor("magnitude");t=null==n?void 0:n.getDefaultValue()}return o.G1o.isString(t)?t.length>0?[parseFloat(t)]:[]:null!=t?(o.G1o.isArray(t)&&(t=t.map(function(e){return null!=e?parseFloat(e):null})),o.G1o.isArray(t)?t:[t]):[]},t.prototype.unitValue=function(e,t){if(void 0!==e){if(null===e||""===e)return this.clearUnitValue(t),null;this.setValue(e,t,"|unit")}return this.getValue("|unit",t)},t.prototype.defaultValueUnit=function(){var e,t=this.getMultiContainerDefaultValue();if(null!=t&&(t=this._getPropertyValueFromMultiDefaultString(t,"unit",!0))&&(null===(e=this.getInputFor("unit"))||void 0===e||e.setDefaultValue(t)),null==t){var n=this.getAvailableUnits();t=1===n.length?n[0].value:this.getInputFor("unit").getDefaultValue()}return o.G1o.isArray(t)?t:[t]},t.prototype.getMagnitudeDefaultValues=function(){var e;return null===(e=this.getInputFor("magnitude"))||void 0===e?void 0:e.getDefaultValue()},t.prototype.getUnitDefaultValues=function(){var e;return null===(e=this.getInputFor("unit"))||void 0===e?void 0:e.getDefaultValue()},t.prototype._getValidationPropertyForUnit=function(e,t){var n,r=void 0!==e?e:this.unitValue();if(null==r)return console.warn("Unit parameter must be passed in!"),null;var i=o.G1o.isInteger(e),a=null===(n=this.getInputFor("unit"))||void 0===n?void 0:n.getInputItemList();if(a){for(var s=0;s<a.length;s++){var l=a[s];if(i&&r===s||l.getValue()===r)return l.getValidation()&&void 0!==l.getValidation()[t]?o.G1o.isFunction(l.getValidation()[t])?l.getValidation()[t].call(l.getValidation()):l.getValidation()[t]:null}return null}},t.prototype.getPrecisionForUnit=function(e){if(null==e)throw new Error("getPrecisionForUnit() - unit parameter is required!");return this._getValidationPropertyForUnit(e,"getPrecision")},t.prototype.getRangeForUnit=function(e){return this._getValidationPropertyForUnit(e,"range")},t.prototype.getMinValueForUnit=function(e){var t=this.getRangeForUnit(e);return t&&void 0!==t.min?{min:parseFloat(t.min),minOp:t.minOp?t.minOp:">="}:null},t.prototype.getMaxValueForUnit=function(e){var t=this.getRangeForUnit(e);return t&&void 0!==t.max?{max:parseFloat(t.max),maxOp:t.maxOp?t.maxOp:"<="}:null},t.prototype.getDefaultValue=function(){for(var e=this.getUnitDefaultValues(),t=this.getMagnitudeDefaultValues(),n=[],r=Math.max(e?e.length:0,t?t.length:0),i=0;i<r;i++)if((null==e?void 0:e.length)||(null==t?void 0:t.length)){var o={};(null==e?void 0:e.length)&&(o.unit=e),(null==t?void 0:t.length)&&(o.magnitude=t),n.push(o)}return n},t.prototype.defaultValue=function(){this.hasExternalDefaultValues()&&this.moveExternalDefaultValuesToDefaultValue();var e=this.defaultValueUnit(),t=this.defaultValueMagnitude();return 0===Math.max(e?e.length:0,t?t.length:0)?[]:this.setDefaultValues(!0)},t.prototype.clearUnitValue=function(e){this.setValue(null,e,"|unit")},t.prototype.clearMagnitudeValue=function(e){this.setValue(null,e,"|magnitude")},t.prototype.removeValue=function(e){this.setValue(null,e)},t.prototype.getRmType=function(){return o.B8O.DV_QUANTITY},t.prototype.hasValue=function(){return this.valueGetterSetter().some(function(e){return null!=e["|magnitude"]})},t.prototype.clearValue=function(){var t=this.getAvailableUnits();1===t.length?this.setValue({"|magnitude":null,"|unit":t[0].value}):e.prototype.clearValue.call(this)},t.prototype.getAvailableUnits=function(){var e,t=null===(e=this.getInputFor("unit"))||void 0===e?void 0:e.getInputItemList();if(!t||!t.length)return[];if(1===t.length)return t;var n=this.getViewConfig().field;if(n){var r=t.map(function(e){return e.value}),i=Object.keys(n).filter(function(e){return r.indexOf(e)>-1}).filter(function(e){return n[e].hidden});if(t.length-i.length==1)return t.filter(function(e){return-1===i.indexOf(e.value)})}return t},t.prototype.getMultiContainerDefaultValue=function(){var e=this.getParentModel();if(e&&e.isMulti&&e.isMulti()){var t=this.getViewConfig().annotationValue("multiDefault");if(t){var n=t.split(";")[e.getMultiIndex()];return null!=n?n.trim():void 0}}},t.prototype._getPropertyValueFromMultiDefaultString=function(e,t,n){if(e.indexOf("|")<0&&e.indexOf("=")<0&&!n)return e;for(var r=e.split("|"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0].trim()===t)return o[1]}},t.prototype.setSpecificPropertyValue=function(t,n,r){if("magnitude"===t){this.magnitudeValue(n,r);var i=this.getAvailableUnits();1===(null==i?void 0:i.length)&&this.unitValue(i[0].value,r)}else"unit"===t?this.unitValue(n,r):e.prototype.setSpecificPropertyValue.call(this,t,n,r)},t.prototype.hasSimpleValueFormat=function(){return!1},t}(i.X)},23811:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(64762),i=n(86617),o=n(1954),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype._getCodeInput=function(){return this.getInput(0)},t.prototype.getInputFor=function(t){return"code"===t?this.getInput(0):e.prototype.getInputFor.call(this,t)},t.prototype.getRmType=function(){return o.B8O.DV_SCALE},t.prototype.setSpecificPropertyValue=function(t,n,r){var i;if("scale"===t){var a=null===(i=this.getInputByType(o.n$I.CODED_TEXT))||void 0===i?void 0:i.list.filter(function(e){return e.scale===n});a&&a.length>1&&console.warn("model "+this.getFormId()+" has more than one code with scale: "+n),1===(null==a?void 0:a.length)&&this.codeValue(a[0].value)}else e.prototype.setSpecificPropertyValue.call(this,t,n,r)},t}(i.b)},1724:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(64762),i=n(34991),o=n(1954),a=n(67019),s=n(44432),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.defaultValue=function(){var t=this;if(this.hasPredefinedInputs()){var n=this.getDefaultInput(),r=null==n?void 0:n.getDefaultValue();if(n&&(null==r?void 0:r.length)&&r.some(function(e){return!a.G.isExpression(e)})){var i=r.every(function(e){return!a.G.isExpression(e)});if(n.defaultValue=r.map(function(e){return t.transformSimpleDefaultValueToExpression(e)}),i){var o=void 0;a.G.startsWithListFunction(n.defaultValue)||(o=a.G.createListExpression(n.defaultValue)),n.defaultValue=o?[o]:n.defaultValue}}}return e.prototype.defaultValue.call(this)},t.prototype.textValue=function(e,t){return this.valueGetterSetter(e,t,"|value")},t.prototype.getDefaultInput=function(){return this.getInputByType(o.n$I.TEXT)},t.prototype.isRegularText=function(){var e;return!this.hasPredefinedInputs()&&!this.hasTerminology()&&!(null===(e=this.datasource)||void 0===e?void 0:e.isValid())},t.prototype.hasPredefinedInputs=function(){var e;return!!(null===(e=this.getInputFor("textValues"))||void 0===e?void 0:e.getInputItemList())&&this.getInputFor("textValues").getInputItemList().length>0},t.prototype.hasTerminology=function(){var e,t,n;return(null===(t=null===(e=null==this?void 0:this.datasource)||void 0===e?void 0:e.bindings)||void 0===t?void 0:t.label)||this.viewConfig.datasource&&!0===this.viewConfig.datasource.loadRemote||!!(null===(n=this.getInputFor("code"))||void 0===n?void 0:n.getTerminology())},t.prototype.allowValuesNotDefinedOnInputItems=function(){var e=this.getInputFor("textValues");return!e||e.isListOpen()},t.prototype.getModelValueDataset=function(){var e=this.getInputFor("textValues");return e&&e.list?e.list:[]},t.prototype.getInputFor=function(t){return"textValues"===t?this.getInput(0):e.prototype.getInputFor.call(this,t)},t.prototype.isListOpen=function(){var e,t;return!!(null===(e=this.getDefaultInput())||void 0===e?void 0:e.listOpen)||!(null===(t=this.getDefaultInput())||void 0===t?void 0:t.hasOwnProperty("listOpen"))},t.prototype.getRmType=function(){return o.B8O.DV_TEXT},t.prototype.removeValue=function(e){var t=this.getOrCreateValueNodeRef().indexOf(e);return t>-1&&this.setValue(null,t),e},t.prototype.addInputItem=function(e,t){var n;if(e&&"string"==typeof e){var r=new o.O6i;r.value=e,r.label=e;var i=this.getInputFor("textValues");!((null===(n=null==i?void 0:i.list)||void 0===n?void 0:n.findIndex(function(t){return t.value===e}))>-1)&&i&&i.list&&(i.addInputItem(r,t),this.dispatchEvent(o.X4$.INPUT_ITEMS_UPDATED,i))}},t.prototype.removeInputItem=function(e){if(e){var t=this.getInputFor("textValues");t&&t.list&&t.list.length>0&&(t.removeInputItem(e),this.dispatchEvent(o.X4$.INPUT_ITEMS_UPDATED,t))}},t.prototype.resolveDefaultValue=function(e,t,n){var r=this;return s.A.DEFAULT_VALUES_SERVICE.getDefaultValues(this,e,n).then(function(e){var t,n,i=null!==(n=null===(t=r.getParentModel())||void 0===t?void 0:t.getMultiIndex())&&void 0!==n?n:0,o=i<e.length?e[i]:e[0];return!r.isRegularText()&&Array.isArray(o)?o.map(function(e){return e.trim()}).forEach(function(e,t){return r.setValue(e,t,"|value")}):null!=o&&r.setValue(o,0,"|value"),!0})},t.prototype.transformSimpleDefaultValueToExpression=function(e){var t,n=null===(t=this.getDefaultInput())||void 0===t?void 0:t.getInputItemList();if(n&&(null==e?void 0:e.length)>0){var r=n.find(function(t){return t.getValue()===e}),i=null==r?void 0:r.getValue();if(i)return a.G.createPlainExpression(i)}return e},t}(i.W)},62118:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.timeValue=function(e,t){return e&&(e=Array.isArray(e)?e.map(this.formatTimeString):this.formatTimeString(e)),this.valueGetterSetter(e,t,"|value")},t.prototype.setPropertyValue=function(e,t,n){"value"===e?this.timeValue(t,n):this.setSpecificPropertyValue(e,t,n)},t.prototype.formatTimeString=function(e){if(e&&"string"==typeof e&&e.indexOf("T")>-1){var t=new Date(e);if(!isNaN(t.getTime()))return t.getHours()+":"+t.getMinutes()}else if(e&&"string"==typeof e&&e.indexOf(":")>-1){var n=e.split(":");if(1===n[1].length)return n[0]+":0"+n[1]}return e},t.prototype.getDefaultInput=function(){return this.getInputByType(i.n$I.TIME)},t.prototype.getRmType=function(){return i.B8O.DV_TIME},t}(n(34991).W)},3928:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});var r=n(64762),i=n(1954),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.uriValue=function(e,t){return this.valueGetterSetter(e,t,"|value")},t.prototype.getDefaultInput=function(){return this.getInputByType(i.n$I.TEXT)},t.prototype.getRmType=function(){return i.B8O.DV_URI},t}(n(34991).W)},3512:function(e,t,n){"use strict";n.d(t,{Q:function(){return J}});var r,i=n(84520),o=n(1954),a=n(64905),s=n(3928),l=n(1550),u=n(81180),c=n(86617),d=n(23811),h=n(87974),f=n(62118),p=n(57490),m=n(83472),v=n(9165),g=n(24309),y=n(1724),b=n(85997),_=n(49522),C=n(3586),E=n(79031),T=n(34430),w=n(64762),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,w.ZT)(t,e),t.prototype.getRmType=function(){return o.B8O.GENERIC_INPUT_TEXT},t.prototype.isGeneric=function(){return!0},t}(y.A),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,w.ZT)(t,e),t.prototype.isGeneric=function(){return!0},t.prototype.getRmType=function(){return o.B8O.GENERIC_CODED_TEXT},t}(b.$),I=n(60638),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,w.ZT)(t,e),t.prototype.getRmType=function(){return o.B8O.GENERIC_PROPORTION_FIELD},t.prototype.isGeneric=function(){return!0},t}(g.V),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,w.ZT)(t,e),t.prototype.getRmType=function(){return o.B8O.GENERIC_DATE_FIELD},t.prototype.isGeneric=function(){return!0},t}(p.l),V=n(34950),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,w.ZT)(t,e),t.prototype.isGeneric=function(){return!0},t.prototype.getRmType=function(){return o.B8O.GENERIC_ORDINAL},t}(c.b),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,w.ZT)(t,e),t.prototype.isGeneric=function(){return!0},t.prototype.getRmType=function(){return o.B8O.GENERIC_BOOLEAN},t}(m.q),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,w.ZT)(t,e),t.prototype.isGeneric=function(){return!0},t.prototype.getRmType=function(){return o.B8O.GENERIC_QUANTITY},t}(_.M),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,w.ZT)(t,e),t.prototype.isGeneric=function(){return!0},t.prototype.getRmType=function(){return o.B8O.GENERIC_TIME},t}(f.m),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,w.ZT)(t,e),t.prototype.isGeneric=function(){return!0},t.prototype.getRmType=function(){return o.B8O.GENERIC_DATE_TIME},t}(h.Y),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,w.ZT)(t,e),t.prototype.hasValue=function(){var e;return!!(null===(e=this.getViewConfig().getFirstImage())||void 0===e?void 0:e.name)},t.prototype.getRmType=function(){return o.B8O.GENERIC_IMAGE},t.prototype.isMulti=function(){return!1},t.prototype.isGeneric=function(){return!0},t.prototype.defaultValue=function(){return[]},t.prototype.hasSimpleValueFormat=function(){return!1},t}(n(28148).X),F=n(63510),L=n(47086),Z=n(39089),U=n(22961),B=n(15523),G=n(83981),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,w.ZT)(t,e),t.prototype.getRmType=function(){return o.B8O.GENERIC_MULTIMEDIA},t.prototype.isMulti=function(){return!1},t.prototype.isGeneric=function(){return!0},t.prototype.defaultValue=function(){return[]},t}(v.W),q=n(4053),j=n(79993),Y=n(80465),J=((r={})[o.B8O.FORM_DEFINITION]=o.lgi,r[o.B8O.GENERIC_FIELDSET]=C.y,r[o.B8O.GENERIC_COLUMN_LIST]=B.W,r[o.B8O.GENERIC_STACKED_LIST]=G.f,r[o.B8O.GENERIC_BUTTON]=E.G,r[o.B8O.GENERIC_SAVE_BUTTON]=F._,r[o.B8O.GENERIC_SPACER]=T.L,r[o.B8O.GENERIC_INPUT_TEXT]=O,r[o.B8O.GENERIC_CODED_TEXT]=x,r[o.B8O.GENERIC_FIELD]=O,r[o.B8O.DV_QUANTITY]=_.M,r[o.B8O.DV_CODED_TEXT]=b.$,r[o.B8O.DV_TEXT]=y.A,r[o.B8O.DV_PROPORTION]=g.V,r[o.B8O.DV_MULTIMEDIA]=v.W,r[o.B8O.DV_BOOLEAN]=m.q,r[o.B8O.DV_DATE]=p.l,r[o.B8O.DV_TIME]=f.m,r[o.B8O.DV_DATE_TIME]=h.Y,r[o.B8O.DV_ORDINAL]=c.b,r[o.B8O.DV_SCALE]=d.o,r[o.B8O.DV_COUNT]=u.t,r[o.B8O.DV_DURATION]=l.B,r[o.B8O.DV_URI]=s.g,r[o.B8O.STRING]=y.A,r[o.B8O.CODE_PHRASE]=y.A,r[o.B8O.PARTY_PROXY]=y.A,r[o.B8O.DV_STATE]=y.A,r[o.B8O.DV_EHR_URI]=a.z,r[o.B8O.DV_IDENTIFIER]=i.J,r[o.B8O.PARTY_PROXY]=U.n,r[o.B8O.DV_PARSABLE]=Z.y,r[o.B8O.GENERIC_PROPORTION_FIELD]=M,r[o.B8O.GENERIC_DATE_FIELD]=S,r[o.B8O.GENERIC_NUMERIC_FIELD]=I.d,r[o.B8O.GENERIC_EXTERNAL_WIDGET]=V.x,r[o.B8O.GENERIC_ORDINAL]=A,r[o.B8O.GENERIC_BOOLEAN]=D,r[o.B8O.GENERIC_QUANTITY]=k,r[o.B8O.GENERIC_TIME]=R,r[o.B8O.GENERIC_DATE_TIME]=P,r[o.B8O.GENERIC_IMAGE]=N,r[o.B8O.GENERIC_CANVAS]=L.e,r[o.B8O.GENERIC_MULTIMEDIA]=H,r[o.B8O.GENERIC_RICH_TEXT]=q.Z,r[o.B8O.GENERIC_HTML]=j.v,r[o.B8O.GENERIC_LAYOUT_GROUP]=Y.e,r)},16947:function(e,t,n){"use strict";n.d(t,{K:function(){return C}});var r=n(64762),i=n(1954),o=n(28148),a=n(51544),s=function(){function e(){}return e.parseInputItems=function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n],o=new i.O6i(r);(null==r?void 0:r.validation)&&o.setValidation(new i.iA3(r.validation)),t.push(o)}return t},e}(),l=n(79031),u=n(22410),c=n(85997),d=n(3512),h=n(63510),f=n(1097),p=n(1550),m=n(49929),v=n(99275),g=n(33989),y=n(63039),b=n(52070),_=n(35322),C=function(){function e(e,t,n,r,i){this.scriptApi=e,this.modelStoreService=t,this.formEnvironment=n,this.defaultValuesService=r,this.backwardsCompatibilityService=i}return e.prototype.parseFormDescription=function(e,t,n,r){var o=this;if(void 0===n&&(n=!1),void 0===r&&(r=!0),!e||0===Object.getOwnPropertyNames(e).length)return console.warn("Form description is empty"),null;if(n&&(this.modelStoreService.models=new Map),i.B8O[e.rmType]!==i.B8O.FORM_DEFINITION)throw new Error("Root element is not form definition");this.backwardsCompatibilityService.updateRoot(e);var a=new i.lgi(e);if(a.formId="form_root",e.children)for(var s=0;s<e.children.length;s++)this._recursivelyParseDescription(a,e.children[s],!0,n);t||(t={}),a.setValueNodeRef(t);var l=i.zR2.getModels(a),u=[];return this._parseValues(l,t,u),this.createCtx(a,t),Promise.all(u).then(function(e){return o.defaultValuesService.dependentEvaluations.length?(o.defaultValuesService.notifyEvalDependentEvaluations(),Promise.all(o.defaultValuesService.dependentEvaluations)):[!0]}).then(function(e){l=i.zR2.getModels(a),o.attachGenericsToValues(l,a.getRootModel(),t),o.defaultValuesService.notifyDefaultValuesSet(),r&&o.executeFormScript(l)}),a},e.prototype.executeFormScript=function(e){var t=this;e.forEach(function(e){var n=t.scriptApi.exeFormScript(e);e.setModelScriptExecutorDestroyFn(null==n?void 0:n.destroy)})},e.prototype.parseFormDescriptionSnippet=function(e,t,n){var r=this;if(void 0===n&&(n=!0),e){var o=this._recursivelyParseDescription(null,e,!1,!1);if(o){t||(t={});var a=i.zR2.getModels(o),s=[];return this._parseValues(a,t,s),Promise.all(s).then(function(e){return r.defaultValuesService.dependentEvaluations.length?(r.defaultValuesService.notifyEvalDependentEvaluations(),Promise.all(r.defaultValuesService.dependentEvaluations)):[!0]}).then(function(e){r.defaultValuesService.notifyDefaultValuesSet(),n&&r.executeFormScript(a)}),o}}},e.prototype._parseInputs=function(e,t){var n=e.eventDispatcher;if(t.inputs&&(e instanceof o.X||e instanceof a.f)){e.setInputs([]);for(var r=function(r){var o=t.inputs[r],a=new i.IIB(o,n);a.setInputItemList([]),a.setType(i.n$I[o.type]),s.parseInputItems(o.list).forEach(function(e){a.addInputItem(e)}),e.addInput(a)},l=0;l<t.inputs.length;l++)r(l)}else if(!t.inputs&&e instanceof u.y){var c={suffix:"code",type:"CODED_TEXT"},d=new i.IIB(c,n);d.setInputItemList([]),d.setType(i.n$I[c.type]),e.addInput(d)}else!t.inputs&&e instanceof a.f&&e.addInput(new i.IIB({type:"CONTAINER"},n))},e.prototype._checkMinAndMax=function(e){null==e.min||i.G1o.isInteger(e.min)||e.setMin(parseInt(e.min,10)),null==e.max||i.G1o.isInteger(e.max)||e.setMax(parseInt(e.max,10))},e.prototype._getGenericDescFieldClass=function(e){var t=i.B8O[e.rmType];return t===i.B8O.GENERIC_BUTTON?l.G:t===i.B8O.GENERIC_SAVE_BUTTON?h._:t===i.B8O.GENERIC_FIELD&&e.viewConfig&&e.viewConfig.field&&e.viewConfig.field.type?d.Q[i.B8O[e.viewConfig.field.type]]:null},e.prototype._parseValues=function(e,t,n,o){var a=this;e.forEach(function(e){var s,l=e.getPath();if(null!=l&&e.getRmType()!==i.B8O.FORM_DEFINITION){var u=l.split("/");e.isGeneric()?e.isContainer()||(null===(s=a.formEnvironment.getEnvironment().getVariable(g.EV.IS_FORM_PREFILLED))||void 0===s?void 0:s.value)||n.push.apply(n,(0,r.ev)([],(0,r.CR)(e.resetValue()))):(a._convertPrimitivesToValues(t),a._attachValueToModels(e,u,0,t,t,n,o))}})},e.prototype.recursivelyForChildModels=function(e,t){for(var n=0;n<e.getChildCount();n++){var r=e.getChildModel(n);t(r),this.recursivelyForChildModels(r,t)}},e.prototype._getPathChildIndex=function(e){return e.getParentModel()&&e.getPath()?i.zR2.findChildrenWithPath(e.getParentModel(),e.getPath()).indexOf(e):-1},e.prototype._markModelForDeletion=function(e){e.__markedForDeletion=!0,this.recursivelyForChildModels(e,function(e){e.__markedForDeletion=!0}),e.removeFromParent()},e.prototype._convertPrimitivesToValues=function(e){var t,n,i=this;if(Array.isArray(e))if(e.some(function(e){return e!==Object(e)})){var o=e.map(function(e){return{"|value":e}});e.length=0,o.forEach(function(t){e.push(t)})}else e.forEach(function(e){i._convertPrimitivesToValues(e)});else if("object"==typeof e&&null!=e)try{for(var a=(0,r.XA)(Object.entries(e)),s=a.next();!s.done;s=a.next()){var l=(0,r.CR)(s.value,2);this._convertPrimitivesToValues(l[1])}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.prototype._attachValueToModels=function(e,t,n,o,a,s,l){var u,d=this;if(o&&!(n>=t.length)&&!0!==e.__markedForDeletion){var h=t[n],f=t.length===n+1,m=this._segmentsToPath(t,n),v=!1,y=-1;if(void 0===o[h]&&((y=this._getPathChildIndex(e))>0?this._markModelForDeletion(e):(o[h]=o===a?{}:[],v=!0)),void 0!==o[h]){var b,_,C=o[h];if(f){if(y<0&&(y=this._getPathChildIndex(e)),y>0)!i.G1o.isArray(C)||y>=C.length?this._markModelForDeletion(e):(_=C,b=C[y]);else if(i.G1o.isArray(C))if(0!==C.length||e.isMulti()&&!e.isContainer())if(1!==C.length||e.isMulti()&&!e.isContainer()){var E=void 0;if(e.isMulti()?(b=C,E=!0,_=o):(console.warn("Multiple values received for non-multi model",m,", will only use the last one."),b=C[C.length-1],_=C,E=!1),E&&e.isContainer()&&!v){if(m!==e.getPath())throw new Error("Segment path not the same as model path when we want to possibly split the model. Coding error?");for(var T=e.getParentModel(),w=1;w<b.length;w++){var O=i.zR2.findChildWithPath(T,m,w);if(!(O||(this._recursivelyParseDescription(T,e.getDescEl()),O=i.zR2.findChildWithPath(T,m,w))))throw Error("Could not create child model for "+e.getPath()+".");O.setValueNodeRef(b[w]),O.setParentValueNodeRef(b);var x=i.zR2.getModels(O);x.shift();for(var I=0;I<x.length;I++){var M=x[I];if(null!=M.getPath()&&(!M.isGeneric()||M.isContainer())){var S=M.getPath().split("/");this._attachValueToModels(M,S,0,b[w],a,s,l)}}}_=b,b=b[0]}}else b=e.isContainer()?C[0]:C,_=C;else v&&e.isContainer()?C.push(b={}):b=C,_=C;else b=C,_=o;if(e.isContainer())e.setValueNodeRef(b),e.setParentValueNodeRef(_);else{null==b||i.G1o.isArray(b)||(b=[b]);var V=!0;if(void 0===e.valueNodeRef)if(e.setValueNodeRef(b),e instanceof c.$&&i.G1o.isArray(b)&&b.length>0)V=!1,b.filter(function(e){return e["|code"]}).map(function(e){return e["|code"]}).forEach(function(t){s.push(e.codeValue(t,d.getLanguageFromHolder()))});else if(e instanceof p.B&&i.G1o.isArray(b)&&b.length>0){var A=e.getValue("|value");if(A&&A[0])A.forEach(function(t,n){e.valueNodeRef[n]=i.zR2.mapPeriodStringValueToObject(t)});else{var D=e.getValue();D&&D.forEach(function(t,n){e.valueNodeRef[n]=t})}}else e.hasSimpleValueFormat()&&b&&i.G1o.isArray(b)&&b.length>0&&e.valueNodeRef.forEach(function(e){e[""]&&(e["|value"]=e[""],delete e[""])});e.setParentValueNodeRef(_);var k=null===(u=this.formEnvironment.getEnvironment().getVariable(g.EV.IS_FORM_PREFILLED))||void 0===u?void 0:u.value,R=null==b||i.G1o.isArray(C)&&0===b.length;!l&&V&&R&&!k&&s.push.apply(s,(0,r.ev)([],(0,r.CR)(e.resetValue())))}}else{var P=i.zR2.findAncestorWithPath(e,m);if(P)return void this._attachValueToModels(e,t,n+1,P.getValueNodeRef(),a,s,l);_=null,i.G1o.isArray(C)?(C.length>1&&console.warn("A split occurred in the model at",m," will only use last value from the array for further processing"),v?C.push(b={}):b=0===C.length?C:C[C.length-1]):b=C}this._attachValueToModels(e,t,n+1,b,a,s,l)}}},e.prototype.getLanguageFromHolder=function(){return f.O.TERMINOLOGY_SERVICE?f.O.TERMINOLOGY_SERVICE.getLanguage():void 0},e.prototype._segmentsToPath=function(e,t){return e.slice(0,void 0===t?e.length:t+1).join("/")},e.prototype.duplicateModel=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!0),e.isMulti()||t){var r,o=this.parseFormDescriptionSnippet(e.getDescEl(),{},n),a=e.getParentModel();a&&(r=a.getChildModels().indexOf(e),a&&r>=0&&a.insertChildModelAt(r+1,o));var s=e.getParentValueNodeRef();if(s&&i.G1o.isArray(s)){var l=r,u=i.zR2.findChildrenWithPath(a,o.getPath());u.length>1&&(l=u.indexOf(e)),o.setParentValueNodeRef(s),void 0===l||l<0?s.push(o.getValueNodeRef()):s.splice(l+1,0,o.getValueNodeRef())}return this.duplicateGenerics(o),this.duplicateSharedListeners(e,o),o}console.warn("Only multi models can be duplicated model=",e)},e.prototype.duplicateGenerics=function(e){var t=i.zR2.getModels(e),n=e.getRootModel();n&&n instanceof i.lgi?t.filter(function(e){return e.isGeneric()&&i.jYl.isInputField(e.rmType)&&!0===e.getViewConfig().getAdvanced().persistentGeneric&&!e.isContainer()&&!i.jYl.isListElement(e.parentModel.getRmType())}).forEach(function(e){n.addGenericOnPath(i.zR2.getUniquePath(e),e.getOrCreateValueNodeRef())}):console.warn("no root model attached: "+e.formId)},e.prototype.attachGenericsToValues=function(e,t,n){var r=this;t&&t instanceof i.lgi?(n.ctx||(n.ctx={language:t.defaultLanguage,territory:"SI",generic_fields:{}}),e.filter(function(e){return e.isGeneric()&&i.jYl.isInputField(e.rmType)&&!0===e.getViewConfig().getAdvanced().persistentGeneric&&!e.isContainer()&&!i.jYl.isListElement(e.parentModel.getRmType())}).forEach(function(e){var o=i.zR2.getUniquePath(e),a="generic-layout_group",s=n.ctx.generic_fields,l=s&&s[o];if(!l&&e.isMulti()!==e.defaultMultiValue()){var u=i.zR2.getUniquePath(e,!1);l=s&&s[u]}l?e.valueNodeRef=l:!l&&o.includes(a)?s=r.backwardsCompatibilityService.updateLayoutGroupIntersectionPart(s,o,e,a):s[o]=e.valueNodeRef,e.hasSimpleValueFormat()&&e.valueNodeRef&&i.G1o.isArray(e.valueNodeRef)&&e.valueNodeRef.length>0&&(e.valueNodeRef=e.valueNodeRef.map(function(e){var t;return"object"==typeof e&&Object.keys(e).some(function(e){return"|value"===e})?e:((t={})["|value"]=e,t)})),t.addGenericOnPath(o,e.valueNodeRef)})):console.warn("no root model attached")},e.prototype._recursivelyParseDescription=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),this.backwardsCompatibilityService.update(t);var i=this._parseRmClassCreateObj(t);if(null!=i){if(n&&this.modelStoreService.models.set(i.formId,i),e&&e.insertChildModelAfterLastOfSamePath(i,!0),this._parseInputs(i,t),this._checkMinAndMax(i),t.children){for(var o=new Set,a=0;a<t.children.length;a++)r&&this.modelStoreService.models.has(t.children[a].formId)?o.add(a):this._recursivelyParseDescription(i,t.children[a],n,r);o.size>0&&(console.error("some of the elements in formDesc have been duplicated. Removing duplicates"),t.children=t.children.filter(function(e,t){return!o.has(t)}))}}else console.warn("Skipping model creation for element: ",t);return i},e.prototype._parseRmClassCreateObj=function(e){"number"==typeof e.rmType&&(e.rmType=(0,i.E2s)(e.rmType));var t=this.getComponentTypeClassRef(e.rmType);if(!t)if(this.backwardsCompatibilityService.isContainer(e))t=a.f;else{if(!this._getGenericDescFieldClass(e))return console.warn("Unknown rmType: ",e.rmType," skipping model creation for ",e),null;t=this._getGenericDescFieldClass(e)}return this.instantiateModelFromObject(t,e)},e.prototype.instantiateModelFromObject=function(e,t){return new e(t)},e.prototype.getComponentTypeClassRef=function(e){return d.Q[e]},e.prototype.duplicateSharedListeners=function(e,t){var n=this,r=e.eventDispatcher.getListeners();Object.keys(r).forEach(function(e){r[e].forEach(function(n){!0===n.shared&&t.eventDispatcher.addEventListener(n.function,parseInt(e,10),!0)})}),e.isContainer()&&(null==e||e.children.forEach(function(e){return n.duplicateSharedListeners(e,null==t?void 0:t.children.find(function(t){return t.id===e.id}))}))},e.prototype.createCtx=function(e,t){e&&e instanceof i.lgi?t.ctx||(t.ctx={language:e.defaultLanguage,territory:"SI",generic_fields:{}}):console.warn("no root model attached")},e.\u0275fac=function(t){return new(t||e)(_.LFG(m.D8),_.LFG(v.G),_.LFG(i.eNT),_.LFG(b.b),_.LFG(y.b))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac}),e}()},63039:function(e,t,n){"use strict";n.d(t,{b:function(){return l}});var r=n(64762),i=n(88424),o=n(59700),a=n(1954),s=n(35322),l=function(){function e(){}return e.prototype.updateRoot=function(e){var t,n;"INHERIT"===(null===(n=null===(t=null==e?void 0:e.viewConfig)||void 0===t?void 0:t.size)||void 0===n?void 0:n.field)&&(e.viewConfig.size.element=a.rLC.COLUMN_12),this.update(e)},e.prototype.update=function(e){var t,n,r,i,o,s,l,u,c,d,h,f,p,m,v,g,y=e,b=y.viewConfig;b&&(this.transformRootSize(y),y.rmType===a.B8O.GENERIC_CANVAS&&this.transformCanvas(y),this.transformContainer(y),(null===(n=null===(t=null==b?void 0:b.layout)||void 0===t?void 0:t.label)||void 0===n?void 0:n.align)&&(b.layout.label.align!==a.htc.RIGHT||a.jYl.isBoolean(y.rmType)||(b.layout.label.align=a.htc.LEFT),b.layout.label.align===a.htc.LEFT&&(null===(r=b.size)||void 0===r?void 0:r.label)&&"COLUMN_12"===b.size.label&&(b.size.label=a.bNd.COLUMN_11)),(null===(i=b.size)||void 0===i?void 0:i.field)&&("XLARGE"===b.size.field?b.size.element=a.rLC.COLUMN_12:"LARGE"===b.size.field?b.size.element=(null===(s=null===(o=null==b?void 0:b.layout)||void 0===o?void 0:o.label)||void 0===s?void 0:s.align)===a.htc.TOP?a.rLC.COLUMN_8:a.rLC.COLUMN_10:"MEDIUM"===b.size.field?b.size.element=(null===(u=null===(l=null==b?void 0:b.layout)||void 0===l?void 0:l.label)||void 0===u?void 0:u.align)===a.htc.TOP?a.rLC.COLUMN_5:a.rLC.COLUMN_8:"SMALL"===b.size.field&&(b.size.element=(null===(d=null===(c=null==b?void 0:b.layout)||void 0===c?void 0:c.label)||void 0===d?void 0:d.align)===a.htc.TOP?a.rLC.COLUMN_2:a.rLC.COLUMN_6)),y.rmType===a.B8O.GENERIC_LABEL&&this.convertLabelToNewGeneric(y),[a.B8O.GENERIC_RICH_TEXT,a.B8O.GENERIC_HTML].includes(y.rmType)&&this.transformLocalizedNamesIncludeVariables(y),b.annotations&&(b.annotations.tooltip&&(y.localizedDescriptions||(y.localizedDescriptions={}),Object.keys(y.localizedDescriptions).forEach(function(e){y.localizedDescriptions[e]=b.annotations.tooltip,y.localizedDescriptions||(y.localizedDescriptions={})}),delete b.annotations.tooltip),b.annotations.boolTextRight&&(b.advanced.boolTextRight||(b.advanced.boolTextRight={}),y.localizedNames||(y.localizedNames={}),Object.keys(y.localizedNames).forEach(function(e){b.advanced.boolTextRight||(b.advanced.boolTextRight={}),b.advanced.boolTextRight[e]=b.annotations.boolTextRight}),delete b.annotations.boolTextRight),b.annotations.placeholder&&(b.advanced.placeholder||(b.advanced.placeholder={}),y.localizedNames||(y.localizedNames={}),Object.keys(y.localizedNames).forEach(function(e){b.advanced.placeholder||(b.advanced.placeholder={}),b.advanced.placeholder[e]=b.annotations.placeholder}),delete b.annotations.placeholder)),(null===(h=b.advanced)||void 0===h?void 0:h.boolTextRight)&&Object.keys(b.advanced.boolTextRight).forEach(function(e){b.advanced.boolTextRight[e]&&(y.localizedNames[e]!==b.advanced.boolTextRight[e]&&(b.advanced.overrideLabel=!0,y.localizedNames[e]=b.advanced.boolTextRight[e]),b.layout.label.align=a.htc.RIGHT),delete b.advanced.boolTextRight[e]}),(null===(f=b.advanced)||void 0===f?void 0:f.labelOnRight)&&(b.layout.label.align=a.htc.RIGHT,delete b.advanced.labelOnRight),a.jYl.isBoolean(y.rmType)&&(this.transformThreeStateBoolean(y),this.transformBooleanTextRight(y)),((null===(p=b.advanced)||void 0===p?void 0:p.hideFrame)||(null===(m=b.annotations)||void 0===m?void 0:m.hideFrame)||b.tags&&b.tags.indexOf("hideHeader")>-1)&&(b.advanced.hideContainerHeader=!0,b.advanced.showContainerBorders=!((null===(v=b.advanced)||void 0===v?void 0:v.hideFrame)||(null===(g=b.annotations)||void 0===g?void 0:g.hideFrame)),b.tags&&b.tags.indexOf("hideHeader")>-1&&b.tags.splice(b.tags.indexOf("hideHeader"),1),b.annotations&&delete b.annotations.hideFrame),this.transformTextDatasource(y),this.updateDateInRange(y),this.transformDefaultValues(y))},e.prototype.isContainer=function(e){return void 0!==e.children&&a.G1o.isArray(e.children)&&!!e.rmType},e.prototype.updateLayoutGroupIntersectionPart=function(e,t,n,i){var o=t;e&&e[t]||n.isMulti()===n.defaultMultiValue()||(o=a.zR2.getUniquePath(n,!1));var s=Object.keys(e).filter(function(e){return e.endsWith(n.formId)}).find(function(e){var t=o.split("/").map(function(e){return e.split("|")}).reduce(function(e,t){return(0,r.ev)((0,r.ev)([],(0,r.CR)(e)),(0,r.CR)(t))},[]),n=e.split("/").map(function(e){return e.split("|")}).reduce(function(e,t){return(0,r.ev)((0,r.ev)([],(0,r.CR)(e)),(0,r.CR)(t))},[]),a=t.reduce(function(e,t,n){return t.includes(i)&&e.push(n),e},[]);return n.filter(function(e,t){return!a.includes(t)}).join("/")===t.filter(function(e,t){return!a.includes(t)}).join("/")});return s&&(n.valueNodeRef=e[s],delete e[s]),e[t]=n.valueNodeRef,e},e.prototype.transformCanvas=function(e){var t,n=e.viewConfig;void 0===(null===(t=null==n?void 0:n.label)||void 0===t?void 0:t.hidden)&&(n.label.hidden=!0),n.size.element=a.rLC.COLUMN_12},e.prototype.updateDateInRange=function(e){var t,n,r,i=e.viewConfig;if(null===(t=i.annotations)||void 0===t?void 0:t.dateInRange){var o=i.annotations.dateInRange&&i.annotations.dateInRange.split(",").sort(),s=void 0;if(a.jYl.isDate(e.rmType)?s=a.n$I.DATE:a.jYl.isDateTime(e.rmType)&&(s=a.n$I.DATETIME),!s||!o||!o.length)return;var l=new a.iA3({range:{min:parseInt(null===(n=o[0])||void 0===n?void 0:n.replace("-",""),10)||null,max:parseInt(null===(r=o[1])||void 0===r?void 0:r.replace("-",""),10)||null}});if(e.inputs.length)e.inputs.forEach(function(e){e.validation=l});else{var u=new a.IIB({type:s}).setValidation(l);e.inputs=[u]}delete i.annotations.dateInRange}},e.prototype.convertLabelToNewGeneric=function(e){var t=this;if(e.viewConfig.size.element=a.rLC.COLUMN_12,Object.values(e.localizedNames).some(function(e){return t.isHTML(e)}))e.rmType=a.B8O.GENERIC_HTML;else{e.rmType=a.B8O.GENERIC_RICH_TEXT;var n=e.viewConfig.label.style;Object.keys(e.localizedNames).forEach(function(t){var r,o;(null===(o=null===(r=e.datasource)||void 0===r?void 0:r.bindings)||void 0===o?void 0:o.label)?(e.datasource.bindings.label=i.V.convertExternalApiTokensExpressionToInputTokensExpression(e.datasource.bindings.label),e.datasource.expression=!0,e.localizedNames[t]="<p>{{datasource}}</p>",e.localizedNamesIncludeVariables=!0):n===a.SLS.TITLE||n===a.SLS[a.SLS.TITLE]?e.localizedNames[t]="<h1>"+e.localizedNames[t]+"</h1>":n===a.SLS.HEADING||n===a.SLS[a.SLS.HEADING]?e.localizedNames[t]="<h2>"+e.localizedNames[t]+"</h2>":n===a.SLS.BODY||n===a.SLS[a.SLS.BODY]?e.localizedNames[t]="<p>"+e.localizedNames[t]+"</p>":n!==a.SLS.HELPER_TEXT&&n!==a.SLS[a.SLS.HELPER_TEXT]||(e.localizedNames[t]="<p>"+e.localizedNames[t]+"</p>")})}},e.prototype.isHTML=function(e){var t=(new DOMParser).parseFromString(e,"text/html");return Array.from(t.body.childNodes).some(function(e){return 1===e.nodeType})},e.prototype.transformContainer=function(e){var t,n,r,i,o,s=e.viewConfig,l=this.isContainer(e)&&(null===(t=e.children)||void 0===t?void 0:t.length)>0;e.rmType!==a.B8O.FORM_DEFINITION&&l&&(!0===(null===(n=s.advanced)||void 0===n?void 0:n.hideContainerHeader)?null===(r=s.label)||void 0===r||delete r.hidden:!0===(null===(i=s.label)||void 0===i?void 0:i.hidden)&&(s.advanced||(s.advanced={}),s.advanced.hideContainerHeader=!0,null===(o=s.label)||void 0===o||delete o.hidden))},e.prototype.transformLocalizedNamesIncludeVariables=function(e){var t,n;if(void 0===e.localizedNamesIncludeVariables){var i=!1;try{for(var a=(0,r.XA)(Object.keys(e.localizedNames)),s=a.next();!s.done;s=a.next())i=i||o.T.templateIncludesTags(e.localizedNames[s.value])}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}e.localizedNamesIncludeVariables=i}},e.prototype.transformRootSize=function(e){var t,n=e.viewConfig;e.rmType===a.B8O.FORM_DEFINITION&&!(null===(t=n.size)||void 0===t?void 0:t.element)&&(n.size||(n.size=new a.$uz),n.size.element=a.rLC.COLUMN_8)},e.prototype.transformBooleanTextRight=function(e){var t,n,r,i,o=e.viewConfig,s=null===(t=null==o?void 0:o.size)||void 0===t?void 0:t.label;if(e.rmType!==a.B8O.FORM_DEFINITION&&a.jYl.isBoolean(e.rmType)&&(null===(r=null===(n=null==o?void 0:o.layout)||void 0===n?void 0:n.label)||void 0===r?void 0:r.align)===a.htc.RIGHT){var l=isNaN(+s)?s:a.h3e.get(+s);s&&l===a.bNd.COLUMN_HIDDEN&&(o.size.label=a.bNd.INHERIT),(null===(i=null==o?void 0:o.label)||void 0===i?void 0:i.hidden)&&delete o.label.hidden}},e.prototype.transformThreeStateBoolean=function(e){var t,n=null==e?void 0:e.viewConfig;(null==n?void 0:n.field)&&(Object.keys(n.field).forEach(function(e){var t=n.field[e];null!=(null==t?void 0:t.threeState)&&(t.presentation=t.threeState?a.umi.THREE_STATE:a.umi.CHECKBOX,delete t.threeState)}),(null===(t=n.field.code)||void 0===t?void 0:t.presentation)===a.umi.BUTTONGROUP&&(n.field.code.presentation=a.umi.THREE_STATE))},e.prototype.transformDefaultValues=function(e){var t,n=this;null===(t=e.inputs)||void 0===t||t.forEach(function(e){e.hasOwnProperty("defaultValue")&&(n.transformDefaultValuesToArray(e),n.transformDefaultValuesToStrings(e),n.removeOtherDefaultValue(e))})},e.prototype.transformDefaultValuesToArray=function(e){Array.isArray(e.defaultValue)||(e.defaultValue=[e.defaultValue])},e.prototype.transformDefaultValuesToStrings=function(e){e.defaultValue=e.defaultValue.map(function(e){return null!=e?e.toString():e})},e.prototype.removeOtherDefaultValue=function(e){var t=e.defaultValue.findIndex(function(e){return e===a.O6i.OTHER_VALUE});t>-1&&delete e.defaultValue[t],"other"===e.suffix&&delete e.defaultValue},e.prototype.transformTextDatasource=function(e){var t;if(a.jYl.isText(e.rmType)&&e.datasource){var n=null===(t=null==e?void 0:e.datasource)||void 0===t?void 0:t.bindings;n&&n.label&&n.value&&n.label!==n.value&&(n.value=n.label)}},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}()},28626:function(e,t,n){"use strict";n.d(t,{J:function(){return _}});var r=n(1954),i=n(92121),o=n(64762),a=n(88424),s=n(34032),l=n(22739),u=function(){return function(){}}(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.getValueScript=function(e){return"var "+e.variableName+" = '"+e.value+"'"},t}(u),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.getValueScript=function(e){var t=e.action,n=e.variableName,r=e.scriptApiIdentName;if(t.executionContext&&t.executionContext.fieldId){var i=t.executionContext.suffix;return i||(i=""),"var "+n+";\n                if ('"+i+"' && '"+i+"' !== 'code') {\n                  "+n+" = "+r+".getFieldValue ('"+t.executionContext.fieldId+"', 0, '"+e.updateWithinContainerFormIdent+"', undefined, false)['"+i+"'];\n                } else {\n                  "+n+" = "+r+".getFieldValue ('"+t.executionContext.fieldId+"', 0, '"+e.updateWithinContainerFormIdent+"');\n                }"}return"var "+n+" = "+r+".getFieldValue ('"+e.value+"', 0, '"+e.updateWithinContainerFormIdent+"');"},t}(u),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.getValueScript=function(e){var t,n=e.variableName+"_variable",i="action_"+e.variableName,o=null===(t=e.action.value)||void 0===t?void 0:t.suffix;return o&&(i="action_"+e.variableName+"_"+o),"var "+n+" = "+e.scriptApiIdentName+".getVariable ('"+e.value+"');\n             var variableSources = ['"+r.hkZ.STATIC+"', '"+r.hkZ.EXTERNALLY_PROVIDED+"', '"+r.hkZ.PREDEFINED+"'];\n             if (variableSources.indexOf("+n+".source) > -1) {\n                 if ("+n+".type === 'number') {\n                  var "+e.variableName+" = +"+n+".value;\n                 } else if ("+n+".type === 'string') {\n                   var "+e.variableName+" = "+n+".value + '';\n                 } else {\n                   var "+e.variableName+" = "+n+".value;\n                 };\n             } else if ("+n+".source === 'AQL') {\n                var "+i+" = "+JSON.stringify(e.action)+";\n                var "+e.variableName+"_aqlCode = "+n+".value.code;\n                var "+e.variableName+"_aqlParams = "+n+".value.params;\n                if ("+n+".value && "+n+".value.name) {\n                  var "+e.variableName+"_viewData = await "+e.scriptApiIdentName+".getAqlView("+n+".value.name);\n                  "+e.variableName+"_aqlCode = "+e.variableName+"_viewData && "+e.variableName+"_viewData.steps[0] && "+e.variableName+"_viewData.steps[0].processorData;\n                  "+e.variableName+"_aqlParams = "+e.variableName+"_viewData && "+e.variableName+"_viewData.steps[0] && JSON.parse("+e.variableName+"_viewData.metaData['parameters']);\n                }\n                "+e.scriptApiIdentName+".executeAql("+e.variableName+"_aqlCode, "+e.variableName+"_aqlParams)\n                .then(data => {\n                  "+e.scriptApiIdentName+".setFieldValuesFromAqlResultSet("+e.variableName+"_aqlCode, data, "+i+");\n                });\n             }"},t}(u),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.getValueScript=function(e){return this.evaluateSpots(e.value,e.scriptApiIdentName,""+e.variableName,e.action,e.formEnvironmentService,e.updateWithinContainerFormIdent)+";"},t.prototype.evaluateSpots=function(e,t,n,i,s,u){if(!e)return"";var c="",d="",h=a.V.parseTokens(e[0],s).reduce(function(e,t){var n=s.getVariable(t.name);if(t.type!==l.AY.VARIABLE||(null==n?void 0:n.source)!==r.hkZ.PREDEFINED||a.V.isSimpleValue(n.value))e.push(t);else{var i=a.V.parseTokens(n.value,s);e.push.apply(e,(0,o.ev)((0,o.ev)([new l.I0("(","(")],(0,o.CR)(i)),[new l.I0(")",")")]))}return e},[]);return h.forEach(function(e,n){if(!e.isDependent){var r=e.getEvaluationScript({scriptApiIdentName:t,tokens:h,currentTokenIndex:n,action:i,environment:s,withinContainerTag:u});c+=r,d+=" "+e.getScriptVariableName()}}),c+"\nvar "+n+" = "+d},t}(u),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t.prototype.getValueScript=function(e){var t,n,i=e.action;if(!(null===(t=i.executionContext)||void 0===t?void 0:t.apiId))return"";var o=i.executionContext.apiId,a=i.executionContext.apiCallId,l=e.formEnvironmentService.getEnvironment();if(!l)return"var "+e.variableName+" = undefined;";var u=l.externalApis.find(function(e){return e.name===o}),c=null==u?void 0:u.calls.find(function(e){return e.name===a});if(!c)return"var "+e.variableName+" = undefined;";var d=s.H.parseTokens(null===(n=i.value)||void 0===n?void 0:n.value,c.response);return"  var "+e.variableName+"_api_response = await "+e.scriptApiIdentName+".callExternalApi("+JSON.stringify(u)+", "+JSON.stringify(c)+").catch(_ => []);\n              var "+e.variableName+"_tokens = "+JSON.stringify(d)+";\n              var "+e.variableName+"_result;\n\n              "+e.variableName+"_tokens.forEach(token => {\n                if (token.type !== 'Index') {\n                  var "+e.variableName+"_relevant_result = "+e.variableName+"_result || "+e.variableName+"_api_response;\n                  "+e.variableName+"_result = "+e.scriptApiIdentName+".extractDataFromApiResponse("+e.variableName+"_relevant_result, token.name);\n                } else {\n                  if (token.name === '"+r.U2h.FIRST+"') {\n                    "+e.variableName+"_result = "+e.variableName+"_result[0];\n                  } else if (token.name === '"+r.U2h.LAST+"') {\n                    "+e.variableName+"_result = "+e.variableName+"_result["+e.variableName+"_result.length - 1];\n                  } else {\n                    console.error('index with name' + token.name + 'does not exists');\n                  }\n                }\n              });\n\n              var "+e.variableName+" = "+e.variableName+"_result;\n            "},t}(u),m=function(){function e(){}return e.valueScriptObject=function(e){switch(e.executionType){case r.E3O.FIELD_VALUE:return new d;case r.E3O.VARIABLE:return new h;case r.E3O.EXPRESSION:return new f;case r.E3O.API:return new p;default:return new c}},e}(),v=function(){function e(){}return e.getActionsScript=function(t,n,r,i){return n.map(function(n){return e.toFormScript(t,n,r,i)}).filter(function(e){return!!e}).join("")},e.toSuffixValues=function(e){var t=[];if(!e.value||!Object.keys(e.value).length)return[{suffix:"",value:""}];var n=Object.keys(e.value).some(function(e){return"suffix"===e});return Object.keys(e.value).filter(function(t){var r;return n?t===(null===(r=e.value)||void 0===r?void 0:r.suffix):!["suffix","label"].includes(t)}).forEach(function(n){var r,i=null===(r=e.value)||void 0===r?void 0:r[n];Array.isArray(i)||(i=[i]),t.push({suffix:n,value:i})}),t},e.getActionMethodName=function(e){switch(e){case r.OFV.HIDE:return"hideFormElement";case r.OFV.SHOW:return"showFormElement";case r.OFV.CLEAR:case r.OFV.CLEAR_ONLY:return"clearFormElement";case r.OFV.ENABLE:return"enableFormElement";case r.OFV.DISABLE:return"disableFormElement";case r.OFV.RESET:return"resetFormElement";case r.OFV.SET:return"setFieldValue";case r.OFV.REQUIRED:case r.OFV.OPTIONAL:return"setMinMultiplicity";case r.OFV.TOGGLE:return"toggleElement";case r.OFV.SET_VARIABLE:return"setVariableValue";case r.OFV.GO_TO:return"goTo";case r.OFV.VALIDATE:return"validate";case r.OFV.DESELECT:return"removeValue";case r.OFV.REFRESH_DATA:return"refreshData";case r.OFV.DISABLE_VALUE:return"disableValue";case r.OFV.ENABLE_VALUE:return"enableValue";case r.OFV.COLLAPSE:return"collapse";case r.OFV.EXPAND:return"expand";case r.OFV.HIDE_CLEAR:return"hideAndClear";default:console.warn("action not found=",e)}return""},e.toFormScript=function(t,n,o,a){var s,l,u,c=r.zR2.sanitizePath(n.target),d=e.getActionMethodName(n.action);if(n.target===r.Z3O.CALL){var h=o.get(r.eNT),f=null===(s=n.executionContext)||void 0===s?void 0:s.apiId,p=null===(l=n.executionContext)||void 0===l?void 0:l.apiCallId,m=f&&h.getExternalApi(f),v=m&&p&&h.getExternalApiCall(m,p);return m||v||(v=null==(m=h.getExternalApis().find(function(e){return e.name===f}))?void 0:m.calls.find(function(e){return e.name===p})),"await "+t+".callExternalApi("+JSON.stringify(m)+", "+JSON.stringify(v)+", true).catch(_ => []);"}if(d){if(n.action===r.OFV.REQUIRED||n.action===r.OFV.OPTIONAL)return t+".runTaskInNgZone("+t+"."+d+" ('"+c+"', "+(n.action===r.OFV.REQUIRED?1:0)+", '"+a+"'));";if([r.OFV.SET,r.OFV.SET_VARIABLE,r.OFV.DESELECT,r.OFV.ENABLE_VALUE,r.OFV.DISABLE_VALUE].includes(n.action))return e.toSuffixValues(n).map(function(r){return e.generateSetValueScriptMethod(t,n,d,r.value,r.suffix,o,a)}).join(";");if(n.action===r.OFV.CLEAR_ONLY){var g=e.toSuffixValues(n),y="";return g&&g.length?y=g[0].suffix:console.warn("Suffix in clear only dependency does not exist"),e.generateClearOnlyValueScriptMethod(t,r.zR2.sanitizePath(c),d,y,a)}if(n.action===r.OFV.GO_TO){var b=null===(u=n.value)||void 0===u?void 0:u.id;return t+"."+d+"('"+b+"');"}return n.action===r.OFV.VALIDATE?i.Z.isPage(n.target)?(b=n.target.replace(r.F88.PAGE,"").trim(),t+".runTaskInNgZone("+t+".validatePage('"+b+"'));"):t+".runTaskInNgZone("+t+".validateElement('"+i.Z.resolveTargetId(n.target)+"'));":e.generateScriptMethod(t,r.zR2.sanitizePath(c),d,a)}return console.warn("Action can not get method=",n.action),null},e.generateScriptMethod=function(e,t,n,r){return r||(r=""),e+".runTaskInNgZone("+e+"."+n+" ('"+i.Z.resolveTargetId(t)+"', '"+r+"'));"},e.generateSetValueScriptMethod=function(e,t,n,o,a,s,l){l||(l="");var u=i.Z.resolveTargetId(t.target),c="evaluatedValue_"+i.Z.sanitizeName(u);return(o=""+m.valueScriptObject(t).getValueScript({scriptApiIdentName:e,action:t,value:o,variableName:c,updateWithinContainerFormIdent:l,formEnvironmentService:s.get(r.eNT)}))+"\n        if ('"+n+"' === 'setVariableValue') {\n          "+e+".runTaskInNgZone("+e+"."+n+" ('"+u+"', "+c+"));\n        } else if ("+e+".getFieldModel('"+u+"').isContainer) {\n          "+e+".runTaskInNgZone("+e+".setAqlModelValues("+c+", 0, "+JSON.stringify(t)+", '"+a+"'));\n        } else if ('"+n+"' === '"+this.getActionMethodName(r.OFV.DESELECT)+"') {\n          "+e+".runTaskInNgZone("+e+"."+n+" ('"+u+"', "+c+", '"+l+"'));\n        } else if ('"+n+"' === '"+this.getActionMethodName(r.OFV.ENABLE_VALUE)+"' || '"+n+"' === '"+this.getActionMethodName(r.OFV.DISABLE_VALUE)+"') {\n          "+e+".runTaskInNgZone("+e+"."+n+" ('"+u+"', "+c+"))\n        } else {\n          "+e+".runTaskInNgZone("+e+"."+n+" ('"+u+"', "+c+", '"+a+"', undefined, '"+l+"'));\n        }"},e.generateClearOnlyValueScriptMethod=function(e,t,n,r,i){return i||(i=""),e+".runTaskInNgZone("+e+"."+n+" ('"+t+"', {prop: '"+r+"', searchWithinContainerTag: '"+i+"'}));"},e}(),g=n(67019),y=n(99275),b=n(27624),_=function(){function e(){}return e.toFormScript=function(t,n,r){return i.Z.transformCallbackValueFn()+"\n"+t.expressions.map(function(t){return e.toExpressionFormScript(t,n,r)}).join("")},e.toExpressionFormScript=function(t,n,o){var a,s=this;if(void 0===o&&(o=""),!t.statements.length)return"";var l="async";this.preventAsyncForIE()&&(l="");var u="actionsFn_"+i.Z.sanitizeId(t.id),c="var "+u+" = "+l+" function() {\n"+v.getActionsScript(this.API_OBJECT,t.actions,n,o)+"};\n",d="",h="valueCallback_"+i.Z.sanitizeId(t.id),f="var "+h+" = function() {\n          "+g.G.createExpressionStatementsEvaluationVariables(t,o)+"\n          if("+g.G.joinEvaluationVariablesToCondExpression(t,t.statements[0])+"){\n            "+u+"();\n          }\n      };";if(null===(a=t.otherwise)||void 0===a?void 0:a.length){var p="otherwiseFn_"+i.Z.sanitizeId(t.id);d="var "+p+" = "+l+" function() {\n      "+v.getActionsScript(this.API_OBJECT,t.otherwise,n,o)+"};\n",f="var "+h+" = function() {\n          "+g.G.createExpressionStatementsEvaluationVariables(t,o)+"\n          if("+g.G.joinEvaluationVariablesToCondExpression(t,t.statements[0])+"){\n            "+u+"();\n          } else {\n            "+p+"();\n          }\n      };\n"}var m=e.distinctFieldIdReducer(t.statements),b=new Map(t.statements.map(function(e){return[e.fieldId,e]})),_=n.get(y.G);return c+d+f+m.map(function(e){var t=s.getEventTypeFromStatement(e,b,_);return i.Z.createApiCallback(s.API_OBJECT,e,h,o,r.X4$[t])}).join("")},e.distinctFieldIdReducer=function(e){var t=b.H.getClickRelatedStatements(e);return e.reduce(function(e,n){return!(null==t?void 0:t.get(n.id))&&e.indexOf(n.fieldId)<0&&e.push(n.fieldId),e},[])},e.getEventTypeFromStatement=function(e,t,n){var i,o=t.get(e),a=null===(i=null==o?void 0:o.condition)||void 0===i?void 0:i.operator;if(a&&[r.N0$.IS_SHOWN,r.N0$.IS_HIDDEN].includes(a))return r.X4$.EVENT_IS_HIDDEN;var s=(null==o?void 0:o.fieldId)&&n.models.get(o.fieldId);return s&&s.getRmType()===r.B8O.GENERIC_SAVE_BUTTON?r.X4$.COMPOSITION_SAVED:a===r.N0$.SEARCH_INPUT_CHANGES?r.X4$.SEARCH_INPUT_CHANGES:a===r.N0$.CLICK?r.X4$.CLICK:a&&[r.N0$.IS_EXPANDED,r.N0$.IS_COLLAPSED].includes(a)?r.X4$.EVENT_IS_COLLAPSED:r.X4$.CHANGE},e.preventAsyncForIE=function(){var e=window.navigator.userAgent;return e.includes("MSIE")||e.includes("Trident")&&e.includes("rv:11")},e.API_OBJECT="api",e}()},74901:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var r=n(44493),i=function(){function e(){}return e.functions=[{name:"ROUND",id:"099-07-aekn",value:"(function (num, decimalPlaces = 0) {\n        return parseFloat(num).toFixed(parseInt(decimalPlaces)) / 1;\n      })",args:["number","decimal places"],output:"number",example:{args:["3.14159","0"],result:"3"},description:"Returns a number rounded to the desired number of decimal places,\n       or to the nearest integer if second argument isn't provided.",type:r.K.NUMBER},{name:"MIN",id:"099-08-klfa",value:"Math.min",args:["number","..."],output:"number",example:{args:["4","11","1"],result:"1"},description:"Returns the lowest number of a given list of numbers. Takes any number of comma separated arguments.",type:r.K.NUMBER},{name:"MAX",id:"099-09-ywff",value:"Math.max",args:["number","..."],output:"number",example:{args:["4","11","1"],result:"11"},description:"Returns the highest number of given a list of numbers. Takes any number of comma separated arguments.",type:r.K.NUMBER},{name:"AVERAGE",id:"099-10-hgrc",value:"(function () {\n        var argLen = arguments.length;\n        if (!argLen) {\n          return 0;\n        }\n\n        var sum = 0;\n        for (let i = 0; i < argLen; i++) {\n          sum += arguments[i];\n        }\n        return sum / argLen;\n      })",args:["number","..."],output:"number",example:{args:["3","10","1","2"],result:"4"},description:"Returns the arithmetic mean of the provided numbers in the argument list. Takes any number of comma separated arguments.",type:r.K.NUMBER},{name:"LOWER",id:"099-11-zzvb",value:"(function(text) {\n        if (!text || typeof text !== 'string') {\n          return text;\n        }\n        return text.toLowerCase();\n      })",args:["text"],output:"text",example:{args:['"To Lower"'],result:"to lower"},description:"Formats the provided text to lower case letters. Takes a single text argument.",type:r.K.TEXT},{name:"UPPER",id:"099-12-sopr",value:" (function(text) {\n        if (!text || typeof text !== 'string') {\n          return text;\n        }\n        return text.toUpperCase();\n      })",args:["text"],output:"text",example:{args:['"to upper"'],result:"TO UPPER"},description:"Formats the provided text to upper case letters. Takes a single text argument.",type:r.K.TEXT},{name:"SET_MULTI_VALUES",id:"099-13-smvf",value:"(function() {\n        var accumulator = [];\n        for (let i = 0; i < arguments.length; i++) {\n          accumulator.push(arguments[i]);\n        }\n        return accumulator;\n      })",args:["text","..."],output:"text",example:{args:['"Hello"','" "','"World!"'],result:"Hello World!"},description:"Joins the provided text or number arguments together. Takes any number of comma separated arguments.",type:r.K.DYNAMIC},{name:"CONCAT",id:"099-13-waqn",value:"(function() {\n        var argLen = arguments.length;\n        if (!argLen) {\n          return '';\n        }\n\n        var accumulator = '';\n        for (let i = 0; i < argLen; i++) {\n          var arg = arguments[i];\n          if (!!arg || arg === 0) {\n            accumulator += typeof arg !== 'string' ? arg.toString() : arg;\n          }\n        }\n        return accumulator;\n      })",args:["text","..."],output:"text",example:{args:['"Hello"','" "','"World!"'],result:"Hello World!"},description:"Joins the provided text or number arguments together. Takes any number of comma separated arguments.",type:r.K.TEXT},{name:"CONTAINS",id:"099-14-flet",value:"(function(search, term, strict = false) {\n        var regexp = new RegExp(term, !strict ? 'i' : '');\n        return regexp.test(search);\n      })",args:["text","search term"],output:"text",example:{args:['"Acute insomnia"','"acute"'],result:"true"},description:"Checks if a string or a body of text provided as first argument, contains the term provided as the second argument.",type:r.K.TEXT},{name:"TRIM",id:"099-15-ghub",value:"(function(text) {\n        if (!text || typeof text !== 'string') {\n          console.error('Invalid argument. TRIM function expected argument of type text!');\n          return;\n        }\n        var textArr = text.split(' ');\n        var textArrLen = textArr.length;\n        var accumulator = '';\n        for (let i = 0; i < textArrLen; i++) {\n          if (textArr[i] !== '') {\n            var separator = accumulator === '' ? '' : ' ';\n            accumulator += separator + textArr[i];\n          }\n        }\n        return accumulator;\n      })",args:["text"],output:"text",example:{args:['" Sample   text "'],result:'"Sample text"'},description:"Removes the excess spaces on the beginning and end of the text argument. It also removes duplicated spaces between words and replaces it with a single space.",type:r.K.TEXT},{name:"LEN",id:"099-15-lddx",value:"(function (text) {\n        if (!text || typeof text !== 'string') {\n          console.error('Invalid argument. LEN function expected argument of type text!');\n          return;\n        }\n        return text.length;\n      })",args:["text"],output:"number",example:{args:['"Hello World!"'],result:"12"},description:"Returns the length of the entered text argument.",type:r.K.TEXT},{name:"SUBSTITUTE",id:"099-15-eirl",value:"(function (text, term, substitute) {\n        return text.replace(new RegExp(term, 'g'), substitute);\n      })",args:["text","old text","new text"],output:"text",example:{args:['"Hello World!"','"World"','"Space"'],result:"Hello Space!"},description:"Substitutes new text or number for old text or number in a given text string.",type:r.K.TEXT},{name:"DATE",id:"099-16-tmmg",value:"(function (year, month, day) {\n                function pad (offset) {\n                  offset = offset / 60;\n                  var diff = offset < 0 ? '-' : '+';\n                  var absOffset = Math.abs(offset);\n                  var shouldPad = absOffset.toString().length < 2;\n                  offset = shouldPad ?\n                    diff + '0' + absOffset + ':00' :\n                    diff + absOffset + ':00';\n                  return offset;\n                }\n\n\n\n                function getLastDayOfMonth(y, d, m) {\n                  var helperDate = new Date(y, m, d);\n                  helperDate.setMonth(m + 1);\n                  helperDate.setDate(d);\n                  return helperDate.getDate();\n                }\n\n                var dayInt = parseInt(day, 10) || 0;\n                var monthInt = (parseInt(month, 10) || 0) - 1;\n                var yearInt = parseInt(year, 10) || 0;\n\n                var d = new Date(yearInt, monthInt + 1, dayInt);\n                var timezoneOffset = -(d.getTimezoneOffset())\n                d.setDate(getLastDayOfMonth(yearInt, dayInt, monthInt));\n                d.setMonth(monthInt);\n                d.setFullYear(yearInt);\n                d.setHours(0 + (timezoneOffset / 60));\n                d.setMinutes(0);\n                d.setSeconds(0);\n                return d.toJSON().split('.')[0] + pad(timezoneOffset);\n             })",args:["year","month","day"],output:"text",example:{args:['"2020"','"03"','"26"'],result:"2020-03-26T00:00+02:00"},description:"Used to set a date in openEHR compatible date and time format. Takes three arguments in the order year (YYYY), month (MM) and day (DD).",type:r.K.DATE},{name:"TIME",id:"099-17-gzdv",value:"(function (hours, minutes, seconds) {\n        function pad (offset) {\n          offset = offset / 60;\n          var diff = offset < 0 ? '-' : '+';\n          var absOffset = Math.abs(offset);\n          var shouldPad = absOffset.toString().length < 2;\n          offset = shouldPad ?\n            diff + '0' + absOffset + ':00' :\n            diff + absOffset + ':00';\n          return offset;\n        }\n\n        var d = new Date();\n        var timezoneOffset = -(d.getTimezoneOffset());\n        d.setHours(parseInt(hours, 10) + (timezoneOffset / 60));\n        d.setMinutes(parseInt(minutes, 10));\n        d.setSeconds(parseInt(seconds, 10) || 0);\n        return d.toJSON().split('.')[0] + pad(timezoneOffset);\n      })",args:["hours","minutes"],output:"text",example:{args:["22","10"],result:"22:10"},description:"Used to set time in openEHR compatible time format. Takes two arguments hours in format 'HH' and minutes in format 'mm'.",type:r.K.DATE},{name:"DATE_DIFF",id:"099-18-pykr",value:"(function (dateStringOne, dateStringTwo) {\n        function parseDate(dateString) {\n          var regexp = new RegExp('Invalid Date', 'gi');\n          var date = new Date(dateString);\n          if (regexp.test(date)) {\n            console.warn('DATE_DIFF error: invalid date format for date argument \\'' + dateString + '\\', fallback value of NOW will be used instead');\n            date = new Date();\n          }\n          return date;\n        }\n\n        var dateOne = parseDate(dateStringOne);\n        var dateTwo = parseDate(dateStringTwo);\n        return Math.floor((dateTwo - dateOne) / (1000 * 60 * 60 * 24));\n      })",args:["date","date"],output:"number",example:{args:['"2020-03-03"','"2020-05-20"'],result:"78"},description:'Returns the difference in days between two dates. Takes two date arguments in the form of "YYYY-MM-DD".',type:r.K.DATE},{name:"ABS",id:"099-19-tzih",value:"Math.abs",args:["number"],output:"number",example:{args:["-4"],result:"4"},description:"Returns the absolute value of a given number.",type:r.K.NUMBER},{name:"POWER",id:"099-19-olay",value:"Math.pow",args:["number","power"],output:"number",example:{args:["4","2"],result:"16"},description:"Returns the result of a given number raised to a power.",type:r.K.NUMBER},{name:"SQRT",id:"099-18-cffa",value:"Math.sqrt",args:["number"],output:"number",example:{args:["4"],result:"2"},description:"Returns the square root of a given number.",type:r.K.NUMBER},{name:"LN",id:"099-18-usmq",value:"Math.log",args:["number"],output:"number",example:{args:["25"],result:"3.2188758248682006"},description:"Returns the natural logarithm of a given number.",type:r.K.NUMBER},{name:"LOG",id:"099-18-kvep",value:"(function(base, x) {\n        if (base === 2) {\n          return Math.log2(x);\n        }\n        if (base === 10) {\n          return Math.log10(x);\n        }\n        return Math.log(x) / Math.log(base);\n      })",args:["base","x"],output:"number",example:{args:["32","2"],result:"5"},description:"Returns the logarithm of x for a given base number.",type:r.K.NUMBER},{name:"NOW",id:"099-20-pkql",value:"(function () {\n        function pad (offset) {\n          offset = offset / 60;\n          var diff = offset < 0 ? '-' : '+';\n          var absOffset = Math.abs(offset);\n          var shouldPad = absOffset.toString().length < 2;\n          offset = shouldPad ?\n            diff + '0' + absOffset + ':00' :\n            diff + absOffset + ':00';\n          return offset;\n        }\n\n        var d = new Date()\n        var timezoneOffset = -(d.getTimezoneOffset())\n        d.setHours(d.getHours() + (timezoneOffset / 60));\n        return d.toJSON().split('.')[0] + pad(timezoneOffset);\n      })",args:[],output:"date",example:{args:[],result:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toJSON().split(".")[0]},description:"Returns the current date and time in openEHR compatible time format.",type:r.K.DATE},{name:"YEAR",id:"099-21-ccyi",value:"(function (date) {\n        if (!date) {\n          return undefined;\n        }\n\n        try {\n          return new Date(date).getFullYear();\n        } catch (e) {\n          console.error('Invalid argument provided for YEAR function', e);\n        }\n      })",args:["date"],output:"text",example:{args:['"2020-05-17"'],result:"2020"},description:"Returns the year from the date argument in 'YYYY' format",type:r.K.DATE},{name:"MONTH",id:"099-21-ikrv",value:"(function (date) {\n        if (!date) {\n          return undefined;\n        }\n\n        try {\n          return new Date(date).getMonth() + 1;\n        } catch (e) {\n          console.error('Invalid argument provided for YEAR function', e);\n        }\n      })",args:["date"],output:"text",example:{args:['"2020-05-17"'],result:"05"},description:"Returns the month from the date argument in 'MM' format",type:r.K.DATE},{name:"DAY",id:"099-22-sfut",value:"(function (date) {\n        if (!date) {\n          return undefined;\n        }\n\n        try {\n          return new Date(date).getDate();\n        } catch (e) {\n          console.error('Invalid argument provided for YEAR function', e);\n        }\n      })",args:["date"],output:"text",example:{args:['"2020-05-17"'],result:"17"},description:"Returns the month from the date argument in 'DD' format",type:r.K.DATE},{name:"ADD_DAYS",id:"099-23-xran",value:"(function (date, days) {\n        function pad (offset) {\n          offset = offset / 60;\n          var diff = offset < 0 ? '-' : '+';\n          var absOffset = Math.abs(offset);\n          var shouldPad = absOffset.toString().length < 2;\n          offset = shouldPad ?\n            diff + '0' + absOffset + ':00' :\n            diff + absOffset + ':00';\n          return offset;\n        }\n\n        var d = new Date(date);\n        var timezoneOffset = -(d.getTimezoneOffset());\n        d.setHours(d.getHours() + (timezoneOffset / 60));\n        d.setDate(d.getDate() + parseInt(days, 10));\n        return d.toJSON().split('.')[0] + pad(timezoneOffset);\n      })",args:["date","days"],output:"date",example:{args:['"2020-05-17"',"78"],result:"2020-08-03"},description:"Adds the number of days to the provided date",type:r.K.DATE},{name:"ADD_MONTHS",id:"099-24-jjzd",value:" (function (date, months) {\n        function pad (offset) {\n          offset = offset / 60;\n          var diff = offset < 0 ? '-' : '+';\n          var absOffset = Math.abs(offset);\n          var shouldPad = absOffset.toString().length < 2;\n          offset = shouldPad ?\n            diff + '0' + absOffset + ':00' :\n            diff + absOffset + ':00';\n          return offset;\n        }\n        var d = new Date(date);\n        var timezoneOffset = -(d.getTimezoneOffset());\n        d.setHours(d.getHours() + (timezoneOffset / 60));\n        d.setMonth(d.getMonth() + parseInt(months, 10));\n        return d.toJSON().split('.')[0] + pad(timezoneOffset);\n      })",args:["date","months"],output:"date",example:{args:['"2020-05-17"',"2"],result:"2020-07-17"},description:"Adds the number of months to the provided date",type:r.K.DATE},{name:"FORMAT_DATE",id:"099-25-grqv",value:"((date, format) => {\n        var regexArr = [\n          {getter: 'getFullYear', exp: /Y{1,4}/ },\n          {getter: 'getMonth', exp: /M{1,2}/ },\n          {getter: 'getDate', exp: /D{1,2}/ },\n          {getter: 'getHours', exp: /H{1,2}/ },\n          {getter: 'getMinutes', exp: /m{1,2}/ },\n          {getter: 'getSeconds', exp: /s{1,2}/ }\n        ];\n\n        var regexArrLen = regexArr.length;\n        var invalidDateRegex = /Invalid Date/gi;\n        var d = new Date(date);\n        if (invalidDateRegex.test(d)) {\n          console.warn('FORMAT_DATE ERROR: Invalid Date passed as an argument, using fallback value NOW!');\n          d = new Date();\n        }\n        var formattedDate = format;\n        for (var i = 0; i < regexArrLen; i++) {\n          var regex = regexArr[i].exp;\n          var getter = regexArr[i].getter;\n          var param = regex.exec(formattedDate);\n          var value = d[getter]();\n\n          if (getter === 'getMonth') {\n            value += 1;\n          }\n\n          if (param && getter === 'getFullYear') {\n            var sliceIndex = 4 - param[0].length;\n            if (sliceIndex > 2) {\n              sliceIndex = 2;\n            }\n            value = value.toString().slice(sliceIndex);\n            formattedDate = formattedDate.replace(regex, value);\n          } else if (param && param[0].length === 2 && value.toString().length === 1) {\n            formattedDate = formattedDate.replace(regex, '0' + value);\n          } else if (param) {\n            formattedDate = formattedDate.replace(regex, value.toString());\n          }\n        }\n\n        return formattedDate;\n      })",args:["date","format"],output:"text",example:{args:['"2019-05-07"','"D.MM.YY"'],result:"7.05.19"},description:"Formats the date according to the specified custom format string. Month (M), day (D), hours (H),\n       minutes (m) can be formated in minimum digits (ie. D) or zero padded format (DD). Year (Y) can be formated in\n       minumum 2 digits format (Y or YY) or three (YYY) and four digit (YYYY) format.",type:r.K.DATE},{name:"@deprecated_TIME",id:"099-17-emdi",value:"(function() {\n        function pad(num) {\n          var shouldPad = num.toString().length < 2;\n          return shouldPad ? '0' + num : num;\n        }\n\n        var now = new Date();\n        if (!arguments.length) {\n        return pad(now.getHours()) + ':' + pad(now.getMinutes());\n        }\n\n        var time = arguments[0].split(/\\D/);\n        if (time.length === 2) {\n          now.setHours(time[0]);\n          now.setMinutes(time[1]);\n        }\n\n        now.setHours(now.getHours() + (arguments[1] || 0));\n        now.setMinutes(now.getMinutes() + (arguments[2] || 0));\n        return pad(now.getHours()) + ':' + pad(now.getMinutes());\n      })",args:["text","..."],output:"text",example:{args:['"22:10"',"-1","15"],result:'"21:25"'},description:"Used to set or manipulate time fields. Takes between zero and three arguments. If there are no arguments it\n      returns the current time. The first argument can be used to return a custom time from a field, variable or plain text formated\n      to 'HH:mm'. Second argument manipulates hours and the third minutes.",type:r.K.DATE,deprecated:!0},{name:"@deprecated_DATE",id:"099-16-gnad",value:"(function () {\n        if (!arguments.length) {\n          return new Date();\n        }\n\n        var input = arguments[0];\n        var d = new Date(input.split(/D/).reverse().join('-'));\n        if (/Invalid Date/i.test(d)) {\n          console.warn('@deprecated_DATE ERROR: invalid date format, using fallback value of NOW');\n          d = new Date();\n        }\n\n        d.setDate(d.getDate() + (arguments[1] || 0));\n        d.setDate(d.getDate() + ((arguments[2] || 0) * 7));\n        d.setMonth(d.getMonth() + (arguments[3] || 0));\n        d.setFullYear(d.getFullYear() + (arguments[4] || 0));\n        return d;\n      })",args:["text","..."],output:"text",example:{args:['"03-03-2020"',"1","0","1","-5"],result:"04-04-2015"},description:"Used to set or manipulate dates. Takes between zero and five argument. If there are no arguments it\n      returns the current date. The first argument can be used to return a custom date from a field or a variable or plain text\n      formated to 'dd-mm-yyyy' or 'dd.mm.yyyy' or 'dd/mm/yyyy'. The other arguments manipulate the date in the order: 2nd\n      argument manipulates days, 3rd weeks, 4th months, and the 5th years.",type:r.K.DATE,deprecated:!0},{name:"FLOOR",id:"099-10-lrcf",value:"(function (num) {\n        return Math.floor(parseFloat(num));\n      })",args:["number","decimal places"],output:"number",example:{args:["3.89"],result:"3"},description:"Returns a number rounded down to the nearest integer.",type:r.K.NUMBER},{name:"CEIL",id:"099-00-kekm",value:"(function (num) {\n        return Math.ceil(parseFloat(num));\n      })",args:["number","decimal places"],output:"number",example:{args:["3.143"],result:"4"},description:"Returns a number rounded up to the nearest integer.",type:r.K.NUMBER},{name:"COUNT",id:"099-00-lryk",value:"(function () {\n        if (arguments.length === 1 && Array.isArray(arguments[0])) {\n         return arguments[0].length;\n        }\n        return arguments.length;\n      })",args:["number","..."],output:"number",example:{args:["3, 5, 7, 19"],result:"4"},description:"Returns the number of elements in a given list.",type:r.K.NUMBER},{name:"LIST",id:"099-00-tlvm",value:"(function() {\n        var accumulator = [];\n        for (let i = 0; i < arguments.length; i++) {\n          accumulator.push(arguments[i]);\n        }\n        return accumulator;\n      })",args:["text | number","..."],output:"[text, text, ...] | [number, number, ...] | [any, any, ...] ",example:{args:['"Hello"','"World!"'],result:["Hello","World!"]},description:"Transform arguments of any type into list. Takes any number of comma separated arguments.",type:r.K.DYNAMIC}],e}()},82013:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});var r=function(){function e(){}return e.dynamicDataDelimiter="%",e.nameDelimiter=":::",e.variableDelimiter="%",e.fieldDelimiter="%%",e.suffixDelimiter="%_%",e.functionDelimiter="%f%",e.externalApiDelitimer="%a%",e.plainValueDelimiter="%p%",e.aqlValueDelimiter="%aql%",e.dataSourceBindDelimiter="%_db_%",e.fieldRegex=new RegExp(e.fieldDelimiter+"{1}","gi"),e.suffixRegex=new RegExp(e.suffixDelimiter+"{1}","gi"),e.variableRegex=new RegExp(e.variableDelimiter+"{1}","gi"),e.functionRegex=new RegExp(e.functionDelimiter+"{1}","gi"),e.externalApiRegex=new RegExp(e.externalApiDelitimer+"{1}","gi"),e.plainValueRegex=new RegExp(e.plainValueDelimiter+"{1}","gi"),e.aqlValueRegex=new RegExp(e.aqlValueDelimiter+"{1}","gi"),e.dataSourceBindRegex=new RegExp(e.dataSourceBindDelimiter+"{1}","gi"),e}()},92121:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1954),i=function(){function e(){}return e.transformCallbackValueFn=function(){return"var "+e.transformCallbackFieldValueFnName+" = function(cbObj){\n      var dvTypeVal=cbObj.type;\n      if( dvTypeVal=='DV_DATE' || dvTypeVal=='DV_DATE_TIME' || dvTypeVal=='GENERIC_DATE_TIME' || dvTypeVal=='DV_TIME' || dvTypeVal=='GENERIC_TIME'\n       || dvTypeVal=='GENERIC_DATE_FIELD'){\n\n        var rmTypeComparatorFns = {\n\n          'DV_DATE':function(dateBasedFieldVal){\n              if( dateBasedFieldVal.indexOf(':') < 0){\n                // to get local time += 'T00:00' is needed - Date generates UTC midnight if value is only 'yyyy-dd-mm'\n                dateBasedFieldVal += 'T00:00';\n              }\n              var dateFVal = new Date(dateBasedFieldVal);\n              dateFVal.setSeconds(0);\n              dateFVal.setMilliseconds(0);\n              return dateFVal.getTime();\n          },\n\n          'DV_DATE_TIME': function(dateBasedFieldVal){\n            var dateFVal = new Date(dateBasedFieldVal);\n            return dateFVal.getTime();\n           },\n\n          'GENERIC_DATE_TIME': function(dateBasedFieldVal){\n            var dateFVal = new Date(dateBasedFieldVal);\n            return dateFVal.getTime();\n           },\n\n          'DV_TIME': function (dateBasedFieldVal){\n              var hourMinValArr = dateBasedFieldVal.split(':');\n              var dateFVal = new Date();\n              dateFVal.setFullYear(2000);\n              dateFVal.setMonth(2);\n              dateFVal.setDate(2);\n              dateFVal.setHours(parseInt(hourMinValArr[0]) );\n              dateFVal.setMinutes(parseInt(hourMinValArr[1]) );\n              dateFVal.setSeconds(0);\n              dateFVal.setMilliseconds(0);\n\n              return dateFVal.getTime();\n           },\n\n          'GENERIC_TIME': function (dateBasedFieldVal){\n              var hourMinValArr = dateBasedFieldVal.split(':');\n              var dateFVal = new Date();\n              dateFVal.setFullYear(2000);\n              dateFVal.setMonth(2);\n              dateFVal.setDate(2);\n              dateFVal.setHours(parseInt(hourMinValArr[0]) );\n              dateFVal.setMinutes(parseInt(hourMinValArr[1]) );\n              dateFVal.setSeconds(0);\n              dateFVal.setMilliseconds(0);\n\n              return dateFVal.getTime();\n           },\n\n           'GENERIC_DATE_FIELD':function(dateBasedFieldVal){\n              if( dateBasedFieldVal.indexOf(':') < 0){\n                // to get local time += 'T00:00' is needed - Date generates UTC midnight if value is only 'yyyy-dd-mm'\n                dateBasedFieldVal += 'T00:00';\n              }\n              var dateFVal = new Date(dateBasedFieldVal);\n              dateFVal.setSeconds(0);\n              dateFVal.setMilliseconds(0);\n              return dateFVal.getTime();\n          }\n        };\n\n        cbObj.value = cbObj.value.map(rmTypeComparatorFns[dvTypeVal]);\n      }else if(\n        cbObj.value\n        && cbObj.value.length\n        && cbObj.value[0]!=null\n        && cbObj.value[0] instanceof Object\n      ){\n          Object.keys(cbObj.value[0]).forEach(function(k){\n            cbObj.value[k] = cbObj.value.map(function(o){return o[k];});\n          });\n       }\n       };"},e.createApiCallback=function(t,n,i,o,a){if(void 0===a&&(a=r.X4$[r.X4$.CHANGE]),o||(o=""),this.isVariable(n)){var s=e.resolveTargetId(n);return"\n"+t+"."+(l={name:"addListenerForVariable",evType:a}).name+"('"+s+"', '"+l.evType+"' ,"+i+");"}var l,u=![r.X4$[r.X4$.CLICK],r.X4$[r.X4$.COMPOSITION_SAVED]].includes(a)&&void 0;return"\n"+t+"."+(l={name:"addListener",evType:a}).name+"('"+e.resolveTargetId(n)+"', '"+l.evType+"' ,"+i+", {searchWithinContainer:'"+o+"', onInitialValueSet: "+u+"});"},e.getComparisonScript=function(t,n,i,o){switch(t.name){case r.N0$.NOT_EMPTY:return"(!!"+e.getCbValueArr(i,n)+".length && "+e.getCbValueArr(i,n)+".some(function(v){return isNaN(v) || typeof v === 'string' ? !!v : v != null || v === false}) )";case r.N0$.EMPTY:return"(!"+e.getCbValueArr(i,n)+".length || !"+e.getCbValueArr(i,n)+".some(function(v){return isNaN(v) || typeof v === 'string' ? !!v : v != null || v === false}) )";case r.N0$.NOTEQUALS:case r.N0$.ISNOT:var a=e.getCbValueArr(i,n);return a+".length === 0 || ("+a+".length === 1 && ("+a+".some(function(v){ return String(v) !== "+o+"("+this.getEscapedValue(t.propVals[n])+", "+i+".type);}) ))";case r.N0$.EQ:case r.N0$.EQUALS:case r.N0$.IS:return e.getCbValueArr(i,n)+".length === 1 && (\n            "+e.getCbValueArr(i,n)+".some(function(v){\n              const compareValueString = String("+o+"("+this.getEscapedValue(t.propVals[n])+", "+i+".type));\n              return String(v) === compareValueString;\n             })\n          )";case r.N0$.CONTAINS:return"("+e.getCbValueArr(i,n)+".indexOf("+o+"("+this.getEscapedValue(t.propVals[n])+", "+i+".type)) > -1 )";case r.N0$.NOT_CONTAINS:return"("+e.getCbValueArr(i,n)+".indexOf("+o+"("+this.getEscapedValue(t.propVals[n])+", "+i+".type)) === -1 )";case r.N0$.ENDSWITH:return"("+e.getCbValueArr(i,n)+".some(function(v){ return String(v).endsWith("+o+"("+this.getEscapedValue(t.propVals[n])+", "+i+".type));}) )";case r.N0$.STARTSWITH:return"("+e.getCbValueArr(i,n)+".some(function(v){ return String(v).startsWith("+o+"("+this.getEscapedValue(t.propVals[n])+", "+i+".type));}) )";case r.N0$.LT:return"("+e.getCbValueArr(i,n)+".filter(v => v != null).some(function(v){ return v < parseFloat("+o+"('"+t.propVals[n]+"', "+i+".type)); }) )";case r.N0$.GT:return"("+e.getCbValueArr(i,n)+".filter(v => v != null).some(function(v){ return v > parseFloat("+o+"('"+t.propVals[n]+"', "+i+".type)); }) )";case r.N0$.LE:return"("+e.getCbValueArr(i,n)+".filter(v => v != null).some(function(v){ return v <= parseFloat("+o+"('"+t.propVals[n]+"', "+i+".type)); }) )";case r.N0$.GE:return"("+e.getCbValueArr(i,n)+".filter(v => v != null).some(function(v){ return v >= parseFloat("+o+"('"+t.propVals[n]+"', "+i+".type)); }) )";case r.N0$.CLICK:return"( "+e.getCbValueArr(i,n)+".some(function(v){return !!v;}) )";case r.N0$.IS_HIDDEN:return"("+i+"['isHidden'])";case r.N0$.IS_SHOWN:return"(!"+i+"['isHidden'])";case r.N0$.CHANGES:case r.N0$.SEARCH_INPUT_CHANGES:return"(true)";case r.N0$.IS_COLLAPSED:return"("+i+"['isCollapsed'])";case r.N0$.IS_EXPANDED:return"(!"+i+"['isCollapsed'])";default:return console.warn("Operator not found=",t),""}},e.getCbValueArr=function(e,t){return t?"value"===t?"("+e+".value && typeof "+e+".value === 'object' ? "+e+".value.flatMap(v => v && v.value || v) : "+e+".value || [])":"("+e+".value&&"+e+".value['"+t+"']&&"+e+".value['"+t+"'].map?"+e+".value['"+t+"'].map(function(v){return v && v.hasOwnProperty && v.hasOwnProperty('"+t+"')? v['"+t+"']:v;}):[])":[]},e.getEscapedValue=function(e){return"string"==typeof e&&isNaN(+e)?"'"+e.replace(/\\/g,"").replace(/([<>\-*()'"?])/g,"\\$1")+"'":"string"==typeof e?'"'+e+'"':e},e.sanitizeId=function(e){var t=new RegExp("[^a-zA-Z0-9]","g");return e.replace(t,"_")},e.sanitizeName=function(e){var t=new RegExp(/\W/,"g");return e.replace(t,"_")},e.resolveTargetId=function(e){return this.isVariable(e)?e.replace(r.F88.VARIABLE,""):this.isTag(e)?e.replace(r.F88.TAG,""):this.isPage(e)?e.replace(r.F88.PAGE,""):r.zR2.sanitizePath(e)},e.isPage=function(e){return null==e?void 0:e.startsWith(r.F88.PAGE)},e.isVariable=function(e){return null==e?void 0:e.startsWith(r.F88.VARIABLE)},e.isTag=function(e){return null==e?void 0:e.startsWith(r.F88.TAG)},e.transformCallbackFieldValueFnName="_transformCbObjectValue",e}()},44493:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var r=function(e){return e.CONSTANT="CONSTANT",e.DYNAMIC="DYNAMIC",e.TEXT="TEXT",e.NUMBER="NUMBER",e.DATE="DATE",e}({})},22739:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{I0:function(){return TextInputToken},OR:function(){return PlainValueInputToken},KQ:function(){return FunctionInputToken},Vs:function(){return FieldInputToken},j$:function(){return VariableInputToken},M9:function(){return ExternalApiInputToken},g7:function(){return SuffixInputToken},MK:function(){return AqlInputToken},l0:function(){return DataSourceBindInputToken},AY:function(){return InputTokenType}});var tslib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(64762),_dependency_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(92121),_better_studio_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1954),_ExpressionFunctionStore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74901),_ExpressionTokenConstants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(82013),_shared_models_external_api_tokens_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30128),_external_api_token_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(34032),InputToken=function(){function e(e,t){this.name=e,this.value=t,this.isDependent=!1,this.id=_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.lMr.getUUID()}return e.prototype.getScriptVariableName=function(){return""},e.prototype.getEvaluationScript=function(e){return""},e.prototype.setDependentTokens=function(e,t){return e},e}(),TextInputToken=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=t,r.value=n,r.type=InputTokenType.TEXT,r}return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.ZT)(t,e),t.prototype.evaluate=function(e,t,n){return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.mG)(this,void 0,void 0,function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.Jh)(this,function(e){return[2,Promise.resolve(this.value)]})})},t.prototype.getScriptVariableName=function(){return""+this.value},t}(InputToken),PlainValueInputToken=function(_super){function PlainValueInputToken(e,t){var n=_super.call(this,e,t)||this;return n.name=e,n.value=t,n.type=InputTokenType.PLAIN,n}return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.ZT)(PlainValueInputToken,_super),PlainValueInputToken.prototype.evaluate=function(e,t,n,r){return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.mG)(this,void 0,void 0,function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.Jh)(this,function(e){return[2,Promise.resolve(this.value)]})})},PlainValueInputToken.prototype.getScriptVariableName=function(){return"plain_value_"+_dependency_util__WEBPACK_IMPORTED_MODULE_0__.Z.sanitizeName(this.name)+"_"+_dependency_util__WEBPACK_IMPORTED_MODULE_0__.Z.sanitizeId(this.id)},PlainValueInputToken.prototype.getEvaluationScript=function(params){try{var script="var "+this.getScriptVariableName()+" = "+this.value;return eval(script),script}catch(e){return"var "+this.getScriptVariableName()+" = '"+this.value+"'"}},PlainValueInputToken}(InputToken),FunctionInputToken=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=t,r.value=n,r.type=InputTokenType.FN,r}return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.ZT)(t,e),t.prototype.evaluate=function(e,t,n){var r;return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.mG)(this,void 0,void 0,function(){var e,t,n;return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.Jh)(this,function(i){return e=(0,tslib__WEBPACK_IMPORTED_MODULE_5__.CR)(this.value.split(_ExpressionTokenConstants__WEBPACK_IMPORTED_MODULE_6__.y.nameDelimiter),2),t=e[1],n=null===(r=_ExpressionFunctionStore__WEBPACK_IMPORTED_MODULE_2__.w.functions.find(function(e){return e.id===t}))||void 0===r?void 0:r.value,[2,Promise.resolve(n)]})})},t.prototype.getEvaluationScript=function(e){var t,n=(0,tslib__WEBPACK_IMPORTED_MODULE_5__.CR)(this.value.split(_ExpressionTokenConstants__WEBPACK_IMPORTED_MODULE_6__.y.nameDelimiter),2),r=n[0],i=n[1],o=null===(t=_ExpressionFunctionStore__WEBPACK_IMPORTED_MODULE_2__.w.functions.find(function(e){return e.id===i}))||void 0===t?void 0:t.value;return"var func_"+r.toLowerCase()+"_"+_dependency_util__WEBPACK_IMPORTED_MODULE_0__.Z.sanitizeId(this.id)+" = "+o+";"},t.prototype.getScriptVariableName=function(){return"func_"+this.name.toLowerCase()+"_"+_dependency_util__WEBPACK_IMPORTED_MODULE_0__.Z.sanitizeId(this.id)},t}(InputToken),FieldInputToken=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=t,r.value=n,r.type=InputTokenType.FIELD,r}return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.ZT)(t,e),t.prototype.evaluate=function(e,t,n){return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.mG)(this,void 0,void 0,function(){var e,r,i,o,a,s,l,u=this;return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.Jh)(this,function(c){return e=n.findIndex(function(e){return e.id===u.id}),(r=n[e+1])&&r.type===InputTokenType.SUFFIX?"searchInput"===r.value?[2,Promise.resolve(t.getFieldSearchValue(this.name,0,void 0,void 0))]:(i=t.getFieldValue(this.name,0,void 0,void 0,!1),[2,Promise.resolve((null==i?void 0:i[r.value])||"")]):(o=t.getFieldModel(this.name),a=Array.isArray(o)&&o.length>0?o[0]:o,s=a?_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.B8O[a.type]:void 0,a&&s&&_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.jYl.isOrdinal(s)?[2,Promise.resolve(t.getOrdinalNumberValue(this.name)||0)]:a&&s&&_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.jYl.isScale(s)?[2,Promise.resolve(t.getScaleNumberValue(this.name)||0)]:(l=t.getFieldValue(this.name,0))?[2,Promise.resolve(l&&isNaN(l)?"'"+l+"'":+l)]:[2,Promise.resolve(l)])})})},t.prototype.getScriptVariableName=function(){return _dependency_util__WEBPACK_IMPORTED_MODULE_0__.Z.sanitizeName(this.name)+"_field_value"},t.prototype.getEvaluationScript=function(e){var t,n=this.getScriptVariableName(),r=e.scriptApiIdentName,i=e.tokens[e.currentTokenIndex+1],o=!0!==(null===(t=e.action)||void 0===t?void 0:t.pureValueObject);if(i&&i.type===InputTokenType.SUFFIX)return"var "+n+" = undefined;\n              var "+n+"_value_object = "+r+".getFieldValue('"+this.name+"', 0, null, null, "+o+");\n              if ("+n+"_value_object && typeof "+n+"_value_object === 'object') {\n                "+n+" = "+n+"_value_object['"+i.value+"'];\n              } else if ("+n+"_value_object) {\n                "+n+" = "+n+"_value_object;\n              }\n";var a=_dependency_util__WEBPACK_IMPORTED_MODULE_0__.Z.sanitizeName(this.name)+"_field_model";return"var "+a+" = "+r+".getFieldModel('"+this.name+"', '"+e.withinContainerTag+"');\n          if (['GENERIC_ORDINAL', 'DV_ORDINAL'].includes("+a+".type)) {\n            var "+n+" = +"+r+".getOrdinalNumberValue('"+this.name+"', '"+e.withinContainerTag+"') || 0;\n          } else if (['DV_SCALE'].includes("+a+".type)) {\n            var "+n+" = +"+r+".getScaleNumberValue('"+this.name+"', '"+e.withinContainerTag+"') || 0;\n          } else {\n            var "+n+" = "+r+".getFieldValue('"+this.name+"', 0, '"+e.withinContainerTag+"');\n            if (!["+Array.from(_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.jYl.textRmTypes).map(function(e){return"'"+e+"'"})+"].includes("+a+".type) && "+n+" && !isNaN("+n+")) {\n              "+n+" = +"+n+";\n            }\n          }"},t}(InputToken),VariableInputToken=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=t,r.value=n,r.type=InputTokenType.VARIABLE,r}return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.ZT)(t,e),t.prototype.evaluate=function(e,t,n){var r,i;return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.mG)(this,void 0,void 0,function(){var o,a,s,l,u,c,d,h,f,p,m,v,g,y,b,_,C,E,T=this;return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.Jh)(this,function(w){switch(w.label){case 0:return o=n.findIndex(function(e){return e.id===T.id}),s=n[o+2],(null==(a=n[o+1])?void 0:a.isDependent)&&[InputTokenType.FIELD,InputTokenType.AQL].includes(null==a?void 0:a.type)&&"undefined"!==(null==a?void 0:a.value)&&(l=a.value),(null==a?void 0:a.isDependent)&&[InputTokenType.SUFFIX,InputTokenType.DATA_SOURCE_BIND,InputTokenType.AQL].includes(null==s?void 0:s.type)&&(u=s.value),(c=this.value)?c.source!==_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.hkZ.AQL?[3,16]:c.value.name?[4,t.getAqlView(c.value.name)]:[3,2]:[2,""];case 1:return h=w.sent(),[3,3];case 2:h=null,w.label=3;case 3:return d=h,f=(_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.jYl.isCodedText(e.getRmType())||_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.jYl.isText(e.getRmType()))&&(null===(r=e.getDataSource())||void 0===r?void 0:r.variableId)===c.id,p=_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.jYl.isHtml(e.rmType)||_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.jYl.isRichText(e.rmType),_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.jYl.isExternalWidget(e.rmType)?(b=ApiResponseResolver.getResponseKeys(o,n),d?[4,t.getViewResult(d.name,JSON.parse(d.metaData).parameters)]:[3,5]):[3,8];case 4:return v=w.sent(),[3,7];case 5:return[4,t.executeAql(c.value.code)];case 6:v=w.sent(),w.label=7;case 7:return m=v,y=d?m:(null==m?void 0:m.resultSet)||[],b.length?"string"==typeof(_=ApiResponseResolver.getResult(b,y,t))?[2,'"'+_+'"']:[2,_]:[2,Promise.resolve(y)];case 8:return d?[4,t.getViewResult(d.name,JSON.parse(d.metaData).parameters)]:[3,10];case 9:return g=w.sent(),b=ApiResponseResolver.getResponseKeys(o,n),_=ApiResponseResolver.getResult(b,g,t),[2,Promise.resolve(_)];case 10:return _better_studio_common__WEBPACK_IMPORTED_MODULE_1__.jYl.isListElement(null===(i=e.getParentModel())||void 0===i?void 0:i.getRmType())||f?[4,t.executeAql(c.value.code)]:[3,12];case 11:return C=w.sent(),y=(null==C?void 0:C.resultSet)||[],b=ApiResponseResolver.getResponseKeys(o,n),_=ApiResponseResolver.getResult(b,y,t),[2,Promise.resolve(_)];case 12:return p?[4,t.executeAql(c.value.code)]:[3,14];case 13:return[2,(null==(C=w.sent())?void 0:C.resultSet)||[]];case 14:return[4,t.executeAql(c.value.code,c.value.params)];case 15:return E=w.sent(),[2,Promise.resolve(t.getValueForGivenAqlFromAqlResultSet(l||c.value.code,E,u,e.formId))];case 16:return"number"===c.type?[2,+c.value]:"boolean"===c.type?[2,!!c.value]:[2,c.value+""];case 17:return[2]}})})},t.prototype.getScriptVariableName=function(){return _dependency_util__WEBPACK_IMPORTED_MODULE_0__.Z.sanitizeName(this.name)+"_variable_value"},t.prototype.getEvaluationScript=function(e){var t,n=e.scriptApiIdentName,r=e.tokens[e.currentTokenIndex+1];(null==r?void 0:r.isDependent)&&[InputTokenType.FIELD,InputTokenType.AQL].includes(null==r?void 0:r.type)&&"undefined"!==r.value&&(t=r.value);var i,o=e.tokens[e.currentTokenIndex+2];(null==r?void 0:r.isDependent)&&[InputTokenType.SUFFIX,InputTokenType.AQL].includes(null==o?void 0:o.type)&&(i=o.value);var a=e.tokens.slice(e.currentTokenIndex+1),s=_dependency_util__WEBPACK_IMPORTED_MODULE_0__.Z.sanitizeName(this.name)+"_variable_value",l="variable_"+_dependency_util__WEBPACK_IMPORTED_MODULE_0__.Z.sanitizeName(this.name);return"var "+l+" = "+n+".getVariable('"+this.name+"');\n            var "+l+"_is_js_view = false;\n            if ("+l+".source === 'AQL') {\n                var "+s+"_aqlCode = "+l+".value.code;\n                var "+s+"_aqlParams = "+l+".value.params;\n                if ("+l+".value && "+l+".value.name) {\n                  var "+s+"_viewData = await "+n+".getAqlView("+l+".value.name);\n                  "+l+"_is_js_view = "+s+"_viewData && "+s+"_viewData['steps'][0].processorName === 'js';\n                  if ("+l+"_is_js_view) {\n                    var "+l+"_response = await "+n+".getViewResult("+s+"_viewData.name, JSON.parse("+s+"_viewData.metaData).parameters);\n                    "+ApiResponseResolver.getResultScript(a,l,e.scriptApiIdentName,l+"_response",s)+"\n                  } else {\n                    "+s+"_aqlCode = "+s+"_viewData && "+s+"_viewData.steps[0] && "+s+"_viewData.steps[0].processorData;\n                    var "+s+"_sanitized_params = [];\n                    JSON.parse("+s+"_viewData.metaData)['parameters'].forEach(param => "+s+"_sanitized_params.push([param.name, '']));\n                    "+s+"_aqlParams = "+s+"_sanitized_params;\n                  }\n                }\n\n                if (!"+l+"_is_js_view) {\n                 var "+l+"_aql_value = await "+n+".executeAql("+s+"_aqlCode, "+s+"_aqlParams);\n                 var "+s+" = "+n+".getValueForGivenAqlFromAqlResultSet(\n                 '"+_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.pq4.escapeString(t)+"', "+l+"_aql_value, '"+i+"', '"+e.action.target+"'\n                 );\n                }\n            } else if ("+l+".type === 'number') {\n              var "+s+" = +"+l+".value;\n            } else if ("+l+".type === 'string') {\n              var "+s+" = "+l+".value + '';\n            } else if ("+l+".type === 'boolean') {\n              var "+s+" = !!"+l+".value;\n            } else {\n              var "+s+" = "+l+".value;\n            }"},t.prototype.setDependentTokens=function(e,t){var n=this,r=this.value,i=e.findIndex(function(e){return e.id===n.id});if((null==r?void 0:r.source)===_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.hkZ.AQL){var o=e[i+1];o&&[InputTokenType.FIELD,InputTokenType.AQL].includes(o.type)&&(o.isDependent=!0,e[i+2]&&e[i+2].type===InputTokenType.SUFFIX&&(e[i+2].isDependent=!0))}return e},t}(InputToken),ExternalApiInputToken=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.name=t,i.value=n,i.additional=r,i.type=InputTokenType.API,i}return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.ZT)(t,e),t.prototype.evaluate=function(e,t,n,r){var i,o,a,s;return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.mG)(this,void 0,void 0,function(){var e,l,u,c,d,h,f,p,m,v=this;return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.Jh)(this,function(g){switch(g.label){case 0:return e=(0,tslib__WEBPACK_IMPORTED_MODULE_5__.CR)(this.value.split(_ExpressionTokenConstants__WEBPACK_IMPORTED_MODULE_6__.y.nameDelimiter),2),l=e[0],u=e[1],c=n.findIndex(function(e){return e.id===v.id}),d=r.getEnvironment().externalApis.find(function(e){return l===e.id}),h=null===(i=null==d?void 0:d.calls)||void 0===i?void 0:i.find(function(e){return e.id===u}),d&&h?[4,t.callExternalApi(d,h,null===(o=this.additional)||void 0===o?void 0:o.force,null===(a=this.additional)||void 0===a?void 0:a.pathParameters,null===(s=this.additional)||void 0===s?void 0:s.requestParameters).catch(function(e){return[]})]:[2,""];case 1:return f=g.sent(),p=ApiResponseResolver.getResponseKeys(c,n),"string"==typeof(m=ApiResponseResolver.getResult(p,f,t))&&(m=encodeURIComponent(m)),[2,Promise.resolve(m)]}})})},t.prototype.getEvaluationScript=function(e){var t=this,n=e.tokens,r=n.findIndex(function(e){return e.id===t.id}),i=(0,tslib__WEBPACK_IMPORTED_MODULE_5__.CR)(this.value.split(_ExpressionTokenConstants__WEBPACK_IMPORTED_MODULE_6__.y.nameDelimiter),2),o=i[0],a=i[1],s=e.environment.getEnvironment(),l=this.getScriptVariableName();if(!s)return"var "+l+" = undefined;";var u=s.externalApis.find(function(e){return e.id===o}),c=null==u?void 0:u.calls.find(function(e){return e.id===a}),d=ApiResponseResolver.getResponseKeys(r,n);return"  var "+l+"_api_response = await "+e.scriptApiIdentName+".callExternalApi("+JSON.stringify(u)+", "+JSON.stringify(c)+").catch(_ => []);\n              "+ApiResponseResolver.getResultScript(d,l,e.scriptApiIdentName,l+"_api_response")+"\n           "},t.prototype.setDependentTokens=function(e,t){var n=this,r=e.findIndex(function(e){return e.id===n.id});return this.setApiRelatedTokensAsDependent(e,e[r+1]),e},t.prototype.getScriptVariableName=function(){return"external_api_"+_dependency_util__WEBPACK_IMPORTED_MODULE_0__.Z.sanitizeName(this.name).toLowerCase()+"_"+_dependency_util__WEBPACK_IMPORTED_MODULE_0__.Z.sanitizeId(this.id)},t.prototype.setApiRelatedTokensAsDependent=function(e,t){if(t&&t.type===InputTokenType.SUFFIX){t.isDependent=!0;var n=e.findIndex(function(e){return e.id===t.id});n>-1&&e[n+1]&&this.setApiRelatedTokensAsDependent(e,e[n+1])}},t}(InputToken),SuffixInputToken=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=t,r.value=n,r.type=InputTokenType.SUFFIX,r}return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.ZT)(t,e),t.prototype.evaluate=function(e,t,n){return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.mG)(this,void 0,void 0,function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.Jh)(this,function(e){return[2,Promise.resolve("")]})})},t}(InputToken),AqlInputToken=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=t,r.value=n,r.type=InputTokenType.AQL,r}return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.ZT)(t,e),t.prototype.evaluate=function(e,t,n){return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.mG)(this,void 0,void 0,function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.Jh)(this,function(e){return[2,Promise.resolve("")]})})},t}(InputToken),DataSourceBindInputToken=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=t,r.value=n,r.type=InputTokenType.DATA_SOURCE_BIND,r}return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.ZT)(t,e),t.prototype.evaluate=function(e,t,n){return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.mG)(this,void 0,void 0,function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.Jh)(this,function(e){return[2,Promise.resolve("")]})})},t}(InputToken),ApiResponseResolver=function(){function e(){}return e.getResponseKeys=function(e,t){for(var n,r=[],i=e+1,o=_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.getAllTokens();[InputTokenType.SUFFIX,InputTokenType.DATA_SOURCE_BIND].includes(null===(n=t[i])||void 0===n?void 0:n.type);){var a={type:o.includes(t[i].name)||t[i].name.startsWith(_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.N)?"Index":"Value",name:t[i].name};r.push(a),i++}return r},e.getResult=function(e,t,n){var r="";return e.forEach(function(e){var i;if(r=r||t,e.name===_external_api_token_util__WEBPACK_IMPORTED_MODULE_4__.H.root)r=t;else if(e.type!==_shared_models_external_api_tokens_model__WEBPACK_IMPORTED_MODULE_3__.Zw.INDEX)r=n.extractDataFromApiResponse(r,e.name);else if(e.name===_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.FIRST)r=null==r?void 0:r[0];else if(e.name===_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.LAST)r=null==r?void 0:r[r.length-1];else if(e.name.startsWith(_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.N)){var o=e.name.split(_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.N)[1]||0;r=null===(i=r)||void 0===i?void 0:i[o]}else console.error("index with name"+e.name+"does not exists")}),r},e.getResultScript=function(e,t,n,r,i){return"\n      var "+t+"_responseKeys = "+JSON.stringify(e)+";\n      var "+t+"_result = null;\n\n       "+t+"_responseKeys.forEach(key => {\n          if (!['"+_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.FIRST+"', '"+_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.LAST+"', '"+_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.N+"'].includes(key.name)) {\n            var "+t+"_relevant_result = "+t+"_result || "+r+";\n            "+t+"_result = "+n+".extractDataFromApiResponse("+t+"_relevant_result, key.name);\n          } else {\n            if (key.name === '"+_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.FIRST+"') {\n              "+t+"_result = "+t+"_result[0];\n            } else if (key.name === '"+_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.LAST+"') {\n              "+t+"_result = "+t+"_result["+t+"_result.length - 1];\n            } else if (key.name.startsWith('"+_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.N+"')) {\n              var tmpIndex = key.name.split('"+_better_studio_common__WEBPACK_IMPORTED_MODULE_1__.U2h.N+"')[1] || 0;\n              "+t+"_result = "+t+"_result[tmpIndex];\n            } else {\n              console.error('index with name' + key.name + 'does not exists');\n            }\n          }\n        });\n\n        var "+(i||t)+" = "+t+"_result;\n    "},e}(),InputTokenType=function(e){return e.TEXT="Text",e.FIELD="Field",e.VARIABLE="Variable",e.SUFFIX="Suffix",e.CONNECTION="Connection",e.FN="Fn",e.API="Api",e.PLAIN="Plain",e.AQL="Aql",e.DATA_SOURCE_BIND="DataSourceBind",e}({})},88424:function(e,t,n){"use strict";n.d(t,{V:function(){return l}});var r=n(64762),i=n(22739),o=n(1954),a=n(82013),s=n(34032),l=function(){function e(){}return e.parseTokens=function(e,t){if(!e)return[];var n=this.sanitizeSpots(e).map(function(e){var n;if(e.startsWith(a.y.fieldDelimiter)){var o=e.replace(a.y.fieldRegex,"");if(o.indexOf(a.y.nameDelimiter)>-1){var s=(0,r.CR)(o.split(a.y.nameDelimiter),2);return new i.Vs(s[0],s[1])}return new i.Vs(o,o)}if(e.startsWith(a.y.suffixDelimiter)){var l=e.replace(a.y.suffixRegex,"");return new i.g7(l,l)}if(e.startsWith(a.y.dataSourceBindDelimiter)){var u=e.replace(a.y.dataSourceBindRegex,"");return new i.l0(u,u)}if(e.startsWith(a.y.functionDelimiter)){var c=e.replace(a.y.functionRegex,""),d=null===(n=c.split(a.y.nameDelimiter))||void 0===n?void 0:n[0];return new i.KQ(d,c)}if(e.startsWith(a.y.externalApiDelitimer)){var h=e.replace(a.y.externalApiRegex,""),f=(0,r.CR)(h.split(a.y.nameDelimiter),3);return new i.M9(f[0],f[1]+a.y.nameDelimiter+f[2])}if(e.startsWith(a.y.plainValueDelimiter)){var p=(0,r.CR)(e.replace(a.y.plainValueRegex,"").split(a.y.nameDelimiter),2),m=p[0];return new i.OR(m,p[1]||m)}if(e.startsWith(a.y.aqlValueDelimiter)){var v=e.replace(a.y.aqlValueRegex,"");if(v.indexOf(a.y.nameDelimiter)>-1){var g=(0,r.CR)(v.split(a.y.nameDelimiter),2);return new i.MK(g[1],v)}return new i.MK(v,v)}if(e.startsWith(a.y.variableDelimiter)&&t){var y=e.replace(a.y.variableRegex,""),b=t.getVariable(y);return new i.j$(y,b)}return new i.I0(e,e)});return this.addTokenRelations(n,t)},e.addTokenRelations=function(e,t){return e.forEach(function(n){n.setDependentTokens(e,t)}),e},e.sanitizeSpots=function(t){if(!t)return[];var n=t;if(e.isSimpleValue(n))return[n];var r=n.match(this.getDelimiterPatterns());return r?r.reduce(function(e,t,i){if(!n.startsWith(t)){var o=n.slice(0,n.indexOf(t)).trim();e.push(o),n=n.slice(n.indexOf(t),n.length).trim()}return e.push(t),n=n.slice(t.length,n.length).trim(),i===r.length-1&&n&&e.push(n),e},[]):[n]},e.preserveSimpleStringValuesForVariables=function(e,t){if(e.value.includes(a.y.dynamicDataDelimiter)||1!==t.length||"string"!==e.type)return t;var n=t[0].value,r=["'",'"'],i=r.includes(null==n?void 0:n.charAt(0)),o=r.includes(null==n?void 0:n.charAt(n.length-1));return i||o||(t[0].value="'"+n+"'"),t},e.isSimpleValue=function(e){return!e||!isNaN(e)||"string"==typeof e&&!(null==e?void 0:e.includes(a.y.dynamicDataDelimiter))},e.convertExternalApiTokensExpressionToInputTokensExpression=function(e){return e?e=(e=(e=e.replace(s.H.indexRegex,a.y.dataSourceBindDelimiter)).replace(s.H.valueRegex,a.y.dataSourceBindDelimiter)).split(/(\s)(?=%)/g).filter(function(e){return!!e.trim()}).map(function(e){return e.startsWith(a.y.dataSourceBindDelimiter)?e:e.replace(s.H.contentRegex,a.y.dataSourceBindDelimiter)}).join(" "):e},e.groupSpotsByDelimiter=function(e,t){var n=(null==e?void 0:e.split(" ").map(function(e){return e.trim()}))||[],r=[],i=-1;return n.forEach(function(e,o){if(e.startsWith(t)&&!e.endsWith(t)){var a=n.slice(o).findIndex(function(e){return!e.startsWith(t)&&e.endsWith(t)});r.push(n.slice(o,i=a+1+o).join(" "))}else i<=o&&r.push(e)}),r},e.prepareDataBindExpression=function(t){var n=t.api,s=t.apiCall,l=t.sourceTokens,u=t.pathParameters,c=t.itemIndex||0,d=null!=c?""+o.U2h.N+c:o.U2h.FIRST,h=e.parseTokens(t.expression,t.formEnvironmentService);return h.map(function(e,t){var n;return e.type===i.AY.DATA_SOURCE_BIND&&(null===(n=h[t-1])||void 0===n?void 0:n.type)!==i.AY.DATA_SOURCE_BIND?t:null}).filter(function(e){return null!==e}).forEach(function(e,f){var p;p=t.variable?new i.j$(t.variable.name,t.variable):new i.M9(n.name,n.id+a.y.nameDelimiter+s.id,{pathParameters:u,requestParameters:t.additionalRequestParameters});var m=l.map(function(e){return new i.l0(e.name,e.name)}),v=m.map(function(e){return e.value}),g=h.slice(0,v.length).every(function(e){return v.includes(e.value)}),y=o.U2h.N===h[h.length-1].value;y&&null==c&&(c=0);var b=(l.length||-1)+1;g?h.splice(e+f+f*b,0,p):y?(h=h.map(function(e){return e.name===o.U2h.N&&(e.name=e.value=""+o.U2h.N+c),e})).splice.apply(h,(0,r.ev)([e+f+f*(l.length+1),0,p],(0,r.CR)(m))):h.splice.apply(h,(0,r.ev)((0,r.ev)([e+f+f*b,0,p],(0,r.CR)(m)),[new i.l0(d,d)]))}),h=h.map(function(e){return e.type===i.AY.DATA_SOURCE_BIND&&(e.isDependent=!0),e})},e.getDelimiterPatterns=function(){var e=[a.y.fieldDelimiter,a.y.suffixDelimiter,a.y.externalApiDelitimer,a.y.functionDelimiter,a.y.dataSourceBindDelimiter,a.y.aqlValueDelimiter,a.y.plainValueDelimiter].map(function(e){return"(?:"+e+"){1}.+?(?:"+e+"){1}"}).join("|");return new RegExp("(?:"+e+"|(?:"+a.y.variableDelimiter+"){1}(?:\\d|\\w|"+a.y.nameDelimiter+")+?(?:"+a.y.variableDelimiter+"){1})","g")},e}()},67019:function(e,t,n){"use strict";n.d(t,{G:function(){return c}});var r=function(){function e(){}return e.toOperatorSuffixValue=function(e){var t,n={suffix:"value",value:null};return e.value&&(e.value.suffix&&(n.suffix=e.value.suffix),n.value=e.value[n.suffix]),(t={})[n.suffix]=n.value,t.suffix=n.suffix,t},e}(),i=n(92121),o=n(1954),a=function(){function e(){}return e.toConditionScriptPropName=function(e){return"condition_"+i.Z.sanitizeId(e.id)},e.toOperatorEvaluationScript=function(t,n,a){if(!t.condition)return"";a||(a="");var s="value_"+i.Z.sanitizeId(t.id),l={name:t.condition.operator,propVals:r.toOperatorSuffixValue(t.condition)},u=i.Z.resolveTargetId(t.fieldId),c=[o.N0$.IS_VALID,o.N0$.IS_NOT_VALID,o.N0$.VALIDATE].some(function(e){return e===l.name}),d=o.N0$.CLICK===l.name;return c?i.Z.isPage(t.fieldId)?"var "+e.toConditionScriptPropName(t)+" = "+this.getValidatorScriptForPage(l.name,u,a):"var "+e.toConditionScriptPropName(t)+" = "+this.getValidatorScript(l.name,u,a):d?"var "+e.toConditionScriptPropName(t)+" = true;":"var "+s+";\n     if ("+i.Z.isVariable(t.fieldId)+") {\n        var variable_"+s+" = api.getVariable('"+u+"');\n        "+s+" = {name: variable_"+s+".name, type: null, value: [variable_"+s+".value], aqlPath: null};\n     } else {\n        "+s+" = api.getFieldModel( '"+u+"', '"+a+"');\n     }\n\n      if("+s+" != null){\n\n      "+i.Z.transformCallbackFieldValueFnName+"("+s+");\n      var _transformDependencyOperatorSuffixValue = function(depSuffVal, dvType){\n          switch(dvType){\n            case 'DV_DATE':\n            case 'GENERIC_DATE_FIELD':\n            var dateDepVal = new Date(depSuffVal);\n                    dateDepVal.setHours(0);\n                    dateDepVal.setMinutes(0);\n                    dateDepVal.setSeconds(0);\n                    dateDepVal.setMilliseconds(0);\n                    return dateDepVal.getTime().toString();\n\n            case 'DV_DATE_TIME':\n            case 'GENERIC_DATE_TIME':\n                  var dateDepVal = new Date(depSuffVal);\n                  return dateDepVal.getTime().toString();\n\n            case 'DV_TIME':\n            case 'GENERIC_TIME':\n                  var dateDepVal = new Date(depSuffVal);\n                  dateDepVal.setFullYear(2000);\n                  dateDepVal.setMonth(2);\n                  dateDepVal.setDate(2);\n                  dateDepVal.setSeconds(0);\n                  dateDepVal.setMilliseconds(0);\n                  return dateDepVal.getTime();\n\n            default:\n              return depSuffVal;\n          }\n      };\n\n      var "+e.toConditionScriptPropName(t)+" = "+i.Z.getComparisonScript(l,l.propVals.suffix,s,"_transformDependencyOperatorSuffixValue")+";\n    }"},e.getValidatorScript=function(e,t,n){return e===o.N0$.VALIDATE?"api.validateElement('"+t+"', '"+n+"');":e===o.N0$.IS_NOT_VALID?"!api.isElementValid('"+t+"', '"+n+"');":"api.isElementValid('"+t+"', '"+n+"');"},e.getValidatorScriptForPage=function(e,t,n){return e===o.N0$.VALIDATE?"api.validatePage('"+t+"', '"+n+"');":e===o.N0$.IS_NOT_VALID?"!api.isPageValid('"+t+"', '"+n+"');":"api.isPageValid('"+t+"', '"+n+"');"},e}(),s=n(27624),l=n(82013),u=n(74901),c=function(){function e(){}return e.createExpressionStatementsEvaluationVariables=function(e,t){var n="";return e.statements.forEach(function(r){n+=a.toOperatorEvaluationScript(r,e.id,t)}),n},e.joinEvaluationVariablesToCondExpression=function(t,n){var r="";r+=a.toConditionScriptPropName(n);var i=n.relation?s.H.findRelatedStatement(n.relation,t.statements):null;return i&&(r+=s.H.getRelationOperatorString(n.relation)+e.joinEvaluationVariablesToCondExpression(t,i)),r},e.isPlainValueExpression=function(e){return new RegExp(l.y.plainValueDelimiter+".*"+l.y.nameDelimiter+".*"+l.y.plainValueDelimiter).test(e)},e.isExpression=function(e){return new RegExp(l.y.dynamicDataDelimiter+"{1}.*").test(e)},e.startsWithListFunction=function(e){return new RegExp(l.y.functionDelimiter+"LIST"+l.y.nameDelimiter+".*"+l.y.functionDelimiter+"(.*)").test(e)},e.createPlainExpression=function(e,t){return""+l.y.plainValueDelimiter+e+l.y.nameDelimiter+(null!=t?t:e)+l.y.plainValueDelimiter},e.createListExpression=function(e){var t=u.w.functions.find(function(e){return"LIST"===e.name});return t?l.y.functionDelimiter+""+t.name+l.y.nameDelimiter+t.id+l.y.functionDelimiter+"("+e.join(",")+")":(console.warn("can not convert default values because list function is not found!"),null)},e}()},34032:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r=n(64762),i=n(30128),o=n(88424),a=function(){function e(){}return e.parseTokens=function(t,n){var r=this;return t?t===e.root?[new i.T9(e.root,{children:n})]:o.V.groupSpotsByDelimiter(t,e.dynamicDataDelimiter).filter(function(e){return!!e}).map(function(t){if(t.startsWith(e.indexDelimiter)){var o=t.replace(e.indexRegex,"");return new i.lH(o,o)}if(t.startsWith(e.valueDelimiter)){var a=t.replace(e.valueRegex,""),s=r.findResponseObject(n,a);return new i.wS(a,s)}if(t.startsWith(e.contentDelimiter)){var l=t.replace(e.contentRegex,""),u=r.findResponseObject(n,l);return new i.T9((null==u?void 0:u.name)||"/",u)}}).filter(function(e){return!!e}):[]},e.getTokenExpression=function(e){var t=this.tokenDelimiters.get(e.type);return""+t+e.getStringValue()+t},e.findResponseObject=function(e,t){var n,i,o=Array.isArray(e)?e:e.children||[];try{for(var a=(0,r.XA)(o),s=a.next();!s.done;s=a.next()){var l=s.value;if(l.name===t||l.parentObjectName+" - "+l.name===t)return l;if(l.children&&l.children.length){var u=this.findResponseObject(l.children,t);if(u)return u}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return Array.isArray(e)?null:e},e.dynamicDataDelimiter="%",e.contentDelimiter="%",e.indexDelimiter="%%",e.valueDelimiter="%_%",e.contentRegex=new RegExp(e.contentDelimiter+"{1}","gi"),e.indexRegex=new RegExp(e.indexDelimiter+"{1}","gi"),e.valueRegex=new RegExp(e.valueDelimiter+"{1}","gi"),e.listPostfix=" (list)",e.defaultValueKeyName="value",e.root=":root",e.tokenDelimiters=new Map([[i.Zw.CONTENT,e.contentDelimiter],[i.Zw.INDEX,e.indexDelimiter],[i.Zw.VALUE,e.valueDelimiter]]),e}()},27624:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(1954),i=function(){function e(){}return e.findRelatedStatement=function(e,t){return t.find(function(t){return t.id===e.target&&!!t.fieldId})},e.getRelationOperatorString=function(e){return e.operator===r.RXy.AND?" && ":" || "},e.getClickRelatedStatements=function(e){if(!(e.length<2)){var t=e.reduce(function(e,t,n){var i;return(null===(i=t.relation)||void 0===i?void 0:i.operator)!==r.RXy.AND&&e.push(n+1),e},[]),n=new Map,i=0;return t.forEach(function(t){var o=e.slice(i,t),a=o.findIndex(function(e){var t;return(null===(t=e.condition)||void 0===t?void 0:t.operator)===r.N0$.CLICK});-1!==a&&o.forEach(function(e,t){return n.set(e.id,t!==a)}),i=t}),n}},e}()},89896:function(e,t,n){"use strict";n.d(t,{P:function(){return i},F:function(){return o}});var r=n(64762),i=function(e){function t(n,r,i,o,a,s){var l=e.call(this,r)||this;return l.elementId=n,l.message=r,l.userMessage=i,l.code=o,l.status=a,l.error=s,Object.setPrototypeOf(l,t.prototype),l.name="FormRendererError",l}return(0,r.ZT)(t,e),t}(Error),o=function(e){function t(n,r){var i=e.call(this,n,r)||this;return Object.setPrototypeOf(i,t.prototype),i.name="ScriptApiError",i}return(0,r.ZT)(t,e),t}(i)},49045:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var r=function(){function e(){}return e.mapToCodedTextModelValue=function(t,n){var r,i,o,a,s=e.findModelValue(n,t),l=null!==(r=null==s?void 0:s.selected)&&void 0!==r&&r,u=null!==(i=null==s?void 0:s.disabled)&&void 0!==i&&i;return{label:null!==(o=null==t?void 0:t.label)&&void 0!==o?o:"N/A",value:null===(a=t.value)||void 0===a?void 0:a.toString(),valueAndLabel:"("+t.value+") "+t.label,inputItemElement:!0,selected:l,disabled:u}},e.mapFromTextToCodedTextModelValue=function(t,n){var r,i,o,a,s=e.findModelValue(n,t),l=null!==(r=null==s?void 0:s.selected)&&void 0!==r&&r,u=null!==(i=null==s?void 0:s.disabled)&&void 0!==i&&i;return{label:null!==(o=null==t?void 0:t.label)&&void 0!==o?o:"N/A",value:null===(a=t.value)||void 0===a?void 0:a.toString(),valueAndLabel:"("+t.value+") "+t.label,inputItemElement:!0,selected:l,disabled:u}},e.findModelValue=function(t,n,r){return void 0===r&&(r=!1),r?null==t?void 0:t.find(function(t){return e.terminologyModelValueCompareFn(t,n)}):null==t?void 0:t.find(function(t){return e.modelValueCompareFn(t,n)})},e.modelValueCompareFn=function(e,t){return null==e.value||e.value===(null==e?void 0:e.label)?(null==e?void 0:e.label)===(null==t?void 0:t.label):(null==e?void 0:e.value)===(null==t?void 0:t.value)},e.terminologyModelValueCompareFn=function(e,t){return null==e.value||(null==e?void 0:e.value)===(null==e?void 0:e.label)?e.label===t.description:e.value===t.code},e}()},97581:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(27192),i=function(){function e(){}return e.mapToMultimediaModelValues=function(e,t){e&&t||console.warn("mapToMultimediaModelValue(); Response or resource data does not exists, so data model value will not be set.");var n=[];return e.forEach(function(e){var i,o={fileUrl:"",fileMimeType:"",altText:"",success:!0};null===(i=t.bindings)||void 0===i||i.forEach(function(t){var n=r.h.extractValueFromApiResponse(e,t.prettyValue);"uri"===t.key?o.fileUrl=n:"mediatype"===t.key?o.fileMimeType=n:"alternatetext"===t.key&&(o.altText=n)}),n.push(o)}),n},e}()},92305:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(1954),i=function(){function e(){}return e.getColumnClasses=function(e){return"col-xs-"+this.TOTAL_GRID_COLUMNS+" col-sm-"+e},e.trackByFieldModel=function(e,t){return r.zR2.getUniquePath(t)},e.trackByIndex=function(e){return e},e.getColSizeNr=function(t){var n=parseInt(t,10);if(!isNaN(n)){n/=100;var r=Math.round(n/(1/e.TOTAL_GRID_COLUMNS));return r>=1?r:e.TOTAL_GRID_COLUMNS}return e.TOTAL_GRID_COLUMNS},e.getLabelColumns=function(t){var n=null==t?void 0:t.getLabelSize(!0);return n!==r.bNd.INHERIT&&n!==r.bNd.COLUMN_HIDDEN?e.sizeToNumber(n):n===r.bNd.COLUMN_HIDDEN?t.advanced.showTooltip?1:0:e.LABEL_DEFAULT_GRID_COLUMNS},e.renderContainersMin=function(t,n,r){var i=t,o=parseInt(n.getAnnotationValue("renderMin"),10);if(!isNaN(o)&&o&&o>i&&(i=Math.min(o,10),i=Math.max(i,n.min)),this.getMultiSiblingsCount(n)!==i){var a=n.isMulti()?i-e.getMultiSiblingsCount(n):0;a>0&&e.duplicateContainer(a,n,r,t)}},e.duplicateContainer=function(e,t,n,r){var i;void 0===e&&(e=1);for(var o=0;o<e;o++)null===(i=n.duplicateModel(t))||void 0===i||i.setMin(r)},e.getMultiSiblingsCount=function(t){return e.getMultiSiblings(t).length},e.getMultiSiblings=function(e){var t=e.getParentModel();return t?r.zR2.findChildrenWithPath(t,e.getPath()):[e]},e.getLabelAlignmentClass=function(e){var t=e.getViewConfig().getLabelPosition(!0);return this.LABEL_HORIZONTAL_CLASS_MAP.get(t)?this.LABEL_HORIZONTAL_CLASS_MAP.get(t):""},e.sizeToNumber=function(e){var t=[r.bNd.INHERIT,r.rLC.INHERIT].includes(e);return e===r.bNd.COLUMN_HIDDEN?13:!e||t?0:parseInt(e.replace("COLUMN_",""),10)},e.TOTAL_GRID_COLUMNS=12,e.LABEL_DEFAULT_GRID_COLUMNS=4,e.LABEL_MAX_GRID_COLUMNS=11,e.FIELD_DEFAULT_GRID_COLUMNS=12,e.ELEMENT_DEFAULT_GRID_COLUMNS=8,e.PRESENTATION_ELEMENT_COLUMN_WIDTH=12,e.PRESENTATION_LABEL_COLUMN_WIDTH=4,e.PRESENTATION_INPUT_WRAPPER_COLUMN_WIDTH=8,e.LABEL_HORIZONTAL_CLASS_MAP=new Map([[r.htc.LEFT,"text-sm-left"],[r.htc.RIGHT,"text-sm-right"],[r.htc.TOP,"text-sm-top"]]),e}()},41852:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var r=function(){function e(){}return e.FORMAT_L="dd/MM/yyyy",e.FORMAT_M="d/M/yyyy",e.EHR_SERVER_FORMAT="yyyy-MM-dd",e}()},27192:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(64762),i=n(1954),o=n(34032),a=function(){function e(){}return e.parseResponse=function(e,t,n,r,i){var o=this;return void 0===t&&(t=[]),t=this.parseArrayResponse(e,t,n),e&&"object"==typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(a){var s=e[a];if(Array.isArray(s))t=o.parseArrayResponse(s,t,n,a,i);else{var l="object"==typeof s,u={name:a,type:o.resolveFieldType(s),sampleValue:l?"":""+s,children:[]};n?(i&&(u.parentObjectName=i),n.children.push(u)):t.push(u),l&&(t=o.parseResponse(s,t,u,r||s,a))}}),t},e.extractValueFromApiResponse=function(e,t){var n;if(e)return Array.isArray(e)&&(n=this.getResponseValue(e,t,e))?n:!i.lMr.isObject(e)||Array.isArray(e)||!(n=this.getResponseValue(e,t,Object.keys(e)))&&isNaN(n)?t===""+o.H.defaultValueKeyName+o.H.listPostfix?e:null:n},e.getResponseValue=function(e,t,n){var a,s;try{for(var l=(0,r.XA)(n),u=l.next();!u.done;u=l.next()){var c=u.value;if(n.includes(t))return e[t];if(c===t||""+c+o.H.listPostfix===t)return e[c];if(i.lMr.isObject(e[c])&&!Array.isArray(e[c])){var d=this.extractValueFromApiResponse(e[c],t);if(d)return d}}}catch(h){a={error:h}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}},e.parseArrayResponse=function(e,t,n,r,a){if(void 0===t&&(t=[]),Array.isArray(e)){var s=this.resolveFieldType(e),l={name:(r||o.H.defaultValueKeyName)+o.H.listPostfix,type:s,sampleValue:"object"==typeof e?"":""+e,children:[]};n?(a&&(l.parentObjectName=a),n.children.push(l)):t.push(l);var u=e[0],c=this.resolveFieldType(u);[i.mqb.LIST,i.mqb.OBJECT].includes(c)?t=this.parseResponse(Array.isArray(e)?e[0]:e,t,l,e):l.sampleValue=u}return t},e.resolveFieldType=function(e){return Array.isArray(e)?i.mqb.LIST:"object"==typeof e?i.mqb.OBJECT:isNaN(e)?i.mqb.TEXT:i.mqb.NUMBER},e}()},13062:function(e,t,n){"use strict";n.d(t,{q:function(){return d}});var r=n(97425),i=n(32041),o=n(42607),a=n(69056),s=n(90343),l=n(51816),u=n(99597),c=n(89896),d=function(){function e(){this.cachedData=new Map,this.callsPending=new Map,this.cacheExpires=new Map,this.cachedParams=new Map,this.cacheChanged$=new r.X(new Map),this.MINUTE=6e4,this.CACHE_VALIDITY=this.MINUTE,this.cacheChanged=this.cacheChanged$.asObservable().pipe((0,o.d)({bufferSize:1,refCount:!0}))}return e.prototype.executeWithCache=function(e,t,n){var r=this;if(void 0===n&&(n=!1),!t)throw new c.P("Error","Cache token was not set, please provide cache token.");var d=this.cacheExpires.get(t);if(d&&d>new Date&&!n)return(0,i.of)(this.cachedData.get(t)).pipe((0,a.q)(1));if(this.callsPending.has(t)&&!n)return this.callsPending.get(t).pipe((0,a.q)(1));var h=e.pipe((0,s.b)(function(e){return r.cachedData.set(t,e)}),(0,o.d)({bufferSize:1,refCount:!0}),(0,l.K)(function(e){throw console.log("Can not execute request on api",e),r.callsPending.delete(t),r.cacheExpires.set(t,r.getExpiryTime()),r.cachedData.set(t,[]),new c.P("Api call error",e.message,e.message,e.code,e.status,e)}),(0,u.x)(function(){r.cacheExpires.set(t,r.getExpiryTime()),r.cacheChanged$.next(r.cachedData),r.callsPending.delete(t)}));return this.callsPending.set(t,h),h.pipe((0,a.q)(1))},e.prototype.getExpiryTime=function(){var e=new Date;return new Date(e.getTime()+this.CACHE_VALIDITY)},e}()},86087:function(e,t,n){"use strict";n.d(t,{a:function(){return r},J:function(){return i}});var r=function(e){return e.UPDATE="UPDATE",e.CREATE="CREATE",e.DELETE="DELETE",e}({}),i=function(e){return e.FLAT="FLAT",e.STRUCTURED="STRUCTURED",e}({})},30128:function(e,t,n){"use strict";n.d(t,{T9:function(){return a},lH:function(){return s},wS:function(){return l},Zw:function(){return u}});var r=n(64762),i=n(1954),o=function(){function e(e,t){this.name=e,this.value=t,this.id=i.lMr.getUUID()}return e.prototype.getStringValue=function(){return this.name},e}(),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=t,r.value=n,r.type=u.CONTENT,r}return(0,r.ZT)(t,e),t.prototype.selectItem=function(e){return e.push(this),e},t.prototype.getValueSet=function(e){return e.value&&e.value&&e.value.type===i.mqb.LIST?[new s(i.U2h.FIRST,0),new s(i.U2h.LAST,"dynamic"),new s(i.U2h.N,"dynamic")]:e.value.children.map(function(e){var n=e.parentObjectName?""+e.name:e.name;return e.children&&e.children.length?new t(n,e):new l(n,e)})},t}(o),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=t,r.value=n,r.type=u.INDEX,r}return(0,r.ZT)(t,e),t.prototype.selectItem=function(e){return e.push(this),e},t.prototype.getValueSet=function(e){return e.value&&e.value.children&&e.value.children.length?e.value.children.map(function(e){var t=e.parentObjectName?""+e.name:e.name;return e.children&&e.children.length?new a(t,e):new l(t,e)}):[]},t}(o),l=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=t,r.value=n,r.type=u.VALUE,r}return(0,r.ZT)(t,e),t.prototype.selectItem=function(e){return e.push(this),e},t.prototype.getValueSet=function(e){return[]},t}(o),u=function(e){return e.CONTENT="Content",e.INDEX="Index",e.VALUE="Value",e}({})},18936:function(e,t,n){"use strict";n.d(t,{z8:function(){return r},yu:function(){return i},VE:function(){return o},qO:function(){return a}});var r=function(){return function(e,t,n,r,i,o,a,s){this.formName=e,this.formVersion=t,this.templateId=n,this.rootModel=r,this.environment=o,this.layout=i,this.values=a,this.context=s,this.scripts=[]}}(),i=function(){return function(e,t,n,r,i){this.name=e,this.version=t,this.templateId=n,this.tags=r,this.relatedTemplates=i}}(),o=function(e){return e.OAUTH2="oauth2",e.BASIC="basic",e}({}),a=function(e){return e.CREATE="CREATE",e.UPDATE="UPDATE",e}({})},52813:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var r=function(e){return e.DEFAULT="DEFAULT",e.WHITE="WHITE",e}({})},90015:function(e,t,n){"use strict";n.d(t,{l:function(){return r},q:function(){return i}});var r=function(){return function(e){this.name=e.name,this.version=e.version,this.templateId=e.templateId,this.tags=e.tags,this.pageResources=e.pageResources,this.formEnvironment=e.formEnvironment,this.pages=e.pages,this.dependencies=e.dependencies,this.widgetConfig=e.widgetConfig,this.scripts=e.scripts}}(),i=function(e){return e.DESCRIPTION="form-description",e.LAYOUT="form-layout",e.PAGES="app-pages",e.ENVIRONMENT="form-environment",e.WIDGET_CONFIG="widget-configuration",e}({})},59700:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(64762),i=n(1954),o=function(){function e(){}return e.getTagDelimiters=function(){return[this.openingTagDelimiter,this.closingTagDelimiter]},e.getTagSymbols=function(){return[this.openingSectionTagSymbol,this.openingInvertedSectionTagSymbol,this.closingSectionTagSymbol]},e.removeTagSymbolsFromViewKeysStart=function(e){var t={},n=this.getTagSymbols(),r=function(r){if(e.hasOwnProperty(r)){var a=e[r];if(i.lMr.isObject(a)&&(a=o.removeTagSymbolsFromViewKeysStart(a)),n.find(function(e){return r.startsWith(e)})){var s=r.substring(1);t[s]=a}else t[r]=a}},o=this;for(var a in e)r(a);return t},e.getTagsFromTemplate=function(e){var t=new RegExp(this.openingTagDelimiter+"([^}]+)"+this.closingTagDelimiter,"g");return e.match(t)||[]},e.getTagKeysFromTemplate=function(e){var t=this,n=this.getTagsFromTemplate(e).map(function(e){var n,i,o,a;try{for(var s=(0,r.XA)(t.getTagDelimiters()),l=s.next();!l.done;l=s.next())e=e.replace(l.value,"")}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}try{for(var u=(0,r.XA)(t.getTagSymbols()),c=u.next();!c.done;c=u.next())e=e.replace(c.value,"")}catch(f){o={error:f}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}var d=e.split(".");return 0===d.length?"":d[0]});return(0,r.ev)([],(0,r.CR)(new Set(n)))},e.replaceTagKeyFromTemplate=function(e,t,n){var i,o,a,s,l=(0,r.ev)([""],(0,r.CR)(this.getTagSymbols()));try{for(var u=(0,r.XA)(l),c=u.next();!c.done;c=u.next())n=n.replace(this.openingTagDelimiter+(f=c.value)+e+this.closingTagDelimiter,this.openingTagDelimiter+f+t+this.closingTagDelimiter)}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}try{for(var d=(0,r.XA)(l),h=d.next();!h.done;h=d.next()){var f;n=n.replace(this.openingTagDelimiter+(f=h.value)+e+".",this.openingTagDelimiter+f+t+".")}}catch(m){a={error:m}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}return n},e.templateIncludesTags=function(e){return this.getTagsFromTemplate(e).length>0},e.openingTagDelimiter="{{",e.closingTagDelimiter="}}",e.openingSectionTagSymbol="#",e.openingInvertedSectionTagSymbol="^",e.closingSectionTagSymbol="/",e}()},1954:function(e,t,n){"use strict";n.d(t,{E3O:function(){return $},OFV:function(){return X},Z3O:function(){return te},RCe:function(){return P},_1o:function(){return U},Lhd:function(){return Z},pq4:function(){return Ot},U4Q:function(){return Ce},lMr:function(){return c},N0$:function(){return W},XCQ:function(){return It},XM9:function(){return F},Yhe:function(){return z},Qgf:function(){return wt},G1o:function(){return ce},pYP:function(){return k},rLC:function(){return le},mqb:function(){return L},gNt:function(){return ge},$jN:function(){return se},umi:function(){return ye.u},bRo:function(){return G},eNT:function(){return Tt},lgi:function(){return Ne},GWD:function(){return Pe},SLS:function(){return Ae},U2h:function(){return B},IIB:function(){return Se},O6i:function(){return Ve},n$I:function(){return Fe},FT1:function(){return Mt.F},htc:function(){return ae},bNd:function(){return ie},Hnr:function(){return xe},zR2:function(){return Re},qrN:function(){return q},yC5:function(){return ke},XF1:function(){return M},XX$:function(){return he},RXy:function(){return K},X4$:function(){return w},B8O:function(){return De.B},jYl:function(){return Oe.j},cf6:function(){return d},$uz:function(){return pe},yh4:function(){return S},VXg:function(){return E},sfN:function(){return Le},F88:function(){return ee},RaB:function(){return j},iA3:function(){return Ie},G5u:function(){return Me},FN1:function(){return ne},_wD:function(){return O},$UT:function(){return x},hkZ:function(){return I},Fxi:function(){return fe},y3m:function(){return we},Eox:function(){return V},E2s:function(){return De.E},h3e:function(){return oe}});var r=n(61511),i=n(70468),o=n(84832),a=n(64762),s=n(35322),l=new s.OlP("Configuration that is needed through all apps and libs"),u=function(e){return e.AQL_BUILDER="aql-builder",e.FORM_BUILDER="form-builder",e.FORM_PLAYGROUND="form-playground",e.LOGIN="login",e.DASHBOARD="",e.DOCS="docs",e.ADMINISTRATION="administration",e}({}),c=function(){function e(){}return e.isBlank=function(e){return!e||/^\s*$/.test(e)},e.removeWhitespacesFromString=function(e){return e.replace(/\s*/g,"")},e.toStringAndLowerCase=function(e){if(e)return e.toString().toLowerCase()},e.removeAttributeFromObject=function(e,t){e&&e.hasOwnProperty(t)&&delete e[t]},e.insertArrayAt=function(e,t,n){e.splice.apply(e,(0,a.ev)([t,0],(0,a.CR)(n)))},e.cloneMap=function(e){var t=new Map;return e.forEach(function(e,n){return t.set(n,e)}),t},e.escapeRegExp=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},e.copyToClipboard=function(e){var t=document.createElement("textarea");t.style.opacity="0",t.style.position="fixed",t.textContent=e;var n=document.getElementsByTagName("body")[0];n.appendChild(t),t.select(),document.execCommand("copy"),n.removeChild(t)},e.downloadFile=function(e,t,n){var r,i=document.getElementsByTagName("body")[0],o=document.createElement("a");i.appendChild(o),o.href=URL.createObjectURL(e),o.download=t,o.dataset.downloadurl=[n,o.download,o.href].join(":"),o.click(),URL.revokeObjectURL(o.href),null===(r=o.parentElement)||void 0===r||r.removeChild(o)},e.getUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e.updateIdForObject=function(t,n){void 0===n&&(n="id"),(null==t?void 0:t.hasOwnProperty(n))&&(t[n]=e.getUUID())},e.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},e.checkDomTreeForTargetId=function(e,t){return t.find(function(t){return new RegExp(t,"i").test(e.id)})||(e.parentElement?this.checkDomTreeForTargetId(e.parentElement,t):void 0)},e.sanitizeName=function(e){return e.replace(/\W/g,"_")},e.generateColorHexCode=function(){return"#"+Math.random().toString(16).slice(2,8)},e.getContrastColorForHexCode=function(e){return e?.3*parseInt(e.substr(1,2),16)+.6*parseInt(e.substr(3,2),16)+.2*parseInt(e.substr(5,2),16)>170?"#000000":"#ffffff":"#000000"},e.getBaseHrefFromDOM=function(){var e,t=document.querySelector("base");return t&&(null===(e=t.attributes.getNamedItem("href"))||void 0===e?void 0:e.value)||"/"},e.removeTrailingSlash=function(e){if(e)return e.replace(/\/$/,"")},e.isStrictObject=function(e){return!("object"!=typeof e||e instanceof Map||e instanceof Array||null===e)},e.isObject=function(e){return"object"==typeof e},e.isNumber=function(e){return!isNaN(e)},e.isDate=function(e){var t,n;if(!isNaN(e))return!1;var r=null===(n=null===(t=e.split("T"))||void 0===t?void 0:t[0])||void 0===n?void 0:n.split(/\/|-|\./g).map(function(e){return e.toString()});return 3===(null==r?void 0:r.length)&&r.every(function(e){return e.length>=2&&e.length<=4})&&!isNaN(Date.parse(e))},e.jsonParseSafe=function(e){try{return JSON.parse(e)}catch(t){return e}},e}(),d=function(e){return e.EXTERNAL_API_CALL="external-api-call",e}({}),h="/admin/rest/v1",f="/rest/v1",p=function(){function e(e,t,n){this.baseHref=e,this.commonConfig=t,this.location=n,this.UNSECURED_ENDPOINTS=["/user/authorities","/user/create","/user/forgotten_password","/user/reset_password","/settings/registration_enabled","/oauth2/login","/oauth2/refresh_token"]}return e.prototype.resolveLoginPath=function(){var e=this.location.path();return this.isLoginPath(e)?e.split("/").filter(function(e){return!!e}):[u.LOGIN]},e.prototype.getReturnUrl=function(){var e=this.location.path();return!e||this.isLoginPath(e)?null:{returnUrl:e}},e.prototype.deserializeReturnUrl=function(e){if(!e)return{path:"",queryParams:null};var t=(0,a.CR)(decodeURIComponent(e).split("?"),2);return{path:t[0],queryParams:this.deserializeQueryParams(t[1])}},e.prototype.getStudioApiEndpoint=function(){var e;return(null!==(e=this.commonConfig.serverUrl)&&void 0!==e?e:location.origin)+c.removeTrailingSlash(this.baseHref)+"/api"},e.prototype.getBaseUrl=function(){var e;return(null!==(e=this.commonConfig.serverUrl)&&void 0!==e?e:location.origin)+c.removeTrailingSlash(this.baseHref)},e.prototype.isExternalApiCall=function(){return!!this.getExternalApiCallFromSessionStorage()},e.prototype.getExternalApiCallFromSessionStorage=function(){var e=sessionStorage.getItem(d.EXTERNAL_API_CALL);return e?c.jsonParseSafe(e):null},e.prototype.isStudioBackendRequest=function(e){var t=this.getStudioApiEndpoint();return!!e&&e.startsWith(t)&&!this.skipAuthHeaderEndpoint(e)},e.prototype.isPlatformRequest=function(e){return e.includes(f)||e.includes(h)},e.prototype.getServerEndpointForUser=function(){return this.getStudioApiEndpoint()+f},e.prototype.getServerEndpointForAdmin=function(){return this.getStudioApiEndpoint()+h},e.prototype.skipAuthHeaderEndpoint=function(e){var t=this;return this.UNSECURED_ENDPOINTS.some(function(n){return e.startsWith(t.getStudioApiEndpoint()+n)||e.startsWith("/")})},e.prototype.isLoginPath=function(e){return!!e&&this.getLoginRouteRegex().test(e)},e.prototype.getLoginRouteRegex=function(){return new RegExp("^/login","i")},e.prototype.deserializeQueryParams=function(e){var t;if(!e)return null;var n={};return null===(t=e.split("&"))||void 0===t||t.forEach(function(e){var t=(0,a.CR)(e.split("="),2);n[t[0]]=t[1]}),n},e.\u0275fac=function(t){return new(t||e)(s.LFG(r.mr),s.LFG(l),s.LFG(r.Ye))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),m=n(16073),v=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[m.UX,m.u5,r.ez,i.aw,o.HK]]}),e}(),g=n(31238),y=n(77218),b=n(32859),_=n(97425),C=function(){function e(){var e=this;this.spinner=new _.X(!1),this.sidebarSpinner=new _.X(!1),this.showSpinner=function(){return e.spinner.next(!0)},this.hideSpinner=function(){return e.spinner.next(!1)},this.showSidebarSpinner=function(){return e.sidebarSpinner.next(!0)},this.hideSidebarSpinner=function(){return e.sidebarSpinner.next(!1)},this.spinner$=this.spinner.asObservable(),this.sidebarSpinner$=this.sidebarSpinner.asObservable()}return e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),E=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:l,useValue:t},p,C]}},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[g.o],imports:[[r.ez,i.aw.forRoot(),o.HK,v,m.UX,y.A0,b.Su]]}),e}();Error;var T=function(){function e(){this.eventHandlerFns={}}return e.prototype.addEventListener=function(e,t,n){var r=this;return void 0===n&&(n=!1),this.eventHandlerFns[t]||(this.eventHandlerFns[t]=[]),this.eventHandlerFns[t].some(function(t){return t.function===e})||this.eventHandlerFns[t].push({shared:n,function:e}),function(){r.removeEventListener(e,t)}},e.prototype.getListeners=function(){return this.eventHandlerFns},e.prototype.dispatchEvent=function(e,t){var n;null===(n=this.eventHandlerFns[e])||void 0===n||n.forEach(function(e){e.function.call(null,t)})},e.prototype.removeEventListener=function(e,t){var n=this.eventHandlerFns[t],r=n.findIndex(function(t){return t.function===e});r>-1&&(console.log("removed Listener",r),n.splice(r,1))},e.prototype.removeAllListeners=function(){var e=this;Object.keys(this.eventHandlerFns).forEach(function(t){e.eventHandlerFns[t].length=0})},e}(),w=function(e){return e[e.INPUT_ITEMS_UPDATED=0]="INPUT_ITEMS_UPDATED",e[e.EVENT_CHILDREN_UPDATED=1]="EVENT_CHILDREN_UPDATED",e[e.EVENT_MIN_UPDATED=2]="EVENT_MIN_UPDATED",e[e.EVENT_MAX_UPDATED=3]="EVENT_MAX_UPDATED",e[e.EVENT_IS_READ_ONLY=4]="EVENT_IS_READ_ONLY",e[e.EVENT_ANNOTATION_VALUE=5]="EVENT_ANNOTATION_VALUE",e[e.EVENT_IS_HIDDEN=6]="EVENT_IS_HIDDEN",e[e.TERMINOLOGY_CHANGE=7]="TERMINOLOGY_CHANGE",e[e.CHANGE=8]="CHANGE",e[e.DATASOURCE_CHANGE=9]="DATASOURCE_CHANGE",e[e.WIDGET_CONFIG_CHANGE=10]="WIDGET_CONFIG_CHANGE",e[e.WIDGET_OUTPUT_EVENT=11]="WIDGET_OUTPUT_EVENT",e[e.CLEAR_CANVAS_MARKUP=12]="CLEAR_CANVAS_MARKUP",e[e.SEARCH_INPUT_CHANGES=13]="SEARCH_INPUT_CHANGES",e[e.COMPOSITION_SAVED=14]="COMPOSITION_SAVED",e[e.CLICK=15]="CLICK",e[e.EVENT_IS_COLLAPSED=16]="EVENT_IS_COLLAPSED",e[e.DEFAULT_VALUE_CHANGE=17]="DEFAULT_VALUE_CHANGE",e}({}),O=function(){function e(e){this.eventDispatcher=new T,this.id=e.getId()||c.getUUID(),this.name=e.getName(),this.mandatory=e.isMandatory(),this.type=e.getType(),this.dependentVariables=e.getDependentVariables(),this.source=e.getSource(),this.created=e.getCreated(),this.createdBy=e.getCreatedBy(),this.dependentFields=e.getDependentFields(),this.testValue=e.getTestValue(),this.setValue(e.getValue())}return e.mapToVariableObject=function(e){return new x(e.name).setId(e.id).setSource(e.source||I.EXTERNALLY_PROVIDED).setCreatedBy(e.createdBy).setType(e.type).setValue(e.value).setTestValue(e.testValue).setCreated(e.created).setMandatory(e.mandatory).build()},e.prototype.addEventListener=function(e,t,n){return this.eventDispatcher.addEventListener(e,t,n)},e.prototype.dispatchEvent=function(e,t){this.eventDispatcher.dispatchEvent(e,t)},e.prototype.setValue=function(e){this.value=e,this.dispatchEvent(w.CHANGE,e)},e}(),x=function(){function e(e){this.mandatory=!1,this.type="string",this.dependentVariables=[],this.created="manually",this.dependentFields=[],this.name=e}return e.prototype.setId=function(e){return this.id=e,this},e.prototype.setMandatory=function(e){return this.mandatory=e,this},e.prototype.setType=function(e){return this.type=e,this},e.prototype.setValue=function(e){return void 0===e&&(e=""),this.value=e,this},e.prototype.setSource=function(e){return this.source=e,this},e.prototype.setCreated=function(e){return this.created=e,this},e.prototype.setCreatedBy=function(e){return this.createdBy=e,this},e.prototype.setTestValue=function(e){return null!=e&&(this.testValue=e),this},e.prototype.addDependentField=function(e){return e&&this.dependentFields.push(e),this},e.prototype.build=function(){return new O(this)},e.prototype.getId=function(){return this.id},e.prototype.getName=function(){return this.name},e.prototype.getType=function(){return this.type},e.prototype.isMandatory=function(){return this.mandatory},e.prototype.getValue=function(){return this.value},e.prototype.getDependentVariables=function(){return this.dependentVariables},e.prototype.getSource=function(){return this.source},e.prototype.getCreated=function(){return this.created},e.prototype.getCreatedBy=function(){return this.createdBy},e.prototype.getDependentFields=function(){return this.dependentFields},e.prototype.getTestValue=function(){return this.testValue},e}(),I=function(e){return e.STATIC="STATIC",e.EXTERNALLY_PROVIDED="EXTERNALLY_PROVIDED",e.PREDEFINED="PREDEFINED",e.API="API",e.AQL="AQL",e}({}),M=function(e){return e.EHR_ID="ehrId",e.TERMINOLOGY_URL="terminologyUrl",e.UPLOAD_URL="uploadUrl",e}({}),S=function(){function e(e){this.state$=new _.X(e),this.state=this.state$.asObservable()}return e.prototype.getState=function(){return this.state$.getValue()},e.prototype.setState=function(e){this.state$.next(e)},e}();function V(e){return btoa(unescape(encodeURIComponent(e)))}var A=function(){function e(e){void 0===e&&(e=[]),this.params=e,this.type=N.BASIC}return e.prototype.setParams=function(e){return e=Array.isArray(e)?e[0]:e,this.params=[{username:e.username&&e.username.name||e.username,password:e.password&&e.password.name||e.password}],this.params},e.prototype.appendAuthHeader=function(e,t,n){var r=this.resolveAuthParams(t);return r?e=e.append("Authorization","Basic "+V(r.username+":"+r.password)):e},e.prototype.resolveAuthParams=function(e){if(this.params&&this.params.length){var t=this.params[0],n=e.getVariable(t.username),r=e.getVariable(t.password);return{username:n&&n.value||t.username,password:r&&r.value||t.password}}},e}(),D=function(){function e(e){void 0===e&&(e=[]),this.params=e,this.type=N.NO_AUTH}return e.prototype.setParams=function(e){return[]},e.prototype.appendAuthHeader=function(e,t,n){return e},e}(),k=function(){function e(e){void 0===e&&(e=[]),this.params=e,this.type=N.EHR_PLATFORM}return e.prototype.setParams=function(e){var t;return(t=this.params).push.apply(t,(0,a.ev)([],(0,a.CR)(e))),this.params},e.prototype.appendAuthHeader=function(e,t,n){return n&&(e=e.append("Authorization",n)),e},e}(),R=function(){function e(e){void 0===e&&(e=[]),this.params=e,this.type=N.JWT_TOKEN}return e.prototype.setParams=function(e){return e=Array.isArray(e)?e[0]:e,this.params=[{token:e.token&&e.token.name||e.token}]},e.prototype.appendAuthHeader=function(e,t,n){var r=this.resolveAuthParams(t);return r?e=e.append("Authorization","Bearer "+r.token):e},e.prototype.resolveAuthParams=function(e){if(this.params&&this.params.length){var t=this.params[0],n=e.getVariable(t.token);return{token:n&&n.value||t.token}}},e}(),P=function(){function e(){}return e.getAuthentication=function(e){switch(e){case N.BASIC:return new A;case N.JWT_TOKEN:return new R;case N.EHR_PLATFORM:return new k;default:return new D}},e}(),N=function(e){return e.NO_AUTH="None",e.BASIC="Basic",e.JWT_TOKEN="Bearer authentication",e.EHR_PLATFORM="Ehr platform credentials",e}({}),F="[^<]+(?=>)",L=function(e){return e.TEXT="TEXT",e.NUMBER="NUMBER",e.LIST="LIST",e.OBJECT="OBJECT",e.DATE="DATE",e.BOOLEAN="BOOLEAN",e}({}),Z=function(e){return e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE",e}({}),U=function(e){return e.JSON="JSON",e.FORM_DATA="FORM_DATA",e}({}),B=function(){function e(){}return e.getAllTokens=function(){return[e.FIRST,e.LAST,e.N]},e.FIRST=":first",e.LAST=":last",e.N=":n",e}(),G=function(){function e(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=[]),this.variables=e,this.externalApis=t,this.variables=(null===(n=this.variables)||void 0===n?void 0:n.map(function(e){return O.mapToVariableObject(e)}))||[]}return e.prototype.getVariable=function(e){for(var t=0;t<this.variables.length;t++)if(this.variables[t].name===e)return this.variables[t];return null},e.prototype.replaceVariable=function(e){for(var t=0;t<this.variables.length;t++)if(this.variables[t].name===e.name)return this.variables[t].value!==e.value&&this.variables[t].setValue(e.value),!0;return this.variables.push(e),!1},e}(),H=function(){return function(e){this.id=e.getId()||c.getUUID(),this.name=e.getName()||"New page",this.firstPage=e.getFirstPage()||!1,this.hideInPresentationMode=e.getHideInPresentationMode()||!1}}(),q=function(){function e(){}return e.prototype.getId=function(){return this.id},e.prototype.setId=function(e){return this.id=e,this},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){return this.name=e,this},e.prototype.setValid=function(e){return this.valid=e,this},e.prototype.getValid=function(){return this.valid},e.prototype.getFirstPage=function(){return this.firstPage},e.prototype.setFirstPage=function(e){return this.firstPage=!!e,this},e.prototype.getHideInPresentationMode=function(){return this.hideInPresentationMode},e.prototype.setHideInPresentationMode=function(e){return this.hideInPresentationMode=e,this},e.prototype.build=function(){return new H(this)},e}(),j=function(){return function(e,t){this.templateId=e,this.instance=t}}(),Y=n(38961),J=n.n(Y),z=function(){function e(e){this.apiId=e.getApiId(),this.apiCallId=e.getApiCallId(),this.source=e.getSource(),this.bindings=e.getBindings(),this.pathParameters=e.getPathParameters(),this.loadRemote=e.getLoadRemote(),this.loadRemoteUrl=e.getLoadRemoteUrl(),this.parameters=e.getParameters(),this.additionalApis=e.getAdditionalApis(),this.expression=e.getExpression(),this.variableId=e.getVariableId()}return e.prototype.getCodeSystem=function(){return this.pathParameters&&this.pathParameters[e.codeSystemPlaceholder]},e.prototype.isValid=function(){return this.isSourceValid()&&this.isBindingValid()},e.prototype.isSourceValid=function(){return!!(this.apiId&&this.apiCallId||this.variableId)&&!!this.source},e.prototype.isBindingValid=function(){var e=this;return!!this.bindings&&Object.keys(this.bindings).every(function(t){return!!e.bindings[t]})},e.prototype.addAdditionalApi=function(e,t,n){var r={apiId:e.id,apiCallId:t.id,pathParameters:t.pathParams?J()(t.pathParams):{}};if(t.parameters){var i={};t.parameters.forEach(function(e){return i[e.name]=e.value}),r.requestParameters=i}return this.additionalApis?null!=n?this.additionalApis.splice(n,1,r):this.additionalApis.push(r):this.additionalApis=[r],this.additionalApis},e.prototype.removeAdditionalApi=function(e){return this.additionalApis?(this.additionalApis.splice(e,1),this.additionalApis):this.additionalApis},e.prototype.hasAdditionalApis=function(){var e;return!!(null===(e=this.additionalApis)||void 0===e?void 0:e.length)},e.prototype.isExpression=function(){return!!this.expression},e.codeSystemPlaceholder="{codeSystem}",e}(),Q=function(){function e(e,t){this.apiId=e,this.apiCallId=t}return e.prototype.setApiId=function(e){return this.apiId=e,this},e.prototype.setApiCallId=function(e){return this.apiCallId=e,this},e.prototype.setSource=function(e){return this.source=e,this},e.prototype.setBindings=function(e){return this.bindings=e,this},e.prototype.setPathParams=function(e){return this.pathParameters=e,this},e.prototype.setAdditionalApis=function(e){return this.additionalApis=e,this},e.prototype.setLoadRemote=function(e){return this.loadRemote=e,this},e.prototype.setLoadRemoteUrl=function(e){return this.loadRemoteUrl=e,this},e.prototype.setTerminology=function(e){return this.terminology=e,this},e.prototype.setParameters=function(e){return this.parameters=e,this},e.prototype.setExpression=function(e){return this.expression=e,this},e.prototype.setVariableId=function(e){return this.variableId=e,this},e.prototype.build=function(){return new z(this)},e.prototype.getLoadRemote=function(){return this.loadRemote},e.prototype.getLoadRemoteUrl=function(){return this.loadRemoteUrl},e.prototype.getTerminology=function(){return this.terminology},e.prototype.getParameters=function(){return this.parameters},e.prototype.getApiId=function(){return this.apiId},e.prototype.getApiCallId=function(){return this.apiCallId},e.prototype.getSource=function(){return this.source},e.prototype.getBindings=function(){return this.bindings},e.prototype.getPathParameters=function(){return this.pathParameters},e.prototype.getAdditionalApis=function(){return this.additionalApis},e.prototype.getExpression=function(){return this.expression},e.prototype.getVariableId=function(){return this.variableId},e}(),W=function(e){return e.NOT_EMPTY="notempty",e.EMPTY="empty",e.EQ="eq",e.EQUALS="equals",e.NOTEQUALS="notequals",e.IS="is",e.ISNOT="isnot",e.LT="lt",e.GT="gt",e.LE="le",e.GE="ge",e.CONTAINS="contains",e.NOT_CONTAINS="notcontains",e.STARTSWITH="startswith",e.ENDSWITH="endswith",e.CLICK="click",e.IS_HIDDEN="hidden",e.IS_SHOWN="shown",e.CHANGES="changes",e.IS_VALID="isvalid",e.IS_NOT_VALID="isnotvalid",e.VALIDATE="validate",e.SEARCH_INPUT_CHANGES="searchinputchanges",e.IS_COLLAPSED="collapsed",e.IS_EXPANDED="expanded",e}({}),K=function(e){return e.AND="and",e}({}),X=function(e){return e.HIDE="hide",e.SHOW="show",e.CLEAR="clear",e.ENABLE="enable",e.DISABLE="disable",e.RESET="reset",e.SET="set",e.REQUIRED="required",e.OPTIONAL="optional",e.TOGGLE="toggle",e.CLEAR_ONLY="clearonly",e.SET_VARIABLE="setvariable",e.GO_TO="goto",e.IS_VALID="isvalid",e.IS_NOT_VALID="isnotvalid",e.VALIDATE="validate",e.DESELECT="deselect",e.REFRESH_DATA="refreshdata",e.DISABLE_VALUE="disablevalue",e.ENABLE_VALUE="enablevalue",e.COLLAPSE="collapse",e.EXPAND="expand",e.HIDE_CLEAR="hideclear",e}({}),$=function(e){return e.EXPRESSION="expression",e.VARIABLE="variable",e.FIELD_VALUE="field_value",e.PLAIN="plain",e.API="api",e}({}),ee=function(e){return e.PAGE="page-",e.VARIABLE="var-",e.TAG="tag-",e}({}),te=function(e){return e.CALL="Call",e}({}),ne=function(e){return e.LIST="LIST",e.OBJECT="OBJECT",e.LEAF="LEAF",e}({}),re=function(e){return e.SELECT="SELECT",e.FROM="FROM",e.AS="AS",e.COUNT="COUNT",e.MIN="MIN",e.MAX="MAX",e.AVG="AVG",e.EHR="EHR",e.BY="BY",e.ORDER="ORDER",e.COMPOSITION="COMPOSITION",e.EVALUATION="EVALUATION",e.OBSERVATION="OBSERVATION",e.INSTRUCTION="INSTRUCTION",e.ACTION="ACTION",e.SECTION="SECTION",e.VERSION="VERSION",e.VERSIONED_OBJECT="VERSIONED_OBJECT",e.CONTAINS="CONTAINS",e.MATCHES="MATCHES",e.AND="AND",e.OR="OR",e.XOR="XOR",e.NOT="NOT",e.EXISTS="EXISTS",e.OFFSET="OFFSET",e.LIMIT="LIMIT",e.FETCH="FETCH",e.ASC="ASC",e.DESC="DESC",e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING",e.WHERE="WHERE",e.ORDER_BY="ORDER BY",e.DISTINCT="DISTINCT",e.ADMIN_ENTRY="ADMIN_ENTRY",e.CLUSTER="CLUSTER",e.TASK_PLAN="TASK_PLAN",e.WORK_PLAN="WORK_PLAN",e.TOP="TOP",e.SQUASH="SQUASH",e.TAGS="TAGS",e.CONCAT="CONCAT",e.TAGGED_BY="TAGGED BY",e.CURRENT_TIMESTAMP="CURRENT_TIMESTAMP",e.TAGGED="TAGGED",e.UNION_ALL="UNION ALL",e}({}),ie=function(e){return e.INHERIT="INHERIT",e.COLUMN_1="COLUMN_1",e.COLUMN_2="COLUMN_2",e.COLUMN_3="COLUMN_3",e.COLUMN_4="COLUMN_4",e.COLUMN_5="COLUMN_5",e.COLUMN_6="COLUMN_6",e.COLUMN_7="COLUMN_7",e.COLUMN_8="COLUMN_8",e.COLUMN_9="COLUMN_9",e.COLUMN_10="COLUMN_10",e.COLUMN_11="COLUMN_11",e.COLUMN_12="COLUMN_12",e.COLUMN_HIDDEN="COLUMN_HIDDEN",e}({}),oe=new Map([[0,ie.INHERIT],[1,ie.COLUMN_1],[2,ie.COLUMN_2],[3,ie.COLUMN_3],[4,ie.COLUMN_4],[5,ie.COLUMN_5],[6,ie.COLUMN_6],[7,ie.COLUMN_7],[8,ie.COLUMN_8],[9,ie.COLUMN_9],[10,ie.COLUMN_10],[11,ie.COLUMN_11],[12,ie.COLUMN_12],[13,ie.COLUMN_HIDDEN]]),ae=function(e){return e.INHERIT="inherit",e.TOP="top",e.LEFT="left",e.RIGHT="right",e}({}),se=function(e){return e.INHERIT="inherit",e.LEFT="left",e.CENTER="center",e.RIGHT="right",e}({}),le=function(e){return e.INHERIT="INHERIT",e.COLUMN_1="COLUMN_1",e.COLUMN_2="COLUMN_2",e.COLUMN_3="COLUMN_3",e.COLUMN_4="COLUMN_4",e.COLUMN_5="COLUMN_5",e.COLUMN_6="COLUMN_6",e.COLUMN_7="COLUMN_7",e.COLUMN_8="COLUMN_8",e.COLUMN_9="COLUMN_9",e.COLUMN_10="COLUMN_10",e.COLUMN_11="COLUMN_11",e.COLUMN_12="COLUMN_12",e}({}),ue=new Map([[0,le.INHERIT],[1,le.COLUMN_1],[2,le.COLUMN_2],[3,le.COLUMN_3],[4,le.COLUMN_4],[5,le.COLUMN_5],[6,le.COLUMN_6],[7,le.COLUMN_7],[8,le.COLUMN_8],[9,le.COLUMN_9],[10,le.COLUMN_10],[11,le.COLUMN_11],[12,le.COLUMN_12]]),ce=function(){function e(){}return e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},e.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},e.isInteger=function(e){return e===parseInt(e,10)},e.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},e.deepClone=function(e){return JSON.parse(JSON.stringify(e))},e.copyArrayShallow=function(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t},e.isEmptyArray=function(t){return e.isArray(t)&&0===t.length},e.countProperties=function(e){if(e&&Object.keys)return Object.keys(e).length;var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},e.getNthProperty=function(e,t){if(Object.keys)return e[Object.keys(e)[t]];var n=0;for(var r in e)if(e.hasOwnProperty(r)&&n++===t)return r;return null},e.guid=function(e){var t=e||"-";return("xxxxxxxx"+t+"xxxx"+t+"4xxx"+t+"yxxx"+t+"xxxxxxxxxxxx").replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e.toDate=function(e){if(this.isString(e)){var t=e.length>0?new Date(e):null;return t&&this.isDate(t)?t:null}return e},e.toTime=function(e){if(this.isString(e)){if(e.length>0){var t=new Date("1970-01-02T"+e);return t&&this.isDate(t)?t:null}return null}return e},e.toLocalTimezoneOffsetISOString=function(t){var n,r,i;if(e.isString(t)){var o=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/,a=t.indexOf("T");if(a>0&&t.indexOf("+")<0){if(!(((null===(i=null===(r=null===(n=null==t?void 0:t.match(/(\D*)/g))||void 0===n?void 0:n.map(function(e,t){return e.length&&e.match(/[^0-9\d\s\.:-]/)?t:null}))||void 0===r?void 0:r.filter(function(e){return!!e&&e>a}))||void 0===i?void 0:i.length)||0)>0)){for(;t.substring(a+1).split(":").length<=2;)t+=":00";var s=t.indexOf(".");s>0&&(t=t.substring(0,s))}if(0!==t.search(o)){var l=t.substring(0,a).split("-"),u=t.substring(a+1).split(":"),c=function(e){return e.length<2?("00"+e).slice(-2):e};t=l.map(c).join("-")+"T"+u.map(c).join(":")}}if(0===t.search(o)){var d=function(e){var t=Math.abs(Math.floor(e));return(t<10?"0":"")+t},h=-new Date(t).getTimezoneOffset();return t+(h>=0?"+":"-")+d(h/60)+":"+d(h%60)}return t}return t},e._extend=function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},e.arrayValuesEqual=function(e,t){return e instanceof Array&&t instanceof Array?e.length===t.length&&e.findIndex(function(e,n){return e!==t[n]})<0:e===t},e.arraysEqual=function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var n=e.concat().sort(),r=t.concat().sort(),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0},e}(),de=function(){return function(){}}(),he=function(e){return e.DEFAULT="DEFAULT",e.SHOWN="SHOWN",e.HIDDEN="HIDDEN",e}({}),fe=function(){function e(e,t){this.tags=[],this.annotations={},this.advanced=new de,this.eventDispatcher=e,t&&(this.parentViewConfig=t)}return e.prototype.setEventDispatcher=function(e){this.eventDispatcher=e},e.prototype.dispatchEvent=function(e,t){this.eventDispatcher&&this.eventDispatcher.dispatchEvent(e,t)},e.prototype.getParentViewConfig=function(){return this.parentViewConfig},e.prototype.setParentViewConfig=function(e){this.parentViewConfig=e},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(e){this.label=e},e.prototype.getSize=function(e){return void 0===e&&(e=!0),this._getHierarchicalViewConfigProperty(e,"size",this.getSize)},e.prototype.setSize=function(e){this.size=e},e.prototype.getLayout=function(e){return void 0===e&&(e=!0),this._getHierarchicalViewConfigProperty(e,"layout",this.getLayout)},e.prototype.setLayout=function(e){this.layout=e},e.prototype.getFields=function(e){var t;return void 0!==e?(t=this.field?this.field[e]:null)||(t=null):!(t=1===ce.countProperties(this.field)?ce.getNthProperty(this.field,0):null)&&this.field&&this.field.input&&(t=this.field.input),t},e.prototype.isHidden=function(e,t){var n;void 0===e&&(e=!1),void 0===t&&(t=!1);var r=!!this.advanced.hidden,i=null!==(n=this.advanced.presentationVisibility)&&void 0!==n?n:he.DEFAULT;return t&&i!==he.DEFAULT&&(r=i===he.HIDDEN),r||!e?r:!!this._getHierarchicalViewConfigProperty(!0,"hidden",this.isHidden)},e.prototype.setHidden=function(e){this.advanced.hidden=!!e,this.eventDispatcher&&this.dispatchEvent(w.EVENT_IS_HIDDEN,this.isHidden())},e.prototype.isReadOnly=function(e){if(void 0===e&&(e=!1),e){if(null!=this.advanced.readonly||!this.parentViewConfig)return!!this.advanced.readonly;if(this.parentViewConfig)return this.getParentViewConfig().isReadOnly(e)}return!!this.advanced.readonly},e.prototype.setReadOnly=function(e){this.advanced.readonly=!!e,this.dispatchEvent(w.EVENT_IS_READ_ONLY,this.isReadOnly())},e.prototype.isLabelHidden=function(){var e=this.getLabel(),t=this.getLabelSize(!0)===ie.COLUMN_HIDDEN;return e&&null!=e.isHidden()&&(t=e.isHidden()),t},e.prototype.getTerminology=function(){return this.datasource&&this.datasource.loadRemote?this.datasource.loadRemoteUrl||this.datasource.terminologyLoaderService:null},e.prototype.getTags=function(){return this.tags},e.prototype.hasTag=function(e){return this.tags.indexOf(e)>=0},e.prototype.getAnnotations=function(){return this.annotations},e.prototype.hasAnnotation=function(e){return void 0!==this.annotations[e]},e.prototype.annotationValue=function(e){return this.annotations[e]},e.prototype.setAnnotationValue=function(e,t){this.annotations[e]=t,this.dispatchEvent(w.EVENT_ANNOTATION_VALUE,this.getAnnotations())},e.prototype.removeAnnotation=function(e){delete this.annotations[e],this.dispatchEvent(w.EVENT_ANNOTATION_VALUE,this.getAnnotations())},e.prototype.getAdvanced=function(){return this.advanced},e.prototype._getHierarchicalViewConfigProperty=function(e,t,n){return!1!==e&&this.isNullOrInherit(this[t])&&this.parentViewConfig?this.parentViewConfig?n.call(this.getParentViewConfig(),!0):null:this[t]},e.prototype.setDatasourceParam=function(e,t){this.datasource||(this.datasource=(new Q).build()),this.datasource.parameters||(this.datasource.parameters={}),null===t?delete this.datasource.parameters[e]:this.datasource.parameters[e]=t,this.dispatchEvent(w.TERMINOLOGY_CHANGE,this.datasource)},e.prototype.setDatasource=function(e){this.datasource=e,this.dispatchEvent(w.TERMINOLOGY_CHANGE,this.datasource)},e.prototype.getImageAreas=function(){var e;return(null===(e=this.getFirstImage())||void 0===e?void 0:e.areas)?this.getFirstImage().areas:null},e.prototype.getFieldPresentation=function(){var e,t;return(null===(e=this.field)||void 0===e?void 0:e.code)?this.field.code.presentation:(null===(t=this.field)||void 0===t?void 0:t.container)?this.field.container.presentation:null},e.prototype.getLabelSize=function(e){return void 0===e&&(e=!0),!1===e||this.size&&void 0!==this.size.label&&this.size.label!==ie.INHERIT||!this.parentViewConfig?this.size.label:this.parentViewConfig.getLabelSize(e)},e.prototype.getElementSize=function(e){var t,n;void 0===e&&(e=!0);var r=null!==(n=null===(t=this.size)||void 0===t?void 0:t.getElement())&&void 0!==n?n:le.INHERIT;return!1!==e&&r===le.INHERIT&&this.parentViewConfig?this.parentViewConfig.getElementSize(e):this.size.element},e.prototype.getFieldPosition=function(e){var t,n;return void 0===e&&(e=!0),!1!==e&&this.parentViewConfig&&(null===(n=null===(t=this.layout)||void 0===t?void 0:t.field)||void 0===n?void 0:n.align)===se.INHERIT?this.parentViewConfig.getFieldPosition(e):this.layout.field.align},e.prototype.getLabelPosition=function(e){return void 0===e&&(e=!0),!1===e||this.layout&&void 0!==this.layout.label.align&&this.layout.label.align!==ae.INHERIT||!this.parentViewConfig?this.layout.label.align:this.parentViewConfig.getLabelPosition(e)},e.prototype.getFirstImage=function(){var e;return(null===(e=this.images)||void 0===e?void 0:e[0])?this.images[0]:void 0},e.prototype.getLastImage=function(){var e;if(this.images)return(null===(e=this.images)||void 0===e?void 0:e.length)>0?this.images[this.images.length-1]:void 0},e.prototype.isCollapsed=function(){return!!this.advanced.collapsed},e.prototype.setCollapsed=function(e){this.advanced.collapsed=e,this.eventDispatcher&&this.dispatchEvent(w.EVENT_IS_COLLAPSED,this.isCollapsed())},e.prototype.isNullOrInherit=function(e){var t=this;return null==e||Object.keys(e).every(function(n){return"string"==typeof e[n]?"inherit"===e[n].toLowerCase():"object"==typeof e[n]&&t.isNullOrInherit(e[n])})},e}(),pe=function(){function e(e,t){void 0===e&&(e=ie.INHERIT),void 0===t&&(t=le.INHERIT),this.label=e,this.element=t}return e.prototype.getLabel=function(e){return void 0===e&&(e=!0),this.label},e.prototype.setLabel=function(e){this.label=e},e.prototype.setElement=function(e){this.element=e},e.prototype.getElement=function(){return this.element},e}(),me=function(){function e(e,t){void 0===e&&(e=ae.INHERIT),void 0===t&&(t=se.INHERIT),this.label={align:e},this.field={align:t}}return e.prototype.setFieldPosition=function(e){this.field.align=e},e}(),ve=function(){function e(e,t,n){this.custom=e,this.value=t,this.hidden=n}return e.prototype.isCustom=function(){return!!this.custom},e.prototype.setCustom=function(e){this.custom=e},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setHidden=function(e){this.hidden=e},e.prototype.getValue=function(){return this.value||""},e.prototype.setValue=function(e){this.value=e},e}(),ge=function(){function e(e,t,n,r,i,o,a,s){void 0===e&&(e=null),void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),this.presentation=e,this.columns=i,this.lines=o,this.threeState=a,this.disabled=r,this.hidden=t,this.readonly=n,this.buttonGroupColumnLayout=s}return e.prototype.getPresentation=function(){return this.presentation},e.prototype.setPresentation=function(e){this.presentation=e},e.prototype.getColumns=function(){return this.columns},e.prototype.setColumns=function(e){this.columns=e},e.prototype.getButtonGroupColumnLayout=function(){return this.buttonGroupColumnLayout},e.prototype.setButtonGroupColumnLayout=function(e){this.buttonGroupColumnLayout=e},e.prototype.getLines=function(){return this.lines},e.prototype.setLines=function(e){this.lines=e},e}(),ye=n(8759),be=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.areas=t}return e.prototype.setBase64=function(e){this.base64=e},e}(),_e=function(){return function(e,t,n,r){void 0===n&&(n=""),this.id=ce.guid(),this.shape=e,this.coords=t,this.title=n,this.value=r}}(),Ce=function(e){return e.RECT="rect",e.CIRCLE="circle",e.POLY="poly",e}({}),Ee=function(e){return e.HIDDEN="hidden",e.READONLY="readonly",e.AUTOSIZE="autosize",e.COLLAPSED="collapsed",e.PERSISTENT_GENERIC="persistentGeneric",e.OVERRIDE_LABEL="overrideLabel",e.SHOW_TOOLTIP="showTooltip",e.HIDE_INPUT_LABEL="hideInputLabel",e.SHOW_CODE="showCode",e.PLACEHOLDER="placeholder",e.SHOW_ASSIGNER="showAssigner",e.SHOW_TYPE="showType",e.SHOW_ISSUER="showIssuer",e.SHOW_CONTAINER_BORDERS="showContainerBorders",e.HIDE_CONTAINER_HEADER="hideContainerHeader",e.HIDE_CONTAINER_MULTI_BUTTONS="hideContainerMultiButtons",e.PRESENTATION_VISIBILITY="presentationVisibility",e}({}),Te=function(){return function(e,t,n){void 0===e&&(e=!1),this.enabled=e,this.value=t||500,this.stickyHeader=null==n||n}}(),we=function(){function e(){}return e.parseViewConfig=function(e,t,n){var r=n||new fe(t);return e.size&&r.setSize(this.parseSizeViewConfig(e.size)),e.layout&&r.setLayout(this.parseLayoutViewConfig(e.layout)),e.label&&r.setLabel(this.parseLabelViewConfig(e.label)),e.field&&(r.field=this.parseFieldViewConfig(e.field)),e.advanced&&(r.advanced=this.parseAdvancedViewConfig(e.advanced)),e.datasource&&r.setDatasource(ce.deepClone(e.datasource)),e.image&&(r.images=this.parseImageConfig(e.image)),e.images&&(r.images=this.parseImageConfig(e.images)),e.tags&&(r.tags=ce.deepClone(e.tags)),e.annotations&&(r.annotations=ce.deepClone(e.annotations)),e.style&&(r.style=e.style),r},e.parseSizeViewConfig=function(e){return new pe(e.label?"string"==typeof e.label?ie[e.label.toUpperCase()]:oe.get(e.label):ie.INHERIT,e.element?"string"==typeof e.element?le[e.element.toUpperCase()]:ue.get(e.element):le.INHERIT)},e.parseLayoutViewConfig=function(e){var t,n,r,i,o;return new me(null!==(r=null===(n=null===(t=e.label)||void 0===t?void 0:t.align)||void 0===n?void 0:n.toLowerCase())&&void 0!==r?r:ae.TOP,null===(o=null===(i=e.field)||void 0===i?void 0:i.align)||void 0===o?void 0:o.toLowerCase())},e.parseLabelViewConfig=function(e){return new ve(e.custom,e.value,e.hidden)},e.parseFieldViewConfig=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]=new ge("string"==typeof r.presentation?ye.u[r.presentation.toUpperCase()]:ye.Y.get(r.presentation),r.hidden,r.readonly,r.disabled,r.columns,r.lines,r.threeState,r.buttonGroupColumnLayout)}return t},e.parseAdvancedViewConfig=function(e){var t=new de;return this.setPropertyOnAdvanced(e,t,Ee.HIDDEN),this.setPropertyOnAdvanced(e,t,Ee.READONLY),this.setPropertyOnAdvanced(e,t,Ee.AUTOSIZE),this.setPropertyOnAdvanced(e,t,Ee.COLLAPSED),this.setPropertyOnAdvanced(e,t,Ee.PERSISTENT_GENERIC),this.setPropertyOnAdvanced(e,t,Ee.OVERRIDE_LABEL),this.setPropertyOnAdvanced(e,t,Ee.SHOW_TOOLTIP),this.setPropertyOnAdvanced(e,t,Ee.HIDE_INPUT_LABEL),this.setPropertyOnAdvanced(e,t,Ee.SHOW_CODE),this.setPropertyOnAdvanced(e,t,Ee.SHOW_ASSIGNER),this.setPropertyOnAdvanced(e,t,Ee.SHOW_TYPE),this.setPropertyOnAdvanced(e,t,Ee.SHOW_ISSUER),this.setPropertyOnAdvanced(e,t,Ee.SHOW_CONTAINER_BORDERS),this.setPropertyOnAdvanced(e,t,Ee.HIDE_CONTAINER_HEADER),this.setPropertyOnAdvanced(e,t,Ee.HIDE_CONTAINER_MULTI_BUTTONS),this.setPropertyOnAdvanced(e,t,Ee.PRESENTATION_VISIBILITY),e[Ee.PLACEHOLDER]&&(t.placeholder=ce.deepClone(e[Ee.PLACEHOLDER])),t},e.parseTableProperties=function(e,t){var n=null==t?void 0:t.height;n&&e.setHeight(new Te(n.enabled,n.value,n.stickyHeader));var r=null==t?void 0:t.stickyColumns;r&&e.setStickyColumns(r);var i=null==t?void 0:t.sortableColumns;return i&&e.setSortableColumns(i),e},e.setPropertyOnAdvanced=function(e,t,n){e[n]&&(t[n]=e[n])},e.parseImageConfig=function(e){var t=this,n=[];return e?(e instanceof Array?n=e.map(function(e){return t.parseImageJson(e)}):e instanceof Object&&(n=[this.parseImageJson(e)]),n):n},e.parseImageJson=function(e){var t=[];e.hasOwnProperty("areas")&&e.areas.forEach(function(e){return t.push(new _e(e.shape,e.coords,e.title,e.value))});var n=new be(e.name,t);return n.width=e.width,n.height=e.height,n},e}(),Oe=n(37936),xe=function(){function e(e,t){void 0===t&&(t=!0),this.min=0,this.localizedNamesIncludeVariables=!1,this.children=[],this.eventDispatcher=new T,null!=e&&(t&&this.setDescEl(e),this.setValuesFromObject(e))}return e.prototype.setValuesFromObject=function(e){for(var t in e)if(e.hasOwnProperty(t)&&"viewConfig"!==t){var n=e[t];if("string"==typeof n||"number"==typeof n||"boolean"==typeof n){var r="set"+t.substr(0,1).toUpperCase()+t.substr(1);this[r]?this[r](n):this[t]=n}}this.setViewConfigValues(e),e.hasOwnProperty("datasource")&&this.setDataSource(e.datasource),e.hasOwnProperty("resourceData")&&(this.resourceData=e.resourceData),e.hasOwnProperty("behaviour")&&(this.behaviour=e.behaviour),e.localizedNames&&this.setLocalizedNames(e.localizedNames),e.localizedDescriptions&&this.setLocalizedDescriptions(e.localizedDescriptions)},e.prototype.addEventListener=function(e,t,n){return void 0===n&&(n=!1),this.eventDispatcher.addEventListener(e,t,n)},e.prototype.dispatchEvent=function(e,t){this.eventDispatcher.dispatchEvent(e,t),e===w.CHANGE&&this.getParentModel()&&this.getParentModel().dispatchEvent(e,t)},e.prototype.getLocalizedName=function(e){return this.localizedNames&&this.localizedNames[e]?this.localizedNames[e]:null},e.prototype.setLocalizedNames=function(e){this.localizedNames=e},e.prototype.getLocalizedDescriptions=function(){return this.localizedDescriptions},e.prototype.setLocalizedDescriptions=function(e){this.localizedDescriptions=e},e.prototype.labelFor=function(e){return this.getViewConfig()&&this.getViewConfig().getLabel()&&this.getViewConfig().getLabel().custom&&this.localizedName?this.localizedName:this.getLocalizedName(e)||(this.getName()?this.getName():this.id?this.id:this.getViewConfig()&&this.getViewConfig().getLabel()&&this.getViewConfig().getLabel().value?this.getViewConfig().getLabel().value:this.formId?this.formId:(console.error("this model doesn't have any label present anywhere ",this),""))},e.prototype.getMin=function(){return this.min},e.prototype.setMin=function(e){this.min!==e&&(this.min=e,this.eventDispatcher.dispatchEvent(w.EVENT_MIN_UPDATED,this.min))},e.prototype.getMax=function(){return this.max},e.prototype.setMax=function(e){this.max!==e&&(this.max=e,this.eventDispatcher.dispatchEvent(w.EVENT_MAX_UPDATED,this.max))},e.prototype.defaultMultiValue=function(){var e=this.descEl;return e?!(!e.max||!(e.max>1||e.max<0)):this.isMulti()},e.prototype.isMulti=function(){return!(!this.max||!(this.max>1||this.max<0))},e.prototype.getMultiIndex=function(){var e=this,t=this.getParentModel();return t?t.children.filter(function(t){return t.getFormId()===e.getFormId()}).indexOf(this):0},e.prototype.getChildIndex=function(){return this.getParentModel().getChildModels().indexOf(this)},e.prototype.isRequired=function(){return void 0!==this.min&&this.min>0},e.prototype.getTags=function(){return this.getViewConfig().getTags()},e.prototype.hasTag=function(e){var t;return!0===(null===(t=this.getViewConfig())||void 0===t?void 0:t.hasTag(e))},e.prototype.getAnnotations=function(){return this.getViewConfig().getAnnotations()},e.prototype.hasAnnotation=function(e){return this.getViewConfig().hasAnnotation(e)},e.prototype.annotationValue=function(e){return this.getViewConfig().annotationValue(e)},e.prototype.getAnnotationValue=function(e){return this.annotationValue(e)},e.prototype.setAnnotationValue=function(e,t){this.getViewConfig().setAnnotationValue(e,t)},e.prototype.removeAnnotation=function(e){this.getViewConfig().removeAnnotation(e)},e.prototype.removeValue=function(e){throw Error("removeValue method is` not implemented on model "+this.getRmType())},e.prototype.getChildModels=function(){return this.children},e.prototype.getChildModel=function(e){return this.children[e]},e.prototype.getChildCount=function(){return this.children.length},e.prototype.addChildModel=function(e){e.setParentModel(this),this.children.push(e)},e.prototype.insertChildModelAt=function(e,t,n){t.setParentModel(this),e<-1?e=0:-1===e&&(e=this.children.length),e>=this.children.length?this.children.push(t):this.children.splice(e,0,t),n||this.eventDispatcher.dispatchEvent(w.EVENT_CHILDREN_UPDATED,this.children)},e.prototype.insertChildModelAfterLastOfSamePath=function(e,t){for(var n=-1,r=0;r<this.getChildCount();r++)this.getChildModel(r).getPath()===e.getPath()&&(n=r);n>=0?this.insertChildModelAt(n+1,e):t&&this.addChildModel(e)},e.prototype.removeChildModel=function(e,t){var n=this.children.indexOf(e);n>=0&&(e.parentValueNodeRef&&(e.parentValueNodeRef=e.parentValueNodeRef.filter(function(t){return t!==e.getValueNodeRef()})),this.children.splice(n,1),e.setParentModel(null)),t||this.eventDispatcher.dispatchEvent(w.EVENT_CHILDREN_UPDATED,this.children)},e.prototype.getCustomComponentId=function(){return this.hasAnnotation("component")?this.annotationValue("component"):null},e.prototype.removeFromParent=function(){this.getParentModel()&&this.getParentModel()&&this.getParentModel().removeChildModel(this)},e.prototype.getParentModel=function(){return this.parentModel},e.prototype.setParentModel=function(e){e&&(this.parentModel=e,this.parentModel.viewConfig&&this.viewConfig.setParentViewConfig(this.parentModel.viewConfig))},e.prototype.setReadOnly=function(e){this.viewConfig.setReadOnly(e),this.isContainer()&&this.getChildModels().forEach(function(t){t.getViewConfig().setReadOnly(!!e)})},e.prototype.getRootModel=function(){for(var e=this;e.getParentModel();)e=e.getParentModel();return e},e.prototype.getDescEl=function(){return this.descEl},e.prototype.setDescEl=function(e){this.descEl=e},e.prototype.getFormId=function(){return this.formId},e.prototype.setFormId=function(e){this.formId=e},e.prototype.getNodeId=function(){return this.nodeId},e.prototype.setNodeId=function(e){this.nodeId=e},e.prototype.getAqlPath=function(){return this.aqlPath},e.prototype.setAqlPath=function(e){this.aqlPath=e},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e},e.prototype.getViewConfig=function(){return this.viewConfig},e.prototype.setViewConfig=function(e){this.viewConfig=e,e&&e.setEventDispatcher(this.eventDispatcher)},e.prototype.getDataSource=function(){return this.datasource},e.prototype.setDataSource=function(e){this.datasource=new Q(e.apiId,e.apiCallId).setBindings(e.bindings).setSource(e.source).setPathParams(e.pathParameters?ce.deepClone(e.pathParameters):void 0).setAdditionalApis(e.additionalApis?ce.deepClone(e.additionalApis):void 0).setExpression(e.expression).setVariableId(e.variableId).build(),this.eventDispatcher&&this.eventDispatcher.dispatchEvent(w.DATASOURCE_CHANGE,this.datasource)},e.prototype.getRmType=function(){return this.rmType},e.prototype.setRmType=function(e){this.rmType=e},e.prototype.isGeneric=function(){return!1},e.prototype.getPath=function(){return this.formId},e.prototype.getValueNodeRef=function(){return this.valueNodeRef},e.prototype.setValueNodeRef=function(e){this.valueNodeRef=e},e.prototype.setParentValueNodeRef=function(e){this.parentValueNodeRef=e},e.prototype.getParentValueNodeRef=function(){return this.parentValueNodeRef},e.prototype.findMultiAncestor=function(){for(var e=this.getParentModel();e;){if(e.isMulti())return e;e=e.getParentModel()}},e.prototype.destroy=function(){var e=this.getRootModel();e.destroyContainerGenerics&&e.destroyContainerGenerics(this);var t=this;t.removeFromParent(),this.destroyEvents();var n=t.getValueNodeRef();if(n)if(ce.isArray(n)){var r=n.indexOf(n);r>=0&&n.splice(r,1)}else t.clearValue()},e.prototype.destroyEvents=function(){this.eventDispatcher.removeAllListeners(),this.destroyModelScriptExecutorEvents(),this.isContainer()&&this.getChildModels().forEach(function(e){return e.destroyEvents()})},e.prototype.destroyModelScriptExecutorEvents=function(){this.modelScriptExecutorDestroyFn&&this.modelScriptExecutorDestroyFn()},e.prototype.setModelScriptExecutorDestroyFn=function(e){this.modelScriptExecutorDestroyFn=e},e.prototype.getFieldDependency=function(){var e=this.annotationValue("conditions");if(e)return JSON.parse(e)},e.prototype.getFormScript=function(){if(this.hasAnnotation("ehrFormScript")){var e=this.annotationValue("ehrFormScript");return Array.isArray(e)?[e.join(";")]:[e]}return[]},e.prototype.setBehaviour=function(e){this.behaviour=e},e.prototype.getBehaviour=function(){return this.behaviour},e.prototype.showInPresentationMode=function(){var e=!this.getViewConfig().isHidden(!0,!0);return Oe.j.isInputField(this.getRmType())?e&&this.hasValue():e},e.prototype.setViewConfigValues=function(e){this.setViewConfig(e.viewConfig?we.parseViewConfig(e.viewConfig,this.eventDispatcher):new fe(this.eventDispatcher))},e}(),Ie=function(){function e(e){this.precision=e.precision,this.pattern=e.pattern,this.setRange(e.range)}return e.prototype.getPrecision=function(){return this.precision},e.prototype.setPrecision=function(e){this.precision=e},e.prototype.getRange=function(){return this.range},e.prototype.setRange=function(e){e&&(this.range=new Me(e))},e.prototype.getPattern=function(){return this.pattern},e}(),Me=function(){return function(e){null==e.min&&null==e.minOp||(this.min=null!=e.min?+e.min:this.min,this.minOp=e.minOp||">="),null==e.max&&null==e.maxOp||(this.max=null!=e.max?+e.max:this.max,this.maxOp=e.maxOp||"<=")}}(),Se=function(){function e(e,t){for(var n in this.list=[],t&&this.setEventDispatcher(t),e)if(e.hasOwnProperty(n)){var r=e[n];"validation"===n?this.setValidation(new Ie(r)):"defaultValue"===n&&null!=r?(this.defaultValue=r,this.dispatchEvent(w.DEFAULT_VALUE_CHANGE,[this])):this[n]=r}}return e.prototype.getSuffix=function(){return this.suffix},e.prototype.setSuffix=function(e){this.suffix=e},e.prototype.getType=function(){return this.type},e.prototype.setType=function(e){this.type=e},e.prototype.getInputItemList=function(){return this.list},e.prototype.setInputItemList=function(e){this.list=e},e.prototype.getInputItem=function(e){return e>=0&&e<this.list.length?this.list[e]:null},e.prototype.addInputItem=function(e,t){t&&t>-1&&t<=this.list.length-1?this.list.splice(t,0,e):this.list.push(e)},e.prototype.removeInputItem=function(e){var t=this.getInputItemList(),n=t.findIndex(function(t){return t.value===e});n>-1&&t.splice(n,1)},e.prototype.hasAnyInputItems=function(){return this.list.length>0},e.prototype.getValidation=function(){return this.validation},e.prototype.setValidation=function(e){this.validation=e},e.prototype.isListOpen=function(){return this.listOpen},e.prototype.setListOpen=function(e){this.listOpen=e},e.prototype.getDefaultValue=function(){return this.defaultValue},e.prototype.findInputItemByValue=function(e){return this.getInputItemList().find(function(t){return t.value===e})},e.prototype.syncDefaultValuesWithMinMultiplicity=function(e){var t=this.getDefaultValue();!(null==t?void 0:t.length)||(null==t?void 0:t.every(function(e){return""===e}))?delete this.defaultValue:this.defaultValue=t.filter(function(t,n){return 0===e?n===e:n<e})},e.prototype.clearDefaultValue=function(){this.defaultValue=[],this.dispatchEvent(w.DEFAULT_VALUE_CHANGE,[this])},e.prototype.getTerminology=function(){return this.terminology},e.prototype.setTerminology=function(e){this.terminology!==e&&(this.terminology=e)},e.prototype.setDefaultValue=function(e,t){void 0===t&&(t=0),this.defaultValue||(this.defaultValue=[]);for(var n=0;n<=t;)n===t?this.defaultValue[n]=e:this.defaultValue[n]||(this.defaultValue[n]=""),n+=1;this.dispatchEvent(w.DEFAULT_VALUE_CHANGE,[this])},e.prototype.setEventDispatcher=function(e){this.eventDispatcher=e},e.prototype.dispatchEvent=function(e,t){this.eventDispatcher&&this.eventDispatcher.dispatchEvent(e,t)},e}(),Ve=function(){function e(e){for(var t in e)if(e.hasOwnProperty(t))try{this[t]=e[t]}catch(n){}}return e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(e){this.value=e},e.prototype.getLabel=function(e,t){var n=this.label;return e&&this.localizedLabels&&(n=this.localizedLabels[e]||n),this.hasOrdinalValue()&&!t?this.getNumberedLabel(this.ordinal,n):this.hasScaleValue()&&!t?this.getNumberedLabel(this.scale,n):n},e.prototype.setLabel=function(e){this.label=e},e.prototype.getValidation=function(){return this.validation},e.prototype.setValidation=function(e){this.validation=e},e.prototype.setLocalizedLabels=function(e){this.localizedLabels=e},e.prototype.setLocalizedLabel=function(e,t){e&&(this.localizedLabels||this.setLocalizedLabels({}),this.localizedLabels[e]=t)},e.prototype.getTerminology=function(){return this.terminology},e.prototype.setTerminology=function(e){this.terminology=e},e.prototype.toString=function(){return"InputItem"},e.prototype.hasOrdinalValue=function(){return null!=this.ordinal},e.prototype.hasScaleValue=function(){return null!=this.scale},e.prototype.getNumberedLabel=function(e,t){return"("+e+") "+t},e.OTHER_VALUE="__other__",e}(),Ae=function(e){return e[e.TITLE=0]="TITLE",e[e.HEADING=1]="HEADING",e[e.BODY=2]="BODY",e[e.HELPER_TEXT=3]="HELPER_TEXT",e}({}),De=n(25449),ke=function(){function e(){}return e.parse=function(t,n){return e.parsePeriodString(t,n)},e.isValid=function(t){try{return e.parsePeriodString(t),!0}catch(n){return!1}},e.periodToString=function(e){if(ce.isArray(e)&&7===e.length){var t=["Y","M","W","D","H","M","S"],n="P",r=!1,i=!1;return e.forEach(function(e,o){4===o&&(n+="T"),0!==e&&null!==e&&(n+=e+t[o],r||(r=o<=3),i||(i=o>=4))}),r||i?i||(n=n.substring(0,n.length-1)):n=null,n}return null},e.parsePeriodString=function(e,t){void 0===t&&(t=!1);var n=t||!1,r=[2,3,4,5,7,8,9],i=[null,null,null,null,null,null,null],o=[0,12,4,7,24,60,60];if(null==e)return[null,null,null,null,null,null,null];if(!(e=e.toUpperCase()))return i;if("string"!=typeof e)throw new Error("Invalid iso8601 period string '"+e+"'");var a=/^P((\d+Y)?(\d+M)?(\d+W)?(\d+D)?)?(T(\d+H)?(\d+M)?(\d+S)?)?$/.exec(e);if(!a)throw new Error("String '"+e+"' is not a valid ISO8601 period.");for(var s=0;s<r.length;s++){var l=r[s];i[s]=a[l]?+a[l].replace(/[A-Za-z]+/g,""):null}if(n)for(s=i.length-1;s>0;s--){var u=i[s];u&&u>=o[s]&&(i[s-1]=i[s-1]+Math.floor(u/o[s]),i[s]=u%o[s])}return i},e}(),Re=function(){function e(){}return e.getDurationFieldNames=function(){return e.durationFieldNames},e.modelMatchesIdentifier=function(t,n){return t.hasTag(n)||e.sanitizePath(t.getPath())===e.sanitizePath(n)},e.findAncestorWithPath=function(t,n){for(var r=t.getParentModel();r;){if(e.sanitizePath(r.getPath())===e.sanitizePath(n))return r;r=r.getParentModel()}return null},e.findChildWithPath=function(e,t,n){if(e.getChildCount()>0)for(var r=0,i=0;i<e.getChildCount();i++){var o=e.getChildModel(i);if(o.getPath()===t){if(void 0===n)return o;if(r++===n)return o}}return null},e.findChildrenWithPath=function(e,t){for(var n=[],r=0;r<e.getChildCount();r++){var i=e.getChildModel(r);i.getPath()===t&&n.push(i)}return n},e.findSuccessorWithPath=function(t,n){for(var r=0;r<t.getChildCount();r++){var i=t.getChildModel(r);if(i.getPath()===n)return i;var o=e.findSuccessorWithPath(i,n);if(null!=o)return o}return null},e.getModels=function(t){if(!t)return[];var n=[];return e.getModelsRecursively(t,n),n},e.getModelsRecursively=function(e,t){t.push(e);for(var n=0;n<e.getChildCount();n++){var r=e.getChildModel(n);this.getModelsRecursively(r,t)}},e.getChildModelsForIdentification=function(t,n,r){var i=this;e.modelMatchesIdentifier(t,n)&&r.push(t),t.isContainer()&&t.children.forEach(function(e){return i.getChildModelsForIdentification(e,n,r)})},e.getUniquePath=function(t,n){return void 0===n&&(n=!0),t?t.isGeneric()&&!t.isContainer()?e.getUniquePath(t.getParentModel())+"/"+t.getFormId():t.getRmType()===De.B.FORM_DEFINITION?"":t.isContainer()&&t instanceof xe?(n?t.defaultMultiValue():t.isMulti())?e.getUniquePath(t.getParentModel())+"/"+t.id+"|"+t.getMultiIndex():e.getUniquePath(t.getParentModel())+"/"+t.id:t.id:""},e.getModelSuffixes=function(e){var t=[];return e.inputs?(e.inputs.forEach(function(e){e.suffix&&t.push(e.suffix)}),t):t},e.sanitizePath=function(e){var t=new RegExp(/[\s.]/,"g");return e&&e.replace(t,"_")},e.stringifyModel=function(t,n){return JSON.stringify(t,e.replacer,n)},e.mapPeriodStringValueToObject=function(t,n){var r={};return t?(ke.parse(t).forEach(function(t,i){var o=e.getDurationFieldNames()[i];n&&!n.some(function(e){return e===o})||(r[o]=t)}),r):r},e.replacer=function(t,n){return e.nonStringifiedFields.has(t)?void 0:n},e.anyDatePattern="yyyy-??-??",e.durationFieldNames=["year","month","week","day","hour","minute","second"],e.nonStringifiedFields=new Set(["valueNodeRef","parentValueNodeRef","parentModel","eventDispatcher","descEl","parentViewConfig","imageSrc","base64","searchInput","genericFields"]),e}(),Pe="Composed document",Ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.genericFields={},t}return(0,a.ZT)(t,e),t.prototype.setValuesFromObject=function(t){e.prototype.setValuesFromObject.call(this,t),t.templates&&(this.templates=t.templates)},t.prototype.getRmType=function(){return De.B.FORM_DEFINITION},t.prototype.isMulti=function(){return!1},t.prototype.addGenericOnPath=function(e,t){this.genericFields[e]&&this.reindexModels(e,1),this.valueNodeRef.ctx.generic_fields[e]=t,this.genericFields[e]=t},t.prototype.destroyContainerGenerics=function(e){this.destroyGenericContainerInner(e),this.reindexModels(Re.getUniquePath(e),-1)},t.prototype.syncTemplateInstances=function(e){return this.templates&&(null==e?void 0:e.length)||(this.templates=[{templateId:Pe,instance:c.getUUID()}]),e&&e.length>1?this.templates=(0,a.ev)([],(0,a.CR)(e.filter(function(e){return e.templateId!==Pe}))):(null==e?void 0:e.length)&&(this.templates=(0,a.ev)([],(0,a.CR)(e))),delete this.templateId,this.templates},t.prototype.reindexModels=function(e,t){var n,r=this,i=e.lastIndexOf("|"),o=e.substr(0,i+1),a=parseInt(e.substr(i+1,e.length-o.length),10),s=new Map,l=new Map;for(var u in this.genericFields)if(u.startsWith(o)){var c=u.indexOf("/",o.length),d=parseInt(u.substr(i+1,c-o.length),10),h=e.substr(i+2);if(d>=a&&u.endsWith(h)){var f=d+t,p=o,m=u.substr(c);s.set(u,p+f+m),l.has(m)?l.get(m).set(d,u):l.set(m,new Map([[d,u]]))}}n=t<0?function(e,t){return e-t}:function(e,t){return t-e},Array.from(l.keys()).forEach(function(e){Array.from(l.get(e).keys()).sort(n).map(function(t){return l.get(e).get(t)}).forEach(function(e){r.replacePath(e,s.get(e))})})},t.prototype.destroyGenericContainerInner=function(e){var t=this;e.isContainer()?e.children.forEach(function(e){return t.destroyGenericContainerInner(e)}):e.isGeneric()&&this.destroyGenericField(e)},t.prototype.destroyGenericField=function(e){var t=Re.getUniquePath(e);delete this.genericFields[t],delete this.valueNodeRef.ctx.generic_fields[t]},t.prototype.replacePath=function(e,t){if(this.genericFields[t])throw new Error("replacing path of generic with a path that already  exists");var n=this.genericFields[e];delete this.genericFields[e],delete this.valueNodeRef.ctx.generic_fields[e],this.addGenericOnPath(t,n)},t.prototype.clearValue=function(){this.getChildModels().forEach(function(e){e.clearValue()})},t.prototype.hasValue=function(){return this.getChildModels().some(function(e){return e.hasValue()})},t.prototype.isContainer=function(){return!0},t.prototype.resetValue=function(){var e=[];return this.getChildModels().forEach(function(t){e.push.apply(e,(0,a.ev)([],(0,a.CR)(t.resetValue())))}),e},t.prototype.setValue=function(e,t,n){this.setValueNodeRef(e)},t.prototype.hasSimpleValueFormat=function(){return!1},t}(xe),Fe=function(e){return e.DECIMAL="DECIMAL",e.CODED_TEXT="CODED_TEXT",e.TEXT="TEXT",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.DATE="DATE",e.TIME="TIME",e.DATETIME="DATETIME",e.CUSTOM="CUSTOM",e.CONTAINER="CONTAINER",e}({}),Le=function(e){function t(t,n){return e.call(this,t,n)||this}return(0,a.ZT)(t,e),t.prototype.setHeight=function(e){this.height=e},t.prototype.setStickyColumns=function(e){this.stickyColumns=e},t.prototype.setSortableColumns=function(e){this.sortableColumns=e},t.prototype.getHeight=function(){return this.height},t.prototype.getStickyColumns=function(){return this.stickyColumns},t.prototype.getSortableColumns=function(){return this.sortableColumns},t}(fe),Ze=n(75328),Ue=n(92593),Be=n(88879),Ge=n(98288),He=n(57285);function qe(e,t){return{type:7,name:e,definitions:t,options:{}}}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function Ye(e){return{type:6,styles:e,offset:null}}function Je(e,t,n){return{type:0,name:e,styles:t,options:n}}function ze(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}var Qe=n(89666),We=n(30269),Ke=["toast-component",""];function Xe(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"button",5),s.NdJ("click",function(){return s.CHM(n),s.oxw().remove()}),s.TgZ(1,"span",6),s._uU(2,"\xd7"),s.qZA(),s.qZA()}}function $e(e,t){if(1&e&&(s.ynx(0),s._uU(1),s.BQk()),2&e){var n=s.oxw(2);s.xp6(1),s.hij("[",n.duplicatesCount+1,"]")}}function et(e,t){if(1&e&&(s.TgZ(0,"div"),s._uU(1),s.YNc(2,$e,2,1,"ng-container",4),s.qZA()),2&e){var n=s.oxw();s.Tol(n.options.titleClass),s.uIk("aria-label",n.title),s.xp6(1),s.hij(" ",n.title," "),s.xp6(1),s.Q6J("ngIf",n.duplicatesCount)}}function tt(e,t){if(1&e&&s._UZ(0,"div",7),2&e){var n=s.oxw();s.Tol(n.options.messageClass),s.Q6J("innerHTML",n.message,s.oJD)}}function nt(e,t){if(1&e&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&e){var n=s.oxw();s.Tol(n.options.messageClass),s.uIk("aria-label",n.message),s.xp6(1),s.hij(" ",n.message," ")}}function rt(e,t){if(1&e&&(s.TgZ(0,"div"),s._UZ(1,"div",9),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.Udp("width",n.width+"%")}}function it(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"button",5),s.NdJ("click",function(){return s.CHM(n),s.oxw().remove()}),s.TgZ(1,"span",6),s._uU(2,"\xd7"),s.qZA(),s.qZA()}}function ot(e,t){if(1&e&&(s.ynx(0),s._uU(1),s.BQk()),2&e){var n=s.oxw(2);s.xp6(1),s.hij("[",n.duplicatesCount+1,"]")}}function at(e,t){if(1&e&&(s.TgZ(0,"div"),s._uU(1),s.YNc(2,ot,2,1,"ng-container",4),s.qZA()),2&e){var n=s.oxw();s.Tol(n.options.titleClass),s.uIk("aria-label",n.title),s.xp6(1),s.hij(" ",n.title," "),s.xp6(1),s.Q6J("ngIf",n.duplicatesCount)}}function st(e,t){if(1&e&&s._UZ(0,"div",7),2&e){var n=s.oxw();s.Tol(n.options.messageClass),s.Q6J("innerHTML",n.message,s.oJD)}}function lt(e,t){if(1&e&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&e){var n=s.oxw();s.Tol(n.options.messageClass),s.uIk("aria-label",n.message),s.xp6(1),s.hij(" ",n.message," ")}}function ut(e,t){if(1&e&&(s.TgZ(0,"div"),s._UZ(1,"div",9),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.Udp("width",n.width+"%")}}var ct=function(){function e(t,n,r,i,o,a){var s=this;(0,Ge.Z)(this,e),this.toastId=t,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=a,this._onTap=new Qe.x,this._onAction=new Qe.x,this.toastRef.afterClosed().subscribe(function(){s._onAction.complete(),s._onTap.complete()})}return(0,He.Z)(e,[{key:"triggerTap",value:function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}},{key:"onTap",value:function(){return this._onTap.asObservable()}},{key:"triggerAction",value:function(e){this._onAction.next(e)}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),e}(),dt={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},ht=new s.OlP("ToastConfig"),ft=function(){function e(t,n){(0,Ge.Z)(this,e),this.component=t,this.injector=n}return(0,He.Z)(e,[{key:"attach",value:function(e,t){return this._attachedHost=e,e.attach(this,t)}},{key:"detach",value:function(){var e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}}]),e}(),pt=function(e){(0,Ue.Z)(n,e);var t=(0,Be.Z)(n);function n(e,r,i){var o;return(0,Ge.Z)(this,n),(o=t.call(this))._hostDomElement=e,o._componentFactoryResolver=r,o._appRef=i,o}return(0,He.Z)(n,[{key:"attachComponentPortal",value:function(e,t){var n,r=this,i=this._componentFactoryResolver.resolveComponentFactory(e.component);return n=i.create(e.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(function(){r._appRef.detachView(n.hostView),n.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(function(){function e(){(0,Ge.Z)(this,e)}return(0,He.Z)(e,[{key:"attach",value:function(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}},{key:"detach",value:function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}}]),e}()),mt=function(){var e=function(){function e(t){(0,Ge.Z)(this,e),this._document=t}return(0,He.Z)(e,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K0))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(r.K0))},token:e,providedIn:"root"}),e}(),vt=function(){function e(t){(0,Ge.Z)(this,e),this._portalHost=t}return(0,He.Z)(e,[{key:"attach",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._portalHost.attach(e,t)}},{key:"detach",value:function(){return this._portalHost.detach()}}]),e}(),gt=function(){var e=function(){function e(t,n,r,i){(0,Ge.Z)(this,e),this._overlayContainer=t,this._componentFactoryResolver=n,this._appRef=r,this._document=i,this._paneElements=new Map}return(0,He.Z)(e,[{key:"create",value:function(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}},{key:"getPaneElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}},{key:"_createPaneElement",value:function(e,t){var n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}},{key:"_createPortalHost",value:function(e){return new pt(e,this._componentFactoryResolver,this._appRef)}},{key:"_createOverlayRef",value:function(e){return new vt(this._createPortalHost(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(mt),s.LFG(s._Vd),s.LFG(s.z2F),s.LFG(r.K0))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(mt),s.LFG(s._Vd),s.LFG(s.z2F),s.LFG(r.K0))},token:e,providedIn:"root"}),e}(),yt=function(){function e(t){(0,Ge.Z)(this,e),this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new Qe.x,this._activate=new Qe.x,this._manualClose=new Qe.x,this._resetTimeout=new Qe.x,this._countDuplicate=new Qe.x}return(0,He.Z)(e,[{key:"manualClose",value:function(){this._manualClose.next(),this._manualClose.complete()}},{key:"manualClosed",value:function(){return this._manualClose.asObservable()}},{key:"timeoutReset",value:function(){return this._resetTimeout.asObservable()}},{key:"countDuplicate",value:function(){return this._countDuplicate.asObservable()}},{key:"close",value:function(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"isInactive",value:function(){return this._activate.isStopped}},{key:"activate",value:function(){this._activate.next(),this._activate.complete()}},{key:"afterActivate",value:function(){return this._activate.asObservable()}},{key:"onDuplicate",value:function(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}]),e}(),bt=function(){function e(t,n){(0,Ge.Z)(this,e),this._toastPackage=t,this._parentInjector=n}return(0,He.Z)(e,[{key:"get",value:function(e,t,n){return e===ct?this._toastPackage:this._parentInjector.get(e,t,n)}}]),e}(),_t=function(){var e=function(){function e(t,n,r,i,o){(0,Ge.Z)(this,e),this.overlay=n,this._injector=r,this.sanitizer=i,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}return(0,He.Z)(e,[{key:"show",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}},{key:"success",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}},{key:"error",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}},{key:"info",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}},{key:"warning",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}},{key:"clear",value:function(e){var t,n=(0,Ze.Z)(this.toasts);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}}catch(i){n.e(i)}finally{n.f()}}},{key:"remove",value:function(e){var t=this._findToast(e);if(!t)return!1;if(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}},{key:"findDuplicate",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=this.toastrConfig.includeTitleDuplicates,a=(0,Ze.Z)(this.toasts);try{for(a.s();!(e=a.n()).done;){var s=e.value,l=o&&s.title===t;if((!o||l)&&s.message===n)return s.toastRef.onDuplicate(r,i),s}}catch(u){a.e(u)}finally{a.f()}return null}},{key:"applyConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.toastrConfig),e)}},{key:"_findToast",value:function(e){for(var t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}},{key:"_preBuildNotification",value:function(e,t,n,r){var i=this;return r.onActivateTick?this.ngZone.run(function(){return i._buildNotification(e,t,n,r)}):this._buildNotification(e,t,n,r)}},{key:"_buildNotification",value:function(e,t,n,r){if(!r.toastComponent)throw new Error("toastComponent required");var i=this.findDuplicate(n,t,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||t)&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=t;var o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));var a=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;var l=t;t&&r.enableHtml&&(l=this.sanitizer.sanitize(s.q3G.HTML,t));var u=new yt(a),c=new ct(this.index,r,l,n,e,u),d=new bt(c,this._injector),h=new ft(r.toastComponent,d),f=a.attach(h,this.toastrConfig.newestOnTop);u.componentInstance=f.instance;var p={toastId:this.index,title:n||"",message:t||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:c.onTap(),onAction:c.onAction(),portal:f};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(function(){p.toastRef.activate()})),this.toasts.push(p),p}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(ht),s.LFG(gt),s.LFG(s.zs3),s.LFG(We.H7),s.LFG(s.R0b))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(ht),s.LFG(gt),s.LFG(s.gxx),s.LFG(We.H7),s.LFG(s.R0b))},token:e,providedIn:"root"}),e}(),Ct=function(){var e=function(){function e(t,n,r){var i=this;(0,Ge.Z)(this,e),this.toastrService=t,this.toastPackage=n,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe(function(){i.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(function(){i.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(function(){i.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(function(e){i.duplicatesCount=e})}return(0,He.Z)(e,[{key:"displayStyle",get:function(){if("inactive"===this.state.value)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(function(){return e.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(function(){return e.updateProgress()},10))}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(function(){return e.remove()},this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return e.updateProgress()},10)}},{key:"remove",value:function(){var e=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(function(){return e.toastrService.remove(e.toastPackage.toastId)},+this.toastPackage.config.easeTime))}},{key:"tapToast",value:function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(function(){return e.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return e.updateProgress()},10))}},{key:"outsideTimeout",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return n.timeout=setTimeout(function(){return n.runInsideAngular(e)},t)}):this.timeout=setTimeout(function(){return e()},t)}},{key:"outsideInterval",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return n.intervalId=setInterval(function(){return n.runInsideAngular(e)},t)}):this.intervalId=setInterval(function(){return e()},t)}},{key:"runInsideAngular",value:function(e){this.ngZone?this.ngZone.run(function(){return e()}):e()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(_t),s.Y36(ct),s.Y36(s.R0b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,t){1&e&&s.NdJ("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),2&e&&(s.d8E("@flyInOut",t.state),s.Tol(t.toastClasses),s.Udp("display",t.displayStyle))},attrs:Ke,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(s.YNc(0,Xe,3,0,"button",0),s.YNc(1,et,3,5,"div",1),s.YNc(2,tt,1,3,"div",2),s.YNc(3,nt,2,4,"div",3),s.YNc(4,rt,2,2,"div",4)),2&e&&(s.Q6J("ngIf",t.options.closeButton),s.xp6(1),s.Q6J("ngIf",t.title),s.xp6(1),s.Q6J("ngIf",t.message&&t.options.enableHtml),s.xp6(1),s.Q6J("ngIf",t.message&&!t.options.enableHtml),s.xp6(1),s.Q6J("ngIf",t.options.progressBar))},directives:[r.O5],encapsulation:2,data:{animation:[qe("flyInOut",[Je("inactive",Ye({opacity:0})),Je("active",Ye({opacity:1})),Je("removed",Ye({opacity:0})),ze("inactive => active",je("{{ easeTime }}ms {{ easing }}")),ze("active => removed",je("{{ easeTime }}ms {{ easing }}"))])]}}),e}(),Et=(Object.assign(Object.assign({},dt),{toastComponent:Ct}),function(){var e=function(){function e(t,n,r){var i=this;(0,Ge.Z)(this,e),this.toastrService=t,this.toastPackage=n,this.appRef=r,this.width=-1,this.toastClasses="",this.state="inactive",this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe(function(){i.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(function(){i.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(function(){i.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(function(e){i.duplicatesCount=e})}return(0,He.Z)(e,[{key:"displayStyle",get:function(){if("inactive"===this.state)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(function(){e.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(function(){return e.updateProgress()},10))),this.options.onActivateTick&&this.appRef.tick()}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(function(){return e.remove()},this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return e.updateProgress()},10))}},{key:"remove",value:function(){var e=this;"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(function(){return e.toastrService.remove(e.toastPackage.toastId)}))}},{key:"tapToast",value:function(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(function(){return e.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return e.updateProgress()},10)))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(_t),s.Y36(ct),s.Y36(s.z2F))},e.\u0275cmp=s.Xpm({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,t){1&e&&s.NdJ("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),2&e&&(s.Tol(t.toastClasses),s.Udp("display",t.displayStyle))},attrs:Ke,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(s.YNc(0,it,3,0,"button",0),s.YNc(1,at,3,5,"div",1),s.YNc(2,st,1,3,"div",2),s.YNc(3,lt,2,4,"div",3),s.YNc(4,ut,2,2,"div",4)),2&e&&(s.Q6J("ngIf",t.options.closeButton),s.xp6(1),s.Q6J("ngIf",t.title),s.xp6(1),s.Q6J("ngIf",t.message&&t.options.enableHtml),s.xp6(1),s.Q6J("ngIf",t.message&&!t.options.enableHtml),s.xp6(1),s.Q6J("ngIf",t.options.progressBar))},directives:[r.O5],encapsulation:2}),e}());Object.assign(Object.assign({},dt),{toastComponent:Et}),qe("flyInOut",[]);var Tt=function(){function e(){}return e.prototype.setEnvironment=function(e){this.environment=e},e.prototype.getEnvironment=function(){return this.environment||new G},e.prototype.getVariables=function(){return this.environment&&this.environment.variables?this.environment.variables:[]},e.prototype.getVariable=function(e){return this.getVariables().find(function(t){return t.name===e})},e.prototype.getVariableById=function(e){return this.getVariables().find(function(t){return t.id===e})},e.prototype.getExternalApis=function(){return this.environment&&this.environment.externalApis?this.environment.externalApis:[]},e.prototype.getExternalApi=function(e){var t;return null===(t=this.environment.externalApis)||void 0===t?void 0:t.find(function(t){return t.id===e})},e.prototype.getExternalApiCall=function(e,t){var n;return null===(n=null==e?void 0:e.calls)||void 0===n?void 0:n.find(function(e){return e.id===t})},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}(),wt=(n(81940),function(e){return e.YEAR="year",e.MONTH="month",e.DAY="day",e.TIME="time",e}({})),Ot=function(){function e(){}return e.getSelectionAqls=function(t){return e.getFullSelections(t).map(function(t){t.indexOf(e.autocompleteCharacter)>-1&&(t=t.slice(t.indexOf(e.autocompleteCharacter)));var n=t.split(/\s+/g).filter(function(e){return!!e});if(n.length>1&&n.some(function(e){return[xt.AS,xt.AS.toLowerCase()].includes(e)})){var r=n.findIndex(function(e){return[xt.AS,xt.AS.toLowerCase()].includes(e)});return n.slice(0,r).join(" ")}return t})},e.getAliases=function(t){var n=[];return t.forEach(function(t){var r="",i="",o=t.substr(t.indexOf(e.autocompleteCharacter)-1,1),a=t.split(/\s+/g).filter(function(e){return!!e});if(a.length>1&&a.some(function(e){return[xt.AS,xt.AS.toLowerCase()].includes(e)})){var s=a.findIndex(function(e){return[xt.AS,xt.AS.toLowerCase()].includes(e)});r=a.slice(0,s).join(" "),i=a.slice(s+1).join(" ")}else r=a.join(" ");r.indexOf(e.autocompleteCharacter)>-1&&(r=r.slice(r.indexOf(e.autocompleteCharacter))),a.length>1&&a.some(function(e){return[xt.AS,xt.AS.toLowerCase()].includes(e)})?n.push({aql:r,alias:i,variable:o}):n.push({aql:r,alias:r,variable:o})}),n},e.getFullSelections=function(t,n){var r=this;if(void 0===n&&(n=!0),!t)return[];var i=t.toUpperCase(),o=i.indexOf(xt.SELECT),a=i.indexOf(xt.FROM),s=t.slice(o+xt.SELECT.length,a).replace(xt.DISTINCT,""),l=s.replace(/'.+?'/g,"").replace(/\[.+?]/g,"").split(",").map(function(e){return e.trim()}).map(function(e){var t;return""+(null===(t=e.split("/"))||void 0===t?void 0:t[0])}).map(function(e){return n?r.removeEscapedKeywordsFromSelections(e):e}),u=new RegExp("[,](?!')","g"),c=s.trim().split("\n").filter(function(t){return!t.trim().startsWith(e.commentPattern)}).map(function(e){return e.trim()}).join(" ").split(u).map(function(e){return n?r.removeEscapedKeywordsFromSelections(e):e}),d=c.map(function(e,t){return l.some(function(t){return e.trim().startsWith(t+"/")||e===t})?t:null}).filter(function(e){return null!=e});return d.map(function(e,t){return d[t+1]?c.slice(e,d[t+1]).join(","):c.slice(e).join(",")}).map(function(e){return e.trim()})},e.getResultValues=function(e,t){var n,r=this;if(void 0===t&&(t=[]),null==e)return[];var i=Object.keys(e);return(null===(n=null==e?void 0:e["@class"])||void 0===n?void 0:n.includes("DV_INTERVAL"))&&(t.push(e.lower),t.push(e.upper)),["@class","name","archetype_node_id","value"].every(function(e){return i.includes(e)})?(t.push(e),t):(i.filter(function(t){return"object"==typeof e[t]}).forEach(function(n){return r.getResultValues(e[n],t)}),t)},e.resolveValue=function(e,t){if(null==e)return null;if(e.hasOwnProperty("symbol"))return e.symbol.defining_code.code_string;if(e.hasOwnProperty("defining_code"))return e.defining_code.code_string;if("DV_COUNT"===e["@class"])return e.magnitude;if("DV_DURATION"===e["@class"])return Re.mapPeriodStringValueToObject(e.value)[t];if(t){if(e.hasOwnProperty(t))return e[t];var n=void 0;return"object"==typeof e&&(n=Object.keys(e).find(function(e){return e.indexOf(t)>-1&&e.startsWith(t)})),n?e[n]:e.value||e}return e.value||e},e.findRelevantResult=function(e,t){if(!e)return null;var n=t.name,r=t.nodeId,i=t.rmType;return e.find(function(e){if(e.archetype_node_id)return(e.name.value&&e.name.value.split("#")[0].trim())===n&&e.archetype_node_id===r&&e.value["@class"]===i;var o=Re.getModelSuffixes(t);return e["@class"]===i?!(o&&o.length)||Object.keys(e).some(function(e){return o.includes(e)}):null})},e.getSelectionVariableNames=function(t){return-1===t.toUpperCase().indexOf(xt.SELECT)?[]:Array.from(new Set(this.getFullSelections(t).map(function(t){var n=t.indexOf(e.autocompleteCharacter);return n>-1?t.slice(0,n):t})))},e.isSelectionArchetype=function(e,t,n){return n.indexOf(e+"["+t)>-1||e.endsWith("["+t+"]")},e.getArchetypeIds=function(t){var n=e.getSelectionVariableNames(t),r=new RegExp("["+n.join("")+"](\\[.*\\])"),i=new RegExp(/(?:\[)(.*)(?=])/g);return t.split(" ").filter(function(e){return r.test(e)}).map(function(e){var t;return null===(t=e.match(i))||void 0===t?void 0:t[0].slice(1)}).filter(function(e){return e&&(null==e?void 0:e.startsWith("openEHR"))})},e.getArchetypeVariables=function(t){var n=new Map;return e.getArchetypeIds(t).forEach(function(e){var r=t.substr(t.indexOf("["+e)-1,1);n.set(r,e)}),n},e.getFullAqlPaths=function(e){var t=[];return e.forEach(function(e){if(e.inputs&&e.inputs.length){var n=e.inputs.flatMap(function(e){return e}).map(function(t){return e.aql+"/"+t.suffix});t.push.apply(t,(0,a.ev)([],(0,a.CR)(n)))}t.push(e.aql)}),t},e.getAqlParameters=function(e){var t=this,n=new Map,r=e.match(new RegExp(this.variableRegex,"g"));return r?((r=(r=this.filterCommentedParams(e,r)).map(function(e){return":"+e.split(":")[1]})).forEach(function(r){var i=r.split(":")[1],o=t.isWordCommented(e,i);!n.has(i)&&i.length>0&&!o&&n.set(i,"")}),n):n},e.getAqlParamsMetadata=function(e){var t=e.toUpperCase().indexOf(re.WHERE),n=e.slice(t).replace(/\n/g," ").split(" ").filter(function(e){return!!e}),r=[];return n.reduce(function(e,t,r){var i,o;if(null===(i=n[r+1])||void 0===i?void 0:i.startsWith(":")){var a=null!==(o=n[r-1])&&void 0!==o?o:n[r+1];e.push({path:a.substr(1),variable:a.substr(0,1),paramName:n[r+1].slice(1)})}return e},r),r},e.isWordCommented=function(e,t){var n=this,r=e.split("\n"),i=!1;return r.forEach(function(e){var r=e.indexOf(t),o=e.indexOf(n.commentPattern);-1===o||i||r>-1&&r>o&&(i=!0)}),i},e.escapeString=function(e){return e&&e.replace(/'/g,"\\'")},e.unescapeString=function(e){return e&&e.replace(/\\'/g,"'")},e.filterCommentedParams=function(e,t){var n=this,r=e.split("\n"),i=[];return t.forEach(function(e){var t=r.findIndex(function(t){return t.indexOf(e)>-1}),o=r[t]?r[t].indexOf(n.commentPattern):-1;o>-1&&o<r[t].indexOf(e)||i.push(e)}),i},e.removeEscapedKeywordsFromSelections=function(e){var t=e;return[xt.TOP,xt.COUNT,xt.SQUASH,xt.TAGS,xt.CONCAT].forEach(function(e){var n,r;if(t.toUpperCase().includes(e)){var i=null===(r=null===(n=new RegExp(e+"\\s?\\((?<selection>.*\\b)\\)?","i").exec(t))||void 0===n?void 0:n.groups)||void 0===r?void 0:r.selection;i&&(t=i)}}),t.trim()},e.autocompleteCharacter="/",e.commentPattern="--",e.variableRegex="((\\s+|=\\s*|{.*):[a-za-\u044fA-ZA-\u042f0-9_]*($|\\b))",e}(),xt=function(e){return e.SELECT="SELECT",e.FROM="FROM",e.TOP="TOP",e.COUNT="COUNT",e.SQUASH="SQUASH",e.TAGS="TAGS",e.CONCAT="CONCAT",e.AS="AS",e.DISTINCT="DISTINCT",e}({}),It=function(){function e(){}return e.hasScript=function(e){return!!customElements.get(this.sanitizeSelector(e))},e.sanitizeSelector=function(e){return e.endsWith(".js")?e.split(".js")[0]:e},e.createAndAppendScript=function(t,n){var r;if(!e.hasScript(t)&&n){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.defer=!0,"string"==typeof n?i.innerText=n:i.src=URL.createObjectURL(new Blob([n])),null===(r=document.querySelector("body"))||void 0===r||r.appendChild(i)}},e}();n(64494);var Mt=n(36655);new x("username").setSource(I.PREDEFINED).setValue("admin").build(),new x("password").setSource(I.PREDEFINED).setValue("admin").build(),new A([{username:"username",password:"password"}]),new D,new D},25449:function(e,t,n){"use strict";n.d(t,{B:function(){return r},E:function(){return i}});var r=function(e){return e.GENERIC_FIELDSET="GENERIC_FIELDSET",e.GENERIC_COMPOSITE_FIELD="GENERIC_COMPOSITE_FIELD",e.GENERIC_SPACER="GENERIC_SPACER",e.GENERIC_INPUT_TEXT="GENERIC_INPUT_TEXT",e.GENERIC_CODED_TEXT="GENERIC_CODED_TEXT",e.GENERIC_BUTTON="GENERIC_BUTTON",e.GENERIC_FIELD="GENERIC_FIELD",e.FORM_DEFINITION="FORM_DEFINITION",e.DV_QUANTITY="DV_QUANTITY",e.DV_CODED_TEXT="DV_CODED_TEXT",e.DV_TEXT="DV_TEXT",e.DV_PROPORTION="DV_PROPORTION",e.DV_BOOLEAN="DV_BOOLEAN",e.DV_DATE="DV_DATE",e.DV_TIME="DV_TIME",e.DV_DATE_TIME="DV_DATE_TIME",e.DV_ORDINAL="DV_ORDINAL",e.DV_SCALE="DV_SCALE",e.DV_COUNT="DV_COUNT",e.DV_INTEGER="DV_INTEGER",e.DV_DURATION="DV_DURATION",e.DV_URI="DV_URI",e.DV_EHR_URI="DV_EHR_URI",e.DV_IDENTIFIER="DV_IDENTIFIER",e.DV_MULTIMEDIA="DV_MULTIMEDIA",e.DV_PARSABLE="DV_PARSABLE",e.STRING="STRING",e.TERMINOLOGY_ID="TERMINOLOGY_ID",e.ISM_TRANSITION="ISM_TRANSITION",e.CODE_PHRASE="CODE_PHRASE",e.PARTY_PROXY="PARTY_PROXY",e.DV_STATE="DV_STATE",e.OBSERVATION="OBSERVATION",e.EVENT="EVENT",e.COMPOSITION="COMPOSITION",e.SECTION="SECTION",e.EVALUATION="EVALUATION",e.INSTRUCTION="INSTRUCTION",e.ACTION="ACTION",e.ELEMENT="ELEMENT",e.CLUSTER="CLUSTER",e.EVENT_CONTEXT="EVENT_CONTEXT",e.POINT_EVENT="POINT_EVENT",e.PARTICIPATION="PARTICIPATION",e.ACTIVITY="ACTIVITY",e.INTERVAL_EVENT="INTERVAL_EVENT",e.ADMIN_ENTRY="ADMIN_ENTRY",e.GENERIC_LABEL="GENERIC_LABEL",e["DV_INTERVAL<DV_COUNT>"]="DV_INTERVAL<DV_COUNT>",e["DV_INTERVAL<DV_DATE>"]="DV_INTERVAL<DV_DATE>",e["DV_INTERVAL<DV_DATE_TIME>"]="DV_INTERVAL<DV_DATE_TIME>",e["DV_INTERVAL<DV_QUANTITY>"]="DV_INTERVAL<DV_QUANTITY>",e.GENERIC_PROPORTION_FIELD="GENERIC_PROPORTION_FIELD",e.GENERIC_DATE_FIELD="GENERIC_DATE_FIELD",e.GENERIC_NUMERIC_FIELD="GENERIC_NUMERIC_FIELD",e.GENERIC_EXTERNAL_WIDGET="GENERIC_EXTERNAL_WIDGET",e.GENERIC_ORDINAL="GENERIC_ORDINAL",e.GENERIC_BOOLEAN="GENERIC_BOOLEAN",e.GENERIC_QUANTITY="GENERIC_QUANTITY",e.GENERIC_TIME="GENERIC_TIME",e.GENERIC_DATE_TIME="GENERIC_DATE_TIME",e.GENERIC_IMAGE="GENERIC_IMAGE",e.GENERIC_SAVE_BUTTON="GENERIC_SAVE_BUTTON",e.GENERIC_CANVAS="GENERIC_CANVAS",e.GENERIC_COLUMN_LIST="GENERIC_COLUMN_LIST",e.GENERIC_STACKED_LIST="GENERIC_STACKED_LIST",e.GENERIC_MULTIMEDIA="GENERIC_MULTIMEDIA",e.GENERIC_RICH_TEXT="GENERIC_RICH_TEXT",e.GENERIC_HTML="GENERIC_HTML",e.GENERIC_LAYOUT_GROUP="GENERIC_LAYOUT_GROUP",e}({}),i=function(e){return o[e]},o=function(e){return e[e.GENERIC_FIELDSET=0]="GENERIC_FIELDSET",e[e.GENERIC_COMPOSITE_FIELD=1]="GENERIC_COMPOSITE_FIELD",e[e.GENERIC_SPACER=2]="GENERIC_SPACER",e[e.GENERIC_INPUT_TEXT=3]="GENERIC_INPUT_TEXT",e[e.GENERIC_CODED_TEXT=4]="GENERIC_CODED_TEXT",e[e.GENERIC_BUTTON=5]="GENERIC_BUTTON",e[e.GENERIC_FIELD=6]="GENERIC_FIELD",e[e.FORM_DEFINITION=7]="FORM_DEFINITION",e[e.DV_QUANTITY=8]="DV_QUANTITY",e[e.DV_CODED_TEXT=9]="DV_CODED_TEXT",e[e.DV_TEXT=10]="DV_TEXT",e[e.DV_PROPORTION=11]="DV_PROPORTION",e[e.DV_BOOLEAN=12]="DV_BOOLEAN",e[e.DV_DATE=13]="DV_DATE",e[e.DV_TIME=14]="DV_TIME",e[e.DV_DATE_TIME=15]="DV_DATE_TIME",e[e.DV_ORDINAL=16]="DV_ORDINAL",e[e.DV_COUNT=17]="DV_COUNT",e[e.DV_INTEGER=18]="DV_INTEGER",e[e.DV_DURATION=19]="DV_DURATION",e[e.DV_URI=20]="DV_URI",e[e.DV_EHR_URI=21]="DV_EHR_URI",e[e.DV_IDENTIFIER=22]="DV_IDENTIFIER",e[e.DV_MULTIMEDIA=23]="DV_MULTIMEDIA",e[e.DV_PARSABLE=24]="DV_PARSABLE",e[e.STRING=25]="STRING",e[e.TERMINOLOGY_ID=26]="TERMINOLOGY_ID",e[e.ISM_TRANSITION=27]="ISM_TRANSITION",e[e.CODE_PHRASE=28]="CODE_PHRASE",e[e.PARTY_PROXY=29]="PARTY_PROXY",e[e.DV_STATE=30]="DV_STATE",e[e.OBSERVATION=31]="OBSERVATION",e[e.EVENT=32]="EVENT",e[e.COMPOSITION=33]="COMPOSITION",e[e.SECTION=34]="SECTION",e[e.EVALUATION=35]="EVALUATION",e[e.INSTRUCTION=36]="INSTRUCTION",e[e.ACTION=37]="ACTION",e[e.ELEMENT=38]="ELEMENT",e[e.CLUSTER=39]="CLUSTER",e[e.EVENT_CONTEXT=40]="EVENT_CONTEXT",e[e.POINT_EVENT=41]="POINT_EVENT",e[e.PARTICIPATION=42]="PARTICIPATION",e[e.ACTIVITY=43]="ACTIVITY",e[e.INTERVAL_EVENT=44]="INTERVAL_EVENT",e[e.ADMIN_ENTRY=45]="ADMIN_ENTRY",e[e.GENERIC_LABEL=46]="GENERIC_LABEL",e[e["DV_INTERVAL<DV_COUNT>"]=47]="DV_INTERVAL<DV_COUNT>",e[e["DV_INTERVAL<DV_DATE>"]=48]="DV_INTERVAL<DV_DATE>",e[e["DV_INTERVAL<DV_DATE_TIME>"]=49]="DV_INTERVAL<DV_DATE_TIME>",e[e.GENERIC_PROPORTION_FIELD=50]="GENERIC_PROPORTION_FIELD",e[e.GENERIC_DATE_FIELD=51]="GENERIC_DATE_FIELD",e[e.GENERIC_NUMERIC_FIELD=52]="GENERIC_NUMERIC_FIELD",e[e.GENERIC_EXTERNAL_WIDGET=53]="GENERIC_EXTERNAL_WIDGET",e[e.GENERIC_ORDINAL=54]="GENERIC_ORDINAL",e[e.GENERIC_BOOLEAN=55]="GENERIC_BOOLEAN",e[e.GENERIC_QUANTITY=56]="GENERIC_QUANTITY",e[e.GENERIC_TIME=57]="GENERIC_TIME",e[e.GENERIC_DATE_TIME=58]="GENERIC_DATE_TIME",e[e.GENERIC_IMAGE=59]="GENERIC_IMAGE",e[e.GENERIC_SAVE_BUTTON=60]="GENERIC_SAVE_BUTTON",e[e.GENERIC_CANVAS=61]="GENERIC_CANVAS",e}({})},8759:function(e,t,n){"use strict";n.d(t,{u:function(){return r},Y:function(){return i}});var r=function(e){return e.COMBOBOX="COMBOBOX",e.RADIOS="RADIOS",e.TEXTFIELD="TEXTFIELD",e.TEXTAREA="TEXTAREA",e.CHECKBOX="CHECKBOX",e.BUTTONGROUP="BUTTONGROUP",e.DATEPICKER="DATEPICKER",e.PARTIAL_DATE="PARTIAL_DATE",e.CONTAINER="CONTAINER",e.COLLAPSABLE_TITLE="COLLAPSABLE_TITLE",e.IMAGE="IMAGE",e.TOGGLE_SWITCH="TOGGLE_SWITCH",e.BLANK="BLANK",e.LINE="LINE",e.THREE_STATE="THREE_STATE",e.YES_NO="YES_NO",e.LIST="LIST",e}({}),i=new Map([[0,r.COMBOBOX],[1,r.RADIOS],[2,r.TEXTFIELD],[3,r.TEXTAREA],[4,r.CHECKBOX],[5,r.BUTTONGROUP],[6,r.DATEPICKER],[7,r.PARTIAL_DATE],[8,r.CONTAINER],[9,r.COLLAPSABLE_TITLE],[10,r.IMAGE],[11,r.TOGGLE_SWITCH],[12,r.BLANK],[13,r.LINE],[14,r.YES_NO],[15,r.LIST]])},64494:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(31238),i=n(35322),o=function(){function e(e){this.isAnyFieldPipe=e}return e.prototype.transform=function(e){var t;return this.isAnyFieldPipe.transform(e)&&!(null===(t=e.children)||void 0===t?void 0:t.length)},e.\u0275fac=function(t){return new(t||e)(i.Y36(r.o,16))},e.\u0275pipe=i.Yjl({name:"isAnyFieldWithoutType",type:e,pure:!0}),e}()},31238:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(37936),i=n(35322),o=function(){function e(){}return e.prototype.transform=function(e){return r.j.isAny(e.rmType)||!!e.availableTypes},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Yjl({name:"isAnyField",type:e,pure:!0}),e}()},36655:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});var r=n(8759),i=n(35322),o=function(){function e(){}return e.prototype.transform=function(e){return e.isContainer()&&e.getViewConfig().getFieldPresentation()===r.u.LIST},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Yjl({name:"isContainerList",type:e,pure:!0}),e}()},37936:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var r=n(64762),i=n(25449),o=function(){function e(){}return e.isText=function(t){return e.textRmTypes.has(t)},e.isCodedText=function(t){return e.codedTextRmTypes.has(t)},e.isQuantity=function(t){return e.quantityRmTypes.has(t)},e.isProportion=function(t){return e.proportionRmTypes.has(t)},e.isBoolean=function(t){return e.booleanRmTypes.has(t)},e.isDate=function(t){return e.dateRmTypes.has(t)},e.isDateTime=function(t){return e.dateTimeRmTypes.has(t)},e.isTime=function(t){return e.timeRmTypes.has(t)},e.isOrdinal=function(t){return e.ordinalRmTypes.has(t)},e.isScale=function(t){return e.scaleRmTypes.has(t)},e.isDuration=function(t){return e.durationRmTypes.has(t)},e.isCount=function(t){return e.countRmTypes.has(t)},e.isExtendedTextType=function(t){return e.extendedTextTypes.has(t)},e.isMultimedia=function(t){return e.multimediaRmTypes.has(t)},e.isExternalWidget=function(t){return e.externalWidgetRmTypes.has(t)},e.isSpacer=function(t){return e.spacerRmTypes.has(t)},e.isButton=function(t){return e.buttonRmTypes.has(t)},e.isAny=function(e){return!!e&&i.B[e]===i.B.ELEMENT},e.isListElement=function(t){return e.listTypes.has(t)},e.isRichText=function(t){return e.richTextTypes.has(t)},e.isHtml=function(t){return e.htmlTypes.has(t)},e.isInputField=function(t){return e.isExternalWidget(t)||e.isCodedText(t)||e.isExtendedTextType(t)||e.isProportion(t)||e.isText(t)||e.isDate(t)||e.isDateTime(t)||e.isTime(t)||e.isCount(t)||e.isOrdinal(t)||e.isScale(t)||e.isDuration(t)||e.isQuantity(t)||e.isText(t)||e.isBoolean(t)||[i.B.GENERIC_CANVAS,i.B.GENERIC_MULTIMEDIA].includes(t)},e.hasPlaceholder=function(t){return e.isText(t)||e.isCodedText(t)||e.isOrdinal(t)||e.isScale(t)||e.isCount(t)||e.isQuantity(t)},e.isRangeModel=function(t){return e.isProportion(t)||e.isQuantity(t)||e.isDuration(t)||e.isCount(t)},e.isNumeric=function(t){return e.isQuantity(t)||e.isDuration(t)||e.isCount(t)||e.isProportion(t)},e.hasSuffixes=function(t){return e.isQuantity(t)||e.isDuration(t)||e.isProportion(t)||e.isExtendedTextType(t)||e.isCodedText(t)},e.isRichLabelType=function(t){return e.richLabelTypes.has(t)},e.isInterval=function(t){return e.intervalTypes.has(t)},e.allowDescription=function(t){var n=t.getRmType();return e.isCodedText(n)||e.isExtendedTextType(n)||e.isProportion(n)||e.isText(n)||e.isDate(n)||e.isDateTime(n)||e.isTime(n)||e.isCount(n)||e.isOrdinal(n)||e.isScale(n)||e.isDuration(n)||e.isQuantity(n)||e.isText(n)||e.isBoolean(n)},e.isSimilar=function(t,n){return t.isContainer()&&n.isContainer()||t.rmType===n.rmType||e.isText(t.rmType)&&e.isText(n.rmType)||e.isCodedText(t.rmType)&&e.isCodedText(n.rmType)||e.isQuantity(t.rmType)&&e.isQuantity(n.rmType)||e.isProportion(t.rmType)&&e.isProportion(n.rmType)||e.isBoolean(t.rmType)&&e.isBoolean(n.rmType)||e.isDate(t.rmType)&&e.isDate(n.rmType)||e.isDateTime(t.rmType)&&e.isDateTime(n.rmType)||e.isTime(t.rmType)&&e.isTime(n.rmType)||e.isOrdinal(t.rmType)&&e.isOrdinal(n.rmType)||e.isScale(t.rmType)&&e.isScale(n.rmType)||e.isDuration(t.rmType)&&e.isDuration(n.rmType)||e.isCount(t.rmType)&&e.isCount(n.rmType)||e.isMultimedia(t.rmType)&&e.isMultimedia(n.rmType)||e.isButton(t.rmType)&&e.isButton(n.rmType)},e.hasDecimals=function(t){return e.isQuantity(t)||e.isProportion(t)||t===i.B.GENERIC_NUMERIC_FIELD},e.isLocalizedNamesIncludeVariablesType=function(t){return e.localizedNamesIncludeVariablesTypes.has(t)},e.textRmTypes=new Set([i.B.DV_TEXT,i.B.GENERIC_INPUT_TEXT,i.B.DV_URI,i.B.DV_EHR_URI,i.B.DV_IDENTIFIER,i.B.STRING]),e.codedTextRmTypes=new Set([i.B.DV_CODED_TEXT,i.B.GENERIC_CODED_TEXT]),e.quantityRmTypes=new Set([i.B.DV_QUANTITY,i.B.GENERIC_QUANTITY]),e.proportionRmTypes=new Set([i.B.DV_PROPORTION,i.B.GENERIC_PROPORTION_FIELD]),e.booleanRmTypes=new Set([i.B.DV_BOOLEAN,i.B.GENERIC_BOOLEAN]),e.dateRmTypes=new Set([i.B.DV_DATE,i.B.GENERIC_DATE_FIELD]),e.timeRmTypes=new Set([i.B.DV_TIME,i.B.GENERIC_TIME]),e.dateTimeRmTypes=new Set([i.B.DV_DATE_TIME,i.B.GENERIC_DATE_TIME]),e.ordinalRmTypes=new Set([i.B.DV_ORDINAL,i.B.GENERIC_ORDINAL]),e.scaleRmTypes=new Set([i.B.DV_SCALE]),e.durationRmTypes=new Set([i.B.DV_DURATION]),e.countRmTypes=new Set([i.B.DV_COUNT,i.B.GENERIC_NUMERIC_FIELD]),e.multimediaRmTypes=new Set([i.B.DV_MULTIMEDIA,i.B.GENERIC_CANVAS,i.B.GENERIC_MULTIMEDIA]),e.externalWidgetRmTypes=new Set([i.B.GENERIC_EXTERNAL_WIDGET]),e.spacerRmTypes=new Set([i.B.GENERIC_SPACER]),e.listTypes=new Set([i.B.GENERIC_STACKED_LIST,i.B.GENERIC_COLUMN_LIST]),e.richTextTypes=new Set([i.B.GENERIC_RICH_TEXT]),e.htmlTypes=new Set([i.B.GENERIC_HTML]),e.extendedTextTypes=new Set([i.B.PARTY_PROXY,i.B.DV_PARSABLE,i.B.DV_IDENTIFIER]),e.buttonRmTypes=new Set([i.B.GENERIC_BUTTON,i.B.GENERIC_SAVE_BUTTON]),e.genericRmTypes=new Set([i.B.GENERIC_PROPORTION_FIELD,i.B.GENERIC_DATE_FIELD,i.B.GENERIC_NUMERIC_FIELD,i.B.GENERIC_EXTERNAL_WIDGET,i.B.GENERIC_ORDINAL,i.B.GENERIC_BOOLEAN,i.B.GENERIC_QUANTITY,i.B.GENERIC_TIME,i.B.GENERIC_DATE_TIME,i.B.GENERIC_IMAGE,i.B.GENERIC_SAVE_BUTTON,i.B.GENERIC_CANVAS,i.B.GENERIC_COLUMN_LIST,i.B.GENERIC_STACKED_LIST,i.B.GENERIC_MULTIMEDIA,i.B.GENERIC_RICH_TEXT,i.B.GENERIC_HTML,i.B.GENERIC_FIELDSET,i.B.GENERIC_SPACER,i.B.GENERIC_INPUT_TEXT,i.B.GENERIC_CODED_TEXT,i.B.GENERIC_BUTTON,i.B.GENERIC_FIELD,i.B.GENERIC_LABEL]),e.intervalTypes=new Set([i.B["DV_INTERVAL<DV_COUNT>"],i.B["DV_INTERVAL<DV_DATE>"],i.B["DV_INTERVAL<DV_DATE_TIME>"],i.B["DV_INTERVAL<DV_QUANTITY>"]]),e.richLabelTypes=new Set((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)([],(0,r.CR)(e.textRmTypes)),(0,r.CR)(e.codedTextRmTypes)),(0,r.CR)(e.quantityRmTypes)),(0,r.CR)(e.proportionRmTypes)),(0,r.CR)(e.booleanRmTypes)),(0,r.CR)(e.dateRmTypes)),(0,r.CR)(e.timeRmTypes)),(0,r.CR)(e.dateTimeRmTypes)),(0,r.CR)(e.ordinalRmTypes)),(0,r.CR)(e.scaleRmTypes)),(0,r.CR)(e.durationRmTypes)),(0,r.CR)(e.countRmTypes)),(0,r.CR)(e.multimediaRmTypes)),[i.B.GENERIC_FIELDSET,i.B.GENERIC_CANVAS,i.B.DV_IDENTIFIER,i.B.DV_PARSABLE,i.B.PARTY_PROXY])),e.localizedNamesIncludeVariablesTypes=new Set([i.B.GENERIC_RICH_TEXT,i.B.GENERIC_HTML]),e}()},13705:function(e,t,n){"use strict";n.d(t,{zX:function(){return s}}),n(32859);var r=n(64762),i=n(1954),o=n(35322),a=function(){return function(){this.widgetConfigurations={}}}(),s=function(e){function t(){return e.call(this,new a)||this}return(0,r.ZT)(t,e),t.prototype.getWidgetConfigs=function(){return this.getState().widgetConfigurations},t.prototype.setWidgetConfigurations=function(e){var t=e?(0,r.pi)({},e):{};this.setState((0,r.pi)((0,r.pi)({},this.getState()),{widgetConfigurations:t}))},t.prototype.setWidgetConfig=function(e,t){var n=(0,r.pi)({},this.getState().widgetConfigurations);n[e]=t,this.setState((0,r.pi)((0,r.pi)({},this.getState()),{widgetConfigurations:n}))},t.prototype.getSelectorConfig=function(e){return this.getState().widgetConfigurations[e]},t.prototype.getWidgetConfig=function(e){return this.getState().widgetConfigurations[e]},t.prototype.removeConfig=function(e){var t=this.getWidgetConfigs();t.hasOwnProperty(e)&&delete t[e],this.setWidgetConfigurations(t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(i.yh4)},61511:function(e,t,n){"use strict";n.d(t,{mr:function(){return O},Ov:function(){return qe},ez:function(){return Je},K0:function(){return p},x:function(){return D},Ye:function(){return I},i8:function(){return je},mk:function(){return Me},sg:function(){return Ve},O5:function(){return De},RF:function(){return Ne},n9:function(){return Fe},ED:function(){return Le},tP:function(){return Ze},Zx:function(){return Ye},Tn:function(){return k},JF:function(){return We},p6:function(){return $},Mn:function(){return F},ol:function(){return N},UT:function(){return L},NF:function(){return Qe},w_:function(){return f},bD:function(){return ze},q:function(){return d},Mx:function(){return Ie},HT:function(){return h}});var r=n(75328),i=n(58977),o=n(92593),a=n(88879),s=n(57285),l=n(98288),u=n(35322),c=null;function d(){return c}function h(e){c||(c=e)}var f=(0,s.Z)(function e(){(0,l.Z)(this,e)}),p=new u.OlP("DocumentToken"),m=function(){var e=function(){function e(){(0,l.Z)(this,e)}return(0,s.Z)(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,u.Yz7)({factory:v,token:e,providedIn:"platform"}),e}();function v(){return(0,u.LFG)(g)}var g=function(){var e=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this))._doc=e,r._init(),r}return(0,s.Z)(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return d().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){var t=d().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),function(){return t.removeEventListener("popstate",e)}}},{key:"onHashChange",value:function(e){var t=d().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),function(){return t.removeEventListener("hashchange",e)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){y()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){y()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(e)}},{key:"getState",value:function(){return this._history.state}}]),n}(m);return e.\u0275fac=function(t){return new(t||e)(u.LFG(p))},e.\u0275prov=(0,u.Yz7)({factory:b,token:e,providedIn:"platform"}),e}();function y(){return!!window.history.pushState}function b(){return new g((0,u.LFG)(p))}function _(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function C(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function E(e){return e&&"?"!==e[0]?"?"+e:e}var T=function(){var e=function(){function e(){(0,l.Z)(this,e)}return(0,s.Z)(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,u.Yz7)({factory:w,token:e,providedIn:"root"}),e}();function w(e){var t=(0,u.LFG)(p).location;return new x((0,u.LFG)(m),t&&t.origin||"")}var O=new u.OlP("appBaseHref"),x=function(){var e=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;if((0,l.Z)(this,n),(i=t.call(this))._platformLocation=e,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,i}return(0,s.Z)(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return _(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+E(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+E(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+E(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(T);return e.\u0275fac=function(t){return new(t||e)(u.LFG(m),u.LFG(O,8))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e}(),I=function(){var e=function(){function e(t,n){var r=this;(0,l.Z)(this,e),this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=C(S(i)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})})}return(0,s.Z)(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+E(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+E(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+E(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformStrategy).historyGo)||void 0===t||t.call(e,n)}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.LFG(T),u.LFG(m))},e.normalizeQueryParams=E,e.joinWithSlash=_,e.stripTrailingSlash=C,e.\u0275prov=(0,u.Yz7)({factory:M,token:e,providedIn:"root"}),e}();function M(){return new I((0,u.LFG)(T),(0,u.LFG)(m))}function S(e){return e.replace(/\/index.html$/,"")}var V=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}({}),A=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),D=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),k=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),R=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),P=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function N(e,t,n){var r=(0,u.cg1)(e),i=j([r[u.wAp.DayPeriodsFormat],r[u.wAp.DayPeriodsStandalone]],t);return j(i,n)}function F(e,t,n){var r=(0,u.cg1)(e),i=j([r[u.wAp.DaysFormat],r[u.wAp.DaysStandalone]],t);return j(i,n)}function L(e,t,n){var r=(0,u.cg1)(e),i=j([r[u.wAp.MonthsFormat],r[u.wAp.MonthsStandalone]],t);return j(i,n)}function Z(e,t){return j((0,u.cg1)(e)[u.wAp.DateFormat],t)}function U(e,t){return j((0,u.cg1)(e)[u.wAp.TimeFormat],t)}function B(e,t){return j((0,u.cg1)(e)[u.wAp.DateTimeFormat],t)}function G(e,t){var n=(0,u.cg1)(e),r=n[u.wAp.NumberSymbols][t];if(void 0===r){if(t===P.CurrencyDecimal)return n[u.wAp.NumberSymbols][P.Decimal];if(t===P.CurrencyGroup)return n[u.wAp.NumberSymbols][P.Group]}return r}var H=u.kL8;function q(e){if(!e[u.wAp.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[u.wAp.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function j(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Y(e){var t=e.split(":"),n=(0,i.Z)(t,2);return{hours:+n[0],minutes:+n[1]}}var J=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,z={},Q=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,W=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),K=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),X=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function $(e,t,n,r){var o=function(e){if(ve(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){var t=e.split("-").map(function(e){return+e}),n=(0,i.Z)(t,3),r=n[1],o=n[2];return ee(n[0],(void 0===r?1:r)-1,void 0===o?1:o)}var a,s=parseFloat(e);if(!isNaN(e-s))return new Date(s);if(a=e.match(J))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,l=Number(e[6]||0),u=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,s,l,u),t}(a)}var l=new Date(e);if(!ve(l))throw new Error('Unable to convert "'.concat(e,'" into a date'));return l}(e);t=te(n,t)||t;for(var a,s=[];t;){if(!(a=Q.exec(t))){s.push(t);break}var l=(s=s.concat(a.slice(1))).pop();if(!l)break;t=l}var u=o.getTimezoneOffset();r&&(u=me(r,u),o=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(me(t,r)-r))}(o,r));var c="";return s.forEach(function(e){var t=function(e){if(pe[e])return pe[e];var t;switch(e){case"G":case"GG":case"GGG":t=se(X.Eras,k.Abbreviated);break;case"GGGG":t=se(X.Eras,k.Wide);break;case"GGGGG":t=se(X.Eras,k.Narrow);break;case"y":t=oe(K.FullYear,1,0,!1,!0);break;case"yy":t=oe(K.FullYear,2,0,!0,!0);break;case"yyy":t=oe(K.FullYear,3,0,!1,!0);break;case"yyyy":t=oe(K.FullYear,4,0,!1,!0);break;case"Y":t=fe(1);break;case"YY":t=fe(2,!0);break;case"YYY":t=fe(3);break;case"YYYY":t=fe(4);break;case"M":case"L":t=oe(K.Month,1,1);break;case"MM":case"LL":t=oe(K.Month,2,1);break;case"MMM":t=se(X.Months,k.Abbreviated);break;case"MMMM":t=se(X.Months,k.Wide);break;case"MMMMM":t=se(X.Months,k.Narrow);break;case"LLL":t=se(X.Months,k.Abbreviated,D.Standalone);break;case"LLLL":t=se(X.Months,k.Wide,D.Standalone);break;case"LLLLL":t=se(X.Months,k.Narrow,D.Standalone);break;case"w":t=he(1);break;case"ww":t=he(2);break;case"W":t=he(1,!0);break;case"d":t=oe(K.Date,1);break;case"dd":t=oe(K.Date,2);break;case"c":case"cc":t=oe(K.Day,1);break;case"ccc":t=se(X.Days,k.Abbreviated,D.Standalone);break;case"cccc":t=se(X.Days,k.Wide,D.Standalone);break;case"ccccc":t=se(X.Days,k.Narrow,D.Standalone);break;case"cccccc":t=se(X.Days,k.Short,D.Standalone);break;case"E":case"EE":case"EEE":t=se(X.Days,k.Abbreviated);break;case"EEEE":t=se(X.Days,k.Wide);break;case"EEEEE":t=se(X.Days,k.Narrow);break;case"EEEEEE":t=se(X.Days,k.Short);break;case"a":case"aa":case"aaa":t=se(X.DayPeriods,k.Abbreviated);break;case"aaaa":t=se(X.DayPeriods,k.Wide);break;case"aaaaa":t=se(X.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":t=se(X.DayPeriods,k.Abbreviated,D.Standalone,!0);break;case"bbbb":t=se(X.DayPeriods,k.Wide,D.Standalone,!0);break;case"bbbbb":t=se(X.DayPeriods,k.Narrow,D.Standalone,!0);break;case"B":case"BB":case"BBB":t=se(X.DayPeriods,k.Abbreviated,D.Format,!0);break;case"BBBB":t=se(X.DayPeriods,k.Wide,D.Format,!0);break;case"BBBBB":t=se(X.DayPeriods,k.Narrow,D.Format,!0);break;case"h":t=oe(K.Hours,1,-12);break;case"hh":t=oe(K.Hours,2,-12);break;case"H":t=oe(K.Hours,1);break;case"HH":t=oe(K.Hours,2);break;case"m":t=oe(K.Minutes,1);break;case"mm":t=oe(K.Minutes,2);break;case"s":t=oe(K.Seconds,1);break;case"ss":t=oe(K.Seconds,2);break;case"S":t=oe(K.FractionalSeconds,1);break;case"SS":t=oe(K.FractionalSeconds,2);break;case"SSS":t=oe(K.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ue(W.Short);break;case"ZZZZZ":t=ue(W.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ue(W.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ue(W.Long);break;default:return null}return pe[e]=t,t}(e);c+=t?t(o,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function ee(e,t,n){var r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function te(e,t){var n=function(e){return(0,u.cg1)(e)[u.wAp.LocaleId]}(e);if(z[n]=z[n]||{},z[n][t])return z[n][t];var r="";switch(t){case"shortDate":r=Z(e,R.Short);break;case"mediumDate":r=Z(e,R.Medium);break;case"longDate":r=Z(e,R.Long);break;case"fullDate":r=Z(e,R.Full);break;case"shortTime":r=U(e,R.Short);break;case"mediumTime":r=U(e,R.Medium);break;case"longTime":r=U(e,R.Long);break;case"fullTime":r=U(e,R.Full);break;case"short":var i=te(e,"shortTime"),o=te(e,"shortDate");r=ne(B(e,R.Short),[i,o]);break;case"medium":var a=te(e,"mediumTime"),s=te(e,"mediumDate");r=ne(B(e,R.Medium),[a,s]);break;case"long":var l=te(e,"longTime"),c=te(e,"longDate");r=ne(B(e,R.Long),[l,c]);break;case"full":var d=te(e,"fullTime"),h=te(e,"fullDate");r=ne(B(e,R.Full),[d,h])}return r&&(z[n][t]=r),r}function ne(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),o+a}function ie(e,t){return re(e,3).substr(0,t)}function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s=ae(e,o);if((n>0||s>-n)&&(s+=n),e===K.Hours)0===s&&-12===n&&(s=12);else if(e===K.FractionalSeconds)return ie(s,t);var l=G(a,P.MinusSign);return re(s,t,l,r,i)}}function ae(e,t){switch(e){case K.FullYear:return t.getFullYear();case K.Month:return t.getMonth();case K.Date:return t.getDate();case K.Hours:return t.getHours();case K.Minutes:return t.getMinutes();case K.Seconds:return t.getSeconds();case K.FractionalSeconds:return t.getMilliseconds();case K.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return le(i,o,e,t,n,r)}}function le(e,t,n,r,o,a){switch(n){case X.Months:return L(t,o,r)[e.getMonth()];case X.Days:return F(t,o,r)[e.getDay()];case X.DayPeriods:var s=e.getHours(),l=e.getMinutes();if(a){var c=function(e){var t=(0,u.cg1)(e);return q(t),(t[u.wAp.ExtraData][2]||[]).map(function(e){return"string"==typeof e?Y(e):[Y(e[0]),Y(e[1])]})}(t),d=function(e,t,n){var r=(0,u.cg1)(e);q(r);var i=j([r[u.wAp.ExtraData][0],r[u.wAp.ExtraData][1]],t)||[];return j(i,n)||[]}(t,o,r),h=c.findIndex(function(e){if(Array.isArray(e)){var t=(0,i.Z)(e,2),n=t[0],r=t[1],o=s>=n.hours&&l>=n.minutes,a=s<r.hours||s===r.hours&&l<r.minutes;if(n.hours<r.hours){if(o&&a)return!0}else if(o||a)return!0}else if(e.hours===s&&e.minutes===l)return!0;return!1});if(-1!==h)return d[h]}return N(t,o,r)[s<12?0:1];case X.Eras:return function(e,t){return j((0,u.cg1)(e)[u.wAp.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}function ue(e){return function(t,n,r){var i=-1*r,o=G(n,P.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case W.Short:return(i>=0?"+":"")+re(a,2,o)+re(Math.abs(i%60),2,o);case W.ShortGMT:return"GMT"+(i>=0?"+":"")+re(a,1,o);case W.Long:return"GMT"+(i>=0?"+":"")+re(a,2,o)+":"+re(Math.abs(i%60),2,o);case W.Extended:return 0===r?"Z":(i>=0?"+":"")+re(a,2,o)+":"+re(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function ce(e){var t=ee(e,0,1).getDay();return ee(e,0,1+(t<=4?4:11)-t)}function de(e){return ee(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function he(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i;if(t){var o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{var s=de(n),l=ce(s.getFullYear()),u=s.getTime()-l.getTime();i=1+Math.round(u/6048e5)}return re(i,e,G(r,P.MinusSign))}}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){return re(de(n).getFullYear(),e,G(r,P.MinusSign),t)}}var pe={};function me(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ve(e){return e instanceof Date&&!isNaN(e.valueOf())}var ge=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ye=".",be="0",_e="#";function Ce(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}function Ee(e){var t,n,r,i,o,a=Math.abs(e)+"",s=0;for((n=a.indexOf(ye))>-1&&(a=a.replace(ye,"")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;a.charAt(r)===be;r++);if(r===(o=a.length))t=[0],n=1;else{for(o--;a.charAt(o)===be;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(a.charAt(r))}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{digits:t,exponent:s,integerLen:n}}function Te(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),a=o+e.integerLen,s=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(var l=a;l<r.length;l++)r[l]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var u=1;u<a;u++)r[u]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var d=0!==o,h=t+e.integerLen,f=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,d&&(0===r[n]&&n>=h?r.pop():d=!1),t>=10?1:0},0);f&&(r.unshift(f),e.integerLen++)}function we(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var Oe=(0,s.Z)(function e(){(0,l.Z)(this,e)}),xe=function(){var e=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this)).locale=e,r}return(0,s.Z)(n,[{key:"getPluralCategory",value:function(e,t){switch(H(t||this.locale)(e)){case A.Zero:return"zero";case A.One:return"one";case A.Two:return"two";case A.Few:return"few";case A.Many:return"many";default:return"other"}}}]),n}(Oe);return e.\u0275fac=function(t){return new(t||e)(u.LFG(u.soG))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e}();function Ie(e,t){t=encodeURIComponent(t);var n,o=(0,r.Z)(e.split(";"));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.indexOf("="),l=-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],u=(0,i.Z)(l,2),c=u[1];if(u[0].trim()===t)return decodeURIComponent(c)}}catch(d){o.e(d)}finally{o.f()}return null}var Me=function(){var e=function(){function e(t,n,r,i){(0,l.Z)(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return(0,s.Z)(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat((0,u.AaK)(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},e.\u0275dir=u.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),Se=function(){function e(t,n,r,i){(0,l.Z)(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return(0,s.Z)(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Ve=function(){var e=function(){function e(t,n,r){(0,l.Z)(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return(0,s.Z)(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Se(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new Ae(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var l=new Ae(e,s);n.push(l)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},e.\u0275dir=u.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),Ae=(0,s.Z)(function e(t,n){(0,l.Z)(this,e),this.record=t,this.view=n}),De=function(){var e=function(){function e(t,n){(0,l.Z)(this,e),this._viewContainer=t,this._context=new ke,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return(0,s.Z)(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Re("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Re("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.s_b),u.Y36(u.Rgc))},e.\u0275dir=u.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),ke=(0,s.Z)(function e(){(0,l.Z)(this,e),this.$implicit=null,this.ngIf=null});function Re(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat((0,u.AaK)(t),"'."))}var Pe=function(){function e(t,n){(0,l.Z)(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return(0,s.Z)(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),Ne=function(){var e=function(){function e(){(0,l.Z)(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return(0,s.Z)(e,[{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.lG2({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e}(),Fe=function(){var e=function(){function e(t,n,r){(0,l.Z)(this,e),this.ngSwitch=r,r._addCase(),this._view=new Pe(t,n)}return(0,s.Z)(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Ne,9))},e.\u0275dir=u.lG2({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e}(),Le=function(){var e=(0,s.Z)(function e(t,n,r){(0,l.Z)(this,e),r._addDefault(new Pe(t,n))});return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Ne,9))},e.\u0275dir=u.lG2({type:e,selectors:[["","ngSwitchDefault",""]]}),e}(),Ze=function(){var e=function(){function e(t){(0,l.Z)(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return(0,s.Z)(e,[{key:"ngOnChanges",value:function(e){if(e.ngTemplateOutlet){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.s_b))},e.\u0275dir=u.lG2({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.TTD]}),e}();function Ue(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat((0,u.AaK)(e),"'"))}var Be=function(){function e(){(0,l.Z)(this,e)}return(0,s.Z)(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Ge=new(function(){function e(){(0,l.Z)(this,e)}return(0,s.Z)(e,[{key:"createSubscription",value:function(e,t){return e.then(t,function(e){throw e})}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),He=new Be,qe=function(){var e=function(){function e(t){(0,l.Z)(this,e),this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return(0,s.Z)(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})}},{key:"_selectStrategy",value:function(t){if((0,u.QGY)(t))return Ge;if((0,u.F4k)(t))return He;throw Ue(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.sBO,16))},e.\u0275pipe=u.Yjl({name:"async",type:e,pure:!1}),e}(),je=function(){var e=function(){function e(){(0,l.Z)(this,e)}return(0,s.Z)(e,[{key:"transform",value:function(t){if(null==t)return null;if("string"!=typeof t)throw Ue(e,t);return t.toLowerCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=u.Yjl({name:"lowercase",type:e,pure:!0}),e}(),Ye=function(){var e=function(){function e(t){(0,l.Z)(this,e),this._locale=t}return(0,s.Z)(e,[{key:"transform",value:function(t,n,r){if(!function(e){return!(null==e||""===e||e!=e)}(t))return null;r=r||this._locale;try{return function(e,t,n){return function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",l=!1;if(isFinite(e)){var u=Ee(e);a&&(u=Ce(u));var c=t.minInt,d=t.minFrac,h=t.maxFrac;if(o){var f=o.match(ge);if(null===f)throw new Error("".concat(o," is not a valid digit info"));var p=f[1],m=f[3],v=f[5];null!=p&&(c=we(p)),null!=m&&(d=we(m)),null!=v?h=we(v):null!=m&&d>h&&(h=d)}Te(u,d,h);var g=u.digits,y=u.integerLen,b=u.exponent,_=[];for(l=g.every(function(e){return!e});y<c;y++)g.unshift(0);for(;y<0;y++)g.unshift(0);y>0?_=g.splice(y,g.length):(_=g,g=[0]);var C=[];for(g.length>=t.lgSize&&C.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)C.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&C.unshift(g.join("")),s=C.join(G(n,r)),_.length&&(s+=G(n,i)+_.join("")),b&&(s+=G(n,P.Exponential)+"+"+b)}else s=G(n,P.Infinity);return e<0&&!l?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf}(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(ye)?i.split(ye):[i.substring(0,i.lastIndexOf(be)+1),i.substring(i.lastIndexOf(be)+1)],s=a[0],l=a[1]||"";n.posPre=s.substr(0,s.indexOf(_e));for(var u=0;u<l.length;u++){var c=l.charAt(u);c===be?n.minFrac=n.maxFrac=u+1:c===_e?n.maxFrac=u+1:n.posSuf+=c}var d=s.split(",");if(n.gSize=d[1]?d[1].length:0,n.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){var h=i.length-n.posPre.length-n.posSuf.length,f=o.indexOf(_e);n.negPre=o.substr(0,f).replace(/'/g,""),n.negSuf=o.substr(f+h).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return(0,u.cg1)(e)[u.wAp.NumberFormats][t]}(t,V.Percent),G(t,P.MinusSign)),t,P.Group,P.Decimal,n,!0).replace(new RegExp("%","g"),G(t,P.PercentSign))}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}(t),r,n)}catch(i){throw Ue(e,i.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.soG,16))},e.\u0275pipe=u.Yjl({name:"percent",type:e,pure:!0}),e}(),Je=function(){var e=(0,s.Z)(function e(){(0,l.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[{provide:Oe,useClass:xe}]}),e}(),ze="browser";function Qe(e){return e===ze}var We=(0,s.Z)(function e(){(0,l.Z)(this,e)})},29063:function(e,t,n){"use strict";n.d(t,{TP:function(){return F},eN:function(){return P},JF:function(){return z},WM:function(){return y},LE:function(){return T}});var r=n(92593),i=n(88879),o=n(58977),a=n(81336),s=n(57285),l=n(98288),u=n(61511),c=n(35322),d=n(32041),h=n(82391),f=n(88196),p=n(58868),m=n(91681),v=(0,s.Z)(function e(){(0,l.Z)(this,e)}),g=(0,s.Z)(function e(){(0,l.Z)(this,e)}),y=function(){function e(t){var n=this;(0,l.Z)(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))})}:this.headers=new Map}return(0,s.Z)(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,(0,a.Z)(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),b=function(){function e(){(0,l.Z)(this,e)}return(0,s.Z)(e,[{key:"encodeKey",value:function(e){return C(e)}},{key:"encodeValue",value:function(e){return C(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function _(e,t){var n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(function(e){var r=e.indexOf("="),i=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],a=(0,o.Z)(i,2),s=a[0],l=a[1],u=n.get(s)||[];u.push(l),n.set(s,u)}),n}function C(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function E(e){return"".concat(e)}var T=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,l.Z)(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new b,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=_(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}return(0,s.Z)(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Array.isArray(r)?r.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(E(t.value)),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(E(t.value));-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}(),w=function(){function e(){(0,l.Z)(this,e),this.map=new Map}return(0,s.Z)(e,[{key:"set",value:function(e,t){return this.map.set(e,t),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"keys",value:function(){return this.map.keys()}}]),e}();function O(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function x(e){return"undefined"!=typeof Blob&&e instanceof Blob}function I(e){return"undefined"!=typeof FormData&&e instanceof FormData}var M=function(){function e(t,n,r,i){var o;if((0,l.Z)(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new y),this.context||(this.context=new w),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new T,this.urlWithParams=n}return(0,s.Z)(e,[{key:"serializeBody",value:function(){return null===this.body?null:O(this.body)||x(this.body)||I(this.body)||"string"==typeof this.body?this.body:this.body instanceof T?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||I(this.body)?null:x(this.body)?this.body.type||null:O(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof T?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,l=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,u=n.headers||this.headers,c=n.params||this.params,d=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce(function(e,t){return e.set(t,n.setHeaders[t])},u)),n.setParams&&(c=Object.keys(n.setParams).reduce(function(e,t){return e.set(t,n.setParams[t])},c)),new e(r,i,a,{params:c,headers:u,context:d,reportProgress:l,responseType:o,withCredentials:s})}}]),e}(),S=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),V=(0,s.Z)(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";(0,l.Z)(this,e),this.headers=t.headers||new y,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}),A=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.Z)(this,n),(e=t.call(this,r)).type=S.ResponseHeader,e}return(0,s.Z)(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(V),D=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.Z)(this,n),(e=t.call(this,r)).type=S.Response,e.body=void 0!==r.body?r.body:null,e}return(0,s.Z)(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(V),k=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return(0,s.Z)(n)}(V);function R(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var P=function(){var e=function(){function e(t){(0,l.Z)(this,e),this.handler=t}return(0,s.Z)(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof M)n=e;else{var o=void 0;o=i.headers instanceof y?i.headers:new y(i.headers);var a=void 0;i.params&&(a=i.params instanceof T?i.params:new T({fromObject:i.params})),n=new M(e,t,void 0!==i.body?i.body:null,{headers:o,context:i.context,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=(0,d.of)(n).pipe((0,f.b)(function(e){return r.handler.handle(e)}));if(e instanceof M||"events"===i.observe)return s;var l=s.pipe((0,p.h)(function(e){return e instanceof D}));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return l.pipe((0,m.U)(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return l.pipe((0,m.U)(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return l.pipe((0,m.U)(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return l.pipe((0,m.U)(function(e){return e.body}))}case"response":return l;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new T).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,R(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,R(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,R(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(v))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),N=function(){function e(t,n){(0,l.Z)(this,e),this.next=t,this.interceptor=n}return(0,s.Z)(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),F=new c.OlP("HTTP_INTERCEPTORS"),L=function(){var e=function(){function e(){(0,l.Z)(this,e)}return(0,s.Z)(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Z=/^\)\]\}',?\n/,U=function(){var e=function(){function e(t){(0,l.Z)(this,e),this.xhrFactory=t}return(0,s.Z)(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new h.y(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,l=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new y(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new A({headers:i,status:t,statusText:n,url:o})},u=function(){var t=l(),i=t.headers,o=t.status,a=t.statusText,s=t.url,u=null;204!==o&&(u=void 0===r.response?r.responseText:r.response),0===o&&(o=u?200:0);var c=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof u){var d=u;u=u.replace(Z,"");try{u=""!==u?JSON.parse(u):null}catch(h){u=d,c&&(c=!1,u={error:h,text:u})}}c?(n.next(new D({body:u,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new k({error:u,headers:i,status:o,statusText:a,url:s||void 0}))},c=function(e){var t=l(),i=new k({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t.url||void 0});n.error(i)},d=!1,h=function(t){d||(n.next(l()),d=!0);var i={type:S.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},f=function(e){var t={type:S.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",u),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",h),null!==a&&r.upload&&r.upload.addEventListener("progress",f)),r.send(a),n.next({type:S.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",u),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",h),null!==a&&r.upload&&r.upload.removeEventListener("progress",f)),r.readyState!==r.DONE&&r.abort()}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(u.JF))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),B=new c.OlP("XSRF_COOKIE_NAME"),G=new c.OlP("XSRF_HEADER_NAME"),H=(0,s.Z)(function e(){(0,l.Z)(this,e)}),q=function(){var e=function(){function e(t,n,r){(0,l.Z)(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return(0,s.Z)(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,u.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(u.K0),c.LFG(c.Lbi),c.LFG(B))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),j=function(){var e=function(){function e(t,n){(0,l.Z)(this,e),this.tokenService=t,this.headerName=n}return(0,s.Z)(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(H),c.LFG(G))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Y=function(){var e=function(){function e(t,n){(0,l.Z)(this,e),this.backend=t,this.injector=n,this.chain=null}return(0,s.Z)(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(F,[]);this.chain=t.reduceRight(function(e,t){return new N(e,t)},this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(g),c.LFG(c.zs3))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),J=function(){var e=function(){function e(){(0,l.Z)(this,e)}return(0,s.Z)(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:j,useClass:L}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:B,useValue:t.cookieName}:[],t.headerName?{provide:G,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[j,{provide:F,useExisting:j,multi:!0},{provide:H,useClass:q},{provide:B,useValue:"XSRF-TOKEN"},{provide:G,useValue:"X-XSRF-TOKEN"}]}),e}(),z=function(){var e=(0,s.Z)(function e(){(0,l.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[P,{provide:v,useClass:Y},U,{provide:g,useExisting:U}],imports:[[J.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}()},35322:function(e,t,n){"use strict";n.d(t,{AFp:function(){return _c},ip1:function(){return yc},CZH:function(){return bc},hGG:function(){return pd},z2F:function(){return ud},sBO:function(){return hu},_Vd:function(){return Nl},EJc:function(){return Mc},SBq:function(){return Ul},qLn:function(){return qr},vpe:function(){return Xu},gxx:function(){return jo},OlP:function(){return Tn},zs3:function(){return sa},ZZ4:function(){return ou},aQg:function(){return su},soG:function(){return Ic},h0i:function(){return _u},PXZ:function(){return nd},R0b:function(){return Zc},FiY:function(){return Yn},Lbi:function(){return wc},g9A:function(){return Tc},Qsj:function(){return Hl},FYo:function(){return Gl},JOm:function(){return Kr},Tiy:function(){return jl},q3G:function(){return Pr},WD2:function(){return Ae},Rgc:function(){return gu},dDg:function(){return Yc},GfV:function(){return Yl},s_b:function(){return Tu},ifc:function(){return z},eFA:function(){return id},G48:function(){return $c},Gpc:function(){return w},_c5:function(){return hd},VLi:function(){return zc},c2e:function(){return xc},zSh:function(){return Jo},wAp:function(){return Ms},vHH:function(){return I},EiD:function(){return kr},mCW:function(){return mr},qzn:function(){return rr},JVY:function(){return or},pB0:function(){return ur},eBb:function(){return sr},L6k:function(){return ar},LAX:function(){return lr},cg1:function(){return Os},Tjo:function(){return dd},kL8:function(){return xs},yhl:function(){return ir},dqk:function(){return $},sIi:function(){return ga},CqO:function(){return Za},QGY:function(){return Fa},F4k:function(){return La},RDi:function(){return Ze},AaK:function(){return C},z3N:function(){return nr},qOj:function(){return ua},TTD:function(){return De},_Bn:function(){return Dl},xp6:function(){return Ji},uIk:function(){return Ta},Tol:function(){return rs},Gre:function(){return ys},DjV:function(){return bs},ekj:function(){return ns},Suo:function(){return hc},Xpm:function(){return ce},lG2:function(){return ye},Yz7:function(){return D},cJS:function(){return k},oAB:function(){return me},Yjl:function(){return be},Y36:function(){return Ia},_UZ:function(){return Da},GkF:function(){return Pa},BQk:function(){return Ra},ynx:function(){return ka},qZA:function(){return Aa},TgZ:function(){return Va},EpF:function(){return Na},n5z:function(){return yn},Ikx:function(){return _s},SDv:function(){return Cl},QtT:function(){return Tl},pQV:function(){return El},LFG:function(){return Zn},$8M:function(){return _n},NdJ:function(){return Ua},CRH:function(){return fc},O4$:function(){return Rt},oxw:function(){return Ha},ALo:function(){return ju},lcZ:function(){return Yu},xi3:function(){return Ju},Dn7:function(){return zu},Hsn:function(){return Ya},F$t:function(){return ja},Q6J:function(){return Ma},s9C:function(){return Ja},MGl:function(){return za},VKq:function(){return Fu},WLB:function(){return Lu},kEZ:function(){return Zu},l5B:function(){return Uu},iGM:function(){return cc},MAs:function(){return xa},Jf7:function(){return zr},CHM:function(){return it},oJD:function(){return Nr},LSH:function(){return Fr},B6R:function(){return de},kYT:function(){return ve},Udp:function(){return ts},d8E:function(){return Cs},YNc:function(){return Oa},W1O:function(){return gc},_uU:function(){return ms},Oqu:function(){return vs},hij:function(){return gs},Gf:function(){return dc}});var r=n(36797),i=n(11708),o=n(47673);n(58977),n(77506),n(88436),n(50809),n(64908),n(43939);var a=n(75328),s=n(81336),l=n(81198),u=n(57285),c=n(98288),d=n(92593),h=n(88879),f=n(87428),p=n(76042),m=n(89666),v=n(82391),g=n(15446),y=n(27839);function b(e){for(var t in e)if(e[t]===b)return t;throw Error("Could not find renamed property on target object.")}function _(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function C(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(C).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function E(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var T=b({__forward_ref__:b});function w(e){return e.__forward_ref__=w,e.toString=function(){return C(this())},e}function O(e){return x(e)?e():e}function x(e){return"function"==typeof e&&e.hasOwnProperty(T)&&e.__forward_ref__===w}var I=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,function(e,t){var n=e?"NG0".concat(e,": "):"";return"".concat(n).concat(t)}(e,r))).code=e,i}return(0,u.Z)(n)}((0,f.Z)(Error));function M(e){return"string"==typeof e?e:null==e?"":String(e)}function S(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():M(e)}function V(e,t){var n=t?" in ".concat(t):"";throw new I("201","No provider for ".concat(S(e)," found").concat(n))}function A(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(t," <=Actual]")))}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function k(e){return{providers:e.providers||[],imports:e.imports||[]}}function R(e){return P(e,L)||P(e,U)}function P(e,t){return e.hasOwnProperty(t)?e[t]:null}function N(e){return e&&(e.hasOwnProperty(Z)||e.hasOwnProperty(B))?e[Z]:null}var F,L=b({"\u0275prov":b}),Z=b({"\u0275inj":b}),U=b({ngInjectableDef:b}),B=b({ngInjectorDef:b}),G=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function H(){return F}function q(e){var t=F;return F=e,t}function j(e,t,n){var r=R(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&G.Optional?null:void 0!==t?t:void V(C(e),"Injector")}function Y(e){return{toString:e}.toString()}var J=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),z=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),Q="undefined"!=typeof globalThis&&globalThis,W="undefined"!=typeof window&&window,K="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,X="undefined"!=typeof global&&global,$=Q||X||W||K,ee={},te=[],ne=b({"\u0275cmp":b}),re=b({"\u0275dir":b}),ie=b({"\u0275pipe":b}),oe=b({"\u0275mod":b}),ae=b({"\u0275loc":b}),se=b({"\u0275fac":b}),le=b({__NG_ELEMENT_ID__:b}),ue=0;function ce(e){return Y(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===J.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||te,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||z.Emulated,id:"c",styles:e.styles||te,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=ue++,n.inputs=ge(e.inputs,t),n.outputs=ge(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(he)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(fe)}:null,n})}function de(e,t,n){var r=e.\u0275cmp;r.directiveDefs=function(){return t.map(he)},r.pipeDefs=function(){return n.map(fe)}}function he(e){return _e(e)||function(e){return e[re]||null}(e)}function fe(e){return function(e){return e[ie]||null}(e)}var pe={};function me(e){var t={type:e.type,bootstrap:e.bootstrap||te,declarations:e.declarations||te,imports:e.imports||te,exports:e.exports||te,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&Y(function(){pe[e.id]=e.type}),t}function ve(e,t){return Y(function(){var n=Ce(e,!0);n.declarations=t.declarations||te,n.imports=t.imports||te,n.exports=t.exports||te})}function ge(e,t){if(null==e)return ee;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var ye=ce;function be(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function _e(e){return e[ne]||null}function Ce(e,t){var n=e[oe]||null;if(!n&&!0===t)throw new Error("Type ".concat(C(e)," does not have '\u0275mod' property."));return n}var Ee=20,Te=10;function we(e){return Array.isArray(e)&&"object"==typeof e[1]}function Oe(e){return Array.isArray(e)&&!0===e[1]}function xe(e){return 0!=(8&e.flags)}function Ie(e){return 2==(2&e.flags)}function Me(e){return 1==(1&e.flags)}function Se(e){return null!==e.template}function Ve(e,t){return e.hasOwnProperty(se)?e[se]:null}var Ae=function(){function e(t,n,r){(0,c.Z)(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return(0,u.Z)(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function De(){return ke}function ke(e){return e.type.prototype.ngOnChanges&&(e.setInput=Pe),Re}function Re(){var e=Ne(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===ee)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Pe(e,t,n,r){var i=Ne(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ee,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],l=a[s];o[s]=new Ae(l&&l.currentValue,t,a===ee),e[r]=t}function Ne(e){return e.__ngSimpleChanges__||null}De.ngInherit=!0;var Fe="http://www.w3.org/2000/svg",Le=void 0;function Ze(e){Le=e}function Ue(){return void 0!==Le?Le:"undefined"!=typeof document?document:void 0}function Be(e){return!!e.listen}var Ge={createRenderer:function(e,t){return Ue()}};function He(e){for(;Array.isArray(e);)e=e[0];return e}function qe(e,t){return He(t[e])}function je(e,t){return He(t[e.index])}function Ye(e,t){return e.data[t]}function Je(e,t){return e[t]}function ze(e,t){var n=t[e];return we(n)?n:n[0]}function Qe(e){return 4==(4&e[2])}function We(e){return 128==(128&e[2])}function Ke(e,t){return null==t?null:e[t]}function Xe(e){e[18]=0}function $e(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var et={lFrame:xt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function tt(){return et.bindingsEnabled}function nt(){return et.lFrame.lView}function rt(){return et.lFrame.tView}function it(e){return et.lFrame.contextLView=e,e[8]}function ot(){for(var e=at();null!==e&&64===e.type;)e=e.parent;return e}function at(){return et.lFrame.currentTNode}function st(){var e=et.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function lt(e,t){var n=et.lFrame;n.currentTNode=e,n.isParent=t}function ut(){return et.lFrame.isParent}function ct(){et.lFrame.isParent=!1}function dt(){return et.isInCheckNoChangesMode}function ht(e){et.isInCheckNoChangesMode=e}function ft(){var e=et.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function pt(){return et.lFrame.bindingIndex}function mt(){return et.lFrame.bindingIndex++}function vt(e){var t=et.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function gt(e){et.lFrame.inI18n=e}function yt(e){et.lFrame.currentDirectiveIndex=e}function bt(e){var t=et.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function _t(){return et.lFrame.currentQueryIndex}function Ct(e){et.lFrame.currentQueryIndex=e}function Et(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Tt(e,t,n){if(n&G.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&G.Host||null===(r=Et(i))||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}var o=et.lFrame=Ot();return o.currentTNode=t,o.lView=e,!0}function wt(e){var t=Ot(),n=e[1];et.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ot(){var e=et.lFrame,t=null===e?null:e.child;return null===t?xt(e):t}function xt(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function It(){var e=et.lFrame;return et.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Mt=It;function St(){var e=It();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Vt(e){return(et.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,et.lFrame.contextLView))[8]}function At(){return et.lFrame.selectedIndex}function Dt(e){et.lFrame.selectedIndex=e}function kt(){var e=et.lFrame;return Ye(e.tView,e.selectedIndex)}function Rt(){et.lFrame.currentNamespace=Fe}function Pt(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,l=i.ngAfterViewChecked,u=i.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=u&&(e.destroyHooks||(e.destroyHooks=[])).push(n,u)}}function Nt(e,t,n){Zt(e,t,3,n)}function Ft(e,t,n,r){(3&e[2])===n&&Zt(e,t,n,r)}function Lt(e,t){var n=e[2];(3&n)===t&&(n&=2047,e[2]=n+=1)}function Zt(e,t,n,r){for(var i=null!=r?r:-1,o=t.length-1,a=0,s=void 0!==r?65535&e[18]:0;s<o;s++)if("number"==typeof t[s+1]){if(a=t[s],null!=r&&a>=r)break}else t[s]<0&&(e[18]+=65536),(a<i||-1==i)&&(Ut(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Ut(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var Bt=-1,Gt=(0,u.Z)(function e(t,n,r){(0,c.Z)(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r});function Ht(e,t,n){for(var r=Be(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],l=n[i++];r?e.setAttribute(t,s,l,a):t.setAttributeNS(a,s,l)}else{var u=o,c=n[++i];jt(u)?r&&e.setProperty(t,u,c):r?e.setAttribute(t,u,c):t.setAttribute(u,c),i++}}return i}function qt(e){return 3===e||4===e||6===e}function jt(e){return 64===e.charCodeAt(0)}function Yt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Jt(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Jt(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var l=e[o];if("number"==typeof l)break;if(l===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function zt(e){return e!==Bt}function Qt(e){return 32767&e}function Wt(e,t){for(var n=e>>16,r=t;n>0;)r=r[15],n--;return r}var Kt=!0;function Xt(e){var t=Kt;return Kt=e,t}var $t=0;function en(e,t){var n=nn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,tn(r.data,e),tn(t,null),tn(r.blueprint,null));var i=rn(e,t),o=e.injectorIndex;if(zt(i))for(var a=Qt(i),s=Wt(i,t),l=s[1].data,u=0;u<8;u++)t[o+u]=s[a+u]|l[a+u];return t[o+8]=i,o}function tn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function nn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function rn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return Bt;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Bt}function on(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(le)&&(r=n[le]),null==r&&(r=n[le]=$t++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function an(e,t,n){if(n&G.Optional)return e;V(t,"NodeInjector")}function sn(e,t,n,r){if(n&G.Optional&&void 0===r&&(r=null),0==(n&(G.Self|G.Host))){var i=e[9],o=q(void 0);try{return i?i.get(t,r,n&G.Optional):j(t,r,n&G.Optional)}finally{q(o)}}return an(r,t,n)}function ln(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:G.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=pn(n);if("function"==typeof o){if(!Tt(t,e,r))return r&G.Host?an(i,n,r):sn(t,n,r,i);try{var a=o(r);if(null!=a||r&G.Optional)return a;V(n)}finally{Mt()}}else if("number"==typeof o){var s=null,l=nn(e,t),u=Bt,c=r&G.Host?t[16][6]:null;for((-1===l||r&G.SkipSelf)&&((u=-1===l?rn(e,t):t[l+8])!==Bt&&vn(r,!1)?(s=t[1],l=Qt(u),t=Wt(u,t)):l=-1);-1!==l;){var d=t[1];if(mn(o,l,d.data)){var h=dn(l,t,n,s,r,c);if(h!==un)return h}(u=t[l+8])!==Bt&&vn(r,t[1].data[l+8]===c)&&mn(o,l,t)?(s=d,l=Qt(u),t=Wt(u,t)):l=-1}}}return sn(t,n,r,i)}var un={};function cn(){return new gn(ot(),nt())}function dn(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],l=hn(s,a,n,null==r?Ie(s)&&Kt:r!=a&&0!=(3&s.type),i&G.Host&&o===s);return null!==l?fn(t,a,l,s):un}function hn(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=1048575&o,l=e.directiveStart,u=o>>20,c=i?s+u:e.directiveEnd,d=r?s:s+u;d<c;d++){var h=a[d];if(d<l&&n===h||d>=l&&h.type===n)return d}if(i){var f=a[l];if(f&&Se(f)&&f.type===n)return l}return null}function fn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof Gt){var a=i;a.resolving&&function(e,t){throw new I("200","Circular dependency in DI detected for ".concat(e).concat(""))}(S(o[n]));var s=Xt(a.canSeeViewProviders);a.resolving=!0;var l=a.injectImpl?q(a.injectImpl):null;Tt(e,r,G.Default);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnInit,o=r.ngDoCheck;if(r.ngOnChanges){var a=ke(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==l&&q(l),Xt(s),a.resolving=!1,Mt()}}return i}function pn(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(le)?e[le]:void 0;return"number"==typeof t?t>=0?255&t:cn:t}function mn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function vn(e,t){return!(e&G.Self||e&G.Host&&t)}var gn=function(){function e(t,n){(0,c.Z)(this,e),this._tNode=t,this._lView=n}return(0,u.Z)(e,[{key:"get",value:function(e,t){return ln(this._tNode,this._lView,e,void 0,t)}}]),e}();function yn(e){return Y(function(){for(var t=e.prototype.constructor,n=t[se]||bn(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[se]||bn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(e){return new e}})}function bn(e){return x(e)?function(){var t=bn(O(e));return t&&t()}:Ve(e)}function _n(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(qt(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(ot(),e)}var Cn="__parameters__";function En(e,t,n){return Y(function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=(0,l.Z)(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty(Cn)?e[Cn]:Object.defineProperty(e,Cn,{value:[]})[Cn];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Tn=function(){function e(t,n){(0,c.Z)(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return(0,u.Z)(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}();function wn(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),wn(r,t)):t!==e&&t.push(r)}return t}function On(e,t){e.forEach(function(e){return Array.isArray(e)?On(e,t):t(e)})}function xn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function In(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Mn(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function Sn(e,t,n){var r=An(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function Vn(e,t){var n=An(e,t);if(n>=0)return e[1|n]}function An(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var Dn={},kn=/\n/gm,Rn="__source",Pn=b({provide:String,useValue:b}),Nn=void 0;function Fn(e){var t=Nn;return Nn=e,t}function Ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.Default;if(void 0===Nn)throw new Error("inject() must be called from an injection context");return null===Nn?j(e,void 0,t):Nn.get(e,t&G.Optional?null:void 0,t)}function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.Default;return(H()||Ln)(O(e),t)}function Un(e){for(var t=[],n=0;n<e.length;n++){var r=O(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=G.Default,a=0;a<r.length;a++){var s=r[a],l=s.__NG_DI_FLAG__;"number"==typeof l?-1===l?i=s.token:o|=l:i=s}t.push(Zn(i,o))}else t.push(Zn(r))}return t}function Bn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}function Gn(e,t,n,r){var i=e.ngTempTokenPath;throw t[Rn]&&i.unshift(t[Rn]),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=C(t);if(Array.isArray(t))i=t.map(C).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):C(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(kn,"\n  "))}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}var Hn,qn,jn=Bn(En("Inject",function(e){return{token:e}}),-1),Yn=Bn(En("Optional"),8),Jn=Bn(En("SkipSelf"),4);function zn(e){var t;return(null===(t=function(){if(void 0===Hn&&(Hn=null,$.trustedTypes))try{Hn=$.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return Hn}())||void 0===t?void 0:t.createHTML(e))||e}function Qn(e){var t;return(null===(t=function(){if(void 0===qn&&(qn=null,$.trustedTypes))try{qn=$.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return qn}())||void 0===t?void 0:t.createHTML(e))||e}var Wn=function(){function e(t){(0,c.Z)(this,e),this.changingThisBreaksApplicationSecurity=t}return(0,u.Z)(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),e}(),Kn=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Wn),Xn=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Wn),$n=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Wn),er=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Wn),tr=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Wn);function nr(e){return e instanceof Wn?e.changingThisBreaksApplicationSecurity:e}function rr(e,t){var n=ir(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}function ir(e){return e instanceof Wn&&e.getTypeName()||null}function or(e){return new Kn(e)}function ar(e){return new Xn(e)}function sr(e){return new $n(e)}function lr(e){return new er(e)}function ur(e){return new tr(e)}function cr(e){var t=new hr(e);return function(){try{return!!(new window.DOMParser).parseFromString(zn(""),"text/html")}catch(e){return!1}}()?new dr(t):t}var dr=function(){function e(t){(0,c.Z)(this,e),this.inertDocumentHelper=t}return(0,u.Z)(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(zn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(n){return null}}}]),e}(),hr=function(){function e(t){if((0,c.Z)(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return(0,u.Z)(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=zn(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=zn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),fr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function mr(e){return(e=String(e)).match(fr)||e.match(pr)?e:"unsafe:"+e}function vr(e){return(e=String(e)).split(",").map(function(e){return mr(e.trim())}).join(", ")}function gr(e){var t,n={},r=(0,a.Z)(e.split(","));try{for(r.s();!(t=r.n()).done;)n[t.value]=!0}catch(i){r.e(i)}finally{r.f()}return n}function yr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var br,_r=gr("area,br,col,hr,img,wbr"),Cr=gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Er=gr("rp,rt"),Tr=yr(Er,Cr),wr=yr(_r,yr(Cr,gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yr(Er,gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tr),Or=gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xr=gr("srcset"),Ir=yr(Or,xr,gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mr=gr("script,style,template"),Sr=function(){function e(){(0,c.Z)(this,e),this.sanitizedSomething=!1,this.buf=[]}return(0,u.Z)(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!wr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Mr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(Ir.hasOwnProperty(a)){var s=i.value;Or[a]&&(s=mr(s)),xr[a]&&(s=vr(s)),this.buf.push(" ",o,'="',Dr(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();wr.hasOwnProperty(t)&&!_r.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Dr(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),Vr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ar=/([^\#-~ |!])/g;function Dr(e){return e.replace(/&/g,"&amp;").replace(Vr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Ar,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function kr(e,t){var n=null;try{br=br||cr(e);var r=t?String(t):"";n=br.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=br.getInertBodyElement(r)}while(r!==o);return zn((new Sr).sanitizeChildren(Rr(n)||n))}finally{if(n)for(var a=Rr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function Rr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Pr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Nr(e){var t=Lr();return t?Qn(t.sanitize(Pr.HTML,e)||""):rr(e,"HTML")?Qn(nr(e)):kr(Ue(),M(e))}function Fr(e){var t=Lr();return t?t.sanitize(Pr.URL,e)||"":rr(e,"URL")?nr(e):mr(M(e))}function Lr(){var e=nt();return e&&e[12]}function Zr(e,t){e.__ngContext__=t}function Ur(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Br(e){return e.ngDebugContext}function Gr(e){return e.ngOriginalError}function Hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var qr=function(){function e(){(0,c.Z)(this,e),this._console=console}return(0,u.Z)(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Hr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Br(e)?Br(e):this._findContext(Gr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Gr(e);t&&Gr(t);)t=Gr(t);return t}}]),e}(),jr=/^>|^->|<!--|-->|--!>|<!-$/g,Yr=/(<|>)/,Jr=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($)}();function zr(e){return e.ownerDocument.defaultView}function Qr(e){return e instanceof Function?e():e}var Wr,Kr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function Xr(e,t){return Wr(e,t)}function $r(e){var t=e[3];return Oe(t)?t[3]:t}function ei(e){return ni(e[13])}function ti(e){return ni(e[4])}function ni(e){for(;null!==e&&!Oe(e);)e=e[4];return e}function ri(e,t,n,r,i){if(null!=r){var o,a=!1;Oe(r)?o=r:we(r)&&(a=!0,r=r[0]);var s=He(r);0===e&&null!==n?null==i?mi(t,n,s):pi(t,n,s,i||null,!0):1===e&&null!==n?pi(t,n,s,i||null,!0):2===e?Ii(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==He(n)&&ri(t,e,r,o,i);for(var a=Te;a<n.length;a++){var s=n[a];Si(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function ii(e,t){return Be(e)?e.createText(t):e.createTextNode(t)}function oi(e,t,n){Be(e)?e.setValue(t,n):t.textContent=n}function ai(e,t){return e.createComment(function(e){return e.replace(jr,function(e){return e.replace(Yr,"\u200b$1\u200b")})}(t))}function si(e,t,n){return Be(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function li(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,$e(i,-1)),n.splice(r,1)}function ui(e,t){if(!(e.length<=Te)){var n,r=Te+t,i=e[r];if(i){var o=i[17];null!==o&&o!==e&&li(o,i),t>0&&(e[r-1][4]=i[4]);var a=In(e,Te+t);Si(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function ci(e,t){if(!(256&t[2])){var n=t[11];Be(n)&&n.destroyNode&&Si(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return di(e[1],e);for(;t;){var n=null;if(we(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)we(t)&&di(t[1],t),t=t[3];null===t&&(t=e),we(t)&&di(t[1],t),n=t&&t[4]}t=n}}(t)}}function di(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Gt)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2){var s=i[o[a]],l=o[a+1];try{l.call(s)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(t):He(t[a]),l=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{var c=r[i=n[o+1]];n[o].call(c)}if(null!==r){for(var d=i+1;d<r.length;d++)(0,r[d])();t[7]=null}}(e,t),1===t[1].type&&Be(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&Oe(t[3])){n!==t[3]&&li(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function hi(e,t,n){return fi(e,t.parent,n)}function fi(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===z.None||i===z.Emulated)return null}return je(r,n)}function pi(e,t,n,r,i){Be(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function mi(e,t,n){Be(e)?e.appendChild(t,n):t.appendChild(n)}function vi(e,t,n,r,i){null!==r?pi(e,t,n,r,i):mi(e,t,n)}function gi(e,t){return Be(e)?e.parentNode(t):t.parentNode}function yi(e,t,n){return Ci(e,t,n)}function bi(e,t,n){return 40&e.type?je(e,n):null}var _i,Ci=bi;function Ei(e,t){Ci=e,_i=t}function Ti(e,t,n,r){var i=hi(e,r,t),o=t[11],a=yi(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)vi(o,i,n[s],a,!1);else vi(o,i,n,a,!1);void 0!==_i&&_i(o,r,t,n,i)}function wi(e,t){if(null!==t){var n=t.type;if(3&n)return je(t,e);if(4&n)return xi(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return wi(e,r);var i=e[t.index];return Oe(i)?xi(-1,i):He(i)}if(32&n)return Xr(t,e)()||He(e[t.index]);var o=Oi(e,t);return null!==o?Array.isArray(o)?o[0]:wi($r(e[16]),o):wi(e,t.next)}return null}function Oi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function xi(e,t){var n=Te+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return wi(r,i)}return t[7]}function Ii(e,t,n){var r=gi(e,t);r&&function(e,t,n,r){Be(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function Mi(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],l=n.type;if(a&&0===t&&(s&&Zr(He(s),r),n.flags|=4),64!=(64&n.flags))if(8&l)Mi(e,t,n.child,r,i,o,!1),ri(t,e,i,s,o);else if(32&l){for(var u=Xr(n,r),c=void 0;c=u();)ri(t,e,i,c,o);ri(t,e,i,s,o)}else 16&l?Ai(e,t,r,n,i,o):ri(t,e,i,s,o);n=a?n.projectionNext:n.next}}function Si(e,t,n,r,i,o){Mi(n,r,e.firstChild,t,i,o,!1)}function Vi(e,t,n){Ai(t[11],0,t,n,hi(e,n,t),yi(n.parent||t[6],n,t))}function Ai(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var l=0;l<s.length;l++)ri(t,e,i,s[l],o);else Mi(e,t,s,a[3],i,o,!0)}function Di(e,t,n){Be(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ki(e,t,n){Be(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Ri(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Pi="ng-template";function Ni(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Ri((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Fi(e){return 4===e.type&&e.value!==Pi}function Li(e,t,n){return t===(4!==e.type||n?e.value:Pi)}function Zi(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(qt(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var l=t[s];if("number"!=typeof l){if(!a)if(4&r){if(r=2|1&r,""!==l&&!Li(e,l,n)||""===l&&1===t.length){if(Ui(r))return!1;a=!0}}else{var u=8&r?l:t[++s];if(8&r&&null!==e.attrs){if(!Ni(e.attrs,u,n)){if(Ui(r))return!1;a=!0}continue}var c=Bi(8&r?"class":l,i,Fi(e),n);if(-1===c){if(Ui(r))return!1;a=!0;continue}if(""!==u){var d;d=c>o?"":i[c+1].toLowerCase();var h=8&r?d:null;if(h&&-1!==Ri(h,u,0)||2&r&&u!==d){if(Ui(r))return!1;a=!0}}}}else{if(!a&&!Ui(r)&&!Ui(l))return!1;if(a&&Ui(l))continue;a=!1,r=l|1&r}}return Ui(r)||a}function Ui(e){return 0==(1&e)}function Bi(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Gi(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Zi(e,t[r],n))return!0;return!1}function Hi(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function qi(e,t){return e?":not("+t.trim()+")":t}function ji(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Ui(a)||(t+=qi(o,i),i=""),r=a,o=o||!Ui(r);n++}return""!==i&&(t+=qi(o,i)),t}var Yi={};function Ji(e){zi(rt(),nt(),At()+e,dt())}function zi(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Nt(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Ft(t,o,0,n)}Dt(n)}function Qi(e,t){return e<<17|t<<2}function Wi(e){return e>>17&32767}function Ki(e){return 2|e}function Xi(e){return(131068&e)>>2}function $i(e,t){return-131069&e|t<<2}function eo(e){return 1|e}function to(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r+1];if(-1!==i){var o=e.data[i];Ct(n[r]),o.contentQueries(2,t[i],i)}}}function no(e,t,n,r,i,o,a,s,l,u){var c=t.blueprint.slice();return c[0]=i,c[2]=140|r,Xe(c),c[3]=c[15]=e,c[8]=n,c[10]=a||e&&e[10],c[11]=s||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=o,c[16]=2==t.type?e[16]:c,c}function ro(e,t,n,r,i){var o=e.data[t];if(null===o)o=io(e,t,n,r,i),et.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var a=st();o.injectorIndex=null===a?-1:a.injectorIndex}return lt(o,!0),o}function io(e,t,n,r,i){var o=at(),a=ut(),s=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}function oo(e,t,n,r){if(0===n)return-1;for(var i=t.length,o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ao(e,t,n){wt(t);try{var r=e.viewQuery;null!==r&&Lo(1,r,n);var i=e.template;null!==i&&uo(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&to(e,t),e.staticViewQueries&&Lo(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)ko(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,St()}}function so(e,t,n,r){var i=t[2];if(256!=(256&i)){wt(t);var o=dt();try{Xe(t),et.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&uo(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&Nt(t,s,null)}else{var l=e.preOrderHooks;null!==l&&Ft(t,l,0,null),Lt(t,0)}if(function(e){for(var t=ei(e);null!==t;t=ti(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r];0==(1024&i[2])&&$e(i[3],1),i[2]|=1024}}(t),function(e){for(var t=ei(e);null!==t;t=ti(t))for(var n=Te;n<t.length;n++){var r=t[n],i=r[1];We(r)&&so(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&to(e,t),!o)if(a){var u=e.contentCheckHooks;null!==u&&Nt(t,u)}else{var c=e.contentHooks;null!==c&&Ft(t,c,1),Lt(t,1)}!function(e,t){var n,r,i=e.hostBindingOpCodes;if(null!==i)try{for(var o=0;o<i.length;o++){var a=i[o];if(a<0)Dt(~a);else{var s=a,l=i[++o],u=i[++o];n=s,r=void 0,(r=et.lFrame).bindingIndex=r.bindingRootIndex=l,yt(n),u(2,t[s])}}}finally{Dt(-1)}}(e,t);var d=e.components;null!==d&&function(e,t){for(var n=0;n<t.length;n++)Ao(e,t[n])}(t,d);var h=e.viewQuery;if(null!==h&&Lo(2,h,r),!o)if(a){var f=e.viewCheckHooks;null!==f&&Nt(t,f)}else{var p=e.viewHooks;null!==p&&Ft(t,p,2),Lt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,$e(t[3],-1))}finally{St()}}}function lo(e,t,n,r){var i=t[10],o=!dt(),a=Qe(t);try{o&&!a&&i.begin&&i.begin(),a&&ao(e,t,r),so(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function uo(e,t,n,r,i){var o=At(),a=2&r;try{Dt(-1),a&&t.length>Ee&&zi(e,t,Ee,dt()),n(r,i)}finally{Dt(o)}}function co(e,t,n){if(xe(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function ho(e,t,n){tt()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||en(n,t),Zr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var l=e.data[s],u=Se(l);u&&xo(t,n,l);var c=fn(t,e,s,n);Zr(c,t),null!==a&&Mo(0,s-i,c,l,0,a),u&&(ze(n.index,t)[8]=c)}}(e,t,n,je(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=et.lFrame.currentDirectiveIndex;try{Dt(o);for(var s=r;s<i;s++){var l=e.data[s],u=t[s];yt(s),null===l.hostBindings&&0===l.hostVars&&null===l.hostAttrs||Co(l,u)}}finally{Dt(-1),yt(a)}}(e,t,n))}function fo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:je,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function po(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=mo(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function mo(e,t,n,r,i,o,a,s,l,u){var c=Ee+r,d=c+i,h=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Yi);return n}(c,d),f="function"==typeof u?u():u;return h[1]={type:e,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:t,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function vo(e,t,n,r){var i=Uo(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Bo(e).push(r,i.length-1))}function go(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function yo(e,t,n,r,i,o,a,s){var l,u,c=je(t,n),d=t.inputs;!s&&null!=d&&(l=d[r])?(Ho(e,n,l,r,i),Ie(t)&&function(e,t){var n=ze(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(u=r)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,i=null!=a?a(i,t.value||"",r):i,Be(o)?o.setProperty(c,r,i):jt(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function bo(e,t,n,r){var i=!1;if(tt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Gi(n,a.selectors,!1)&&(i||(i=[]),on(en(n,t),e,a.type),Se(a)?(Eo(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){i=!0,wo(n,e.data.length,o.length);for(var s=0;s<o.length;s++){var l=o[s];l.providersResolver&&l.providersResolver(l)}for(var u=!1,c=!1,d=oo(e,t,o.length,null),h=0;h<o.length;h++){var f=o[h];n.mergedAttrs=Yt(n.mergedAttrs,f.hostAttrs),Oo(e,n,t,d,f),To(d,f,a),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128);var p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),u=!0),c||!p.ngOnChanges&&!p.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),c=!0),d++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,l=t.directiveStart;l<n;l++){var u=r[l],c=u.inputs,d=null===i||Fi(t)?null:So(c,i);o.push(d),a=go(c,l,a),s=go(u.outputs,l,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new I("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Yt(n.mergedAttrs,n.attrs),i}function _o(e,t,n,r,i,o){var a=o.hostBindings;if(a){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var l=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=l&&s.push(l),s.push(r,i,a)}}function Co(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Eo(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function To(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Se(t)&&(n[""]=e)}}function wo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Oo(e,t,n,r,i){e.data[r]=i;var o=i.factory||(i.factory=Ve(i.type)),a=new Gt(o,Se(i),null);e.blueprint[r]=a,n[r]=a,_o(e,t,0,r,oo(e,n,i.hostVars,Yi),i)}function xo(e,t,n){var r=je(t,e),i=po(n),o=e[10],a=Ro(e,no(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=a}function Io(e,t,n,r,i,o,a){if(null==o)Be(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{var s=null==a?M(o):a(o,r||"",i);Be(e)?e.setAttribute(t,i,s,n):n?t.setAttributeNS(n,i,s):t.setAttribute(i,s)}}function Mo(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,l=0;l<a.length;){var u=a[l++],c=a[l++],d=a[l++];null!==s?r.setInput(n,d,u,c):n[c]=d}}function So(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Vo(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Ao(e,t){var n=ze(t,e);if(We(n)){var r=n[1];80&n[2]?so(r,n,r.template,n[8]):n[5]>0&&Do(n)}}function Do(e){for(var t=ei(e);null!==t;t=ti(t))for(var n=Te;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];so(i,r,i.template,r[8])}else r[5]>0&&Do(r)}var o=e[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=ze(o[a],e);We(s)&&s[5]>0&&Do(s)}}function ko(e,t){var n=ze(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),ao(r,n,n[8])}function Ro(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Po(e){for(;e;){e[2]|=64;var t=$r(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function No(e,t,n){var r=t[10];r.begin&&r.begin();try{so(e,t,e.template,n)}catch(i){throw Go(t,i),i}finally{r.end&&r.end()}}function Fo(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Ur(n),i=r[1];lo(i,r,i.template,n)}}(e[8])}function Lo(e,t,n){Ct(0),t(e,n)}var Zo=function(){return Promise.resolve(null)}();function Uo(e){return e[7]||(e[7]=[])}function Bo(e){return e.cleanup||(e.cleanup=[])}function Go(e,t){var n=e[9],r=n?n.get(qr,null):null;r&&r.handleError(t)}function Ho(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],l=t[a],u=e.data[a];null!==u.setInput?u.setInput(l,i,r,s):l[s]=i}}function qo(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=E(i,s):2==o&&(r=E(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var jo=new Tn("INJECTOR",-1),Yo=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dn;if(t===Dn){var n=new Error("NullInjectorError: No provider for ".concat(C(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),Jo=new Tn("Set Injector scope."),zo={},Qo={},Wo=void 0;function Ko(){return void 0===Wo&&(Wo=new Yo),Wo}function Xo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new $o(e,n,t||Ko(),r)}var $o=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,c.Z)(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&On(n,function(e){return i.processProvider(e,t,n)}),On([t],function(e){return i.processInjectorType(e,[],a)}),this.records.set(jo,na(void 0,this));var s=this.records.get(Jo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:C(t))}return(0,u.Z)(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G.Default;this.assertNotDestroyed();var r=Fn(this);try{if(!(n&G.SkipSelf)){var i=this.records.get(e);if(void 0===i){var o=oa(e)&&R(e);i=o&&this.injectableDefInScope(o)?na(ea(e),zo):null,this.records.set(e,i)}if(null!=i)return this.hydrate(e,i)}var a=n&G.Self?Ko():this.parent;return a.get(e,t=n&G.Optional&&t===Dn?null:t)}catch(l){if("NullInjectorError"===l.name){var s=l.ngTempTokenPath=l.ngTempTokenPath||[];if(s.unshift(C(e)),r)throw l;return Gn(l,e,"R3InjectorError",this.source)}throw l}finally{Fn(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(C(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=O(e)))return!1;var i=N(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=N(o)),null==i)return!1;if(null!=i.imports&&!s){var l;n.push(a);try{On(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===l&&(l=[]),l.push(e))})}finally{}if(void 0!==l)for(var u=function(e){var t=l[e],n=t.ngModule,i=t.providers;On(i,function(e){return r.processProvider(e,n,i||te)})},c=0;c<l.length;c++)u(c)}this.injectorDefTypes.add(a);var d=Ve(a)||function(){return new a};this.records.set(a,na(d,zo));var h=i.providers;if(null!=h&&!s){var f=e;On(h,function(e){return r.processProvider(e,f,h)})}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=ia(e=O(e))?e:O(e&&e.provide),i=function(e,t,n){return ra(e)?na(void 0,e.useValue):na(ta(e),zo)}(e);if(ia(e)||!0!==e.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=na(void 0,zo,!0)).factory=function(){return Un(o.multi)},this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===zo&&(t.value=Qo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var t=O(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}]),e}();function ea(e){var t=R(e),n=null!==t?t.factory:Ve(e);if(null!==n)return n;if(e instanceof Tn)throw new Error("Token ".concat(C(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=Mn(t,"?");throw new Error("Can't resolve all parameters for ".concat(C(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[L]||e[U]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function ta(e,t,n){var r,i=void 0;if(ia(e)){var o=O(e);return Ve(o)||ea(o)}if(ra(e))i=function(){return O(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,(0,s.Z)(Un(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Zn(O(e.useExisting))};else{var a=O(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Ve(a)||ea(a);i=function(){return(0,l.Z)(a,(0,s.Z)(Un(e.deps)))}}return i}function na(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function ra(e){return null!==e&&"object"==typeof e&&Pn in e}function ia(e){return"function"==typeof e}function oa(e){return"function"==typeof e||"object"==typeof e&&e instanceof Tn}var aa=function(e,t,n){return function(e){var t=Xo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return t._resolveInjectorDefTypes(),t}({name:n},t,e,n)},sa=function(){var e=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?aa(e,t,""):aa(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Dn,e.NULL=new Yo,e.\u0275prov=D({token:e,providedIn:"any",factory:function(){return Zn(jo)}}),e.__NG_ELEMENT_ID__=-1,e}();function la(e,t){Pt(Ur(e)[1],ot())}function ua(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(Se(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=ca(e.inputs),o.declaredInputs=ca(e.declaredInputs),o.outputs=ca(e.outputs);var a=i.hostBindings;a&&fa(e,a);var s=i.viewQuery,l=i.contentQueries;if(s&&da(e,s),l&&ha(e,l),_(e.inputs,i.inputs),_(e.declaredInputs,i.declaredInputs),_(e.outputs,i.outputs),Se(i)&&i.data.animation){var u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}var c=i.features;if(c)for(var d=0;d<c.length;d++){var h=c[d];h&&h.ngInherit&&h(e),h===ua&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Yt(i.hostAttrs,n=Yt(n,i.hostAttrs))}}(r)}function ca(e){return e===ee?{}:e===te?[]:e}function da(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function ha(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function fa(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var pa=null;function ma(){if(!pa){var e=$.Symbol;if(e&&e.iterator)pa=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(pa=r)}}return pa}var va=function(){function e(t){(0,c.Z)(this,e),this.wrapped=t}return(0,u.Z)(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function ga(e){return!!ya(e)&&(Array.isArray(e)||!(e instanceof Map)&&ma()in e)}function ya(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ba(e,t,n){return e[t]=n}function _a(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ca(e,t,n,r){var i=_a(e,t,n);return _a(e,t+1,r)||i}function Ea(e,t,n,r,i,o){var a=Ca(e,t,n,r);return Ca(e,t+2,i,o)||a}function Ta(e,t,n,r){var i=nt();return _a(i,mt(),t)&&(rt(),function(e,t,n,r,i,o){var a=je(e,t);Io(t[11],a,o,e.value,n,r,i)}(kt(),i,e,t,n,r)),Ta}function wa(e,t,n,r){return _a(e,mt(),n)?t+M(n)+r:Yi}function Oa(e,t,n,r,i,o,a,s){var l=nt(),u=rt(),c=e+Ee,d=u.firstCreatePass?function(e,t,n,r,i,o,a,s,l){var u=t.consts,c=ro(t,e,4,a||null,Ke(u,s));bo(t,n,c,Ke(u,l)),Pt(t,c);var d=c.tViews=mo(2,c,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),d.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,n,r,i,o,a):u.data[c];lt(d,!1);var h=l[11].createComment("");Ti(u,l,h,d),Zr(h,l),Ro(l,l[c]=Vo(h,l,h,d)),Me(d)&&ho(u,l,d),null!=a&&fo(l,d,s)}function xa(e){return Je(et.lFrame.contextLView,Ee+e)}function Ia(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.Default,n=nt();if(null===n)return Zn(e,t);var r=ot();return ln(r,n,O(e),t)}function Ma(e,t,n){var r=nt();return _a(r,mt(),t)&&yo(rt(),kt(),r,e,t,r[11],n,!1),Ma}function Sa(e,t,n,r,i){var o=i?"class":"style";Ho(e,n,t.inputs[o],o,r)}function Va(e,t,n,r){var i=nt(),o=rt(),a=Ee+e,s=i[11],l=i[a]=si(s,t,et.lFrame.currentNamespace),u=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,l=ro(t,e,2,i,Ke(s,o));return bo(t,n,l,Ke(s,a)),null!==l.attrs&&qo(l,l.attrs,!1),null!==l.mergedAttrs&&qo(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(a,o,i,0,t,n,r):o.data[a];lt(u,!0);var c=u.mergedAttrs;null!==c&&Ht(s,l,c);var d=u.classes;null!==d&&ki(s,l,d);var h=u.styles;null!==h&&Di(s,l,h),64!=(64&u.flags)&&Ti(o,i,l,u),0===et.lFrame.elementDepthCount&&Zr(l,i),et.lFrame.elementDepthCount++,Me(u)&&(ho(o,i,u),co(o,u,i)),null!==r&&fo(i,u)}function Aa(){var e=ot();ut()?ct():lt(e=e.parent,!1);var t=e;et.lFrame.elementDepthCount--;var n=rt();n.firstCreatePass&&(Pt(n,e),xe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Sa(n,t,nt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Sa(n,t,nt(),t.stylesWithoutHost,!1)}function Da(e,t,n,r){Va(e,t,n,r),Aa()}function ka(e,t,n){var r=nt(),i=rt(),o=e+Ee,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=Ke(o,r),s=ro(t,e,8,"ng-container",a);return null!==a&&qo(s,a,!0),bo(t,n,s,Ke(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(o,i,r,t,n):i.data[o];lt(a,!0);var s=r[o]=r[11].createComment("");Ti(i,r,s,a),Zr(s,r),Me(a)&&(ho(i,r,a),co(i,a,r)),null!=n&&fo(r,a)}function Ra(){var e=ot(),t=rt();ut()?ct():lt(e=e.parent,!1),t.firstCreatePass&&(Pt(t,e),xe(e)&&t.queries.elementEnd(e))}function Pa(e,t,n){ka(e,t,n),Ra()}function Na(){return nt()}function Fa(e){return!!e&&"function"==typeof e.then}function La(e){return!!e&&"function"==typeof e.subscribe}var Za=La;function Ua(e,t,n,r){var i=nt(),o=rt(),a=ot();return function(e,t,n,r,i,o,a,s){var l=Me(r),u=e.firstCreatePass&&Bo(e),c=Uo(t),d=!0;if(3&r.type||s){var h=je(r,t),f=s?s(h):h,p=c.length,m=s?function(e){return s(He(e[r.index]))}:r.index;if(Be(n)){var v=null;if(!s&&l&&(v=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],l=i[o+2];return s.length>l?s[l]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,d=!1;else{o=Ga(r,t,0,o,!1);var g=n.listen(f,i,o);c.push(o,g),u&&u.push(i,m,p,p+1)}}else o=Ga(r,t,0,o,!0),f.addEventListener(i,o,a),c.push(o),u&&u.push(i,m,p,a)}else o=Ga(r,t,0,o,!1);var y,b=r.outputs;if(d&&null!==b&&(y=b[i])){var _=y.length;if(_)for(var C=0;C<_;C+=2){var E=t[y[C]][y[C+1]].subscribe(o),T=c.length;c.push(o,E),u&&u.push(i,r.index,T,-(T+1))}}}(o,i,i[11],a,e,t,!!n,r),Ua}function Ba(e,t,n,r){try{return!1!==n(r)}catch(i){return Go(e,i),!1}}function Ga(e,t,n,r,i){return function n(o){if(o===Function)return r;var a=2&e.flags?ze(e.index,t):t;0==(32&t[2])&&Po(a);for(var s=Ba(t,0,r,o),l=n.__ngNextListenerFn__;l;)s=Ba(t,0,l,o)&&s,l=l.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Vt(e)}function qa(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?Gi(e,o,!0):Hi(r,o))return i}else n=i}return n}function ja(e){var t=nt()[16][6];if(!t.projection)for(var n=t.projection=Mn(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?qa(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function Ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=nt(),i=rt(),o=ro(i,Ee+e,16,null,n||null);null===o.projection&&(o.projection=t),ct(),64!=(64&o.flags)&&Vi(i,r,o)}function Ja(e,t,n){return za(e,"",t,"",n),Ja}function za(e,t,n,r,i){var o=nt(),a=wa(o,t,n,r);return a!==Yi&&yo(rt(),kt(),o,e,a,o[11],i,!1),za}function Qa(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Wi(o):Xi(o),l=!1;0!==s&&(!1===l||a);){var u=e[s+1];Wa(e[s],t)&&(l=!0,e[s+1]=r?eo(u):Ki(u)),s=r?Wi(u):Xi(u)}l&&(e[n+1]=r?Ki(o):eo(o))}function Wa(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&An(e,t)>=0}var Ka={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xa(e){return e.substring(Ka.key,Ka.keyEnd)}function $a(e,t){var n=Ka.textEnd;return n===t?-1:(t=Ka.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Ka.key=t,n),es(e,t,n))}function es(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function ts(e,t,n){return os(e,t,n,!1),ts}function ns(e,t){return os(e,t,null,!0),ns}function rs(e){as(Sn,is,e,!0)}function is(e,t){for(var n=function(e){return function(e){Ka.key=0,Ka.keyEnd=0,Ka.value=0,Ka.valueEnd=0,Ka.textEnd=e.length}(e),$a(e,es(e,0,Ka.textEnd))}(t);n>=0;n=$a(t,n))Sn(e,Xa(t),!0)}function os(e,t,n,r){var i=nt(),o=rt(),a=vt(2);o.firstUpdatePass&&ls(o,e,a,r),t!==Yi&&_a(i,a,t)&&ds(o,o.data[At()],i,i[11],e,i[a+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=C(nr(e)))),e}(t,n),r,a)}function as(e,t,n,r){var i=rt(),o=vt(2);i.firstUpdatePass&&ls(i,null,o,r);var a=nt();if(n!==Yi&&_a(a,o,n)){var s=i.data[At()];if(ps(s,r)&&!ss(i,o)){var l=r?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(n=E(l,n||"")),Sa(i,s,a,n,r)}else!function(e,t,n,r,i,o,a,s){i===Yi&&(i=te);for(var l=0,u=0,c=0<i.length?i[0]:null,d=0<o.length?o[0]:null;null!==c||null!==d;){var h=l<i.length?i[l+1]:void 0,f=u<o.length?o[u+1]:void 0,p=null,m=void 0;c===d?(l+=2,u+=2,h!==f&&(p=d,m=f)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,m=f),null!==p&&ds(e,t,n,r,p,m,a,s),c=l<i.length?i[l]:null,d=u<o.length?o[u]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return te;var r=[],i=nr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function ss(e,t){return t>=e.expandoStartIndex}function ls(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[At()],a=ss(e,n);ps(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=bt(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=cs(n=us(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=us(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Xi(r))return e[Wi(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Wi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=cs(s=us(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=cs(r,e[o].hostAttrs,n);return cs(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Wi(a),l=Xi(a);e[r]=n;var u,c=!1;if(Array.isArray(n)?(null===(u=n[1])||An(n,u)>0)&&(c=!0):u=n,i)if(0!==l){var d=Wi(e[s+1]);e[r+1]=Qi(d,s),0!==d&&(e[d+1]=$i(e[d+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=Qi(s,0),0!==s&&(e[s+1]=$i(e[s+1],r)),s=r;else e[r+1]=Qi(l,0),0===s?s=r:e[l+1]=$i(e[l+1],r),l=r;c&&(e[r+1]=Ki(e[r+1])),Qa(e,u,r,!0),Qa(e,u,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&An(o,t)>=0&&(n[r+1]=eo(n[r+1]))}(t,u,e,r,o),a=Qi(s,l),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function us(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=cs(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function cs(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Sn(e,a,!!n||t[++o]))}return void 0===e?null:e}function ds(e,t,n,r,i,o,a,s){if(3&t.type){var l=e.data,u=l[s+1];fs(1==(1&u)?hs(l,t,n,i,Xi(u),a):void 0)||(fs(o)||2==(2&u)&&(o=hs(l,null,n,i,s,a)),function(e,t,n,r,i){var o=Be(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Kr.DashCase;if(null==i)o?e.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Kr.Important),o?e.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,qe(At(),n),i,o))}}function hs(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c,h=n[i+1];h===Yi&&(h=d?te:void 0);var f=d?Vn(h,r):c===r?h:void 0;if(u&&!fs(f)&&(f=Vn(l,r)),fs(f)&&(s=f,a))return s;var p=e[i+1];i=a?Wi(p):Xi(p)}if(null!==t){var m=o?t.residualClasses:t.residualStyles;null!=m&&(s=Vn(m,r))}return s}function fs(e){return void 0!==e}function ps(e,t){return 0!=(e.flags&(t?16:32))}function ms(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=nt(),r=rt(),i=e+Ee,o=r.firstCreatePass?ro(r,i,1,t,null):r.data[i],a=n[i]=ii(n[11],t);Ti(r,n,a,o),lt(o,!1)}function vs(e){return gs("",e,""),vs}function gs(e,t,n){var r=nt(),i=wa(r,e,t,n);return i!==Yi&&function(e,t,n){var r=qe(t,e);oi(e[11],r,n)}(r,At(),i),gs}function ys(e,t,n){as(Sn,is,wa(nt(),e,t,n),!0)}function bs(e,t,n,r,i,o,a,s,l){as(Sn,is,function(e,t,n,r,i,o,a,s,l,u){var c=Ea(e,pt(),n,i,a,l);return vt(4),c?t+M(n)+r+M(i)+o+M(a)+s+M(l)+u:Yi}(nt(),e,t,n,r,i,o,a,s,l),!0)}function _s(e,t,n){var r=nt();return _a(r,mt(),t)&&yo(rt(),kt(),r,e,t,r[11],n,!0),_s}function Cs(e,t,n){var r=nt();if(_a(r,mt(),t)){var i=rt(),o=kt();yo(i,o,r,e,t,function(e,t,n){return(null===e||Se(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}(bt(i.data),o,r),n,!0)}return Cs}var Es=void 0,Ts=["en",[["a","p"],["AM","PM"],Es],[["AM","PM"],Es,Es],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Es,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Es,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Es,"{1} 'at' {0}",Es],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],ws={};function Os(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Is(t);if(n)return n;var r=t.split("-")[0];if(n=Is(r))return n;if("en"===r)return Ts;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function xs(e){return Os(e)[Ms.PluralCase]}function Is(e){return e in ws||(ws[e]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[e]),ws[e]}var Ms=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({}),Ss=["zero","one","two","few","many"],Vs="en-US",As={marker:"element"},Ds={marker:"ICU"},ks=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}({}),Rs=Vs;function Ps(e){var t;null==(t=e)&&A("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(Rs=e.toLowerCase().replace(/_/g,"-"))}function Ns(e,t,n){var r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?bi(e,0,n):He(n[i])}function Fs(e,t,n,r,i){var o=t.insertBeforeIndex;if(Array.isArray(o)){var a=r,s=null;if(3&t.type||(s=a,a=i),null!==a&&0==(2&t.flags))for(var l=1;l<o.length;l++)pi(e,a,n[o[l]],s,!1)}}function Ls(e,t){if(e.push(t),e.length>1)for(var n=e.length-2;n>=0;n--){var r=e[n];Zs(r)||Us(r,t)&&null===(i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&Bs(r,t.index)}var i}function Zs(e){return!(64&e.type)}function Us(e,t){return Zs(t)||e.index>t.index}function Bs(e,t){var n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Ei(Ns,Fs),e.insertBeforeIndex=t)}function Gs(e,t){var n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Hs(e,t,n){var r=io(e,n,64,null,null);return Ls(t,r),r}function qs(e,t){var n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var js=0,Ys=0;function Js(e,t,n,r){for(var i=e[11],o=0;o<t.length;o++){var a=t[o++],s=t[o],l=(a&ks.APPEND_EAGERLY)===ks.APPEND_EAGERLY,u=a>>>ks.SHIFT,c=e[u];null===c&&(c=e[u]=(a&ks.COMMENT)===ks.COMMENT?i.createComment(s):ii(i,s)),l&&null!==n&&pi(i,n,c,r,!1)}}function zs(e,t,n,r){for(var i,o=n[11],a=null,s=0;s<t.length;s++){var l=t[s];if("string"==typeof l){var u=t[++s];null===n[u]&&(n[u]=ii(o,l))}else if("number"==typeof l)switch(1&l){case 0:var c=l>>>17;null===a&&(a=c,i=gi(o,r));var d=void 0,h=void 0;if(c===a?(d=r,h=i):(d=null,h=He(n[c])),null!==h){var f=(131070&l)>>>1;pi(o,h,n[f],d,!1);var p=Gs(e,f);if(null!==p&&"object"==typeof p){var m=qs(p,n);null!==m&&zs(e,p.create[m],n,n[p.anchorIdx])}}break;case 1:var v=t[++s],g=t[++s];Io(o,qe(l>>>1,n),null,null,v,g,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(l,'"'))}else switch(l){case Ds:var y=t[++s],b=t[++s];null===n[b]&&Zr(n[b]=ai(o,y),n);break;case As:var _=t[++s],C=t[++s];null===n[C]&&Zr(n[C]=si(o,_,null),n)}}}function Qs(e,t,n,r,i){for(var o=0;o<n.length;o++){var a=n[o],s=n[++o];if(a&i)for(var l="",u=o+1;u<=o+s;u++){var c=n[u];if("string"==typeof c)l+=c;else if("number"==typeof c)if(c<0)l+=M(t[r-c]);else{var d=c>>>2;switch(3&c){case 1:var h=n[++u],f=n[++u],p=e.data[d];"string"==typeof p?Io(t[11],t[d],null,p,h,l,f):yo(e,p,t,h,l,t[11],f,!1);break;case 0:var m=t[d];null!==m&&oi(t[11],m,l);break;case 2:Ks(e,Gs(e,d),t,l);break;case 3:Ws(e,Gs(e,d),r,t)}}}else{var v=n[o+1];if(v>0&&3==(3&v)){var g=Gs(e,v>>>2);t[g.currentCaseLViewIndex]<0&&Ws(e,g,r,t)}}o+=s}}function Ws(e,t,n,r){var i=r[t.currentCaseLViewIndex];if(null!==i){var o=js;i<0&&(i=r[t.currentCaseLViewIndex]=~i,o=-1),Qs(e,r,t.update[i],n,o)}}function Ks(e,t,n,r){var i=function(e,t){var n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:var r=function(e,t){var n=xs(t)(parseInt(e,10)),r=Ss[n];return void 0!==r?r:"other"}(t,Rs);-1===(n=e.cases.indexOf(r))&&"other"!==r&&(n=e.cases.indexOf("other"));break;case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(qs(t,n)!==i&&(Xs(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var o=n[t.anchorIdx];o&&zs(e,t.create[i],n,o)}}function Xs(e,t,n){var r=qs(t,n);if(null!==r)for(var i=t.remove[r],o=0;o<i.length;o++){var a=i[o];if(a>0){var s=qe(a,n);null!==s&&Ii(n[11],s)}else Xs(e,Gs(e,~a),n)}}var $s=/\ufffd(\d+):?\d*\ufffd/gi,el=/\ufffd(\d+)\ufffd/,tl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,nl="\ufffd",rl=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,il=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ol=/\uE500/g;function al(e,t,n,r,i,o){for(var a=st(),s=[],l=[],u=[[]],c=function(e){return e.replace(ol," ")}(i=function(e,t){if(function(e){return-1===e}(t))return dl(e);var n=e.indexOf(":".concat(t).concat(nl))+2+t.toString().length,r=e.search(new RegExp("".concat(nl,"\\/\\*\\d+:").concat(t).concat(nl)));return dl(e.substring(n,r))}(i,o)).split(il),d=0;d<c.length;d++){var h=c[d];if(0==(1&d))for(var f=pl(h),p=0;p<f.length;p++){var m=f[p];if(0==(1&p))""!==m&&ll(e,a,u[0],s,l,n,m);else{var v=m;if("object"!=typeof v)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));hl(e,n,l,t,v,sl(e,a,u[0],n,s,"",!0).index)}}else{var g=47===h.charCodeAt(0),y=(h.charCodeAt(g?1:0),Ee+Number.parseInt(h.substring(g?2:1)));if(g)u.shift(),lt(st(),!1);else{var b=Hs(e,u[0],y);u.unshift([]),lt(b,!0)}}}e.data[r]={create:s,update:l}}function sl(e,t,n,r,i,o,a){var s=oo(e,r,1,null),l=s<<ks.SHIFT,u=st();t===u&&(u=null),null===u&&(l|=ks.APPEND_EAGERLY),a&&(l|=ks.COMMENT,void 0===Wr&&(Wr=function(){var e,t,n=[],r=-1;function i(e,n){r=0;var i=qs(e,n);t=null!==i?e.remove[i]:te}function o(){if(r<t.length){var a=t[r++];return a>0?e[a]:(n.push(r,t),i(e[1].data[~a],e),o())}return 0===n.length?null:(t=n.pop(),r=n.pop(),o())}return function(t,r){for(e=r;n.length;)n.pop();return i(t.value,r),o}}())),i.push(l,null===o?"":o);var c=io(e,s,a?32:1,null===o?"":o,null);Ls(n,c);var d=c.index;return lt(c,!1),null!==u&&t!==u&&function(e,t){var n,r=e.insertBeforeIndex;null===r?(Ei(Ns,Fs),r=e.insertBeforeIndex=[null,t]):("Expecting array here",(n=Array.isArray(r))!=!0&&A("Expecting array here",n,true,"=="),r.push(t))}(u,d),c}function ll(e,t,n,r,i,o,a){var s=a.match($s),l=sl(e,t,n,o,r,s?null:a,!1);s&&ul(i,a,l.index,null,0,null)}function ul(e,t,n,r,i,o){var a=e.length,s=a+1;e.push(null,null);for(var l=a+2,u=t.split($s),c=0,d=0;d<u.length;d++){var h=u[d];if(1&d){var f=i+parseInt(h,10);e.push(-1-f),c|=cl(f)}else""!==h&&e.push(h)}return e.push(n<<2|(r?1:0)),r&&e.push(r,o),e[a]=c,e[s]=e.length-l,c}function cl(e){return 1<<Math.min(e,31)}function dl(e){for(var t,n,r="",i=0,o=!1;null!==(t=rl.exec(e));)o?t[0]==="".concat(nl,"/*").concat(n).concat(nl)&&(i=t.index,o=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],o=!0);return r+e.substr(i)}function hl(e,t,n,r,i,o){var a=0,s={type:i.type,currentCaseLViewIndex:oo(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(cl(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,o),function(e,t,n){var r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,o,s);for(var l=i.values,u=0;u<l.length;u++){for(var c=l[u],d=[],h=0;h<c.length;h++){var f=c[h];if("string"!=typeof f){var p=d.push(f)-1;c[h]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}a=ml(e,s,t,n,r,i.cases[u],c.join(""),d)|a}a&&function(e,t,n){e.push(t,1,n<<2|3)}(n,a,o)}function fl(e){for(var t=[],n=[],r=1,i=0,o=pl(e=e.replace(tl,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&t.push(s);var l=pl(o[a++]);t.length>n.length&&n.push(l)}return{type:r,mainBinding:i,cases:t,values:n}}function pl(e){if(!e)return[];var t,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;t=o.exec(e);){var a=t.index;if("}"==t[0]){if(r.pop(),0==r.length){var s=e.substring(n,a);tl.test(s)?i.push(fl(s)):i.push(s),n=a+1}}else{if(0==r.length){var l=e.substring(n,a);i.push(l),n=a+1}r.push("{")}}var u=e.substring(n);return i.push(u),i}function ml(e,t,n,r,i,o,a,s){var l=[],u=[],c=[];t.cases.push(o),t.create.push(l),t.remove.push(u),t.update.push(c);var d=cr(Ue()).getInertBodyElement(a),h=Rr(d)||d;return h?vl(e,t,n,r,l,u,c,h,i,s,0):0}function vl(e,t,n,r,i,o,a,s,l,u,c){for(var d=0,h=s.firstChild;h;){var f=oo(e,n,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:var p=h,m=p.tagName.toLowerCase();if(wr.hasOwnProperty(m)){bl(i,As,m,l,f),e.data[f]=m;for(var v=p.attributes,g=0;g<v.length;g++){var y=v.item(g),b=y.name.toLowerCase();y.value.match($s)?Ir.hasOwnProperty(b)&&ul(a,y.value,f,y.name,0,Or[b]?mr:xr[b]?vr:null):_l(i,f,y)}d=vl(e,t,n,r,i,o,a,h,f,u,c+1)|d,gl(o,f,c)}break;case Node.TEXT_NODE:var _=h.textContent||"",C=_.match($s);bl(i,null,C?"":_,l,f),gl(o,f,c),C&&(d=ul(a,_,f,null,0,null)|d);break;case Node.COMMENT_NODE:var E=el.exec(h.textContent||"");if(E){var T=u[parseInt(E[1],10)];bl(i,Ds,"",l,f),hl(e,n,r,l,T,f),yl(o,f,c)}}h=h.nextSibling}return d}function gl(e,t,n){0===n&&e.push(t)}function yl(e,t,n){0===n&&(e.push(~t),e.push(t))}function bl(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function _l(e,t,n){e.push(t<<1|1,n.name,n.value)}function Cl(e,t,n){(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=rt(),i=nt(),o=Ee+e,a=Ke(r.consts,t),s=st();r.firstCreatePass&&al(r,null===s?0:s.index,i,o,a,n);var l=r.data[o],u=fi(r,s===i[6]?null:s,i);Js(i,l.create,u,s&&8&s.type?i[s.index]:null),gt(!0)})(e,t,n),gt(!1)}function El(e){return _a(nt(),mt(),e)&&(js|=1<<Math.min(Ys,31)),Ys++,El}function Tl(e){!function(e,t,n){if(Ys>0){var r=e.data[n];Qs(e,t,Array.isArray(r)?r:r.update,pt()-Ys-1,js)}js=0,Ys=0}(rt(),nt(),e+Ee)}function wl(e,t,n){var r=rt();if(r.firstCreatePass){var i=Se(e);Ol(n,r.data,r.blueprint,i,!0),Ol(t,r.data,r.blueprint,i,!1)}}function Ol(e,t,n,r,i){if(e=O(e),Array.isArray(e))for(var o=0;o<e.length;o++)Ol(e[o],t,n,r,i);else{var a=rt(),s=nt(),l=ia(e)?e:O(e.provide),u=ta(e),c=ot(),d=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(ia(e)||!e.multi){var p=new Gt(u,i,Ia),m=Ml(l,t,i?d:d+f,h);-1===m?(on(en(c,s),a,l),xl(a,e,t.length),t.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(p),s.push(p)):(n[m]=p,s[m]=p)}else{var v=Ml(l,t,d+f,h),g=Ml(l,t,d,d+f),y=g>=0&&n[g];if(i&&!y||!i&&!(v>=0&&n[v])){on(en(c,s),a,l);var b=function(e,t,n,r,i){var o=new Gt(e,n,Ia);return o.multi=[],o.index=t,o.componentProviders=0,Il(o,i,r&&!n),o}(i?Vl:Sl,n.length,i,r,u);!i&&y&&(n[g].providerFactory=b),xl(a,e,t.length,0),t.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(b),s.push(b)}else xl(a,e,v>-1?v:g,Il(n[i?g:v],u,!i&&r));!i&&r&&y&&n[g].componentProviders++}}}function xl(e,t,n,r){var i=ia(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Il(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ml(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function Sl(e,t,n,r){return Al(this.multi,[])}function Vl(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=fn(n,n[1],this.providerFactory.index,r);Al(o,i=s.slice(0,a));for(var l=a;l<s.length;l++)i.push(s[l])}else Al(o,i=[]);return i}function Al(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Dl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return wl(n,r?r(e):e,t)}}}var kl=(0,u.Z)(function e(){(0,c.Z)(this,e)}),Rl=(0,u.Z)(function e(){(0,c.Z)(this,e)}),Pl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(C(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Nl=function(){var e=(0,u.Z)(function e(){(0,c.Z)(this,e)});return e.NULL=new Pl,e}();function Fl(){}function Ll(e,t){return new Ul(je(e,t))}var Zl=function(){return Ll(ot(),nt())},Ul=function(){var e=(0,u.Z)(function e(t){(0,c.Z)(this,e),this.nativeElement=t});return e.__NG_ELEMENT_ID__=Zl,e}();function Bl(e){return e instanceof Ul?e.nativeElement:e}var Gl=(0,u.Z)(function e(){(0,c.Z)(this,e)}),Hl=function(){var e=(0,u.Z)(function e(){(0,c.Z)(this,e)});return e.__NG_ELEMENT_ID__=function(){return ql()},e}(),ql=function(){var e=nt(),t=ze(ot().index,e);return function(e){return e[11]}(we(t)?t:e)},jl=function(){var e=(0,u.Z)(function e(){(0,c.Z)(this,e)});return e.\u0275prov=D({token:e,providedIn:"root",factory:function(){return null}}),e}(),Yl=(0,u.Z)(function e(t){(0,c.Z)(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}),Jl=new Yl("12.0.2"),zl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"supports",value:function(e){return ga(e)}},{key:"create",value:function(e){return new Wl(e)}}]),e}(),Ql=function(e,t){return t},Wl=function(){function e(t){(0,c.Z)(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ql}return(0,u.Z)(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<eu(n,r,i)?t:n,a=eu(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var l=a-r,u=s-r;if(l!=u){for(var c=0;c<l;c++){var d=c<i.length?i[c]:i[c]=0,h=d+c;u<=h&&h<l&&(i[c]=d+1)}i[o.previousIndex]=u-l}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!ga(e))throw new Error("Error trying to diff '".concat(C(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=e[s]),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[ma()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Kl(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new $l),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $l),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Kl=(0,u.Z)(function e(t,n){(0,c.Z)(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),Xl=function(){function e(){(0,c.Z)(this,e),this._head=null,this._tail=null}return(0,u.Z)(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),$l=function(){function e(){(0,c.Z)(this,e),this.map=new Map}return(0,u.Z)(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Xl,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function eu(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var tu=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"supports",value:function(e){return e instanceof Map||ya(e)}},{key:"create",value:function(){return new nu}}]),e}(),nu=function(){function e(){(0,c.Z)(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return(0,u.Z)(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||ya(e)))throw new Error("Error trying to diff '".concat(C(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ru(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),ru=(0,u.Z)(function e(t){(0,c.Z)(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function iu(){return new ou([new zl])}var ou=function(){var e=function(){function e(t){(0,c.Z)(this,e),this.factories=t}return(0,u.Z)(e,[{key:"find",value:function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||iu())},deps:[[e,new Jn,new Yn]]}}}]),e}();return e.\u0275prov=D({token:e,providedIn:"root",factory:iu}),e}();function au(){return new su([new tu])}var su=function(){var e=function(){function e(t){(0,c.Z)(this,e),this.factories=t}return(0,u.Z)(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||au())},deps:[[e,new Jn,new Yn]]}}}]),e}();return e.\u0275prov=D({token:e,providedIn:"root",factory:au}),e}();function lu(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=t[n.index];if(null!==o&&r.push(He(o)),Oe(o))for(var a=Te;a<o.length;a++){var l=o[a],u=l[1].firstChild;null!==u&&lu(l[1],l,u,r)}var c=n.type;if(8&c)lu(e,t,n.child,r);else if(32&c)for(var d=Xr(n,t),h=void 0;h=d();)r.push(h);else if(16&c){var f=Oi(t,n);if(Array.isArray(f))r.push.apply(r,(0,s.Z)(f));else{var p=$r(t[16]);lu(p[1],p,f,r,!0)}}n=i?n.projectionNext:n.next}return r}var uu=function(){function e(t,n){(0,c.Z)(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return(0,u.Z)(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return lu(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(Oe(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(ui(e,n),In(t,n))}this._attachedToViewContainer=!1}ci(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){vo(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){Po(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){No(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){ht(!0);try{No(e,t,n)}finally{ht(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Si(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),cu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e))._view=e,r}return(0,u.Z)(n,[{key:"detectChanges",value:function(){Fo(this._view)}},{key:"checkNoChanges",value:function(){!function(e){ht(!0);try{Fo(e)}finally{ht(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(uu),du=function(e){return function(e,t,n){if(Ie(e)&&!n){var r=ze(e.index,t);return new uu(r,r)}return 47&e.type?new uu(t[16],t):null}(ot(),nt(),16==(16&e))},hu=function(){var e=(0,u.Z)(function e(){(0,c.Z)(this,e)});return e.__NG_ELEMENT_ID__=du,e}(),fu=[new tu],pu=new ou([new zl]),mu=new su(fu),vu=function(){return bu(ot(),nt())},gu=function(){var e=(0,u.Z)(function e(){(0,c.Z)(this,e)});return e.__NG_ELEMENT_ID__=vu,e}(),yu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var o;return(0,c.Z)(this,n),(o=t.call(this))._declarationLView=e,o._declarationTContainer=r,o.elementRef=i,o}return(0,u.Z)(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=no(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),ao(t,n,e),new uu(n)}}]),n}(gu);function bu(e,t){return 4&e.type?new yu(t,e,Ll(e,t)):null}var _u=(0,u.Z)(function e(){(0,c.Z)(this,e)}),Cu=(0,u.Z)(function e(){(0,c.Z)(this,e)}),Eu=function(){return Iu(ot(),nt())},Tu=function(){var e=(0,u.Z)(function e(){(0,c.Z)(this,e)});return e.__NG_ELEMENT_ID__=Eu,e}(),wu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var o;return(0,c.Z)(this,n),(o=t.call(this))._lContainer=e,o._hostTNode=r,o._hostLView=i,o}return(0,u.Z)(n,[{key:"element",get:function(){return Ll(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new gn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=rn(this._hostTNode,this._hostLView);if(zt(e)){var t=Wt(e,this._hostLView),n=Qt(e);return new gn(t[1].data[n+8],t)}return new gn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=Ou(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-Te}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(_u,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(Oe(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new wu(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t),l=this._lContainer;!function(e,t,n,r){var i=Te+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-Te?(t[4]=n[i],xn(n,Te+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,l,s);var u=xi(s,l),c=n[11],d=gi(c,l[7]);return null!==d&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,Si(e,r,n,1,i,o)}(r,l[6],c,n,d,u),e.attachToViewContainerRef(),xn(xu(l),s,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=Ou(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=ui(this._lContainer,t);n&&(In(xu(this._lContainer),t),ci(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=ui(this._lContainer,t);return n&&null!=In(xu(this._lContainer),t)?new uu(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(Tu);function Ou(e){return e[8]}function xu(e){return e[8]||(e[8]=[])}function Iu(e,t){var n,r=t[e.index];if(Oe(r))n=r;else{var i;if(8&e.type)i=He(r);else{var o=t[11];i=o.createComment("");var a=je(e,t);pi(o,gi(o,a),i,function(e,t){return Be(e)?e.nextSibling(t):t.nextSibling}(o,a),!1)}t[e.index]=n=Vo(r,t,i,e),Ro(t,n)}return new wu(n,e,t)}var Mu={},Su=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).ngModule=e,r}return(0,u.Z)(n,[{key:"resolveComponentFactory",value:function(e){var t=_e(e);return new Du(t,this.ngModule)}}]),n}(Nl);function Vu(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Au=new Tn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Jr}}),Du=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(ji).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return(0,u.Z)(n,[{key:"inputs",get:function(){return Vu(this.componentDef.inputs)}},{key:"outputs",get:function(){return Vu(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,Mu,i);return o!==Mu||r===Mu?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(Gl,Ge),l=a.get(jl,null),u=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=n?function(e,t,n){if(Be(e))return e.selectRootElement(t,n===z.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(u,n,this.componentDef.encapsulation):si(s.createRenderer(null,this.componentDef),c,function(e){var t=e.toLowerCase();return"svg"===t?Fe:"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),h=this.componentDef.onPush?576:528,f={components:[],scheduler:Jr,clean:Zo,playerHandler:null,flags:0},p=mo(0,null,null,1,0,null,null,null,null,null),m=no(null,p,f,h,null,null,s,u,l,a);wt(m);try{var v=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=ro(a,20,2,"#host",null),l=s.mergedAttrs=t.hostAttrs;null!==l&&(qo(s,l,!0),null!==e&&(Ht(i,e,l),null!==s.classes&&ki(i,e,s.classes),null!==s.styles&&Di(i,e,s.styles)));var u=r.createRenderer(e,t),c=no(n,po(t),null,t.onPush?64:16,n[20],s,r,u,null,null);return a.firstCreatePass&&(on(en(s,n),a,t.type),Eo(a,s),wo(s,n.length,1)),Ro(n,c),n[20]=c}(d,this.componentDef,m,s,u);if(d)if(n)Ht(u,d,["ng-version",Jl.full]);else{var g=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Ui(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),y=g.attrs,b=g.classes;y&&Ht(u,d,y),b&&b.length>0&&ki(u,d,b.join(" "))}if(o=Ye(p,Ee),void 0!==t)for(var _=o.projection=[],C=0;C<this.ngContentSelectors.length;C++){var E=t[C];_.push(null!=E?Array.from(E):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=ot();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Oo(e,r,t,oo(e,t,1,null),n));var i=fn(t,e,r.directiveStart,r);Zr(i,t);var o=je(r,t);return o&&Zr(o,t),i}(o,n,t);if(r.components.push(a),e[8]=a,i&&i.forEach(function(e){return e(a,t)}),t.contentQueries){var s=ot();t.contentQueries(1,a,s.directiveStart)}var l=ot();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Dt(l.index),_o(n[1],l,0,l.directiveStart,l.directiveEnd,t),Co(t,a)),a}(v,this.componentDef,m,f,[la]),ao(p,m,null)}finally{St()}return new ku(this.componentType,i,Ll(o,m),m,o)}}]),n}(Rl),ku=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,o,a){var s;return(0,c.Z)(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new cu(o),s.componentType=e,s}return(0,u.Z)(n,[{key:"injector",get:function(){return new gn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(kl),Ru=new Map,Pu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;(0,c.Z)(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=(0,o.Z)(i),i.destroyCbs=[],i.componentFactoryResolver=new Su((0,o.Z)(i));var a=Ce(e),s=e[ae]||null;return s&&Ps(s),i._bootstrapComponents=Qr(a.bootstrap),i._r3Injector=Xo(e,r,[{provide:_u,useValue:(0,o.Z)(i)},{provide:Nl,useValue:i.componentFactoryResolver}],C(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return(0,u.Z)(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sa.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G.Default;return e===sa||e===_u||e===jo?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(_u),Nu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,i,o;return(0,c.Z)(this,n),(r=t.call(this)).moduleType=e,null!==Ce(e)&&(i=e,o=new Set,function e(t){var n=Ce(t,!0),r=n.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(C(t)," vs ").concat(C(t.name)))}(r,Ru.get(r),t),Ru.set(r,t));var i,s=Qr(n.imports),l=(0,a.Z)(s);try{for(l.s();!(i=l.n()).done;){var u=i.value;o.has(u)||(o.add(u),e(u))}}catch(c){l.e(c)}finally{l.f()}}(i)),r}return(0,u.Z)(n,[{key:"create",value:function(e){return new Pu(this.moduleType,e)}}]),n}(Cu);function Fu(e,t,n,r){return Gu(nt(),ft(),e,t,n,r)}function Lu(e,t,n,r,i){return Hu(nt(),ft(),e,t,n,r,i)}function Zu(e,t,n,r,i,o){return qu(nt(),ft(),e,t,n,r,i,o)}function Uu(e,t,n,r,i,o,a){return function(e,t,n,r,i,o,a,s,l){var u=t+n;return Ea(e,u,i,o,a,s)?ba(e,u+4,l?r.call(l,i,o,a,s):r(i,o,a,s)):Bu(e,u+4)}(nt(),ft(),e,t,n,r,i,o,a)}function Bu(e,t){var n=e[t];return n===Yi?void 0:n}function Gu(e,t,n,r,i,o){var a=t+n;return _a(e,a,i)?ba(e,a+1,o?r.call(o,i):r(i)):Bu(e,a+1)}function Hu(e,t,n,r,i,o,a){var s=t+n;return Ca(e,s,i,o)?ba(e,s+2,a?r.call(a,i,o):r(i,o)):Bu(e,s+2)}function qu(e,t,n,r,i,o,a,s){var l=t+n;return function(e,t,n,r,i){var o=Ca(e,t,n,r);return _a(e,t+2,i)||o}(e,l,i,o,a)?ba(e,l+3,s?r.call(s,i,o,a):r(i,o,a)):Bu(e,l+3)}function ju(e,t){var n,r=rt(),i=e+Ee;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new I("302","The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Ve(n.type)),a=q(Ia);try{var s=Xt(!1),l=o();return Xt(s),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(r,nt(),i,l),l}finally{q(a)}}function Yu(e,t,n){var r=e+Ee,i=nt(),o=Je(i,r);return Wu(i,Qu(i,r)?Gu(i,ft(),t,o.transform,n,o):o.transform(n))}function Ju(e,t,n,r){var i=e+Ee,o=nt(),a=Je(o,i);return Wu(o,Qu(o,i)?Hu(o,ft(),t,a.transform,n,r,a):a.transform(n,r))}function zu(e,t,n,r,i){var o=e+Ee,a=nt(),s=Je(a,o);return Wu(a,Qu(a,o)?qu(a,ft(),t,s.transform,n,r,i,s):s.transform(n,r,i))}function Qu(e,t){return e[1].data[t].pure}function Wu(e,t){return va.isWrapped(t)&&(t=va.unwrap(t),e[pt()]=Yi),t}function Ku(e){return function(t){setTimeout(e,void 0,t)}}var Xu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,c.Z)(this,n),(e=t.call(this)).__isAsync=r,e}return(0,u.Z)(n,[{key:"emit",value:function(e){(0,r.Z)((0,i.Z)(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,o){var a,s,l,u=e,c=t||function(){return null},d=o;if(e&&"object"==typeof e){var h=e;u=null===(a=h.next)||void 0===a?void 0:a.bind(h),c=null===(s=h.error)||void 0===s?void 0:s.bind(h),d=null===(l=h.complete)||void 0===l?void 0:l.bind(h)}this.__isAsync&&(c=Ku(c),u&&(u=Ku(u)),d&&(d=Ku(d)));var f=(0,r.Z)((0,i.Z)(n.prototype),"subscribe",this).call(this,{next:u,error:c,complete:d});return e instanceof p.w0&&e.add(f),f}}]),n}(m.x);function $u(){return this._results[ma()]()}var ec=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,c.Z)(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=ma(),r=e.prototype;r[n]||(r[n]=$u)}return(0,u.Z)(e,[{key:"changes",get:function(){return this._changes||(this._changes=new Xu)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){var n=this;n.dirty=!1;var r=wn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),tc=function(){function e(t){(0,c.Z)(this,e),this.queryList=t,this.matches=null}return(0,u.Z)(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),nc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,c.Z)(this,e),this.queries=t}return(0,u.Z)(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==vc(e,t).matches&&this.queries[t].setDirty()}}]),e}(),rc=(0,u.Z)(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,c.Z)(this,e),this.predicate=t,this.flags=n,this.read=r}),ic=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,c.Z)(this,e),this.queries=t}return(0,u.Z)(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),oc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,c.Z)(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return(0,u.Z)(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,ac(t,i)),this.matchTNodeWithReadOption(e,t,hn(t,e,i,!1,!1))}else n===gu?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hn(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Ul||r===Tu||r===gu&&4&t.type)this.addMatch(t.index,-2);else{var i=hn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function ac(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function sc(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Ll(e,t):4&e.type?bu(e,t):null}(t,e):-2===n?function(e,t,n){return n===Ul?Ll(t,e):n===gu?bu(t,e):n===Tu?Iu(t,e):void 0}(e,t,r):fn(e,e[1],n,t)}function lc(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],l=0;l<a.length;l+=2){var u=a[l];s.push(u<0?null:sc(t,o[u],a[l+1],n.metadata.read))}i.matches=s}return i.matches}function uc(e,t,n,r){var i=e.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=lc(e,t,i,n),s=0;s<o.length;s+=2){var l=o[s];if(l>0)r.push(a[s/2]);else{for(var u=o[s+1],c=t[-l],d=Te;d<c.length;d++){var h=c[d];h[17]===h[3]&&uc(h[1],h,u,r)}if(null!==c[9])for(var f=c[9],p=0;p<f.length;p++){var m=f[p];uc(m[1],m,u,r)}}}return r}function cc(e){var t=nt(),n=rt(),r=_t();Ct(r+1);var i=vc(n,r);if(e.dirty&&Qe(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?uc(n,t,r,[]):lc(n,t,i,r);e.reset(o,Bl),e.notifyOnChanges()}return!0}return!1}function dc(e,t,n){var r=rt();r.firstCreatePass&&(mc(r,new rc(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),pc(r,nt(),t)}function hc(e,t,n,r){var i=rt();if(i.firstCreatePass){var o=ot();mc(i,new rc(t,n,r),o.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}pc(i,nt(),n)}function fc(){return e=nt(),t=_t(),e[19].queries[t].queryList;var e,t}function pc(e,t,n){var r=new ec(4==(4&n));vo(e,t,r,r.destroy),null===t[19]&&(t[19]=new nc),t[19].queries.push(new tc(r))}function mc(e,t,n){null===e.queries&&(e.queries=new ic),e.queries.track(new oc(t,n))}function vc(e,t){return e.queries.getByIndex(t)}function gc(e,t){return bu(e,t)}var yc=new Tn("Application Initializer"),bc=function(){var e=function(){function e(t){var n=this;(0,c.Z)(this,e),this.appInits=t,this.resolve=Fl,this.reject=Fl,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return(0,u.Z)(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=function(n){var r=e.appInits[n]();if(Fa(r))t.push(r);else if(Za(r)){var i=new Promise(function(e,t){r.subscribe({complete:e,error:t})});t.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Zn(yc,8))},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}(),_c=new Tn("AppId"),Cc={provide:_c,useFactory:function(){return"".concat(Ec()).concat(Ec()).concat(Ec())},deps:[]};function Ec(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Tc=new Tn("Platform Initializer"),wc=new Tn("Platform ID"),Oc=new Tn("appBootstrapListener"),xc=function(){var e=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}(),Ic=new Tn("LocaleId"),Mc=new Tn("DefaultCurrencyCode"),Sc=(0,u.Z)(function e(t,n){(0,c.Z)(this,e),this.ngModuleFactory=t,this.componentFactories=n}),Vc=function(e){return new Nu(e)},Ac=Vc,Dc=function(e){return Promise.resolve(Vc(e))},kc=function(e){var t=Vc(e),n=Qr(Ce(e).declarations).reduce(function(e,t){var n=_e(t);return n&&e.push(new Du(n)),e},[]);return new Sc(t,n)},Rc=kc,Pc=function(e){return Promise.resolve(kc(e))},Nc=function(){var e=function(){function e(){(0,c.Z)(this,e),this.compileModuleSync=Ac,this.compileModuleAsync=Dc,this.compileModuleAndAllComponentsSync=Rc,this.compileModuleAndAllComponentsAsync=Pc}return(0,u.Z)(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}(),Fc=function(){return Promise.resolve(0)}();function Lc(e){"undefined"==typeof Zone?Fc.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Zc=function(){function e(t){var n=t.enableLongStackTrace,r=void 0!==n&&n,i=t.shouldCoalesceEventChangeDetection,o=void 0!==i&&i,a=t.shouldCoalesceRunChangeDetection,s=void 0!==a&&a;if((0,c.Z)(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xu(!1),this.onMicrotaskEmpty=new Xu(!1),this.onStable=new Xu(!1),this.onError=new Xu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var l,u,d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!s&&o,d.shouldCoalesceRunChangeDetection=s,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){var e=$.requestAnimationFrame,t=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,u=function(){!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call($,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Gc(e),e.isCheckStableRunning=!0,Bc(e),e.isCheckStableRunning=!1},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Gc(e))}(l)},(l=d)._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,n,r,i,o){try{return Hc(l),e.invokeTask(n,r,i,o)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||l.shouldCoalesceRunChangeDetection)&&u(),qc(l)}},onInvoke:function(e,t,n,r,i,o,a){try{return Hc(l),e.invoke(n,r,i,o,a)}finally{l.shouldCoalesceRunChangeDetection&&u(),qc(l)}},onHasTask:function(e,t,n,r){e.hasTask(n,r),t===n&&("microTask"==r.change?(l._hasPendingMicrotasks=r.microTask,Gc(l),Bc(l)):"macroTask"==r.change&&(l.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,n,r){return e.handleError(n,r),l.runOutsideAngular(function(){return l.onError.emit(r)}),!1}})}return(0,u.Z)(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Uc,Fl,Fl);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),Uc={};function Bc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Gc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Hc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function qc(e){e._nesting--,Bc(e)}var jc=function(){function e(){(0,c.Z)(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xu,this.onMicrotaskEmpty=new Xu,this.onStable=new Xu,this.onError=new Xu}return(0,u.Z)(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Yc=function(){var e=function(){function e(t){var n=this;(0,c.Z)(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return(0,u.Z)(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Zc.assertNotInAngularZone(),Lc(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Lc(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Zn(Zc))},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}(),Jc=function(){var e=function(){function e(){(0,c.Z)(this,e),this._applications=new Map,Wc.addToWindow(this)}return(0,u.Z)(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Wc.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}();function zc(e){Wc=e}var Qc,Wc=new(function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Kc=!0,Xc=!1;function $c(){if(Xc)throw new Error("Cannot enable prod mode after platform setup.");Kc=!1}var ed=function(e,t,n){var r=new Nu(n);return Promise.resolve(r)},td=new Tn("AllowMultipleToken"),nd=(0,u.Z)(function e(t,n){(0,c.Z)(this,e),this.name=t,this.token=n});function rd(e){if(Qc&&!Qc.destroyed&&!Qc.injector.get(td,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Qc=e.get(sd);var t=e.get(Tc,null);return t&&t.forEach(function(e){return e()}),Qc}function id(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new Tn(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=ad();if(!o||o.injector.get(td,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:Jo,useValue:"platform"});rd(sa.create({providers:a,name:r}))}return od(i)}}function od(e){var t=ad();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function ad(){return Qc&&!Qc.destroyed?Qc:null}var sd=function(){var e=function(){function e(t){(0,c.Z)(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return(0,u.Z)(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(r={ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1},"noop"===(n=t?t.ngZone:void 0)?new jc:("zone.js"===n?void 0:n)||new Zc({enableLongStackTrace:(Xc=!0,Kc),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:Zc,useValue:o}];return o.run(function(){var t=sa.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(qr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var e=o.onError.subscribe({next:function(e){r.handleError(e)}});n.onDestroy(function(){cd(i._modules,n),e.unsubscribe()})}),function(e,t,r){try{var o=((a=n.injector.get(bc)).runInitializers(),a.donePromise.then(function(){return Ps(n.injector.get(Ic,Vs)||Vs),i._moduleDoBootstrap(n),n}));return Fa(o)?o.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):o}catch(s){throw t.runOutsideAngular(function(){return e.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=ld({},n);return ed(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(ud);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(C(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Zn(sa))},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}();function ld(e,t){return Array.isArray(t)?t.reduce(ld,e):Object.assign(Object.assign({},e),t)}var ud=function(){var e=function(){function e(t,n,r,i,o){var a=this;(0,c.Z)(this,e),this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new v.y(function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){e.next(a._stable),e.complete()})}),l=new v.y(function(e){var t;a._zone.runOutsideAngular(function(){t=a._zone.onStable.subscribe(function(){Zc.assertNotInAngularZone(),Lc(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Zc.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,g.T)(s,l.pipe((0,y.B)()))}return(0,u.Z)(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Rl?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(_u),o=n.create(sa.NULL,[],t||n.selector,i),a=o.location.nativeElement,s=o.injector.get(Yc,null),l=s&&o.injector.get(Jc);return s&&l&&l.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),cd(r.components,o),l&&l.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=(0,a.Z)(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;cd(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Oc,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Zn(Zc),Zn(sa),Zn(qr),Zn(Nl),Zn(bc))},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}();function cd(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var dd=function(e){return null},hd=id(null,"core",[{provide:wc,useValue:"unknown"},{provide:sd,deps:[sa]},{provide:Jc,deps:[]},{provide:xc,deps:[]}]),fd=[{provide:ud,useClass:ud,deps:[Zc,sa,qr,Nl,bc]},{provide:Au,deps:[Zc],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:bc,useClass:bc,deps:[[new Yn,yc]]},{provide:Nc,useClass:Nc,deps:[]},Cc,{provide:ou,useFactory:function(){return pu},deps:[]},{provide:su,useFactory:function(){return mu},deps:[]},{provide:Ic,useFactory:function(e){return Ps(e=e||"undefined"!=typeof $localize&&$localize.locale||Vs),e},deps:[[new jn(Ic),new Yn,new Jn]]},{provide:Mc,useValue:"USD"}],pd=function(){var e=(0,u.Z)(function e(t){(0,c.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)(Zn(ud))},e.\u0275mod=me({type:e}),e.\u0275inj=k({providers:fd}),e}()},16073:function(e,t,n){"use strict";n.d(t,{Fj:function(){return _},NI:function(){return ue},oH:function(){return ve},cw:function(){return ce},sg:function(){return ye},u5:function(){return Me},Cf:function(){return T},JU:function(){return g},JJ:function(){return q},JL:function(){return j},YN:function(){return Ee},UX:function(){return Se},kI:function(){return x},_Y:function(){return he},Kr:function(){return xe}});var r=n(47673),i=n(75328),o=n(81336),a=n(92593),s=n(88879),l=n(98288),u=n(57285),c=n(35322),d=n(61511),h=n(51929),f=n(66891),p=n(91681),m=function(){var e=function(){function e(t,n){(0,l.Z)(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return(0,u.Z)(e,[{key:"setProperty",value:function(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"setDisabledState",value:function(e){this.setProperty("disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Qsj),c.Y36(c.SBq))},e.\u0275dir=c.lG2({type:e}),e}(),v=function(){var e=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(m);return e.\u0275fac=function(){var t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275dir=c.lG2({type:e,features:[c.qOj]}),e}(),g=new c.OlP("NgValueAccessor"),y={provide:g,useExisting:(0,c.Gpc)(function(){return _}),multi:!0},b=new c.OlP("CompositionEventMode"),_=function(){var e=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,i){var o,a;return(0,l.Z)(this,n),(o=t.call(this,e,r))._compositionMode=i,o._composing=!1,null==o._compositionMode&&(o._compositionMode=(a=(0,d.q)()?(0,d.q)().getUserAgent():"",!/android (\d+)/.test(a.toLowerCase()))),o}return(0,u.Z)(n,[{key:"writeValue",value:function(e){this.setProperty("value",null==e?"":e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),n}(m);return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(b,8))},e.\u0275dir=c.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&c.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[c._Bn([y]),c.qOj]}),e}();function C(e){return null==e||0===e.length}function E(e){return null!=e&&"number"==typeof e.length}var T=new c.OlP("NgValidators"),w=new c.OlP("NgAsyncValidators"),O=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,x=function(){function e(){(0,l.Z)(this,e)}return(0,u.Z)(e,null,[{key:"min",value:function(e){return t=e,function(e){if(C(e.value)||C(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null};var t}},{key:"max",value:function(e){return t=e,function(e){if(C(e.value)||C(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null};var t}},{key:"required",value:function(e){return function(e){return C(e.value)?{required:!0}:null}(e)}},{key:"requiredTrue",value:function(e){return function(e){return!0===e.value?null:{required:!0}}(e)}},{key:"email",value:function(e){return function(e){return C(e.value)||O.test(e.value)?null:{email:!0}}(e)}},{key:"minLength",value:function(e){return t=e,function(e){return C(e.value)||!E(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null};var t}},{key:"maxLength",value:function(e){return t=e,function(e){return E(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null};var t}},{key:"pattern",value:function(e){return(t=e)?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(C(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):I;var t,n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){return k(e)}},{key:"composeAsync",value:function(e){return P(e)}}]),e}();function I(e){return null}function M(e){return null!=e}function S(e){var t=(0,c.QGY)(e)?(0,h.Dp)(e):e;return(0,c.CqO)(t),t}function V(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function A(e,t){return t.map(function(t){return t(e)})}function D(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function k(e){if(!e)return null;var t=e.filter(M);return 0==t.length?null:function(e){return V(A(e,t))}}function R(e){return null!=e?k(D(e)):null}function P(e){if(!e)return null;var t=e.filter(M);return 0==t.length?null:function(e){var n=A(e,t).map(S);return(0,f.D)(n).pipe((0,p.U)(V))}}function N(e){return null!=e?P(D(e)):null}function F(e,t){return null===e?[t]:Array.isArray(e)?[].concat((0,o.Z)(e),[t]):[e,t]}function L(e){return e._rawValidators}function Z(e){return e._rawAsyncValidators}var U=function(){var e=function(){function e(){(0,l.Z)(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return(0,u.Z)(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=R(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=N(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=c.lG2({type:e}),e}(),B=function(){var e=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(U);return e.\u0275fac=function(){var t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275dir=c.lG2({type:e,features:[c.qOj]}),e}(),G=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return(0,u.Z)(n)}(U),H=function(){function e(t){(0,l.Z)(this,e),this._cd=t}return(0,u.Z)(e,[{key:"is",value:function(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}]),e}(),q=function(){var e=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n)}(H);return e.\u0275fac=function(t){return new(t||e)(c.Y36(G,2))},e.\u0275dir=c.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&c.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[c.qOj]}),e}(),j=function(){var e=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){return(0,l.Z)(this,n),t.call(this,e)}return(0,u.Z)(n)}(H);return e.\u0275fac=function(t){return new(t||e)(c.Y36(B,10))},e.\u0275dir=c.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&c.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[c.qOj]}),e}();function Y(e,t){Q(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&K(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&K(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)}function J(e,t){var n=function(){};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),W(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(function(){}))}function z(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Q(e,t){var n=L(e);null!==t.validator?e.setValidators(F(n,t.validator)):"function"==typeof n&&e.setValidators([n]);var r=Z(e);null!==t.asyncValidator?e.setAsyncValidators(F(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};z(t._rawValidators,i),z(t._rawAsyncValidators,i)}function W(e,t){var n=!1;if(null!==e){if(null!==t.validator){var r=L(e);if(Array.isArray(r)&&r.length>0){var i=r.filter(function(e){return e!==t.validator});i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){var o=Z(e);if(Array.isArray(o)&&o.length>0){var a=o.filter(function(e){return e!==t.asyncValidator});a.length!==o.length&&(n=!0,e.setAsyncValidators(a))}}}var s=function(){};return z(t._rawValidators,s),z(t._rawAsyncValidators,s),n}function K(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function X(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var $="VALID",ee="INVALID",te="PENDING",ne="DISABLED";function re(e){return(se(e)?e.validators:e)||null}function ie(e){return Array.isArray(e)?R(e):e||null}function oe(e,t){return(se(t)?t.asyncValidators:e)||null}function ae(e){return Array.isArray(e)?N(e):e||null}function se(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var le=function(){function e(t,n){(0,l.Z)(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=ie(this._rawValidators),this._composedAsyncValidatorFn=ae(this._rawAsyncValidators)}return(0,u.Z)(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===$}},{key:"invalid",get:function(){return this.status===ee}},{key:"pending",get:function(){return this.status==te}},{key:"disabled",get:function(){return this.status===ne}},{key:"enabled",get:function(){return this.status!==ne}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=ie(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ae(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=te,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=ne,this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=$,this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==$&&this.status!==te||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?ne:$}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status=te,this._hasOwnPendingAsyncValidator=!0;var n=S(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach(function(e){r=r instanceof ce?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof de&&r.at(e)||null}),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?ne:this.errors?ee:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(te)?te:this._anyControlsHaveStatus(ee)?ee:$}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){se(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),ue=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return(0,l.Z)(this,n),(e=t.call(this,re(i),oe(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),e}return(0,u.Z)(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){X(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){X(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(le),ce=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,i){var o;return(0,l.Z)(this,n),(o=t.call(this,re(r),oe(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return(0,u.Z)(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof ue?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var r=t.controls[n];r&&e(r,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++)if(this.controls[t[e]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(le),de=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,i){var o;return(0,l.Z)(this,n),(o=t.call(this,re(r),oe(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return(0,u.Z)(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof ue?e.value:e.getRawValue()})}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=(0,i.Z)(this.controls);try{for(t.s();!(e=t.n()).done;)if(e.value.enabled)return!1}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(le),he=function(){var e=(0,u.Z)(function e(){(0,l.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=c.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e}(),fe=function(){var e=(0,u.Z)(function e(){(0,l.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({}),e}(),pe=new c.OlP("NgModelWithFormControlWarning"),me={provide:G,useExisting:(0,c.Gpc)(function(){return ve})},ve=function(){var e=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,i,o,a){var s;return(0,l.Z)(this,n),(s=t.call(this))._ngModelWarningConfig=a,s.update=new c.vpe,s._ngModelWarningSent=!1,s._setValidators(e),s._setAsyncValidators(i),s.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t);var n=void 0,r=void 0,i=void 0;return t.forEach(function(e){e.constructor===_?n=e:Object.getPrototypeOf(e.constructor)===v?r=e:i=e}),i||r||n||null}((0,r.Z)(s),o),s}return(0,u.Z)(n,[{key:"isDisabled",set:function(e){}},{key:"ngOnChanges",value:function(e){if(this._isControlChanged(e)){var t=e.form.previousValue;t&&J(t,this),Y(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}(function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)})(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.form&&J(this.form,this)}},{key:"path",get:function(){return[]}},{key:"control",get:function(){return this.form}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_isControlChanged",value:function(e){return e.hasOwnProperty("form")}}]),n}(G);return e.\u0275fac=function(t){return new(t||e)(c.Y36(T,10),c.Y36(w,10),c.Y36(g,10),c.Y36(pe,8))},e.\u0275dir=c.lG2({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([me]),c.qOj,c.TTD]}),e._ngModelWarningSentOnce=!1,e}(),ge={provide:B,useExisting:(0,c.Gpc)(function(){return ye})},ye=function(){var e=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var i;return(0,l.Z)(this,n),(i=t.call(this)).validators=e,i.asyncValidators=r,i.submitted=!1,i._onCollectionChange=function(){return i._updateDomValue()},i.directives=[],i.form=null,i.ngSubmit=new c.vpe,i._setValidators(e),i._setAsyncValidators(r),i}return(0,u.Z)(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(W(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return Y(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){J(e.control||null,e),X(this.directives,e)}},{key:"addFormGroup",value:function(e){this._setUpFormContainer(e)}},{key:"removeFormGroup",value:function(e){this._cleanUpFormContainer(e)}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){this._setUpFormContainer(e)}},{key:"removeFormArray",value:function(e){this._cleanUpFormContainer(e)}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach(function(t){var n=t.control,r=e.form.get(t.path);n!==r&&(J(n||null,t),r instanceof ue&&(Y(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(e){var t=this.form.get(e.path);(function(e,t){Q(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(e){if(this.form){var t=this.form.get(e.path);t&&function(e,t){return W(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){Q(this.form,this),this._oldForm&&W(this._oldForm,this)}},{key:"_checkFormPresent",value:function(){}}]),n}(B);return e.\u0275fac=function(t){return new(t||e)(c.Y36(T,10),c.Y36(w,10))},e.\u0275dir=c.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&c.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([ge]),c.qOj,c.TTD]}),e}(),be={provide:g,useExisting:(0,c.Gpc)(function(){return Ce}),multi:!0};function _e(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Ce=function(){var e=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments))._optionMap=new Map,e._idCounter=0,e._compareWith=Object.is,e}return(0,u.Z)(n,[{key:"compareWith",set:function(e){this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this.setProperty("selectedIndex",-1);var n=_e(t,e);this.setProperty("value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),n}(v);return e.\u0275fac=function(){var t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275dir=c.lG2({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&c.NdJ("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([be]),c.qOj]}),e}(),Ee=function(){var e=function(){function e(t,n,r){(0,l.Z)(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return(0,u.Z)(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(_e(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Ce,9))},e.\u0275dir=c.lG2({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}(),Te={provide:g,useExisting:(0,c.Gpc)(function(){return Oe}),multi:!0};function we(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Oe=function(){var e=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments))._optionMap=new Map,e._idCounter=0,e._compareWith=Object.is,e}return(0,u.Z)(n,[{key:"compareWith",set:function(e){this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var l=n.options,u=0;u<l.length;u++){var c=l.item(u);if(c.selected){var d=t._getOptionValue(c.value);r.push(d)}}t.value=r,e(r)}}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),n}(v);return e.\u0275fac=function(){var t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275dir=c.lG2({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&c.NdJ("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Te]),c.qOj]}),e}(),xe=function(){var e=function(){function e(t,n,r){(0,l.Z)(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return(0,u.Z)(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(we(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(we(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Oe,9))},e.\u0275dir=c.lG2({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}(),Ie=function(){var e=(0,u.Z)(function e(){(0,l.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[fe]]}),e}(),Me=function(){var e=(0,u.Z)(function e(){(0,l.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[Ie]}),e}(),Se=function(){var e=function(){function e(){(0,l.Z)(this,e)}return(0,u.Z)(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:pe,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[Ie]}),e}()},30269:function(e,t,n){"use strict";n.d(t,{b2:function(){return Y},H7:function(){return B},q6:function(){return q}});var r,i=n(36797),o=n(11708),a=n(57285),s=n(98288),l=n(92593),u=n(88879),c=n(61511),d=n(35322),h=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getBaseHref",value:function(e){var t=(f=f||document.querySelector("base"))?f.getAttribute("href"):null;return null==t?null:function(e){(r=r||document.createElement("a")).setAttribute("href",e);var t=r.pathname;return"/"===t.charAt(0)?t:"/".concat(t)}(t)}},{key:"resetBaseElement",value:function(){f=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(e){return(0,c.Mx)(document.cookie,e)}}],[{key:"makeCurrent",value:function(){(0,c.HT)(new n)}}]),n}(function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.apply(this,arguments)).supportsDOMEvents=!0,e}return(0,a.Z)(n)}(c.w_)),f=null,p=new d.OlP("TRANSITION_ID"),m=[{provide:d.ip1,useFactory:function(e,t,n){return function(){n.get(d.CZH).donePromise.then(function(){var n=(0,c.q)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[p,c.K0,d.zs3],multi:!0}],v=function(){function e(){(0,s.Z)(this,e)}return(0,a.Z)(e,[{key:"addToWindow",value:function(e){d.dqk.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},d.dqk.getAllAngularTestabilities=function(){return e.getAllTestabilities()},d.dqk.getAllAngularRootElements=function(){return e.getAllRootElements()},d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(function(e){var t=d.dqk.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?(0,c.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){(0,d.VLi)(new e)}}]),e}(),g=function(){var e=function(){function e(){(0,s.Z)(this,e)}return(0,a.Z)(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e}(),y=new d.OlP("EventManagerPlugins"),b=function(){var e=function(){function e(t,n){var r=this;(0,s.Z)(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return(0,a.Z)(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.LFG(y),d.LFG(d.R0b))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e}(),_=function(){function e(t){(0,s.Z)(this,e),this._doc=t}return(0,a.Z)(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=(0,c.q)().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),C=function(){var e=function(){function e(){(0,s.Z)(this,e),this._stylesSet=new Set}return(0,a.Z)(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e}(),E=function(){var e=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Map,r._hostNodes.set(e.head,[]),r}return(0,a.Z)(n,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var i=r._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(T),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(T)})}}]),n}(C);return e.\u0275fac=function(t){return new(t||e)(d.LFG(c.K0))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e}();function T(e){(0,c.q)().remove(e)}var w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},O=/%COMP%/g,x="%COMP%",I="_nghost-".concat(x),M="_ngcontent-".concat(x);function S(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?S(e,i,n):(i=i.replace(O,e),n.push(i))}return n}function V(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var A=function(){var e=function(){function e(t,n,r){(0,s.Z)(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new D(t)}return(0,a.Z)(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case d.ifc.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new k(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case d.ifc.ShadowDom:return new R(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=S(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.LFG(b),d.LFG(E),d.LFG(d.AFp))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e}(),D=function(){function e(t){(0,s.Z)(this,e),this.eventManager=t,this.data=Object.create(null)}return(0,a.Z)(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(w[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=w[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=w[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,n,r&d.JOm.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,V(n)):this.eventManager.addEventListener(e,t,V(n))}}]),e}(),k=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i,o){var a;(0,s.Z)(this,n),(a=t.call(this,e)).component=i;var l=S(o+"-"+i.id,i.styles,[]);return r.addStyles(l),a.contentAttr=M.replace(O,o+"-"+i.id),a.hostAttr=I.replace(O,o+"-"+i.id),a}return(0,a.Z)(n,[{key:"applyToHost",value:function(e){(0,i.Z)((0,o.Z)(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=(0,i.Z)((0,o.Z)(n.prototype),"createElement",this).call(this,e,t);return(0,i.Z)((0,o.Z)(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(D),R=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i,o){var a;(0,s.Z)(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var l=S(o.id,o.styles,[]),u=0;u<l.length;u++){var c=document.createElement("style");c.textContent=l[u],a.shadowRoot.appendChild(c)}return a}return(0,a.Z)(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return(0,i.Z)((0,o.Z)(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return(0,i.Z)((0,o.Z)(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return(0,i.Z)((0,o.Z)(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot((0,i.Z)((0,o.Z)(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(D),P=function(){var e=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){return(0,s.Z)(this,n),t.call(this,e)}return(0,a.Z)(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(_);return e.\u0275fac=function(t){return new(t||e)(d.LFG(c.K0))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e}(),N=["alt","control","meta","shift"],F={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},L={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Z={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},U=function(){var e=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){return(0,s.Z)(this,n),t.call(this,e)}return(0,a.Z)(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return(0,c.q)().onAndCancel(e,i.domEventName,o)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(N.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&L.hasOwnProperty(t)&&(t=L[t]))}return F[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),N.forEach(function(r){r!=n&&(0,Z[r])(e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(_);return e.\u0275fac=function(t){return new(t||e)(d.LFG(c.K0))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e}(),B=function(){var e=(0,a.Z)(function e(){(0,s.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,d.Yz7)({factory:function(){return(0,d.LFG)(H)},token:e,providedIn:"root"}),e}();function G(e){return new H(e.get(c.K0))}var H=function(){var e=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this))._doc=e,r}return(0,a.Z)(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case d.q3G.NONE:return t;case d.q3G.HTML:return(0,d.qzn)(t,"HTML")?(0,d.z3N)(t):(0,d.EiD)(this._doc,String(t)).toString();case d.q3G.STYLE:return(0,d.qzn)(t,"Style")?(0,d.z3N)(t):t;case d.q3G.SCRIPT:if((0,d.qzn)(t,"Script"))return(0,d.z3N)(t);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(t),(0,d.qzn)(t,"URL")?(0,d.z3N)(t):(0,d.mCW)(String(t));case d.q3G.RESOURCE_URL:if((0,d.qzn)(t,"ResourceURL"))return(0,d.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return(0,d.JVY)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return(0,d.L6k)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return(0,d.eBb)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return(0,d.LAX)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return(0,d.pB0)(e)}}]),n}(B);return e.\u0275fac=function(t){return new(t||e)(d.LFG(c.K0))},e.\u0275prov=(0,d.Yz7)({factory:function(){return G((0,d.LFG)(d.gxx))},token:e,providedIn:"root"}),e}(),q=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:c.bD},{provide:d.g9A,useValue:function(){h.makeCurrent(),v.init()},multi:!0},{provide:c.K0,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),j=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:y,useClass:P,multi:!0,deps:[c.K0,d.R0b,d.Lbi]},{provide:y,useClass:U,multi:!0,deps:[c.K0]},[],{provide:A,useClass:A,deps:[b,E,d.AFp]},{provide:d.FYo,useExisting:A},{provide:C,useExisting:E},{provide:E,useClass:E,deps:[c.K0]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:b,useClass:b,deps:[y,d.R0b]},{provide:c.JF,useClass:g,deps:[]},[]],Y=function(){var e=function(){function e(t){if((0,s.Z)(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return(0,a.Z)(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:d.AFp,useValue:t.appId},{provide:p,useExisting:d.AFp},m]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.LFG(e,12))},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({providers:j,imports:[c.ez,d.hGG]}),e}();"undefined"!=typeof window&&window},84832:function(e,t,n){"use strict";n.d(t,{_A:function(){return rt},mL:function(){return it},xZ:function(){return lt},vL:function(){return ft},NG:function(){return qt},M4:function(){return wt},wf:function(){return _t},M:function(){return Wt},XC:function(){return Kt},J4:function(){return Jt},aB:function(){return st},py:function(){return at},Cw:function(){return cn},Pm:function(){return mn},UL:function(){return vn},_L:function(){return _n},HK:function(){return Cn}});var r=n(92593),i=n(88879),o=n(75328),a=n(58977);function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=n(57285),u=n(98288),c=n(35322),d=n(61511),h=n(19162),f=n(82391),p=n(51929),m=(n(13172),n(14951)),v=n(4659),g=n(7070),y=n(32041),b=n(89666),_=n(65960),C=n(49234),E=n(44014),T=(n(97425),n(15868),n(72226),n(15446)),w=n(15613),O=n(93386),x=n(71879),I=n(35397);function M(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,g.jO)(e);return(0,O.e)(function(t,r){for(var i=e.length,o=new Array(i),a=e.map(function(){return!1}),s=!1,l=function(t){(0,p.Xf)(e[t]).subscribe(new v.Q(r,function(e){o[t]=e,s||a[t]||(a[t]=!0,(s=a.every(x.y))&&(a=null))},I.Z))},u=0;u<i;u++)l(u);t.subscribe(new v.Q(r,function(e){if(s){var t=(0,h.ev)([e],(0,h.CR)(o));r.next(n?n.apply(void 0,(0,h.ev)([],(0,h.CR)(t))):t)}}))})}var S,V,A,D,k,R,P,N,F,L,Z,U,B,G,H,q,j,Y,J,z,Q,W,K=n(69568),X=n(58868),$=n(69056),ee=n(91681),te=(n(81258),n(76424),n(14324),n(90343)),ne=n(20324),re=n(47228),ie=(n(54444),n(27839)),oe=n(16073),ae=["*"],se=["defaultDayTemplate"],le=["content"];function ue(e,t){if(1&e&&c._UZ(0,"div",7),2&e){var n=t.currentMonth,r=t.selected,i=t.disabled,o=t.focused;c.Q6J("date",t.date)("currentMonth",n)("selected",r)("disabled",i)("focused",o)}}function ce(e,t){if(1&e&&(c.TgZ(0,"div",12),c._uU(1),c.qZA()),2&e){var n=c.oxw().$implicit,r=c.oxw(2);c.xp6(1),c.hij(" ",r.i18n.getMonthLabel(n.firstDate)," ")}}function de(e,t){if(1&e&&(c.TgZ(0,"div",9),c.YNc(1,ce,2,1,"div",10),c._UZ(2,"ngb-datepicker-month",11),c.qZA()),2&e){var n=t.$implicit,r=c.oxw(2);c.xp6(1),c.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),c.xp6(1),c.Q6J("month",n.firstDate)}}function he(e,t){if(1&e&&c.YNc(0,de,3,2,"div",8),2&e){var n=c.oxw();c.Q6J("ngForOf",n.model.months)}}function fe(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"ngb-datepicker-navigation",13),c.NdJ("navigate",function(e){return c.CHM(n),c.oxw().onNavigateEvent(e)})("select",function(e){return c.CHM(n),c.oxw().onNavigateDateSelect(e)}),c.qZA()}if(2&e){var r=c.oxw();c.Q6J("date",r.model.firstDate)("months",r.model.months)("disabled",r.model.disabled)("showSelect","select"===r.model.navigation)("prevDisabled",r.model.prevDisabled)("nextDisabled",r.model.nextDisabled)("selectBoxes",r.model.selectBoxes)}}function pe(e,t){}function me(e,t){}function ve(e,t){if(1&e&&(c.TgZ(0,"div",5),c._uU(1),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.Oqu(n.i18n.getWeekLabel())}}function ge(e,t){if(1&e&&(c.TgZ(0,"div",6),c._uU(1),c.qZA()),2&e){var n=t.$implicit;c.xp6(1),c.Oqu(n)}}function ye(e,t){if(1&e&&(c.TgZ(0,"div",2),c.YNc(1,ve,2,1,"div",3),c.YNc(2,ge,2,1,"div",4),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngIf",n.datepicker.showWeekNumbers),c.xp6(1),c.Q6J("ngForOf",n.viewModel.weekdays)}}function be(e,t){if(1&e&&(c.TgZ(0,"div",11),c._uU(1),c.qZA()),2&e){var n=c.oxw(2).$implicit,r=c.oxw();c.xp6(1),c.Oqu(r.i18n.getWeekNumerals(n.number))}}function _e(e,t){}function Ce(e,t){if(1&e&&c.YNc(0,_e,0,0,"ng-template",14),2&e){var n=c.oxw().$implicit,r=c.oxw(3);c.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",n.context)}}function Ee(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",12),c.NdJ("click",function(e){var t=c.CHM(n).$implicit;return c.oxw(3).doSelect(t),e.preventDefault()}),c.YNc(1,Ce,1,2,"ng-template",13),c.qZA()}if(2&e){var r=t.$implicit;c.ekj("disabled",r.context.disabled)("hidden",r.hidden)("ngb-dp-today",r.context.today),c.Q6J("tabindex",r.tabindex),c.uIk("aria-label",r.ariaLabel),c.xp6(1),c.Q6J("ngIf",!r.hidden)}}function Te(e,t){if(1&e&&(c.TgZ(0,"div",8),c.YNc(1,be,2,1,"div",9),c.YNc(2,Ee,2,9,"div",10),c.qZA()),2&e){var n=c.oxw().$implicit,r=c.oxw();c.xp6(1),c.Q6J("ngIf",r.datepicker.showWeekNumbers),c.xp6(1),c.Q6J("ngForOf",n.days)}}function we(e,t){1&e&&c.YNc(0,Te,3,2,"div",7),2&e&&c.Q6J("ngIf",!t.$implicit.collapsed)}function Oe(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"ngb-datepicker-navigation-select",7),c.NdJ("select",function(e){return c.CHM(n),c.oxw().select.emit(e)}),c.qZA()}if(2&e){var r=c.oxw();c.Q6J("date",r.date)("disabled",r.disabled)("months",r.selectBoxes.months)("years",r.selectBoxes.years)}}function xe(e,t){1&e&&c._UZ(0,"div",0)}function Ie(e,t){1&e&&c._UZ(0,"div",0)}function Me(e,t){if(1&e&&(c.YNc(0,xe,1,0,"div",9),c.TgZ(1,"div",10),c._uU(2),c.qZA(),c.YNc(3,Ie,1,0,"div",9)),2&e){var n=t.$implicit,r=t.index,i=c.oxw(2);c.Q6J("ngIf",r>0),c.xp6(2),c.hij(" ",i.i18n.getMonthLabel(n.firstDate)," "),c.xp6(1),c.Q6J("ngIf",r!==i.months.length-1)}}function Se(e,t){if(1&e&&c.YNc(0,Me,4,3,"ng-template",8),2&e){var n=c.oxw();c.Q6J("ngForOf",n.months)}}var Ve=["ngbDatepickerDayView",""],Ae=["month"],De=["year"];function ke(e,t){if(1&e&&(c.TgZ(0,"option",5),c._uU(1),c.qZA()),2&e){var n=t.$implicit,r=c.oxw();c.Q6J("value",n),c.uIk("aria-label",r.i18n.getMonthFullName(n,null==r.date?null:r.date.year)),c.xp6(1),c.Oqu(r.i18n.getMonthShortName(n,null==r.date?null:r.date.year))}}function Re(e,t){if(1&e&&(c.TgZ(0,"option",5),c._uU(1),c.qZA()),2&e){var n=t.$implicit,r=c.oxw();c.Q6J("value",n),c.xp6(1),c.Oqu(r.i18n.getYearNumerals(n))}}function Pe(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(n);var e=c.oxw();return e.changeHour(e.hourStep)}),c._UZ(1,"span",12),c.TgZ(2,"span",13),c.SDv(3,14),c.qZA(),c.qZA()}if(2&e){var r=c.oxw();c.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),c.Q6J("disabled",r.disabled)}}function Ne(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(n);var e=c.oxw();return e.changeHour(-e.hourStep)}),c._UZ(1,"span",15),c.TgZ(2,"span",13),c.SDv(3,16),c.qZA(),c.qZA()}if(2&e){var r=c.oxw();c.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),c.Q6J("disabled",r.disabled)}}function Fe(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(n);var e=c.oxw();return e.changeMinute(e.minuteStep)}),c._UZ(1,"span",12),c.TgZ(2,"span",13),c.SDv(3,17),c.qZA(),c.qZA()}if(2&e){var r=c.oxw();c.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),c.Q6J("disabled",r.disabled)}}function Le(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(n);var e=c.oxw();return e.changeMinute(-e.minuteStep)}),c._UZ(1,"span",15),c.TgZ(2,"span",13),c.SDv(3,18),c.qZA(),c.qZA()}if(2&e){var r=c.oxw();c.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),c.Q6J("disabled",r.disabled)}}function Ze(e,t){1&e&&(c.TgZ(0,"div",5),c._uU(1,":"),c.qZA())}function Ue(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(n);var e=c.oxw(2);return e.changeSecond(e.secondStep)}),c._UZ(1,"span",12),c.TgZ(2,"span",13),c.SDv(3,21),c.qZA(),c.qZA()}if(2&e){var r=c.oxw(2);c.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),c.Q6J("disabled",r.disabled)}}function Be(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(n);var e=c.oxw(2);return e.changeSecond(-e.secondStep)}),c._UZ(1,"span",15),c.TgZ(2,"span",13),c.SDv(3,22),c.qZA(),c.qZA()}if(2&e){var r=c.oxw(2);c.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),c.Q6J("disabled",r.disabled)}}function Ge(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",19),c.YNc(1,Ue,4,7,"button",3),c.TgZ(2,"input",20),c.NdJ("change",function(e){return c.CHM(n),c.oxw().updateSecond(e.target.value)})("blur",function(){return c.CHM(n),c.oxw().handleBlur()})("input",function(e){return c.CHM(n),c.oxw().formatInput(e.target)})("keydown.ArrowUp",function(e){c.CHM(n);var t=c.oxw();return t.changeSecond(t.secondStep),e.preventDefault()})("keydown.ArrowDown",function(e){c.CHM(n);var t=c.oxw();return t.changeSecond(-t.secondStep),e.preventDefault()}),c.qZA(),c.YNc(3,Be,4,7,"button",3),c.qZA()}if(2&e){var r=c.oxw();c.xp6(1),c.Q6J("ngIf",r.spinners),c.xp6(1),c.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),c.Q6J("value",r.formatMinSec(null==r.model?null:r.model.second))("readOnly",r.readonlyInputs)("disabled",r.disabled),c.xp6(1),c.Q6J("ngIf",r.spinners)}}function He(e,t){1&e&&c._UZ(0,"div",5)}function qe(e,t){if(1&e&&(c.ynx(0),c.SDv(1,27),c.BQk()),2&e){var n=c.oxw(2);c.xp6(1),c.pQV(n.i18n.getAfternoonPeriod()),c.QtT(1)}}function je(e,t){if(1&e&&c.SDv(0,28),2&e){var n=c.oxw(2);c.pQV(n.i18n.getMorningPeriod()),c.QtT(0)}}function Ye(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",23),c.TgZ(1,"button",24),c.NdJ("click",function(){return c.CHM(n),c.oxw().toggleMeridian()}),c.YNc(2,qe,2,1,"ng-container",25),c.YNc(3,je,1,1,"ng-template",null,26,c.W1O),c.qZA(),c.qZA()}if(2&e){var r=c.MAs(4),i=c.oxw();c.xp6(1),c.ekj("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),c.Q6J("disabled",i.disabled),c.xp6(1),c.Q6J("ngIf",i.model&&i.model.hour>=12)("ngIfElse",r)}}function Je(e){return parseInt("".concat(e),10)}function ze(e){return"string"==typeof e}function Qe(e){return!isNaN(Je(e))}function We(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Ke(e){return Qe(e)?"0".concat(e).slice(-2):""}function Xe(e,t){return e&&e.className&&e.className.split&&e.className.split(/\s+/).indexOf(t)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var $e=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e),this.animation=!0});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,c.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),et=function(){},tt=new Map,nt=function(e,t,n,r){var i=r.context||{},o=tt.get(t);if(o)switch(r.runningTransition){case"continue":return m.E;case"stop":e.run(function(){return o.transition$.complete()}),i=Object.assign(o.context,i),tt.delete(t)}var a=n(t,r.animation,i)||et;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(function(){return a()}),(0,y.of)(void 0).pipe(function(e){return function(t){return new f.y(function(n){return t.subscribe(function(t){return e.run(function(){return n.next(t)})},function(t){return e.run(function(){return n.error(t)})},function(){return e.run(function(){return n.complete()})})})}}(e));var s=new b.x,l=new b.x,u=s.pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return(0,w.z)(t,y.of.apply(void 0,(0,h.ev)([],(0,h.CR)(e))))}}(!0));tt.set(t,{transition$:s,complete:function(){l.next(),l.complete()},context:i});var c=function(e){var t=window.getComputedStyle(e),n=t.transitionDuration;return 1e3*(parseFloat(t.transitionDelay)+parseFloat(n))}(t);return e.runOutsideAngular(function(){var n=(0,_.R)(t,"transitionend").pipe((0,K.R)(u),(0,X.h)(function(e){return e.target===t})),r=(0,C.H)(c+5).pipe((0,K.R)(u));(0,E.S)(r,n,l).pipe((0,K.R)(u)).subscribe(function(){tt.delete(t),e.run(function(){a(),s.next(),s.complete()})})}),s.asObservable()},rt=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[d.ez]]}),e}(),it=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=c.lG2({type:e,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(e,t){2&e&&c.ekj("btn",!0)("active",t.active)("disabled",t.disabled)("focus",t.focused)}}),e}(),ot=0,at=function(){var e=function(){function e(){(0,u.Z)(this,e),this._radios=new Set,this._value=null,this.name="ngb-radio-".concat(ot++),this.onChange=function(e){},this.onTouched=function(){}}return(0,l.Z)(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this.setDisabledState(e)}},{key:"onRadioChange",value:function(e){this.writeValue(e.value),this.onChange(e.value)}},{key:"onRadioValueUpdate",value:function(){this._updateRadiosValue()}},{key:"register",value:function(e){this._radios.add(e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._disabled=e,this._updateRadiosDisabled()}},{key:"unregister",value:function(e){this._radios.delete(e)}},{key:"writeValue",value:function(e){this._value=e,this._updateRadiosValue()}},{key:"_updateRadiosValue",value:function(){var e=this;this._radios.forEach(function(t){return t.updateValue(e._value)})}},{key:"_updateRadiosDisabled",value:function(){this._radios.forEach(function(e){return e.updateDisabled()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=c.lG2({type:e,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[c._Bn([{provide:oe.JU,useExisting:(0,c.Gpc)(function(){return e}),multi:!0}])]}),e}(),st=function(){var e=function(){function e(t,n,r,i,o){(0,u.Z)(this,e),this._group=t,this._label=n,this._renderer=r,this._element=i,this._cd=o,this._value=null,this._group.register(this),this.updateDisabled()}return(0,l.Z)(e,[{key:"value",get:function(){return this._value},set:function(e){this._value=e;var t=e?e.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",t),this._group.onRadioValueUpdate()}},{key:"disabled",get:function(){return this._group.disabled||this._disabled},set:function(e){this._disabled=!1!==e,this.updateDisabled()}},{key:"focused",set:function(e){this._label&&(this._label.focused=e),e||this._group.onTouched()}},{key:"checked",get:function(){return this._checked}},{key:"nameAttr",get:function(){return this.name||this._group.name}},{key:"ngOnDestroy",value:function(){this._group.unregister(this)}},{key:"onChange",value:function(){this._group.onRadioChange(this)}},{key:"updateValue",value:function(e){this.value!==e&&this._cd.markForCheck(),this._checked=this.value===e,this._label.active=this._checked}},{key:"updateDisabled",value:function(){this._label.disabled=this.disabled}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(at),c.Y36(it),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(c.sBO))},e.\u0275dir=c.lG2({type:e,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(e,t){1&e&&c.NdJ("change",function(){return t.onChange()})("focus",function(){return t.focused=!0})("blur",function(){return t.focused=!1}),2&e&&c.Ikx("checked",t.checked)("disabled",t.disabled)("name",t.nameAttr)},inputs:{value:"value",disabled:"disabled",name:"name"}}),e}(),lt=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({}),e}(),ut=function(){function e(t,n,r){(0,u.Z)(this,e),this.year=We(t)?t:null,this.month=We(n)?n:null,this.day=We(r)?r:null}return(0,l.Z)(e,[{key:"equals",value:function(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}},{key:"before",value:function(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}},{key:"after",value:function(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}],[{key:"from",value:function(t){return t instanceof e?t:t?new e(t.year,t.month,t.day):null}}]),e}();function ct(e){return new ut(e.getFullYear(),e.getMonth()+1,e.getDate())}function dt(e){var t=new Date(e.year,e.month-1,e.day,12);return isNaN(t.getTime())||t.setFullYear(e.year),t}function ht(){return new pt}var ft=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,c.Yz7)({factory:ht,token:e,providedIn:"root"}),e}(),pt=function(){var e=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"getDaysPerWeek",value:function(){return 7}},{key:"getMonths",value:function(){return[1,2,3,4,5,6,7,8,9,10,11,12]}},{key:"getWeeksPerMonth",value:function(){return 6}},{key:"getNext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=dt(e),i=!0,o=r.getMonth();switch(t){case"y":r.setFullYear(r.getFullYear()+n);break;case"m":r.setMonth(o+=n),(o%=12)<0&&(o+=12);break;case"d":r.setDate(r.getDate()+n),i=!1;break;default:return e}return i&&r.getMonth()!==o&&r.setDate(0),ct(r)}},{key:"getPrev",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.getNext(e,t,-n)}},{key:"getWeekday",value:function(e){var t=dt(e).getDay();return 0===t?7:t}},{key:"getWeekNumber",value:function(e,t){7===t&&(t=0);var n=dt(e[(11-t)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));var r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1}},{key:"getToday",value:function(){return ct(new Date)}},{key:"isValid",value:function(e){if(!(e&&We(e.year)&&We(e.month)&&We(e.day)))return!1;if(0===e.year)return!1;var t=dt(e);return!isNaN(t.getTime())&&t.getFullYear()===e.year&&t.getMonth()+1===e.month&&t.getDate()===e.day}}]),n}(ft);return e.\u0275fac=function(){var t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}();function mt(e,t){return!function(e,t){return!e&&!t||!!e&&!!t&&e.equals(t)}(e,t)}function vt(e,t){return!(!e&&!t||e&&t&&e.year===t.year&&e.month===t.month)}function gt(e,t,n){return e&&t&&e.before(t)?t:e&&n&&e.after(n)?n:e||null}function yt(e,t){var n=t.minDate,r=t.maxDate,i=t.markDisabled;return!(null==e||t.disabled||i&&i(e,{year:e.year,month:e.month})||n&&e.before(n)||r&&e.after(r))}function bt(e,t,n){var r=e.getDaysPerWeek(),i=new ut(t.year,t.month,1),o=e.getWeekday(i)%r;return e.getPrev(i,"d",(r+o-n)%r)}var _t=function(){var e=function(){function e(){(0,u.Z)(this,e)}return(0,l.Z)(e,[{key:"getWeekdayLabel",value:function(e,t){return this.getWeekdayShortName(e)}},{key:"getMonthLabel",value:function(e){return"".concat(this.getMonthFullName(e.month,e.year)," ").concat(this.getYearNumerals(e.year))}},{key:"getDayNumerals",value:function(e){return"".concat(e.day)}},{key:"getWeekNumerals",value:function(e){return"".concat(e)}},{key:"getYearNumerals",value:function(e){return"".concat(e)}},{key:"getWeekLabel",value:function(){return""}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,c.Yz7)({factory:function(){return e=(0,c.LFG)(c.soG),new Ct(e);var e},token:e,providedIn:"root"}),e}(),Ct=function(){var e=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this))._locale=e,r._monthsShort=(0,d.UT)(e,d.x.Standalone,d.Tn.Abbreviated),r._monthsFull=(0,d.UT)(e,d.x.Standalone,d.Tn.Wide),r}return(0,l.Z)(n,[{key:"getWeekdayShortName",value:function(e){return this.getWeekdayLabel(e,d.Tn.Short)}},{key:"getWeekdayLabel",value:function(e,t){var n=(0,d.Mn)(this._locale,d.x.Standalone,void 0===t?d.Tn.Short:t);return n.map(function(e,t){return n[(t+1)%7]})[e-1]||""}},{key:"getMonthShortName",value:function(e){return this._monthsShort[e-1]||""}},{key:"getMonthFullName",value:function(e){return this._monthsFull[e-1]||""}},{key:"getDayAriaLabel",value:function(e){var t=new Date(e.year,e.month-1,e.day);return(0,d.p6)(t,"fullDate",this._locale)}}]),n}(_t);return e.\u0275fac=function(t){return new(t||e)(c.LFG(c.soG))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Et=function(){var e=function(){function e(t,n){var r=this;(0,u.Z)(this,e),this._calendar=t,this._i18n=n,this._VALIDATORS={dayTemplateData:function(e){if(r._state.dayTemplateData!==e)return{dayTemplateData:e}},displayMonths:function(e){if(We(e=Je(e))&&e>0&&r._state.displayMonths!==e)return{displayMonths:e}},disabled:function(e){if(r._state.disabled!==e)return{disabled:e}},firstDayOfWeek:function(e){if(We(e=Je(e))&&e>=0&&r._state.firstDayOfWeek!==e)return{firstDayOfWeek:e}},focusVisible:function(e){if(r._state.focusVisible!==e&&!r._state.disabled)return{focusVisible:e}},markDisabled:function(e){if(r._state.markDisabled!==e)return{markDisabled:e}},maxDate:function(e){var t=r.toValidDate(e,null);if(mt(r._state.maxDate,t))return{maxDate:t}},minDate:function(e){var t=r.toValidDate(e,null);if(mt(r._state.minDate,t))return{minDate:t}},navigation:function(e){if(r._state.navigation!==e)return{navigation:e}},outsideDays:function(e){if(r._state.outsideDays!==e)return{outsideDays:e}},weekdays:function(e){var t=!0===e||!1===e?d.Tn.Short:e,n=!0!==e&&!1!==e||e;if(r._state.weekdayWidth!==t||r._state.weekdaysVisible!==n)return{weekdayWidth:t,weekdaysVisible:n}}},this._model$=new b.x,this._dateSelect$=new b.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:d.Tn.Short,weekdaysVisible:!0}}return(0,l.Z)(e,[{key:"model$",get:function(){return this._model$.pipe((0,X.h)(function(e){return e.months.length>0}))}},{key:"dateSelect$",get:function(){return this._dateSelect$.pipe((0,X.h)(function(e){return null!==e}))}},{key:"set",value:function(e){var t=this,n=Object.keys(e).map(function(n){return t._VALIDATORS[n](e[n])}).reduce(function(e,t){return Object.assign(Object.assign({},e),t)},{});Object.keys(n).length>0&&this._nextState(n)}},{key:"focus",value:function(e){var t=this.toValidDate(e,null);null!=t&&!this._state.disabled&&mt(this._state.focusDate,t)&&this._nextState({focusDate:e})}},{key:"focusSelect",value:function(){yt(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}},{key:"open",value:function(e){var t=this.toValidDate(e,this._calendar.getToday());null==t||this._state.disabled||this._state.firstDate&&!vt(this._state.firstDate,t)||this._nextState({firstDate:t})}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toValidDate(e,null);null==n||this._state.disabled||(mt(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),t.emitEvent&&yt(n,this._state)&&this._dateSelect$.next(n))}},{key:"toValidDate",value:function(e,t){var n=ut.from(e);return void 0===t&&(t=this._calendar.getToday()),this._calendar.isValid(n)?n:t}},{key:"getMonth",value:function(e){var t,n=(0,o.Z)(this._state.months);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.month===r.number&&e.year===r.year)return r}}catch(i){n.e(i)}finally{n.f()}throw new Error("month ".concat(e.month," of year ").concat(e.year," not found"))}},{key:"_nextState",value:function(e){var t=this._updateState(e);this._patchContexts(t),this._state=t,this._model$.next(this._state)}},{key:"_patchContexts",value:function(e){var t=e.months,n=e.displayMonths,r=e.selectedDate,i=e.focusDate,o=e.focusVisible,a=e.disabled,s=e.outsideDays;e.months.forEach(function(e){e.weeks.forEach(function(l){l.days.forEach(function(l){i&&(l.context.focused=i.equals(l.date)&&o),l.tabindex=!a&&i&&l.date.equals(i)&&i.month===e.number?0:-1,!0===a&&(l.context.disabled=!0),void 0!==r&&(l.context.selected=null!==r&&r.equals(l.date)),e.number!==l.date.month&&(l.hidden="hidden"===s||"collapsed"===s||n>1&&l.date.after(t[0].firstDate)&&l.date.before(t[n-1].lastDate))})})})}},{key:"_updateState",value:function(e){var t,n,r,i,o=Object.assign({},this._state,e),a=o.firstDate;if(("minDate"in e||"maxDate"in e)&&(function(e,t){if(t&&e&&t.before(e))throw new Error("'maxDate' ".concat(t," should be greater than 'minDate' ").concat(e))}(o.minDate,o.maxDate),o.focusDate=gt(o.focusDate,o.minDate,o.maxDate),o.firstDate=gt(o.firstDate,o.minDate,o.maxDate),a=o.focusDate),"disabled"in e&&(o.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(a=o.selectedDate),"focusVisible"in e)return o;if("focusDate"in e&&(o.focusDate=gt(o.focusDate,o.minDate,o.maxDate),a=o.focusDate,0!==o.months.length&&o.focusDate&&!o.focusDate.before(o.firstDate)&&!o.focusDate.after(o.lastDate)))return o;if("firstDate"in e&&(o.firstDate=gt(o.firstDate,o.minDate,o.maxDate),a=o.firstDate),a){var s=function(e,t,n,r,i){var o=n.displayMonths,a=n.months,s=a.splice(0,a.length);return Array.from({length:o},function(n,r){var o=Object.assign(e.getNext(t,"m",r),{day:1});if(a[r]=null,!i){var l=s.findIndex(function(e){return e.firstDate.equals(o)});-1!==l&&(a[r]=s.splice(l,1)[0])}return o}).forEach(function(t,i){null===a[i]&&(a[i]=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=n.dayTemplateData,a=n.minDate,s=n.maxDate,l=n.firstDayOfWeek,u=n.markDisabled,c=n.outsideDays,d=n.weekdayWidth,h=n.weekdaysVisible,f=e.getToday();i.firstDate=null,i.lastDate=null,i.number=t.month,i.year=t.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],t=bt(e,t,l),h||(i.weekdays.length=0);for(var p=0;p<e.getWeeksPerMonth();p++){var m=i.weeks[p];m||(m=i.weeks[p]={number:0,days:[],collapsed:!0});for(var v=m.days,g=0;g<e.getDaysPerWeek();g++){0===p&&h&&(i.weekdays[g]=r.getWeekdayLabel(e.getWeekday(t),d));var y=new ut(t.year,t.month,t.day),b=e.getNext(y),_=r.getDayAriaLabel(y),C=!!(a&&y.before(a)||s&&y.after(s));!C&&u&&(C=u(y,{month:i.number,year:i.year}));var E=y.equals(f),T=o?o(y,{month:i.number,year:i.year}):void 0;null===i.firstDate&&y.month===i.number&&(i.firstDate=y),y.month===i.number&&b.month!==i.number&&(i.lastDate=y);var w=v[g];w||(w=v[g]={}),w.date=y,w.context=Object.assign(w.context||{},{$implicit:y,date:y,data:T,currentMonth:i.number,currentYear:i.year,disabled:C,focused:!1,selected:!1,today:E}),w.tabindex=-1,w.ariaLabel=_,w.hidden=!1,t=b}m.number=e.getWeekNumber(v.map(function(e){return e.date}),l),m.collapsed="collapsed"===c&&v[0].date.month!==i.number&&v[v.length-1].date.month!==i.number}return i}(e,t,n,r,s.shift()||{}))}),a}(this._calendar,a,o,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e||"weekdaysVisible"in e);o.months=s,o.firstDate=s[0].firstDate,o.lastDate=s[s.length-1].lastDate,"selectedDate"in e&&!yt(o.selectedDate,o)&&(o.selectedDate=null),"firstDate"in e&&(!o.focusDate||o.focusDate.before(o.firstDate)||o.focusDate.after(o.lastDate))&&(o.focusDate=a);var l=!this._state.firstDate||this._state.firstDate.year!==o.firstDate.year,u=!this._state.firstDate||this._state.firstDate.month!==o.firstDate.month;"select"===o.navigation?(("minDate"in e||"maxDate"in e||0===o.selectBoxes.years.length||l)&&(o.selectBoxes.years=function(e,t,n){if(!e)return[];for(var r=t?Math.max(t.year,e.year-500):e.year-10,i=(n?Math.min(n.year,e.year+500):e.year+10)-r+1,o=Array(i),a=0;a<i;a++)o[a]=r+a;return o}(o.firstDate,o.minDate,o.maxDate)),("minDate"in e||"maxDate"in e||0===o.selectBoxes.months.length||l)&&(o.selectBoxes.months=function(e,t,n,r){if(!t)return[];var i=e.getMonths(t.year);if(n&&t.year===n.year){var o=i.findIndex(function(e){return e===n.month});i=i.slice(o)}if(r&&t.year===r.year){var a=i.findIndex(function(e){return e===r.month});i=i.slice(0,a+1)}return i}(this._calendar,o.firstDate,o.minDate,o.maxDate))):o.selectBoxes={years:[],months:[]},"arrows"!==o.navigation&&"select"!==o.navigation||!(u||l||"minDate"in e||"maxDate"in e||"disabled"in e)||(o.prevDisabled=o.disabled||(t=o.minDate,n=Object.assign(this._calendar.getPrev(o.firstDate,"m"),{day:1}),null!=t&&(n.year===t.year&&n.month<t.month||n.year<t.year&&1===t.month)),o.nextDisabled=o.disabled||(r=o.maxDate,i=Object.assign(this._calendar.getNext(o.lastDate,"m"),{day:1}),null!=r&&i.after(r)))}return o}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(ft),c.LFG(_t))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Tt=function(e){return e[e.PREV=0]="PREV",e[e.NEXT=1]="NEXT",e}({}),wt=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e),this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1,this.weekdays=d.Tn.Short});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,c.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e}();function Ot(){return new It}var xt=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,c.Yz7)({factory:Ot,token:e,providedIn:"root"}),e}(),It=function(){var e=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"fromModel",value:function(e){return e&&We(e.year)&&We(e.month)&&We(e.day)?{year:e.year,month:e.month,day:e.day}:null}},{key:"toModel",value:function(e){return e&&We(e.year)&&We(e.month)&&We(e.day)?{year:e.year,month:e.month,day:e.day}:null}}]),n}(xt);return e.\u0275fac=function(){var t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Mt=function(){var e=(0,l.Z)(function e(t){(0,u.Z)(this,e),this.templateRef=t});return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["ng-template","ngbDatepickerContent",""]]}),e}(),St=function(){var e=function(){function e(t,n,r,i,o,a,s,l){var d=this;(0,u.Z)(this,e),this._service=t,this._calendar=n,this.i18n=r,this._elementRef=a,this._ngbDateAdapter=s,this._ngZone=l,this._controlValue=null,this._destroyed$=new b.x,this._publicState={},this.navigate=new c.vpe,this.dateSelect=new c.vpe,this.onChange=function(e){},this.onTouched=function(){},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate","weekdays"].forEach(function(e){return d[e]=i[e]}),t.dateSelect$.pipe((0,K.R)(this._destroyed$)).subscribe(function(e){d.dateSelect.emit(e)}),t.model$.pipe((0,K.R)(this._destroyed$)).subscribe(function(e){var t=e.firstDate,n=d.model?d.model.firstDate:null;d._publicState={maxDate:e.maxDate,minDate:e.minDate,firstDate:e.firstDate,lastDate:e.lastDate,focusedDate:e.focusDate,months:e.months.map(function(e){return e.firstDate})};var r=!1;if(t.equals(n)||(d.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:t.year,month:t.month},preventDefault:function(){return r=!0}}),!r||null===n)){var i=e.selectedDate,a=e.focusDate,s=d.model?d.model.focusDate:null;d.model=e,mt(i,d._controlValue)&&(d._controlValue=i,d.onTouched(),d.onChange(d._ngbDateAdapter.toModel(i))),mt(a,s)&&s&&e.focusVisible&&d.focus(),o.markForCheck()}else d._service.open(n)})}return(0,l.Z)(e,[{key:"showWeekdays",get:function(){return this._showWeekdays},set:function(e){this.weekdays=e,this._showWeekdays=e}},{key:"state",get:function(){return this._publicState}},{key:"calendar",get:function(){return this._calendar}},{key:"focusDate",value:function(e){this._service.focus(ut.from(e))}},{key:"focusSelect",value:function(){this._service.focusSelect()}},{key:"focus",value:function(){var e=this;this._ngZone.onStable.asObservable().pipe((0,$.q)(1)).subscribe(function(){var t=e._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}},{key:"navigateTo",value:function(e){this._service.open(ut.from(e?e.day?e:Object.assign(Object.assign({},e),{day:1}):null))}},{key:"ngAfterViewInit",value:function(){var e=this;this._ngZone.runOutsideAngular(function(){var t=(0,_.R)(e._contentEl.nativeElement,"focusin"),n=(0,_.R)(e._contentEl.nativeElement,"focusout"),r=e._elementRef.nativeElement;(0,T.T)(t,n).pipe((0,X.h)(function(e){var t=e.target,n=e.relatedTarget;return!(Xe(t,"ngb-dp-day")&&Xe(n,"ngb-dp-day")&&r.contains(t)&&r.contains(n))}),(0,K.R)(e._destroyed$)).subscribe(function(t){var n=t.type;return e._ngZone.run(function(){return e._service.set({focusVisible:"focusin"===n})})})})}},{key:"ngOnDestroy",value:function(){this._destroyed$.next()}},{key:"ngOnInit",value:function(){var e=this;if(void 0===this.model){var t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(function(n){return t[n]=e[n]}),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}},{key:"ngOnChanges",value:function(e){var t=this,n={};if(e.showWeekdays&&(n.weekdays=this.weekdays),["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(function(t){return t in e}).forEach(function(e){return n[e]=t[e]}),this._service.set(n),"startDate"in e){var r=e.startDate;vt(r.previousValue,r.currentValue)&&this.navigateTo(this.startDate)}}},{key:"onDateSelect",value:function(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}},{key:"onNavigateDateSelect",value:function(e){this._service.open(e)}},{key:"onNavigateEvent",value:function(e){switch(e){case Tt.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Tt.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._service.set({disabled:e})}},{key:"writeValue",value:function(e){this._controlValue=ut.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(Et),c.Y36(ft),c.Y36(_t),c.Y36(wt),c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(xt),c.Y36(c.R0b))},e.\u0275cmp=c.Xpm({type:e,selectors:[["ngb-datepicker"]],contentQueries:function(e,t,n){var r;1&e&&c.Suo(n,Mt,7),2&e&&c.iGM(r=c.CRH())&&(t.contentTemplate=r.first)},viewQuery:function(e,t){var n;1&e&&(c.Gf(se,7),c.Gf(le,7)),2&e&&(c.iGM(n=c.CRH())&&(t._defaultDayTemplate=n.first),c.iGM(n=c.CRH())&&(t._contentEl=n.first))},inputs:{showWeekdays:"showWeekdays",weekdays:"weekdays",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[c._Bn([{provide:oe.JU,useExisting:(0,c.Gpc)(function(){return e}),multi:!0},Et]),c.TTD],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(e,t){if(1&e&&(c.YNc(0,ue,1,5,"ng-template",null,0,c.W1O),c.YNc(2,he,1,1,"ng-template",null,1,c.W1O),c.TgZ(4,"div",2),c.YNc(5,fe,1,7,"ngb-datepicker-navigation",3),c.qZA(),c.TgZ(6,"div",4,5),c.YNc(8,pe,0,0,"ng-template",6),c.qZA(),c.YNc(9,me,0,0,"ng-template",6)),2&e){var n=c.MAs(3);c.xp6(5),c.Q6J("ngIf","none"!==t.navigation),c.xp6(1),c.ekj("ngb-dp-months",!t.contentTemplate),c.xp6(2),c.Q6J("ngTemplateOutlet",(null==t.contentTemplate?null:t.contentTemplate.templateRef)||n),c.xp6(1),c.Q6J("ngTemplateOutlet",t.footerTemplate)}},directives:function(){return[d.O5,d.tP,zt,d.sg,Dt,kt]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{background-color:#f8f9fa;background-color:var(--light);border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{background-color:#f8f9fa;background-color:var(--light);font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],encapsulation:2,changeDetection:0}),e}(),Vt=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({}),At=function(){var e=function(){function e(){(0,u.Z)(this,e)}return(0,l.Z)(e,[{key:"processKey",value:function(e,t){var n=t.state,r=t.calendar;switch(e.which){case Vt.PageUp:t.focusDate(r.getPrev(n.focusedDate,e.shiftKey?"y":"m",1));break;case Vt.PageDown:t.focusDate(r.getNext(n.focusedDate,e.shiftKey?"y":"m",1));break;case Vt.End:t.focusDate(e.shiftKey?n.maxDate:n.lastDate);break;case Vt.Home:t.focusDate(e.shiftKey?n.minDate:n.firstDate);break;case Vt.ArrowLeft:t.focusDate(r.getPrev(n.focusedDate,"d",1));break;case Vt.ArrowUp:t.focusDate(r.getPrev(n.focusedDate,"d",r.getDaysPerWeek()));break;case Vt.ArrowRight:t.focusDate(r.getNext(n.focusedDate,"d",1));break;case Vt.ArrowDown:t.focusDate(r.getNext(n.focusedDate,"d",r.getDaysPerWeek()));break;case Vt.Enter:case Vt.Space:t.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,c.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Dt=function(){var e=function(){function e(t,n,r,i){(0,u.Z)(this,e),this.i18n=t,this.datepicker=n,this._keyboardService=r,this._service=i}return(0,l.Z)(e,[{key:"month",set:function(e){this.viewModel=this._service.getMonth(e)}},{key:"onKeyDown",value:function(e){this._keyboardService.processKey(e,this.datepicker)}},{key:"doSelect",value:function(e){e.context.disabled||e.hidden||this.datepicker.onDateSelect(e.date)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(_t),c.Y36(St),c.Y36(At),c.Y36(Et))},e.\u0275cmp=c.Xpm({type:e,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(e,t){1&e&&c.NdJ("keydown",function(e){return t.onKeyDown(e)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(c.YNc(0,ye,3,2,"div",0),c.YNc(1,we,1,1,"ng-template",1)),2&e&&(c.Q6J("ngIf",t.viewModel.weekdays.length>0),c.xp6(1),c.Q6J("ngForOf",t.viewModel.weeks))},directives:[d.O5,d.sg,d.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{font-style:italic;line-height:2rem;text-align:center}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{background-color:#f8f9fa;background-color:var(--light);border-bottom:1px solid rgba(0,0,0,.125);border-radius:0}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{height:2rem;width:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}'],encapsulation:2}),e}(),kt=function(){var e=function(){function e(t){(0,u.Z)(this,e),this.i18n=t,this.navigation=Tt,this.months=[],this.navigate=new c.vpe,this.select=new c.vpe}return(0,l.Z)(e,[{key:"onClickPrev",value:function(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}},{key:"onClickNext",value:function(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(_t))},e.\u0275cmp=c.Xpm({type:e,selectors:[["ngb-datepicker-navigation"]],inputs:{months:"months",date:"date",disabled:"disabled",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:function(){return[[1,"ngb-dp-arrow"],["type","button","aria-label",$localize(S||(S=s([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]))),"title",$localize(V||(V=s([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]))),1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",$localize(A||(A=s([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]))),"title",$localize(D||(D=s([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]))),1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"button",1),c.NdJ("click",function(e){return t.onClickPrev(e)}),c._UZ(2,"span",2),c.qZA(),c.qZA(),c.YNc(3,Oe,1,4,"ngb-datepicker-navigation-select",3),c.YNc(4,Se,1,1,void 0,4),c.TgZ(5,"div",5),c.TgZ(6,"button",6),c.NdJ("click",function(e){return t.onClickNext(e)}),c._UZ(7,"span",2),c.qZA(),c.qZA()),2&e&&(c.xp6(1),c.Q6J("disabled",t.prevDisabled),c.xp6(2),c.Q6J("ngIf",t.showSelect),c.xp6(1),c.Q6J("ngIf",!t.showSelect),c.xp6(2),c.Q6J("disabled",t.nextDisabled))},directives:function(){return[d.O5,Qt,d.sg]},styles:["ngb-datepicker-navigation{align-items:center;display:flex}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg);width:.75em}.ngb-dp-arrow{display:flex;flex:1 1 auto;height:2rem;margin:0;padding-left:0;padding-right:0;width:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{margin-left:.15em;margin-right:.25em;transform:rotate(45deg)}.ngb-dp-arrow-btn{background-color:transparent;border:none;margin:0 .5rem;padding:0 .25rem;z-index:1}.ngb-dp-arrow-btn:focus{outline-style:auto;outline-width:1px}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}"],encapsulation:2,changeDetection:0}),e}(),Rt=function(e,t){return!!t&&t.some(function(t){return t.contains(e)})},Pt=function(e,t){return!t||null!=function(e,t){return t?void 0===e.closest?null:e.closest(t):null}(e,t)},Nt="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Ft(e,t,n,r,i,o,s,l){var u;n&&e.runOutsideAngular((u=function(){var u=(0,_.R)(t,"keydown").pipe((0,K.R)(i),(0,X.h)(function(e){return e.which===Vt.Escape}),(0,te.b)(function(e){return e.preventDefault()})),c=(0,_.R)(t,"mousedown").pipe((0,ee.U)(function(e){var t=e.target;return 2!==e.button&&!Rt(t,s)&&("inside"===n?Rt(t,o)&&Pt(t,l):"outside"===n?!Rt(t,o):Pt(t,l)||!Rt(t,o))}),(0,K.R)(i)),d=(0,_.R)(t,"mouseup").pipe(M(c),(0,X.h)(function(e){return(0,a.Z)(e,2)[1]}),(0,ne.g)(0),(0,K.R)(i));(0,E.S)([u.pipe((0,ee.U)(function(e){return 0})),d.pipe((0,ee.U)(function(e){return 1}))]).subscribe(function(t){return e.run(function(){return r(t)})})},Nt?function(){return setTimeout(function(){return u()},100)}:u))}var Lt=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Zt(e){var t=Array.from(e.querySelectorAll(Lt)).filter(function(e){return-1!==e.tabIndex});return[t[0],t[t.length-1]]}var Ut=/\s+/,Bt=new(function(){function e(){(0,u.Z)(this,e)}return(0,l.Z)(e,[{key:"getAllStyles",value:function(e){return window.getComputedStyle(e)}},{key:"getStyle",value:function(e,t){return this.getAllStyles(e)[t]}},{key:"isStaticPositioned",value:function(e){return"static"===(this.getStyle(e,"position")||"static")}},{key:"offsetParent",value:function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}},{key:"position",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))t={top:(t=e.getBoundingClientRect()).top,bottom:t.bottom,left:t.left,right:t.right,height:t.height,width:t.width};else{var i=this.offsetParent(e);t=this.offset(e,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return t.top-=r.top,t.bottom-=r.top,t.left-=r.left,t.right-=r.left,n&&(t.top=Math.round(t.top),t.bottom=Math.round(t.bottom),t.left=Math.round(t.left),t.right=Math.round(t.right)),t}},{key:"offset",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getBoundingClientRect(),r={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},i={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+r.top,bottom:n.bottom+r.top,left:n.left+r.left,right:n.right+r.left};return t&&(i.height=Math.round(i.height),i.width=Math.round(i.width),i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}},{key:"positionElements",value:function(e,t,n,r){var i=n.split("-"),o=(0,a.Z)(i,2),s=o[0],l=void 0===s?"top":s,u=o[1],c=void 0===u?"center":u,d=r?this.offset(e,!1):this.position(e,!1),h=this.getAllStyles(t),f=parseFloat(h.marginTop),p=parseFloat(h.marginBottom),m=parseFloat(h.marginLeft),v=parseFloat(h.marginRight),g=0,y=0;switch(l){case"top":g=d.top-(t.offsetHeight+f+p);break;case"bottom":g=d.top+d.height;break;case"left":y=d.left-(t.offsetWidth+m+v);break;case"right":y=d.left+d.width}switch(c){case"top":g=d.top;break;case"bottom":g=d.top+d.height-t.offsetHeight;break;case"left":y=d.left;break;case"right":y=d.left+d.width-t.offsetWidth;break;case"center":"top"===l||"bottom"===l?y=d.left+d.width/2-t.offsetWidth/2:g=d.top+d.height/2-t.offsetHeight/2}t.style.transform="translate(".concat(Math.round(y),"px, ").concat(Math.round(g),"px)");var b=t.getBoundingClientRect(),_=document.documentElement,C=window.innerHeight||_.clientHeight,E=window.innerWidth||_.clientWidth;return b.left>=0&&b.top>=0&&b.right<=E&&b.bottom<=C}}]),e}());function Gt(e,t,n,r,i){var s=Array.isArray(n)?n:n.split(Ut),l=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],u=t.classList,c=function(e){var t=e.split("-"),n=(0,a.Z)(t,2),r=n[0],o=n[1],s=[];return i&&(s.push("".concat(i,"-").concat(r)),o&&s.push("".concat(i,"-").concat(r,"-").concat(o)),s.forEach(function(e){u.add(e)})),s};i&&l.forEach(function(e){u.remove("".concat(i,"-").concat(e))});var d=s.findIndex(function(e){return"auto"===e});d>=0&&l.forEach(function(e){null==s.find(function(t){return-1!==t.search("^"+e)})&&s.splice(d++,1,e)});var h=t.style;h.position="absolute",h.top="0",h.left="0",h["will-change"]="transform";var f,p=null,m=!1,v=(0,o.Z)(s);try{for(v.s();!(f=v.n()).done;){var g=c(p=f.value);if(Bt.positionElements(e,t,p,r)){m=!0;break}i&&g.forEach(function(e){u.remove(e)})}}catch(y){v.e(y)}finally{v.f()}return m||(c(p=s[0]),Bt.positionElements(e,t,p,r)),p}function Ht(){return new jt}var qt=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,c.Yz7)({factory:Ht,token:e,providedIn:"root"}),e}(),jt=function(){var e=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"parse",value:function(e){if(null!=e){var t=e.trim().split("-");if(1===t.length&&Qe(t[0]))return{year:Je(t[0]),month:null,day:null};if(2===t.length&&Qe(t[0])&&Qe(t[1]))return{year:Je(t[0]),month:Je(t[1]),day:null};if(3===t.length&&Qe(t[0])&&Qe(t[1])&&Qe(t[2]))return{year:Je(t[0]),month:Je(t[1]),day:Je(t[2])}}return null}},{key:"format",value:function(e){return e?"".concat(e.year,"-").concat(Qe(e.month)?Ke(e.month):"","-").concat(Qe(e.day)?Ke(e.day):""):""}}]),n}(qt);return e.\u0275fac=function(){var t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Yt=function(){var e=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.apply(this,arguments)).autoClose=!0,e.placement=["bottom-left","bottom-right","top-left","top-right"],e.restoreFocus=!0,e}return(0,l.Z)(n)}(wt);return e.\u0275fac=function(){var t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275prov=(0,c.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Jt=function(){var e=function(){function e(t,n,r,i,o,a,s,l,d,h,f){var p=this;(0,u.Z)(this,e),this._parserFormatter=t,this._elRef=n,this._vcRef=r,this._renderer=i,this._cfr=o,this._ngZone=a,this._calendar=s,this._dateAdapter=l,this._document=d,this._changeDetector=h,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new c.vpe,this.navigate=new c.vpe,this.closed=new c.vpe,this._onChange=function(e){},this._onTouched=function(){},this._validatorChange=function(){},["autoClose","container","positionTarget","placement"].forEach(function(e){return p[e]=f[e]}),this._zoneSubscription=a.onStable.subscribe(function(){return p._updatePopupPosition()})}return(0,l.Z)(e,[{key:"showWeekdays",get:function(){return this._showWeekdays},set:function(e){this.weekdays=e,this._showWeekdays=e}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=""===e||e&&"false"!==e,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"registerOnValidatorChange",value:function(e){this._validatorChange=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"validate",value:function(e){var t=e.value;if(null!=t){var n=this._fromDateStruct(this._dateAdapter.fromModel(t));if(!n)return{ngbDate:{invalid:t}};if(this.minDate&&n.before(ut.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:t}}};if(this.maxDate&&n.after(ut.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:t}}}}return null}},{key:"writeValue",value:function(e){this._model=this._fromDateStruct(this._dateAdapter.fromModel(e)),this._writeModelValue(this._model)}},{key:"manualDateChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e!==this._inputValue;n&&(this._inputValue=e,this._model=this._fromDateStruct(this._parserFormatter.parse(e))),!n&&t||this._onChange(this._model?this._dateAdapter.toModel(this._model):""===e?null:e),t&&this._model&&this._writeModelValue(this._model)}},{key:"isOpen",value:function(){return!!this._cRef}},{key:"open",value:function(){var e=this;if(!this.isOpen()){var t=this._cfr.resolveComponentFactory(St);this._cRef=this._vcRef.createComponent(t),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(function(t){e.writeValue(t),e._onChange(t),e._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.runOutsideAngular(function(){var e=(0,_.R)(t,"focusin").pipe((0,K.R)(n),(0,ee.U)(function(e){return e.target}));(0,_.R)(t,"keydown").pipe((0,K.R)(n),(0,X.h)(function(e){return e.which===Vt.Tab}),M(e)).subscribe(function(e){var n=(0,a.Z)(e,2),r=n[0],i=n[1],o=Zt(t),s=(0,a.Z)(o,2),l=s[0],u=s[1];i!==l&&i!==t||!r.shiftKey||(u.focus(),r.preventDefault()),i!==u||r.shiftKey||(l.focus(),r.preventDefault())}),r&&(0,_.R)(t,"click").pipe((0,K.R)(n),M(e),(0,ee.U)(function(e){return e[1]})).subscribe(function(e){return e.focus()})})}(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),Ft(this._ngZone,this._document,this.autoClose,function(){return e.close()},this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}},{key:"close",value:function(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();var e=this._elWithFocus;ze(this.restoreFocus)?e=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(e=this.restoreFocus),e&&e.focus?e.focus():this._document.body.focus()}}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"navigateTo",value:function(e){this.isOpen()&&this._cRef.instance.navigateTo(e)}},{key:"onBlur",value:function(){this._onTouched()}},{key:"onFocus",value:function(){this._elWithFocus=this._elRef.nativeElement}},{key:"ngOnChanges",value:function(e){if((e.minDate||e.maxDate)&&(this._validatorChange(),this.isOpen()&&(e.minDate&&(this._cRef.instance.minDate=this.minDate),e.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(e))),e.datepickerClass){var t=e.datepickerClass;this._applyPopupClass(t.currentValue,t.previousValue)}}},{key:"ngOnDestroy",value:function(){this.close(),this._zoneSubscription.unsubscribe()}},{key:"_applyDatepickerInputs",value:function(e){var t=this;["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(function(n){void 0!==t[n]&&(e[n]=t[n])}),e.startDate=this.startDate||this._model}},{key:"_applyPopupClass",value:function(e,t){var n,r=null===(n=this._cRef)||void 0===n?void 0:n.location.nativeElement;r&&(e&&this._renderer.addClass(r,e),t&&this._renderer.removeClass(r,t))}},{key:"_applyPopupStyling",value:function(e){this._renderer.addClass(e,"dropdown-menu"),this._renderer.addClass(e,"show"),"body"===this.container&&this._renderer.addClass(e,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}},{key:"_subscribeForDatepickerOutputs",value:function(e){var t=this;e.navigate.subscribe(function(e){return t.navigate.emit(e)}),e.dateSelect.subscribe(function(e){t.dateSelect.emit(e),!0!==t.autoClose&&"inside"!==t.autoClose||t.close()})}},{key:"_writeModelValue",value:function(e){var t=this._parserFormatter.format(e);this._inputValue=t,this._renderer.setProperty(this._elRef.nativeElement,"value",t),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(e)),this._onTouched())}},{key:"_fromDateStruct",value:function(e){var t=e?new ut(e.year,e.month,e.day):null;return this._calendar.isValid(t)?t:null}},{key:"_updatePopupPosition",value:function(){if(this._cRef){var e;if(e=ze(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!e)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");Gt(e,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(qt),c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(c.Qsj),c.Y36(c._Vd),c.Y36(c.R0b),c.Y36(ft),c.Y36(xt),c.Y36(d.K0),c.Y36(c.sBO),c.Y36(Yt))},e.\u0275dir=c.lG2({type:e,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(e,t){1&e&&c.NdJ("input",function(e){return t.manualDateChange(e.target.value)})("change",function(e){return t.manualDateChange(e.target.value,!0)})("focus",function(){return t.onFocus()})("blur",function(){return t.onBlur()}),2&e&&c.Ikx("disabled",t.disabled)},inputs:{showWeekdays:"showWeekdays",weekdays:"weekdays",disabled:"disabled",autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[c._Bn([{provide:oe.JU,useExisting:(0,c.Gpc)(function(){return e}),multi:!0},{provide:oe.Cf,useExisting:(0,c.Gpc)(function(){return e}),multi:!0},{provide:wt,useExisting:Yt}]),c.TTD]}),e}(),zt=function(){var e=function(){function e(t){(0,u.Z)(this,e),this.i18n=t}return(0,l.Z)(e,[{key:"isMuted",value:function(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(_t))},e.\u0275cmp=c.Xpm({type:e,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(e,t){2&e&&c.ekj("bg-primary",t.selected)("text-white",t.selected)("text-muted",t.isMuted())("outside",t.isMuted())("active",t.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:Ve,decls:1,vars:1,template:function(e,t){1&e&&c._uU(0),2&e&&c.Oqu(t.i18n.getDayNumerals(t.date))},styles:["[ngbDatepickerDayView]{background:transparent;border-radius:.25rem;height:2rem;line-height:2rem;text-align:center;width:2rem}[ngbDatepickerDayView].outside{opacity:.5}"],encapsulation:2,changeDetection:0}),e}(),Qt=function(){var e=function(){function e(t,n){(0,u.Z)(this,e),this.i18n=t,this._renderer=n,this.select=new c.vpe,this._month=-1,this._year=-1}return(0,l.Z)(e,[{key:"changeMonth",value:function(e){this.select.emit(new ut(this.date.year,Je(e),1))}},{key:"changeYear",value:function(e){this.select.emit(new ut(Je(e),this.date.month,1))}},{key:"ngAfterViewChecked",value:function(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(_t),c.Y36(c.Qsj))},e.\u0275cmp=c.Xpm({type:e,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(e,t){var n;1&e&&(c.Gf(Ae,7,c.SBq),c.Gf(De,7,c.SBq)),2&e&&(c.iGM(n=c.CRH())&&(t.monthSelect=n.first),c.iGM(n=c.CRH())&&(t.yearSelect=n.first))},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:function(){return[["aria-label",$localize(k||(k=s([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]))),"title",$localize(R||(R=s([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]))),1,"custom-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",$localize(P||(P=s([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]))),"title",$localize(N||(N=s([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]))),1,"custom-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(e,t){1&e&&(c.TgZ(0,"select",0,1),c.NdJ("change",function(e){return t.changeMonth(e.target.value)}),c.YNc(2,ke,2,3,"option",2),c.qZA(),c.TgZ(3,"select",3,4),c.NdJ("change",function(e){return t.changeYear(e.target.value)}),c.YNc(5,Re,2,2,"option",2),c.qZA()),2&e&&(c.Q6J("disabled",t.disabled),c.xp6(2),c.Q6J("ngForOf",t.months),c.xp6(1),c.Q6J("disabled",t.disabled),c.xp6(2),c.Q6J("ngForOf",t.years))},directives:[d.sg,oe.YN,oe.Kr],styles:["ngb-datepicker-navigation-select>.custom-select{flex:1 1 auto;font-size:.875rem;height:1.85rem;padding:0 .5rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],encapsulation:2,changeDetection:0}),e}();new Date(1882,10,12),new Date(2174,10,25);var Wt=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[d.ez,oe.u5]]}),e}(),Kt=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({}),e}(),Xt=(0,l.Z)(function e(t,n,r){(0,u.Z)(this,e),this.nodes=t,this.viewRef=n,this.componentRef=r}),$t=function(){function e(t,n,r,i,o,a,s){(0,u.Z)(this,e),this._type=t,this._injector=n,this._viewContainerRef=r,this._renderer=i,this._ngZone=o,this._componentFactoryResolver=a,this._applicationRef=s,this._windowRef=null,this._contentRef=null}return(0,l.Z)(e,[{key:"open",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes));var i=this._windowRef.location.nativeElement,o=this._ngZone.onStable.pipe((0,$.q)(1),(0,re.z)(function(){return nt(n._ngZone,i,function(e){return e.classList.add("show")},{animation:r,runningTransition:"continue"})}));return{windowRef:this._windowRef,transition$:o}}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._windowRef?nt(this._ngZone,this._windowRef.location.nativeElement,function(e){return e.classList.remove("show")},{animation:t,runningTransition:"stop"}).pipe((0,te.b)(function(){var t;e._windowRef&&(e._viewContainerRef.remove(e._viewContainerRef.indexOf(e._windowRef.hostView)),e._windowRef=null),(null===(t=e._contentRef)||void 0===t?void 0:t.viewRef)&&(e._applicationRef.detachView(e._contentRef.viewRef),e._contentRef.viewRef.destroy(),e._contentRef=null)})):(0,y.of)(void 0)}},{key:"_getContentRef",value:function(e,t){if(e){if(e instanceof c.Rgc){var n=e.createEmbeddedView(t);return this._applicationRef.attachView(n),new Xt([n.rootNodes],n)}return new Xt([[this._renderer.createText("".concat(e))]])}return new Xt([])}}]),e}(),en=function(){function e(t,n){(0,u.Z)(this,e),this.open=t,this.close=n,n||(this.close=t)}return(0,l.Z)(e,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),e}(),tn={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tn,n=(e||"").trim();if(0===n.length)return[];var r=n.split(/\s+/).map(function(e){return e.split(":")}).map(function(e){var n=t[e[0]]||e;return new en(n[0],n[1])}),i=r.filter(function(e){return e.isManual()});if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}function rn(e,t,n,r){return new f.y(function(i){var o=[],a=function(){return i.next(!0)},s=function(){return i.next(!1)},l=function(){return i.next(!r())};return n.forEach(function(n){n.open===n.close?o.push(e.listen(t,n.open,l)):o.push(e.listen(t,n.open,a),e.listen(t,n.close,s))}),function(){o.forEach(function(e){return e()})}})}var on=function(e){return e>0?(0,ne.g)(e):function(e){return e}};function an(e,t,n){return function(r){var i=null,o=r.pipe((0,ee.U)(function(e){return{open:e}}),(0,X.h)(function(e){var t=n();return t===e.open||i&&i.open!==t?(i&&i.open!==e.open&&(i=null),!1):(i=e,!0)}),(0,ie.B)()),a=o.pipe((0,X.h)(function(e){return e.open}),on(e)),s=o.pipe((0,X.h)(function(e){return!e.open}),on(t));return(0,T.T)(a,s).pipe((0,X.h)(function(e){return e===i&&(i=null,e.open!==n())}),(0,ee.U)(function(e){return e.open}))}}var sn=function(){function e(t,n,r){(0,u.Z)(this,e),this.hour=Je(t),this.minute=Je(n),this.second=Je(r)}return(0,l.Z)(e,[{key:"changeHour",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.updateHour((isNaN(this.hour)?0:this.hour)+e)}},{key:"updateHour",value:function(e){this.hour=Qe(e)?(e<0?24+e:e)%24:NaN}},{key:"changeMinute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}},{key:"updateMinute",value:function(e){Qe(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}},{key:"changeSecond",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.updateSecond((isNaN(this.second)?0:this.second)+e)}},{key:"updateSecond",value:function(e){Qe(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}},{key:"isValid",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Qe(this.hour)&&Qe(this.minute)&&(!e||Qe(this.second))}},{key:"toString",value:function(){return"".concat(this.hour||0,":").concat(this.minute||0,":").concat(this.second||0)}}]),e}(),ln=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e),this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,c.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e}();function un(){return new dn}var cn=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,c.Yz7)({factory:un,token:e,providedIn:"root"}),e}(),dn=function(){var e=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"fromModel",value:function(e){return e&&We(e.hour)&&We(e.minute)?{hour:e.hour,minute:e.minute,second:We(e.second)?e.second:null}:null}},{key:"toModel",value:function(e){return e&&We(e.hour)&&We(e.minute)?{hour:e.hour,minute:e.minute,second:We(e.second)?e.second:null}:null}}]),n}(cn);return e.\u0275fac=function(){var t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),hn=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,c.Yz7)({factory:function(){return e=(0,c.LFG)(c.soG),new fn(e);var e},token:e,providedIn:"root"}),e}(),fn=function(){var e=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this))._periods=(0,d.ol)(e,d.x.Standalone,d.Tn.Narrow),r}return(0,l.Z)(n,[{key:"getMorningPeriod",value:function(){return this._periods[0]}},{key:"getAfternoonPeriod",value:function(){return this._periods[1]}}]),n}(hn);return e.\u0275fac=function(t){return new(t||e)(c.LFG(c.soG))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),pn=/[^0-9]/g,mn=function(){var e=function(){function e(t,n,r,i){(0,u.Z)(this,e),this._config=t,this._ngbTimeAdapter=n,this._cd=r,this.i18n=i,this.onChange=function(e){},this.onTouched=function(){},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}return(0,l.Z)(e,[{key:"hourStep",get:function(){return this._hourStep},set:function(e){this._hourStep=We(e)?e:this._config.hourStep}},{key:"minuteStep",get:function(){return this._minuteStep},set:function(e){this._minuteStep=We(e)?e:this._config.minuteStep}},{key:"secondStep",get:function(){return this._secondStep},set:function(e){this._secondStep=We(e)?e:this._config.secondStep}},{key:"writeValue",value:function(e){var t=this._ngbTimeAdapter.fromModel(e);this.model=t?new sn(t.hour,t.minute,t.second):new sn,this.seconds||t&&Qe(t.second)||(this.model.second=0),this._cd.markForCheck()}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"changeHour",value:function(e){this.model.changeHour(e),this.propagateModelChange()}},{key:"changeMinute",value:function(e){this.model.changeMinute(e),this.propagateModelChange()}},{key:"changeSecond",value:function(e){this.model.changeSecond(e),this.propagateModelChange()}},{key:"updateHour",value:function(e){var t=this.model.hour>=12,n=Je(e);this.model.updateHour(this.meridian&&(t&&n<12||!t&&12===n)?n+12:n),this.propagateModelChange()}},{key:"updateMinute",value:function(e){this.model.updateMinute(Je(e)),this.propagateModelChange()}},{key:"updateSecond",value:function(e){this.model.updateSecond(Je(e)),this.propagateModelChange()}},{key:"toggleMeridian",value:function(){this.meridian&&this.changeHour(12)}},{key:"formatInput",value:function(e){e.value=e.value.replace(pn,"")}},{key:"formatHour",value:function(e){return Qe(e)?Ke(this.meridian?e%12==0?12:e%12:e%24):Ke(NaN)}},{key:"formatMinSec",value:function(e){return Ke(Qe(e)?e:NaN)}},{key:"handleBlur",value:function(){this.onTouched()}},{key:"isSmallSize",get:function(){return"small"===this.size}},{key:"isLargeSize",get:function(){return"large"===this.size}},{key:"ngOnChanges",value:function(e){e.seconds&&!this.seconds&&this.model&&!Qe(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}},{key:"propagateModelChange",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(ln),c.Y36(cn),c.Y36(c.sBO),c.Y36(hn))},e.\u0275cmp=c.Xpm({type:e,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[c._Bn([{provide:oe.JU,useExisting:(0,c.Gpc)(function(){return e}),multi:!0}]),c.TTD],decls:16,vars:25,consts:function(){return[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",$localize(F||(F=s([":@@ngb.timepicker.HH\u241fce676ab1d6d98f85c836381cf100a4a91ef95a1f\u241f4043638465245303811:HH"]))),"aria-label",$localize(L||(L=s([":@@ngb.timepicker.hours\u241f3bbce5fef7e1151da052a4e529453edb340e3912\u241f8070396816726827304:Hours"]))),1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",$localize(Z||(Z=s([":@@ngb.timepicker.MM\u241f72c8edf6a50068a05bde70991e36b1e881f4ca54\u241f1647282246509919852:MM"]))),"aria-label",$localize(U||(U=s([":@@ngb.timepicker.minutes\u241f41e62daa962947c0d23ded0981975d1bddf0bf38\u241f5531237363767747080:Minutes"]))),1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"sr-only"],$localize(B||(B=s([":@@ngb.timepicker.increment-hours\u241fcb74bc1d625a6c1742f0d7d47306cf495780c218\u241f5939278348542933629:Increment hours"]))),[1,"chevron","ngb-tp-chevron","bottom"],$localize(G||(G=s([":@@ngb.timepicker.decrement-hours\u241f147c7a19429da7d999e247d22e33fee370b1691b\u241f3651829882940481818:Decrement hours"]))),$localize(H||(H=s([":@@ngb.timepicker.increment-minutes\u241ff5a4a3bc05e053f6732475d0e74875ec01c3a348\u241f180147720391025024:Increment minutes"]))),$localize(q||(q=s([":@@ngb.timepicker.decrement-minutes\u241fc1a6899e529c096da5b660385d4e77fe1f7ad271\u241f7447789825403243588:Decrement minutes"]))),[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",$localize(j||(j=s([":@@ngb.timepicker.SS\u241febe38d36a40a2383c5fefa9b4608ffbda08bd4a3\u241f3628127143071124194:SS"]))),"aria-label",$localize(Y||(Y=s([":@@ngb.timepicker.seconds\u241f4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c\u241f8874012390997067175:Seconds"]))),1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],$localize(J||(J=s([":@@ngb.timepicker.increment-seconds\u241f912322ecee7d659d04dcf494a70e22e49d334b26\u241f5364772110539092174:Increment seconds"]))),$localize(z||(z=s([":@@ngb.timepicker.decrement-seconds\u241f5db47ac104294243a70eb9124fbea9d0004ddf69\u241f753633511487974857:Decrement seconds"]))),[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],$localize(Q||(Q=s([":@@ngb.timepicker.PM\u241f8d6e691e10306c1b34c6b26805151aaea320ef7f\u241f3564199131264287502:",":INTERPOLATION:"])),"\ufffd0\ufffd"),$localize(W||(W=s([":@@ngb.timepicker.AM\u241f69a1f176a93998876952adac57c3bc3863b6105e\u241f4592818992509942761:",":INTERPOLATION:"])),"\ufffd0\ufffd")]},template:function(e,t){1&e&&(c.TgZ(0,"fieldset",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.YNc(3,Pe,4,7,"button",3),c.TgZ(4,"input",4),c.NdJ("change",function(e){return t.updateHour(e.target.value)})("blur",function(){return t.handleBlur()})("input",function(e){return t.formatInput(e.target)})("keydown.ArrowUp",function(e){return t.changeHour(t.hourStep),e.preventDefault()})("keydown.ArrowDown",function(e){return t.changeHour(-t.hourStep),e.preventDefault()}),c.qZA(),c.YNc(5,Ne,4,7,"button",3),c.qZA(),c.TgZ(6,"div",5),c._uU(7,":"),c.qZA(),c.TgZ(8,"div",6),c.YNc(9,Fe,4,7,"button",3),c.TgZ(10,"input",7),c.NdJ("change",function(e){return t.updateMinute(e.target.value)})("blur",function(){return t.handleBlur()})("input",function(e){return t.formatInput(e.target)})("keydown.ArrowUp",function(e){return t.changeMinute(t.minuteStep),e.preventDefault()})("keydown.ArrowDown",function(e){return t.changeMinute(-t.minuteStep),e.preventDefault()}),c.qZA(),c.YNc(11,Le,4,7,"button",3),c.qZA(),c.YNc(12,Ze,2,0,"div",8),c.YNc(13,Ge,4,9,"div",9),c.YNc(14,He,1,0,"div",8),c.YNc(15,Ye,5,9,"div",10),c.qZA(),c.qZA()),2&e&&(c.ekj("disabled",t.disabled),c.Q6J("disabled",t.disabled),c.xp6(3),c.Q6J("ngIf",t.spinners),c.xp6(1),c.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),c.Q6J("value",t.formatHour(null==t.model?null:t.model.hour))("readOnly",t.readonlyInputs)("disabled",t.disabled),c.xp6(1),c.Q6J("ngIf",t.spinners),c.xp6(4),c.Q6J("ngIf",t.spinners),c.xp6(1),c.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),c.Q6J("value",t.formatMinSec(null==t.model?null:t.model.minute))("readOnly",t.readonlyInputs)("disabled",t.disabled),c.xp6(1),c.Q6J("ngIf",t.spinners),c.xp6(1),c.Q6J("ngIf",t.seconds),c.xp6(1),c.Q6J("ngIf",t.seconds),c.xp6(1),c.Q6J("ngIf",t.meridian),c.xp6(1),c.Q6J("ngIf",t.meridian))},directives:[d.O5],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{align-items:center;display:flex}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-meridian,.ngb-tp-minute,.ngb-tp-second{align-items:center;display:flex;flex-direction:column;justify-content:space-around}.ngb-tp-spacer{text-align:center;width:1em}'],encapsulation:2}),e}(),vn=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[d.ez]]}),e}(),gn=function(){var e=function(){function e(t){(0,u.Z)(this,e),this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}return(0,l.Z)(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG($e))},e.\u0275prov=(0,c.Yz7)({factory:function(){return new e((0,c.LFG)($e))},token:e,providedIn:"root"}),e}(),yn=0,bn=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,t){2&e&&(c.Ikx("id",t.id),c.Tol("tooltip"+(t.tooltipClass?" "+t.tooltipClass:"")),c.ekj("fade",t.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:ae,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(e,t){1&e&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA())},styles:["ngb-tooltip-window{pointer-events:none}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{bottom:.4rem;top:auto}"],encapsulation:2,changeDetection:0}),e}(),_n=function(){var e=function(){function e(t,n,r,i,o,a,s,l,d,h){var f=this;(0,u.Z)(this,e),this._elementRef=t,this._renderer=n,this._ngZone=s,this._document=l,this._changeDetector=d,this.shown=new c.vpe,this.hidden=new c.vpe,this._ngbTooltipWindowId="ngb-tooltip-".concat(yn++),this._windowRef=null,this.animation=a.animation,this.autoClose=a.autoClose,this.placement=a.placement,this.triggers=a.triggers,this.container=a.container,this.disableTooltip=a.disableTooltip,this.tooltipClass=a.tooltipClass,this.openDelay=a.openDelay,this.closeDelay=a.closeDelay,this._popupService=new $t(bn,r,o,n,this._ngZone,i,h),this._zoneSubscription=s.onStable.subscribe(function(){f._windowRef&&Gt(f._elementRef.nativeElement,f._windowRef.location.nativeElement,f.placement,"body"===f.container,"bs-tooltip")})}return(0,l.Z)(e,[{key:"ngbTooltip",get:function(){return this._ngbTooltip},set:function(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}},{key:"open",value:function(e){var t=this;if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){var n=this._popupService.open(this._ngbTooltip,e,this.animation),r=n.transition$;this._windowRef=n.windowRef,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),Ft(this._ngZone,this._document,this.autoClose,function(){return t.close()},this.hidden,[this._windowRef.location.nativeElement]),r.subscribe(function(){return t.shown.emit()})}}},{key:"close",value:function(){var e=this;null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(function(){e._windowRef=null,e.hidden.emit(),e._changeDetector.markForCheck()}))}},{key:"toggle",value:function(){this._windowRef?this.close():this.open()}},{key:"isOpen",value:function(){return null!=this._windowRef}},{key:"ngOnInit",value:function(){this._unregisterListenersFn=function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=nn(n);if(1===l.length&&l[0].isManual())return function(){};var u=rn(e,t,l,r).pipe(an(a,s,r)).subscribe(function(e){return e?i():o()});return function(){return u.unsubscribe()}}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}},{key:"ngOnChanges",value:function(e){var t=e.tooltipClass;t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}},{key:"ngOnDestroy",value:function(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.zs3),c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(gn),c.Y36(c.R0b),c.Y36(d.K0),c.Y36(c.sBO),c.Y36(c.z2F))},e.\u0275dir=c.lG2({type:e,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[c.TTD]}),e}(),Cn=function(){var e=(0,l.Z)(function e(){(0,u.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({}),e}();new c.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}})},77218:function(e,t,n){"use strict";n.d(t,{w9:function(){return nt},A0:function(){return ot},Z2:function(){return De},bb:function(){return Re},vM:function(){return Le}});var r,i=n(77506),o=n(58977),a=n(75328),s=n(81336),l=n(98288),u=n(57285),c=n(35322),d=n(16073),h=n(22948),f=n(93386),p=n(51929),m=n(4659),v=n(49234),g=n(69568),y=n(81258),b=n(90343),_=n(5057),C=n(58868),E=n(91681),T=n(19162),w=n(6551),O=n(76042),x={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=x.delegate;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);var i=t(function(t){n=void 0,e(t)});return new O.w0(function(){return null==n?void 0:n(i)})},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=x.delegate;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,(0,T.ev)([],(0,T.CR)(e)))}),cancelAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=x.delegate;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,(0,T.ev)([],(0,T.CR)(e)))}),delegate:void 0},I=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return(0,T.ZT)(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=x.requestAnimationFrame(function(){return t.flush(void 0)})))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(x.cancelAnimationFrame(n),t._scheduled=void 0)},t}(w.o),M=n(8106),S=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,T.ZT)(t,e),t.prototype.flush=function(e){this._active=!0,this._scheduled=void 0;var t,n=this.actions,r=-1;e=e||n.shift();var i=n.length;do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this._active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(M.v))(I),V=1,A={};function D(e){return e in A&&(delete A[e],!0)}var k=function(e){var t=V++;return A[t]=!0,r||(r=Promise.resolve()),r.then(function(){return D(t)&&e()}),t},R=function(e){D(e)},P={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=P.delegate;return((null==n?void 0:n.setImmediate)||k).apply(void 0,(0,T.ev)([],(0,T.CR)(e)))},clearImmediate:function(e){var t=P.delegate;return((null==t?void 0:t.clearImmediate)||R)(e)},delegate:void 0},N=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return(0,T.ZT)(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=P.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(P.clearImmediate(n),t._scheduled=void 0)},t}(w.o),F=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,T.ZT)(t,e),t.prototype.flush=function(e){this._active=!0,this._scheduled=void 0;var t,n=this.actions,r=-1;e=e||n.shift();var i=n.length;do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this._active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(M.v))(N),L=n(89666),Z=n(65960),U=n(15446),B=n(61511),G=["content"],H=["scroll"],q=["padding"],j=function(e){return{searchTerm:e}};function Y(e,t){if(1&e&&(c.TgZ(0,"div",6),c.GkF(1,7),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",n.headerTemplate)("ngTemplateOutletContext",c.VKq(2,j,n.filterValue))}}function J(e,t){if(1&e&&(c.TgZ(0,"div",8),c.GkF(1,7),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",n.footerTemplate)("ngTemplateOutletContext",c.VKq(2,j,n.filterValue))}}var z=["*"],Q=["searchInput"];function W(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span",15),c.NdJ("click",function(){c.CHM(n);var e=c.oxw().$implicit;return c.oxw(2).unselect(e)}),c._uU(1,"\xd7"),c.qZA(),c._UZ(2,"span",16)}if(2&e){var r=c.oxw().$implicit,i=c.oxw(2);c.xp6(2),c.Q6J("ngItemLabel",r.label)("escape",i.escapeHTML)}}function K(e,t){}var X=function(e,t,n){return{item:e,clear:t,label:n}};function $(e,t){if(1&e&&(c.TgZ(0,"div",12),c.YNc(1,W,3,2,"ng-template",null,13,c.W1O),c.YNc(3,K,0,0,"ng-template",14),c.qZA()),2&e){var n=t.$implicit,r=c.MAs(2),i=c.oxw(2);c.ekj("ng-value-disabled",n.disabled),c.xp6(3),c.Q6J("ngTemplateOutlet",i.labelTemplate||r)("ngTemplateOutletContext",c.kEZ(4,X,n.value,i.clearItem,n.label))}}function ee(e,t){if(1&e&&(c.ynx(0),c.YNc(1,$,4,8,"div",11),c.BQk()),2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngForOf",n.selectedItems)("ngForTrackBy",n.trackByOption)}}function te(e,t){}var ne=function(e,t){return{items:e,clear:t}};function re(e,t){if(1&e&&c.YNc(0,te,0,0,"ng-template",14),2&e){var n=c.oxw();c.Q6J("ngTemplateOutlet",n.multiLabelTemplate)("ngTemplateOutletContext",c.WLB(2,ne,n.selectedValues,n.clearItem))}}function ie(e,t){1&e&&c._UZ(0,"div",19)}function oe(e,t){}function ae(e,t){if(1&e&&(c.ynx(0),c.YNc(1,ie,1,0,"ng-template",null,17,c.W1O),c.YNc(3,oe,0,0,"ng-template",18),c.BQk()),2&e){var n=c.MAs(2),r=c.oxw();c.xp6(3),c.Q6J("ngTemplateOutlet",r.loadingSpinnerTemplate||n)}}function se(e,t){if(1&e&&(c.TgZ(0,"span",20),c.TgZ(1,"span",21),c._uU(2,"\xd7"),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.s9C("title",n.clearAllText)}}function le(e,t){if(1&e&&c._UZ(0,"span",27),2&e){var n=c.oxw().$implicit,r=c.oxw(2);c.Q6J("ngItemLabel",n.label)("escape",r.escapeHTML)}}function ue(e,t){}var ce=function(e,t,n,r){return{item:e,item$:t,index:n,searchTerm:r}};function de(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",25),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw(2).toggleItem(e)})("mouseover",function(){var e=c.CHM(n).$implicit;return c.oxw(2).onItemHover(e)}),c.YNc(1,le,1,2,"ng-template",null,26,c.W1O),c.YNc(3,ue,0,0,"ng-template",14),c.qZA()}if(2&e){var r=t.$implicit,i=c.MAs(2),o=c.oxw(2);c.ekj("ng-option-disabled",r.disabled)("ng-option-selected",r.selected)("ng-optgroup",r.children)("ng-option",!r.children)("ng-option-child",!!r.parent)("ng-option-marked",r===o.itemsList.markedItem),c.uIk("role",r.children?"group":"option")("aria-selected",r.selected)("id",null==r?null:r.htmlId),c.xp6(3),c.Q6J("ngTemplateOutlet",r.children?o.optgroupTemplate||i:o.optionTemplate||i)("ngTemplateOutletContext",c.l5B(17,ce,r.value,r,r.index,o.searchTerm))}}function he(e,t){if(1&e&&(c.TgZ(0,"span"),c.TgZ(1,"span",30),c._uU(2),c.qZA(),c._uU(3),c.qZA()),2&e){var n=c.oxw(3);c.xp6(2),c.Oqu(n.addTagText),c.xp6(1),c.hij('"',n.searchTerm,'"')}}function fe(e,t){}function pe(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",28),c.NdJ("mouseover",function(){return c.CHM(n),c.oxw(2).itemsList.unmarkItem()})("click",function(){return c.CHM(n),c.oxw(2).selectTag()}),c.YNc(1,he,4,2,"ng-template",null,29,c.W1O),c.YNc(3,fe,0,0,"ng-template",14),c.qZA()}if(2&e){var r=c.MAs(2),i=c.oxw(2);c.ekj("ng-option-marked",!i.itemsList.markedItem),c.xp6(3),c.Q6J("ngTemplateOutlet",i.tagTemplate||r)("ngTemplateOutletContext",c.VKq(4,j,i.searchTerm))}}function me(e,t){if(1&e&&(c.TgZ(0,"div",32),c._uU(1),c.qZA()),2&e){var n=c.oxw(3);c.xp6(1),c.Oqu(n.notFoundText)}}function ve(e,t){}function ge(e,t){if(1&e&&(c.ynx(0),c.YNc(1,me,2,1,"ng-template",null,31,c.W1O),c.YNc(3,ve,0,0,"ng-template",14),c.BQk()),2&e){var n=c.MAs(2),r=c.oxw(2);c.xp6(3),c.Q6J("ngTemplateOutlet",r.notFoundTemplate||n)("ngTemplateOutletContext",c.VKq(2,j,r.searchTerm))}}function ye(e,t){if(1&e&&(c.TgZ(0,"div",32),c._uU(1),c.qZA()),2&e){var n=c.oxw(3);c.xp6(1),c.Oqu(n.typeToSearchText)}}function be(e,t){}function _e(e,t){if(1&e&&(c.ynx(0),c.YNc(1,ye,2,1,"ng-template",null,33,c.W1O),c.YNc(3,be,0,0,"ng-template",18),c.BQk()),2&e){var n=c.MAs(2),r=c.oxw(2);c.xp6(3),c.Q6J("ngTemplateOutlet",r.typeToSearchTemplate||n)}}function Ce(e,t){if(1&e&&(c.TgZ(0,"div",32),c._uU(1),c.qZA()),2&e){var n=c.oxw(3);c.xp6(1),c.Oqu(n.loadingText)}}function Ee(e,t){}function Te(e,t){if(1&e&&(c.ynx(0),c.YNc(1,Ce,2,1,"ng-template",null,34,c.W1O),c.YNc(3,Ee,0,0,"ng-template",14),c.BQk()),2&e){var n=c.MAs(2),r=c.oxw(2);c.xp6(3),c.Q6J("ngTemplateOutlet",r.loadingTextTemplate||n)("ngTemplateOutletContext",c.VKq(2,j,r.searchTerm))}}function we(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"ng-dropdown-panel",22),c.NdJ("update",function(e){return c.CHM(n),c.oxw().viewPortItems=e})("scroll",function(e){return c.CHM(n),c.oxw().scroll.emit(e)})("scrollToEnd",function(e){return c.CHM(n),c.oxw().scrollToEnd.emit(e)})("outsideClick",function(){return c.CHM(n),c.oxw().close()}),c.ynx(1),c.YNc(2,de,4,22,"div",23),c.YNc(3,pe,4,6,"div",24),c.BQk(),c.YNc(4,ge,4,4,"ng-container",3),c.YNc(5,_e,4,1,"ng-container",3),c.YNc(6,Te,4,4,"ng-container",3),c.qZA()}if(2&e){var r=c.oxw();c.ekj("ng-select-multiple",r.multiple),c.Q6J("virtualScroll",r.virtualScroll)("bufferAmount",r.bufferAmount)("appendTo",r.appendTo)("position",r.dropdownPosition)("headerTemplate",r.headerTemplate)("footerTemplate",r.footerTemplate)("filterValue",r.searchTerm)("items",r.itemsList.filteredItems)("markedItem",r.itemsList.markedItem)("ngClass",r.appendTo?r.classes:null)("id",r.dropdownId),c.xp6(2),c.Q6J("ngForOf",r.viewPortItems)("ngForTrackBy",r.trackByOption),c.xp6(1),c.Q6J("ngIf",r.showAddTag),c.xp6(1),c.Q6J("ngIf",r.showNoItemsFound()),c.xp6(1),c.Q6J("ngIf",r.showTypeToSearch()),c.xp6(1),c.Q6J("ngIf",r.loading&&0===r.itemsList.filteredItems.length)}}var Oe=/[&<>"']/g,xe=RegExp(Oe.source),Ie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Me(e){return null!=e}function Se(e){return"object"==typeof e&&Me(e)}function Ve(e){return e instanceof Function}var Ae=function(){var e=function(){function e(t){(0,l.Z)(this,e),this.element=t,this.escape=!0}return(0,u.Z)(e,[{key:"ngOnChanges",value:function(e){var t;this.element.nativeElement.innerHTML=this.escape?(t=this.ngItemLabel)&&xe.test(t)?t.replace(Oe,function(e){return Ie[e]}):t:this.ngItemLabel}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.SBq))},e.\u0275dir=c.lG2({type:e,selectors:[["","ngItemLabel",""]],inputs:{escape:"escape",ngItemLabel:"ngItemLabel"},features:[c.TTD]}),e}(),De=function(){var e=(0,u.Z)(function e(t){(0,l.Z)(this,e),this.template=t});return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["","ng-option-tmp",""]]}),e}(),ke=function(){var e=(0,u.Z)(function e(t){(0,l.Z)(this,e),this.template=t});return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["","ng-optgroup-tmp",""]]}),e}(),Re=function(){var e=(0,u.Z)(function e(t){(0,l.Z)(this,e),this.template=t});return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["","ng-label-tmp",""]]}),e}(),Pe=function(){var e=(0,u.Z)(function e(t){(0,l.Z)(this,e),this.template=t});return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["","ng-multi-label-tmp",""]]}),e}(),Ne=function(){var e=(0,u.Z)(function e(t){(0,l.Z)(this,e),this.template=t});return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["","ng-header-tmp",""]]}),e}(),Fe=function(){var e=(0,u.Z)(function e(t){(0,l.Z)(this,e),this.template=t});return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["","ng-footer-tmp",""]]}),e}(),Le=function(){var e=(0,u.Z)(function e(t){(0,l.Z)(this,e),this.template=t});return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["","ng-notfound-tmp",""]]}),e}(),Ze=function(){var e=(0,u.Z)(function e(t){(0,l.Z)(this,e),this.template=t});return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["","ng-typetosearch-tmp",""]]}),e}(),Ue=function(){var e=(0,u.Z)(function e(t){(0,l.Z)(this,e),this.template=t});return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["","ng-loadingtext-tmp",""]]}),e}(),Be=function(){var e=(0,u.Z)(function e(t){(0,l.Z)(this,e),this.template=t});return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["","ng-tag-tmp",""]]}),e}(),Ge=function(){var e=(0,u.Z)(function e(t){(0,l.Z)(this,e),this.template=t});return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["","ng-loadingspinner-tmp",""]]}),e}(),He=function(){var e=function(){function e(){(0,l.Z)(this,e)}return(0,u.Z)(e,[{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e}();function qe(){return"axxxxxxxxxxx".replace(/[x]/g,function(e){return(16*Math.random()|0).toString(16)})}var je={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};function Ye(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return je[e]||e})}var Je=function(){function e(t,n){(0,l.Z)(this,e),this._ngSelect=t,this._selectionModel=n,this._items=[],this._filteredItems=[],this._markedIndex=-1}return(0,u.Z)(e,[{key:"items",get:function(){return this._items}},{key:"filteredItems",get:function(){return this._filteredItems}},{key:"markedIndex",get:function(){return this._markedIndex}},{key:"selectedItems",get:function(){return this._selectionModel.value}},{key:"markedItem",get:function(){return this._filteredItems[this._markedIndex]}},{key:"noItemsToSelect",get:function(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}},{key:"maxItemsSelected",get:function(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}},{key:"lastSelectedItem",get:function(){for(var e=this.selectedItems.length-1;e>=0;e--){var t=this.selectedItems[e];if(!t.disabled)return t}return null}},{key:"setItems",value:function(e){var t=this;this._items=e.map(function(e,n){return t.mapItem(e,n)}),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=(0,s.Z)(this._items)}},{key:"select",value:function(e){if(!e.selected&&!this.maxItemsSelected){var t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(e,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(e)}}},{key:"unselect",value:function(e){e.selected&&(this._selectionModel.unselect(e,this._ngSelect.multiple),this._ngSelect.hideSelected&&Me(e.index)&&this._ngSelect.multiple&&this._showSelected(e))}},{key:"findItem",value:function(e){var t,n=this;return t=this._ngSelect.compareWith?function(t){return n._ngSelect.compareWith(t.value,e)}:this._ngSelect.bindValue?function(t){return!t.children&&n.resolveNested(t.value,n._ngSelect.bindValue)===e}:function(t){return t.value===e||!t.children&&t.label&&t.label===n.resolveNested(e,n._ngSelect.bindLabel)},this._items.find(function(e){return t(e)})}},{key:"addItem",value:function(e){var t=this.mapItem(e,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}},{key:"clearSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._selectionModel.clear(e),this._items.forEach(function(t){t.selected=e&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}},{key:"findByLabel",value:function(e){return e=Ye(e).toLocaleLowerCase(),this.filteredItems.find(function(t){return Ye(t.label).toLocaleLowerCase().substr(0,e.length)===e})}},{key:"filter",value:function(e){var t=this;if(e){this._filteredItems=[],e=this._ngSelect.searchFn?e:Ye(e).toLocaleLowerCase();for(var n=this._ngSelect.searchFn||this._defaultSearchFn,r=this._ngSelect.hideSelected,i=0,s=Array.from(this._groups.keys());i<s.length;i++){var l,u=[],c=(0,a.Z)(this._groups.get(s[i]));try{for(c.s();!(l=c.n()).done;){var d=l.value;r&&(d.parent&&d.parent.selected||d.selected)||n(e,this._ngSelect.searchFn?d.value:d)&&u.push(d)}}catch(h){c.e(h)}finally{c.f()}u.length>0&&function(){var e,n=u.slice(-1),r=(0,o.Z)(n,1)[0];if(r.parent){var i=t._items.find(function(e){return e===r.parent});t._filteredItems.push(i)}(e=t._filteredItems).push.apply(e,u)}()}}else this.resetFilteredItems()}},{key:"resetFilteredItems",value:function(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(function(e){return!e.selected}):this._items)}},{key:"unmarkItem",value:function(){this._markedIndex=-1}},{key:"markNextItem",value:function(){this._stepToItem(1)}},{key:"markPreviousItem",value:function(){this._stepToItem(-1)}},{key:"markItem",value:function(e){this._markedIndex=this._filteredItems.indexOf(e)}},{key:"markSelectedOrDefault",value:function(e){if(0!==this._filteredItems.length){var t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:e?this.filteredItems.findIndex(function(e){return!e.disabled}):-1}}},{key:"resolveNested",value:function(e,t){if(!Se(e))return e;if(-1===t.indexOf("."))return e[t];for(var n=t.split("."),r=e,i=0,o=n.length;i<o;++i){if(null==r)return null;r=r[n[i]]}return r}},{key:"mapItem",value:function(e,t){var n=Me(e.$ngOptionLabel)?e.$ngOptionLabel:this.resolveNested(e,this._ngSelect.bindLabel),r=Me(e.$ngOptionValue)?e.$ngOptionValue:e;return{index:t,label:Me(n)?n.toString():"",value:r,disabled:e.disabled,htmlId:"".concat(this._ngSelect.dropdownId,"-").concat(t)}}},{key:"mapSelectedItems",value:function(){var e,t=this,n=this._ngSelect.multiple,r=(0,a.Z)(this.selectedItems);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=this._ngSelect.bindValue?this.resolveNested(i.value,this._ngSelect.bindValue):i.value,s=Me(o)?this.findItem(o):null;this._selectionModel.unselect(i,n),this._selectionModel.select(s||i,n,this._ngSelect.selectableGroupAsModel)}}catch(l){r.e(l)}finally{r.f()}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(function(e){return-1===t.selectedItems.indexOf(e)}))}},{key:"_showSelected",value:function(e){if(this._filteredItems.push(e),e.parent){var t=e.parent;this._filteredItems.find(function(e){return e===t})||this._filteredItems.push(t)}else if(e.children){var n,r=(0,a.Z)(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.selected=!1,this._filteredItems.push(i)}}catch(o){r.e(o)}finally{r.f()}}this._filteredItems=(0,s.Z)(this._filteredItems.sort(function(e,t){return e.index-t.index}))}},{key:"_hideSelected",value:function(e){this._filteredItems=this._filteredItems.filter(function(t){return t!==e}),e.parent?e.parent.children.every(function(e){return e.selected})&&(this._filteredItems=this._filteredItems.filter(function(t){return t!==e.parent})):e.children&&(this._filteredItems=this.filteredItems.filter(function(t){return t.parent!==e}))}},{key:"_defaultSearchFn",value:function(e,t){return Ye(t.label).toLocaleLowerCase().indexOf(e)>-1}},{key:"_getNextItemIndex",value:function(e){return e>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}},{key:"_stepToItem",value:function(e){0===this._filteredItems.length||this._filteredItems.every(function(e){return e.disabled})||(this._markedIndex=this._getNextItemIndex(e),this.markedItem.disabled&&this._stepToItem(e))}},{key:"_getLastMarkedIndex",value:function(){if(this._ngSelect.hideSelected)return-1;if(this._markedIndex>-1&&void 0===this.markedItem)return-1;var e=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&e<0?-1:Math.max(this.markedIndex,e)}},{key:"_groupBy",value:function(e,t){var n=this,r=new Map;if(0===e.length)return r;if(Array.isArray(e[0].value[t])){var i,o=(0,a.Z)(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=(s.value[t]||[]).map(function(e,t){return n.mapItem(e,t)});r.set(s,l)}}catch(v){o.e(v)}finally{o.f()}return r}var u,c=Ve(this._ngSelect.groupBy),d=function(e){var n=c?t(e.value):e.value[t];return Me(n)?n:void 0},h=(0,a.Z)(e);try{for(h.s();!(u=h.n()).done;){var f=u.value,p=d(f),m=r.get(p);m?m.push(f):r.set(p,[f])}}catch(v){h.e(v)}finally{h.f()}return r}},{key:"_flatten",value:function(e){for(var t=this,n=Ve(this._ngSelect.groupBy),r=[],o=function(){var o=l[a],u=r.length;if(void 0===o){var c=e.get(void 0)||[];return r.push.apply(r,(0,s.Z)(c.map(function(e){return e.index=u++,e}))),"continue"}var d=Se(o),h={label:d?"":String(o),children:void 0,parent:null,index:u++,disabled:!t._ngSelect.selectableGroup,htmlId:qe()},f=n?t._ngSelect.bindLabel:t._ngSelect.groupBy,p=t._ngSelect.groupValue||function(){return d?o.value:(0,i.Z)({},f,o)},m=e.get(o).map(function(e){return e.parent=h,e.children=void 0,e.index=u++,e});h.children=m,h.value=p(o,m.map(function(e){return e.value})),r.push(h),r.push.apply(r,(0,s.Z)(m))},a=0,l=Array.from(e.keys());a<l.length;a++)o();return r}}]),e}(),ze=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowDown=40]="ArrowDown",e[e.Backspace=8]="Backspace",e}({}),Qe=function(){var e=function(){function e(){(0,l.Z)(this,e),this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}return(0,u.Z)(e,[{key:"dimensions",get:function(){return this._dimensions}},{key:"calculateItems",value:function(e,t,n){var r=this._dimensions,i=r.itemHeight*t,o=Math.max(0,e)/i*t,a=Math.min(t,Math.ceil(o)+(r.itemsPerViewport+1)),s=Math.max(0,a-r.itemsPerViewport),l=Math.min(s,Math.floor(o)),u=r.itemHeight*Math.ceil(l)-r.itemHeight*Math.min(l,n);return u=isNaN(u)?0:u,l=isNaN(l)?-1:l,a=isNaN(a)?-1:a,l-=n,a+=n,{topPadding:u,scrollHeight:i,start:l=Math.max(0,l),end:a=Math.min(t,a)}}},{key:"setDimensions",value:function(e,t){var n=Math.max(1,Math.floor(t/e));this._dimensions={itemHeight:e,panelHeight:t,itemsPerViewport:n}}},{key:"getScrollTo",value:function(e,t,n){var r=this.dimensions.panelHeight,i=e+t,o=n+r;return r>=i&&n===e?null:i>o?n+i-o:e<=n?e:null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),We=["top","right","bottom","left"],Ke="undefined"!=typeof requestAnimationFrame?S:F,Xe=function(){var e=function(){function e(t,n,r,i,o){(0,l.Z)(this,e),this._renderer=t,this._zone=n,this._panelService=r,this._document=o,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new c.vpe,this.scroll=new c.vpe,this.scrollToEnd=new c.vpe,this.outsideClick=new c.vpe,this._destroy$=new L.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=i.nativeElement}return(0,u.Z)(e,[{key:"currentPosition",get:function(){return this._currentPosition}},{key:"itemsLength",get:function(){return this._itemsLength},set:function(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}},{key:"_startOffset",get:function(){if(this.markedItem){var e=this._panelService.dimensions,t=this.markedItem.index*e.itemHeight;return e.panelHeight>t?0:t}return 0}},{key:"ngOnInit",value:function(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}},{key:"ngOnChanges",value:function(e){if(e.items){var t=e.items;this._onItemsChange(t.currentValue,t.firstChange)}}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=this.items.indexOf(e);if(!(n<0||n>=this.itemsLength)){var r;if(this.virtualScroll){var i=this._panelService.dimensions.itemHeight;r=this._panelService.getScrollTo(n*i,i,this._lastScrollPosition)}else{var o=this._dropdown.querySelector("#".concat(e.htmlId)),a=t?o.offsetTop:this._lastScrollPosition;r=this._panelService.getScrollTo(o.offsetTop,o.clientHeight,a)}Me(r)&&(this._scrollablePanel.scrollTop=r)}}}},{key:"scrollToTag",value:function(){var e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}},{key:"adjustPosition",value:function(){this._updateYPosition()}},{key:"_handleDropdownPosition",value:function(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),We.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}},{key:"_updateDropdownClass",value:function(e){var t=this;We.forEach(function(e){var n="ng-select-".concat(e);t._renderer.removeClass(t._dropdown,n),t._renderer.removeClass(t._select,n)});var n="ng-select-".concat(e);this._renderer.addClass(this._dropdown,n),this._renderer.addClass(this._select,n)}},{key:"_handleScroll",value:function(){var e=this;this._zone.runOutsideAngular(function(){var t,n;(0,Z.R)(e.scrollElementRef.nativeElement,"scroll").pipe((0,g.R)(e._destroy$),(0,t=Ke,void 0===t&&(t=h.P),n=function(){return(0,v.H)(0,t)},(0,f.e)(function(e,t){var r=!1,i=null,o=null,a=!1,s=function(){if(null==o||o.unsubscribe(),o=null,r){r=!1;var e=i;i=null,t.next(e)}a&&t.complete()},l=function(){o=null,a&&t.complete()};e.subscribe(new m.Q(t,function(e){r=!0,i=e,o||(0,p.Xf)(n()).subscribe(o=new m.Q(t,s,l))},function(){a=!0,(!r||!o||o.closed)&&t.complete()}))}))).subscribe(function(t){var n=t.path||t.composedPath&&t.composedPath();e._onContentScrolled(n&&0!==n.length?n[0].scrollTop:t.target.scrollTop)})})}},{key:"_handleOutsideClick",value:function(){var e=this;this._document&&this._zone.runOutsideAngular(function(){(0,U.T)((0,Z.R)(e._document,"touchstart",{capture:!0}),(0,Z.R)(e._document,"mousedown",{capture:!0})).pipe((0,g.R)(e._destroy$)).subscribe(function(t){return e._checkToClose(t)})})}},{key:"_checkToClose",value:function(e){var t=this;if(!this._select.contains(e.target)&&!this._dropdown.contains(e.target)){var n=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&n&&n[0]&&this._select.contains(n[0])||this._zone.run(function(){return t.outsideClick.emit()})}}},{key:"_onItemsChange",value:function(e,t){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(t):(this._setVirtualHeight(),this._updateItems(t))}},{key:"_updateItems",value:function(e){var t=this;this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular(function(){Promise.resolve().then(function(){t._panelService.setDimensions(0,t._scrollablePanel.clientHeight),t._handleDropdownPosition(),t.scrollTo(t.markedItem,e)})})}},{key:"_updateItemsRange",value:function(e){var t=this;this._zone.runOutsideAngular(function(){t._measureDimensions().then(function(){e?(t._renderItemsRange(t._startOffset),t._handleDropdownPosition()):t._renderItemsRange()})})}},{key:"_onContentScrolled",value:function(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}},{key:"_updateVirtualHeight",value:function(e){this._updateScrollHeight&&(this._virtualPadding.style.height="".concat(e,"px"),this._updateScrollHeight=!1)}},{key:"_setVirtualHeight",value:function(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}},{key:"_onItemsLengthChanged",value:function(){this._updateScrollHeight=!0}},{key:"_renderItemsRange",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t||this._lastScrollPosition!==t){var n=this._panelService.calculateItems(t=t||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(n.scrollHeight),this._contentPanel.style.transform="translateY(".concat(n.topPadding,"px)"),this._zone.run(function(){e.update.emit(e.items.slice(n.start,n.end)),e.scroll.emit({start:n.start,end:n.end})}),Me(t)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=t,this._lastScrollPosition=t)}}},{key:"_measureDimensions",value:function(){var e=this;if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);var t=(0,o.Z)(this.items,1)[0];return this.update.emit([t]),Promise.resolve().then(function(){var n=e._dropdown.querySelector("#".concat(t.htmlId)).clientHeight;return e._virtualPadding.style.height="".concat(n*e.itemsLength,"px"),e._panelService.setDimensions(n,e._scrollablePanel.clientHeight),e._panelService.dimensions})}},{key:"_fireScrollToEnd",value:function(e){var t=this;this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(function(){return t.scrollToEnd.emit()}),this._scrollToEndFired=!0)}},{key:"_calculateCurrentPosition",value:function(e){if("auto"!==this.position)return this.position;var t=this._select.getBoundingClientRect(),n=document.documentElement.scrollTop||document.body.scrollTop;return t.top+window.pageYOffset+t.height+e.getBoundingClientRect().height>n+document.documentElement.clientHeight?"top":"bottom"}},{key:"_appendDropdown",value:function(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error("appendTo selector ".concat(this.appendTo," did not found any parent element"));this._updateXPosition(),this._parent.appendChild(this._dropdown)}}},{key:"_updateXPosition",value:function(){var e=this._select.getBoundingClientRect(),t=this._parent.getBoundingClientRect();this._dropdown.style.left=e.left-t.left+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}},{key:"_updateYPosition",value:function(){var e=this._select.getBoundingClientRect(),t=this._parent.getBoundingClientRect(),n=e.height;"top"===this._currentPosition?(this._dropdown.style.bottom=t.bottom-e.bottom+n+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=e.top-t.top+n+"px",this._dropdown.style.bottom="auto")}},{key:"_setupMousedownListener",value:function(){var e=this;this._zone.runOutsideAngular(function(){(0,Z.R)(e._dropdown,"mousedown").pipe((0,g.R)(e._destroy$)).subscribe(function(e){"INPUT"!==e.target.tagName&&e.preventDefault()})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Qsj),c.Y36(c.R0b),c.Y36(Qe),c.Y36(c.SBq),c.Y36(B.K0,8))},e.\u0275cmp=c.Xpm({type:e,selectors:[["ng-dropdown-panel"]],viewQuery:function(e,t){var n;1&e&&(c.Gf(G,7,c.SBq),c.Gf(H,7,c.SBq),c.Gf(q,7,c.SBq)),2&e&&(c.iGM(n=c.CRH())&&(t.contentElementRef=n.first),c.iGM(n=c.CRH())&&(t.scrollElementRef=n.first),c.iGM(n=c.CRH())&&(t.paddingElementRef=n.first))},inputs:{items:"items",position:"position",virtualScroll:"virtualScroll",filterValue:"filterValue",markedItem:"markedItem",appendTo:"appendTo",bufferAmount:"bufferAmount",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[c.TTD],ngContentSelectors:z,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(e,t){1&e&&(c.F$t(),c.YNc(0,Y,2,4,"div",0),c.TgZ(1,"div",1,2),c._UZ(3,"div",null,3),c.TgZ(5,"div",null,4),c.Hsn(7),c.qZA(),c.qZA(),c.YNc(8,J,2,4,"div",5)),2&e&&(c.Q6J("ngIf",t.headerTemplate),c.xp6(3),c.ekj("total-padding",t.virtualScroll),c.xp6(2),c.ekj("scrollable-content",t.virtualScroll&&t.items.length),c.xp6(3),c.Q6J("ngIf",t.footerTemplate))},directives:[B.O5,B.tP],encapsulation:2,changeDetection:0}),e}(),$e=function(){var e=function(){function e(t){(0,l.Z)(this,e),this.elementRef=t,this.stateChange$=new L.x,this._disabled=!1}return(0,u.Z)(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=this._isDisabled(e)}},{key:"label",get:function(){return(this.elementRef.nativeElement.textContent||"").trim()}},{key:"ngOnChanges",value:function(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}},{key:"ngAfterViewChecked",value:function(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}},{key:"ngOnDestroy",value:function(){this.stateChange$.complete()}},{key:"_isDisabled",value:function(e){return null!=e&&"false"!=="".concat(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.SBq))},e.\u0275cmp=c.Xpm({type:e,selectors:[["ng-option"]],inputs:{disabled:"disabled",value:"value"},features:[c.TTD],ngContentSelectors:z,decls:1,vars:0,template:function(e,t){1&e&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),e}(),et=function(){var e=(0,u.Z)(function e(){(0,l.Z)(this,e),this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e}(),tt=new c.OlP("ng-select-selection-model"),nt=function(){var e=function(){function e(t,n,r,i,o,a,s){var u=this;(0,l.Z)(this,e),this.classes=t,this.autoFocus=n,this.config=r,this._cd=a,this._console=s,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=function(e){return!0},this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new c.vpe,this.focusEvent=new c.vpe,this.changeEvent=new c.vpe,this.openEvent=new c.vpe,this.closeEvent=new c.vpe,this.searchEvent=new c.vpe,this.clearEvent=new c.vpe,this.addEvent=new c.vpe,this.removeEvent=new c.vpe,this.scroll=new c.vpe,this.scrollToEnd=new c.vpe,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=qe(),this.escapeHTML=!0,this.useDefaultClass=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new L.x,this._keyPress$=new L.x,this._onChange=function(e){},this._onTouched=function(){},this.clearItem=function(e){var t=u.selectedItems.find(function(t){return t.value===e});u.unselect(t)},this.trackByOption=function(e,t){return u.trackByFn?u.trackByFn(t.value):t},this._mergeGlobalConfig(r),this.itemsList=new Je(this,i()),this.element=o.nativeElement}return(0,u.Z)(e,[{key:"items",get:function(){return this._items},set:function(e){null===e&&(e=[]),this._itemsAreUsed=!0,this._items=e}},{key:"compareWith",get:function(){return this._compareWith},set:function(e){if(null!=e&&!Ve(e))throw Error("`compareWith` must be a function.");this._compareWith=e}},{key:"clearSearchOnAdd",get:function(){return Me(this._clearSearchOnAdd)?this._clearSearchOnAdd:Me(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect},set:function(e){this._clearSearchOnAdd=e}},{key:"disabled",get:function(){return this.readonly||this._disabled}},{key:"filtered",get:function(){return!!this.searchTerm&&this.searchable||this._isComposing}},{key:"_editableSearchTerm",get:function(){return this.editableSearchTerm&&!this.multiple}},{key:"selectedItems",get:function(){return this.itemsList.selectedItems}},{key:"selectedValues",get:function(){return this.selectedItems.map(function(e){return e.value})}},{key:"hasValue",get:function(){return this.selectedItems.length>0}},{key:"currentPanelPosition",get:function(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}},{key:"ngOnInit",value:function(){this._handleKeyPresses(),this._setInputAttributes()}},{key:"ngOnChanges",value:function(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=Me(e.isOpen.currentValue))}},{key:"ngAfterViewInit",value:function(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Me(this.autoFocus)&&this.focus()}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete()}},{key:"handleKeyDown",value:function(e){if(ze[e.which]){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else e.key&&1===e.key.length&&this._keyPress$.next(e.key.toLocaleLowerCase())}},{key:"handleKeyCode",value:function(e){switch(e.which){case ze.ArrowDown:this._handleArrowDown(e);break;case ze.ArrowUp:this._handleArrowUp(e);break;case ze.Space:this._handleSpace(e);break;case ze.Enter:this._handleEnter(e);break;case ze.Tab:this._handleTab(e);break;case ze.Esc:this.close(),e.preventDefault();break;case ze.Backspace:this._handleBackspace()}}},{key:"handleMousedown",value:function(e){var t=e.target;"INPUT"!==t.tagName&&e.preventDefault(),t.classList.contains("ng-clear-wrapper")?this.handleClearClick():t.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():t.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}},{key:"handleArrowClick",value:function(){this.isOpen?this.close():this.open()}},{key:"handleClearClick",value:function(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}},{key:"clearModel",value:function(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}},{key:"writeValue",value:function(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this._disabled=e,this._cd.markForCheck()}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"open",value:function(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||(this._isTypeahead||this.addTag||!this.itemsList.noItemsToSelect)&&(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}},{key:"close",value:function(){this.isOpen&&!this._manualOpen&&(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}},{key:"toggleItem",value:function(e){!e||e.disabled||this.disabled||(this.multiple&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}},{key:"select",value:function(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}},{key:"focus",value:function(){this.searchInput.nativeElement.focus()}},{key:"blur",value:function(){this.searchInput.nativeElement.blur()}},{key:"unselect",value:function(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e))}},{key:"selectTag",value:function(){var e,t=this;e=Ve(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:(0,i.Z)({},this.bindLabel,this.searchTerm);var n=function(e){return t._isTypeahead||!t.isOpen?t.itemsList.mapItem(e,null):t.itemsList.addItem(e)};e instanceof Promise?e.then(function(e){return t.select(n(e))}).catch(function(){}):e&&this.select(n(e))}},{key:"showClear",value:function(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}},{key:"showAddTag",get:function(){if(!this._validTerm)return!1;var e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(function(t){return t.label.toLowerCase()===e})&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(function(t){return t.label.toLowerCase()===e}))&&!this.loading}},{key:"showNoItemsFound",value:function(){var e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}},{key:"showTypeToSearch",value:function(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}},{key:"onCompositionStart",value:function(){this._isComposing=!0}},{key:"onCompositionEnd",value:function(e){this._isComposing=!1,this.searchWhileComposing||this.filter(e)}},{key:"filter",value:function(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(function(e){return e.value})}),this.open())}},{key:"onInputFocus",value:function(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}},{key:"onInputBlur",value:function(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),this.isOpen||this.disabled||this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}},{key:"onItemHover",value:function(e){e.disabled||this.itemsList.markItem(e)}},{key:"detectChanges",value:function(){this._cd.destroyed||this._cd.detectChanges()}},{key:"_setSearchTermFromItems",value:function(){var e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}},{key:"_setItems",value:function(e){var t=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Me(t)?!Se(t):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Me(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}},{key:"_setItemsFromNgOptions",value:function(){var e=this;this.ngOptions.changes.pipe((0,y.O)(this.ngOptions),(0,g.R)(this._destroy$)).subscribe(function(t){var n;e.bindLabel=e._defaultLabel,function(t){e.items=t.map(function(e){return{$ngOptionValue:e.value,$ngOptionLabel:e.elementRef.nativeElement.innerHTML,disabled:e.disabled}}),e.itemsList.setItems(e.items),e.hasValue&&e.itemsList.mapSelectedItems(),e.detectChanges()}(t),n=(0,U.T)(e.ngOptions.changes,e._destroy$),U.T.apply(void 0,(0,s.Z)(e.ngOptions.map(function(e){return e.stateChange$}))).pipe((0,g.R)(n)).subscribe(function(t){var n=e.itemsList.findItem(t.value);n.disabled=t.disabled,n.label=t.label||n.label,e._cd.detectChanges()})})}},{key:"_isValidWriteValue",value:function(e){var t=this;if(!Me(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;var n=function(e){return!(!Me(t.compareWith)&&Se(e)&&t.bindValue&&(t._console.warn("Setting object(".concat(JSON.stringify(e),") as your model with bindValue is not allowed unless [compareWith] is used.")),1))};return this.multiple?Array.isArray(e)?e.every(function(e){return n(e)}):(this._console.warn("Multiple select ngModel should be array."),!1):n(e)}},{key:"_handleWriteValue",value:function(e){var t=this;if(this._isValidWriteValue(e)){var n=function(e){var n=t.itemsList.findItem(e);if(n)t.itemsList.select(n);else{var r=Se(e);if(r||!r&&!t.bindValue)t.itemsList.select(t.itemsList.mapItem(e,null));else if(t.bindValue){var o;(0,i.Z)(o={},t.bindLabel,null),(0,i.Z)(o,t.bindValue,e),t.itemsList.select(t.itemsList.mapItem(n=o,null))}}};this.multiple?e.forEach(function(e){return n(e)}):n(e)}}},{key:"_handleKeyPresses",value:function(){var e=this;this.searchable||this._keyPress$.pipe((0,g.R)(this._destroy$),(0,b.b)(function(t){return e._pressedKeys.push(t)}),(0,_.b)(200),(0,C.h)(function(){return e._pressedKeys.length>0}),(0,E.U)(function(){return e._pressedKeys.join("")})).subscribe(function(t){var n=e.itemsList.findByLabel(t);n&&(e.isOpen?(e.itemsList.markItem(n),e._scrollToMarked(),e._cd.markForCheck()):e.select(n)),e._pressedKeys=[]})}},{key:"_setInputAttributes",value:function(){for(var e=this.searchInput.nativeElement,t=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs),n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];e.setAttribute(i,t[i])}}},{key:"_updateNgModel",value:function(){var e,t=[],n=(0,a.Z)(this.selectedItems);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(this.bindValue){var i;i=r.children?r.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(r.value,this.bindValue),t.push(i)}else t.push(r.value)}}catch(s){n.e(s)}finally{n.f()}var o=this.selectedItems.map(function(e){return e.value});this.multiple?(this._onChange(t),this.changeEvent.emit(o)):(this._onChange(Me(t[0])?t[0]:null),this.changeEvent.emit(o[0])),this._cd.markForCheck()}},{key:"_clearSearch",value:function(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}},{key:"_changeSearch",value:function(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}},{key:"_scrollToMarked",value:function(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollTo(this.itemsList.markedItem)}},{key:"_scrollToTag",value:function(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollToTag()}},{key:"_onSelectionChanged",value:function(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}},{key:"_handleTab",value:function(e){(!1!==this.isOpen||this.addTag)&&(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close())}},{key:"_handleEnter",value:function(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}},{key:"_handleSpace",value:function(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}},{key:"_handleArrowDown",value:function(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}},{key:"_handleArrowUp",value:function(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}},{key:"_nextItemIsTag",value:function(e){var t=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(t<0||t===this.itemsList.filteredItems.length)}},{key:"_handleBackspace",value:function(){!this.searchTerm&&this.clearable&&this.clearOnBackspace&&this.hasValue&&(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}},{key:"_isTypeahead",get:function(){return this.typeahead&&this.typeahead.observers.length>0}},{key:"_validTerm",get:function(){var e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}},{key:"_mergeGlobalConfig",value:function(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=Me(this.virtualScroll)?this.virtualScroll:!!Me(e.disableVirtualScroll)&&!e.disableVirtualScroll,this.openOnEnter=Me(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.$8M("class"),c.$8M("autofocus"),c.Y36(et),c.Y36(tt),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(He))},e.\u0275cmp=c.Xpm({type:e,selectors:[["ng-select"]],contentQueries:function(e,t,n){var r;1&e&&(c.Suo(n,De,5,c.Rgc),c.Suo(n,ke,5,c.Rgc),c.Suo(n,Re,5,c.Rgc),c.Suo(n,Pe,5,c.Rgc),c.Suo(n,Ne,5,c.Rgc),c.Suo(n,Fe,5,c.Rgc),c.Suo(n,Le,5,c.Rgc),c.Suo(n,Ze,5,c.Rgc),c.Suo(n,Ue,5,c.Rgc),c.Suo(n,Be,5,c.Rgc),c.Suo(n,Ge,5,c.Rgc),c.Suo(n,$e,5)),2&e&&(c.iGM(r=c.CRH())&&(t.optionTemplate=r.first),c.iGM(r=c.CRH())&&(t.optgroupTemplate=r.first),c.iGM(r=c.CRH())&&(t.labelTemplate=r.first),c.iGM(r=c.CRH())&&(t.multiLabelTemplate=r.first),c.iGM(r=c.CRH())&&(t.headerTemplate=r.first),c.iGM(r=c.CRH())&&(t.footerTemplate=r.first),c.iGM(r=c.CRH())&&(t.notFoundTemplate=r.first),c.iGM(r=c.CRH())&&(t.typeToSearchTemplate=r.first),c.iGM(r=c.CRH())&&(t.loadingTextTemplate=r.first),c.iGM(r=c.CRH())&&(t.tagTemplate=r.first),c.iGM(r=c.CRH())&&(t.loadingSpinnerTemplate=r.first),c.iGM(r=c.CRH())&&(t.ngOptions=r))},viewQuery:function(e,t){var n;1&e&&(c.Gf(Xe,5),c.Gf(Q,7)),2&e&&(c.iGM(n=c.CRH())&&(t.dropdownPanel=n.first),c.iGM(n=c.CRH())&&(t.searchInput=n.first))},hostVars:20,hostBindings:function(e,t){1&e&&c.NdJ("keydown",function(e){return t.handleKeyDown(e)}),2&e&&c.ekj("ng-select",t.useDefaultClass)("ng-select-single",!t.multiple)("ng-select-multiple",t.multiple)("ng-select-taggable",t.addTag)("ng-select-searchable",t.searchable)("ng-select-clearable",t.clearable)("ng-select-opened",t.isOpen)("ng-select-disabled",t.disabled)("ng-select-filtered",t.filtered)("ng-select-typeahead",t.typeahead)},inputs:{markFirst:"markFirst",dropdownPosition:"dropdownPosition",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",bufferAmount:"bufferAmount",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",bindLabel:"bindLabel",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",virtualScroll:"virtualScroll",openOnEnter:"openOnEnter",appendTo:"appendTo",bindValue:"bindValue",appearance:"appearance",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",tabIndex:"tabIndex",typeahead:"typeahead"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[c._Bn([{provide:d.JU,useExisting:(0,c.Gpc)(function(){return e}),multi:!0},Qe]),c.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",0),c.NdJ("mousedown",function(e){return t.handleMousedown(e)}),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._uU(3),c.qZA(),c.YNc(4,ee,2,2,"ng-container",3),c.YNc(5,re,1,5,void 0,3),c.TgZ(6,"div",4),c.TgZ(7,"input",5,6),c.NdJ("input",function(){c.CHM(n);var e=c.MAs(8);return t.filter(e.value)})("compositionstart",function(){return t.onCompositionStart()})("compositionend",function(){c.CHM(n);var e=c.MAs(8);return t.onCompositionEnd(e.value)})("focus",function(e){return t.onInputFocus(e)})("blur",function(e){return t.onInputBlur(e)})("change",function(e){return e.stopPropagation()}),c.qZA(),c.qZA(),c.qZA(),c.YNc(9,ae,4,1,"ng-container",3),c.YNc(10,se,3,1,"span",7),c.TgZ(11,"span",8),c._UZ(12,"span",9),c.qZA(),c.qZA(),c.YNc(13,we,7,19,"ng-dropdown-panel",10)}2&e&&(c.ekj("ng-appearance-outline","outline"===t.appearance)("ng-has-value",t.hasValue),c.xp6(3),c.Oqu(t.placeholder),c.xp6(1),c.Q6J("ngIf",(!t.multiLabelTemplate||!t.multiple)&&t.selectedItems.length>0),c.xp6(1),c.Q6J("ngIf",t.multiple&&t.multiLabelTemplate&&t.selectedValues.length>0),c.xp6(1),c.uIk("aria-expanded",t.isOpen)("aria-owns",t.isOpen?t.dropdownId:null),c.xp6(1),c.Q6J("readOnly",!t.searchable||t.itemsList.maxItemsSelected)("disabled",t.disabled)("value",t.searchTerm?t.searchTerm:""),c.uIk("id",t.labelForId)("tabindex",t.tabIndex)("aria-activedescendant",t.isOpen?null==t.itemsList||null==t.itemsList.markedItem?null:t.itemsList.markedItem.htmlId:null)("aria-controls",t.isOpen?t.dropdownId:null),c.xp6(2),c.Q6J("ngIf",t.loading),c.xp6(1),c.Q6J("ngIf",t.showClear()),c.xp6(3),c.Q6J("ngIf",t.isOpen))},directives:[B.O5,B.sg,B.tP,Ae,Xe,B.mk],styles:['.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:bold;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),e}(),rt=function(){function e(){(0,l.Z)(this,e),this._selected=[]}return(0,u.Z)(e,[{key:"value",get:function(){return this._selected}},{key:"select",value:function(e,t,n){if(e.selected=!0,(!e.children||!t&&n)&&this._selected.push(e),t)if(e.parent){var r=e.parent.children.length,i=e.parent.children.filter(function(e){return e.selected}).length;e.parent.selected=r===i}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),this._selected=n&&this._activeChildren(e)?[].concat((0,s.Z)(this._selected.filter(function(t){return t.parent!==e})),[e]):[].concat((0,s.Z)(this._selected),(0,s.Z)(e.children.filter(function(e){return!e.disabled}))))}},{key:"unselect",value:function(e,t){if(this._selected=this._selected.filter(function(t){return t!==e}),e.selected=!1,t)if(e.parent&&e.parent.selected){var n,r=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),(n=this._selected).push.apply(n,(0,s.Z)(r.filter(function(t){return t!==e&&!t.disabled}))),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}},{key:"clear",value:function(e){this._selected=e?this._selected.filter(function(e){return e.disabled}):[]}},{key:"_setChildrenSelectedState",value:function(e,t){var n,r=(0,a.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.disabled||(i.selected=t)}}catch(o){r.e(o)}finally{r.f()}}},{key:"_removeChildren",value:function(e){this._selected=[].concat((0,s.Z)(this._selected.filter(function(t){return t.parent!==e})),(0,s.Z)(e.children.filter(function(t){return t.parent===e&&t.disabled&&t.selected})))}},{key:"_removeParent",value:function(e){this._selected=this._selected.filter(function(t){return t!==e})}},{key:"_activeChildren",value:function(e){return e.children.every(function(e){return!e.disabled||e.selected})}}]),e}(),it=function(){return new rt},ot=function(){var e=(0,u.Z)(function e(){(0,l.Z)(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[{provide:tt,useValue:it}],imports:[[B.ez]]}),e}()},70468:function(e,t,n){"use strict";n.d(t,{gC:function(){return O},aw:function(){return G},X$:function(){return B},sK:function(){return U}});var r=n(75328),i=n(77506),o=n(92593),a=n(88879),s=n(57285),l=n(98288),u=n(35322),c=n(82391),d=n(17849);function h(e){return!!e&&(e instanceof c.y||(0,d.m)(e.lift)&&(0,d.m)(e.subscribe))}var f=n(51929);function p(e){return new c.y(function(t){(0,f.Xf)(e()).subscribe(t)})}var m=n(32041),v=n(66891),g=n(15613),y=n(69056),b=n(42607),_=n(91681),C=n(88196),E=n(14324),T=(0,s.Z)(function e(){(0,l.Z)(this,e)}),w=function(){var e=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getTranslation",value:function(e){return(0,m.of)({})}}]),n}(T);return e.\u0275fac=function(){var t;return function(n){return(t||(t=u.n5z(e)))(n||e)}}(),e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e}(),O=(0,s.Z)(function e(){(0,l.Z)(this,e)}),x=function(){var e=function(){function e(){(0,l.Z)(this,e)}return(0,s.Z)(e,[{key:"handle",value:function(e){return e.key}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e}();function I(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o==typeof t&&"object"==o){if(!Array.isArray(e)){if(Array.isArray(t))return!1;for(r in i=Object.create(null),e){if(!I(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&void 0!==t[r])return!1;return!0}if(!Array.isArray(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!I(e[r],t[r]))return!1;return!0}}return!1}function M(e){return null!=e}function S(e){return e&&"object"==typeof e&&!Array.isArray(e)}function V(e,t){var n=Object.assign({},e);return S(e)&&S(t)&&Object.keys(t).forEach(function(r){S(t[r])&&r in e?n[r]=V(e[r],t[r]):Object.assign(n,(0,i.Z)({},r,t[r]))}),n}var A=(0,s.Z)(function e(){(0,l.Z)(this,e)}),D=function(){var e=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,l.Z)(this,n),(e=t.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,e}return(0,s.Z)(n,[{key:"interpolate",value:function(e,t){return"string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e}},{key:"getValue",value:function(e,t){var n="string"==typeof t?t.split("."):[t];t="";do{t+=n.shift(),!M(e)||!M(e[t])||"object"!=typeof e[t]&&n.length?n.length?t+=".":e=void 0:(e=e[t],t="")}while(n.length);return e}},{key:"interpolateFunction",value:function(e,t){return e(t)}},{key:"interpolateString",value:function(e,t){var n=this;return t?e.replace(this.templateMatcher,function(e,r){var i=n.getValue(t,r);return M(i)?i:e}):e}}]),n}(A);return e.\u0275fac=function(){var t;return function(n){return(t||(t=u.n5z(e)))(n||e)}}(),e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e}(),k=(0,s.Z)(function e(){(0,l.Z)(this,e)}),R=function(){var e=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"compile",value:function(e,t){return e}},{key:"compileTranslations",value:function(e,t){return e}}]),n}(k);return e.\u0275fac=function(){var t;return function(n){return(t||(t=u.n5z(e)))(n||e)}}(),e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e}(),P=(0,s.Z)(function e(){(0,l.Z)(this,e),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new u.vpe,this.onLangChange=new u.vpe,this.onDefaultLangChange=new u.vpe}),N=new u.OlP("USE_STORE"),F=new u.OlP("USE_DEFAULT_LANG"),L=new u.OlP("DEFAULT_LANGUAGE"),Z=new u.OlP("USE_EXTEND"),U=function(){var e=function(){function e(t,n,r,i,o){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],d=arguments.length>8?arguments[8]:void 0;(0,l.Z)(this,e),this.store=t,this.currentLoader=n,this.compiler=r,this.parser=i,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=s,this.extend=c,this.pending=!1,this._onTranslationChange=new u.vpe,this._onLangChange=new u.vpe,this._onDefaultLangChange=new u.vpe,this._langs=[],this._translations={},this._translationRequests={},d&&this.setDefaultLang(d)}return(0,s.Z)(e,[{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(e){this.isolate?this._currentLang=e:this.store.currentLang=e}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(e){this.isolate?this._langs=e:this.store.langs=e}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(e){this.isolate?this._translations=e:this.store.translations=e}},{key:"setDefaultLang",value:function(e){var t=this;if(e!==this.defaultLang){var n=this.retrieveTranslations(e);void 0!==n?(null==this.defaultLang&&(this.defaultLang=e),n.pipe((0,y.q)(1)).subscribe(function(n){t.changeDefaultLang(e)})):this.changeDefaultLang(e)}}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(e){var t=this;if(e===this.currentLang)return(0,m.of)(this.translations[e]);var n=this.retrieveTranslations(e);return void 0!==n?(this.currentLang||(this.currentLang=e),n.pipe((0,y.q)(1)).subscribe(function(n){t.changeLang(e)}),n):(this.changeLang(e),(0,m.of)(this.translations[e]))}},{key:"retrieveTranslations",value:function(e){var t;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}},{key:"getTranslation",value:function(e){var t=this;this.pending=!0;var n=this.currentLoader.getTranslation(e).pipe((0,b.d)(1),(0,y.q)(1));return this.loadingTranslations=n.pipe((0,_.U)(function(n){return t.compiler.compileTranslations(n,e)}),(0,b.d)(1),(0,y.q)(1)),this.loadingTranslations.subscribe({next:function(n){t.translations[e]=t.extend&&t.translations[e]?Object.assign(Object.assign({},n),t.translations[e]):n,t.updateLangs(),t.pending=!1},error:function(e){t.pending=!1}}),n}},{key:"setTranslation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=this.compiler.compileTranslations(t,e),this.translations[e]=(n||this.extend)&&this.translations[e]?V(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(e){var t=this;e.forEach(function(e){-1===t.langs.indexOf(e)&&t.langs.push(e)})}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(e,t,n){var i;if(t instanceof Array){var o,a={},s=!1,l=(0,r.Z)(t);try{for(l.s();!(o=l.n()).done;){var u=o.value;a[u]=this.getParsedResult(e,u,n),h(a[u])&&(s=!0)}}catch(f){l.e(f)}finally{l.f()}if(s){var c=t.map(function(e){return h(a[e])?a[e]:(0,m.of)(a[e])});return(0,v.D)(c).pipe((0,_.U)(function(e){var n={};return e.forEach(function(e,r){n[t[r]]=e}),n}))}return a}if(e&&(i=this.parser.interpolate(this.parser.getValue(e,t),n)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),n)),void 0===i){var d={key:t,translateService:this};void 0!==n&&(d.interpolateParams=n),i=this.missingTranslationHandler.handle(d)}return void 0!==i?i:t}},{key:"get",value:function(e,t){var n=this;if(!M(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,C.b)(function(r){return h(r=n.getParsedResult(r,e,t))?r:(0,m.of)(r)}));var r=this.getParsedResult(this.translations[this.currentLang],e,t);return h(r)?r:(0,m.of)(r)}},{key:"getStreamOnTranslationChange",value:function(e,t){var n=this;if(!M(e)||!e.length)throw new Error('Parameter "key" required');return(0,g.z)(p(function(){return n.get(e,t)}),this.onTranslationChange.pipe((0,E.w)(function(r){var i=n.getParsedResult(r.translations,e,t);return"function"==typeof i.subscribe?i:(0,m.of)(i)})))}},{key:"stream",value:function(e,t){var n=this;if(!M(e)||!e.length)throw new Error('Parameter "key" required');return(0,g.z)(p(function(){return n.get(e,t)}),this.onLangChange.pipe((0,E.w)(function(r){var i=n.getParsedResult(r.translations,e,t);return h(i)?i:(0,m.of)(i)})))}},{key:"instant",value:function(e,t){if(!M(e)||!e.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],e,t);if(h(n)){if(e instanceof Array){var r={};return e.forEach(function(t,n){r[e[n]]=e[n]}),r}return e}return n}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][e]=this.compiler.compile(t,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}},{key:"changeDefaultLang",value:function(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}},{key:"reloadLang",value:function(e){return this.resetLang(e),this.getTranslation(e)}},{key:"resetLang",value:function(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}},{key:"getBrowserLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;if(void 0!==(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage))return-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e}}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator)return(window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.LFG(P),u.LFG(T),u.LFG(k),u.LFG(A),u.LFG(O),u.LFG(F),u.LFG(N),u.LFG(Z),u.LFG(L))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e}(),B=function(){var e=function(){function e(t,n){(0,l.Z)(this,e),this.translate=t,this._ref=n,this.value=""}return(0,s.Z)(e,[{key:"updateValue",value:function(e,t,n){var r=this,i=function(t){r.value=void 0!==t?t:e,r.lastKey=e,r._ref.markForCheck()};if(n){var o=this.translate.getParsedResult(n,e,t);h(o.subscribe)?o.subscribe(i):i(o)}this.translate.get(e,t).subscribe(i)}},{key:"transform",value:function(e){var t,n=this;if(!e||!e.length)return e;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(I(e,this.lastKey)&&I(i,this.lastParams))return this.value;if(M(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){var a=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{t=JSON.parse(a)}catch(s){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: ".concat(i[0]))}}else"object"!=typeof i[0]||Array.isArray(i[0])||(t=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,t),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(function(r){n.lastKey&&r.lang===n.translate.currentLang&&(n.lastKey=null,n.updateValue(e,t,r.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(function(r){n.lastKey&&(n.lastKey=null,n.updateValue(e,t,r.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(function(){n.lastKey&&(n.lastKey=null,n.updateValue(e,t))})),this.value}},{key:"_dispose",value:function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}},{key:"ngOnDestroy",value:function(){this._dispose()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(U,16),u.Y36(u.sBO,16))},e.\u0275pipe=u.Yjl({name:"translate",type:e,pure:!1}),e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e}(),G=function(){var e=function(){function e(){(0,l.Z)(this,e)}return(0,s.Z)(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.loader||{provide:T,useClass:w},t.compiler||{provide:k,useClass:R},t.parser||{provide:A,useClass:D},t.missingTranslationHandler||{provide:O,useClass:x},P,{provide:N,useValue:t.isolate},{provide:F,useValue:t.useDefaultLang},{provide:Z,useValue:t.extend},{provide:L,useValue:t.defaultLanguage},U]}}},{key:"forChild",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.loader||{provide:T,useClass:w},t.compiler||{provide:k,useClass:R},t.parser||{provide:A,useClass:D},t.missingTranslationHandler||{provide:O,useClass:x},{provide:N,useValue:t.isolate},{provide:F,useValue:t.useDefaultLang},{provide:Z,useValue:t.extend},{provide:L,useValue:t.defaultLanguage},U]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e}()},22550:function(e,t,n){var r=n(31311)(n(58568),"DataView");e.exports=r},27868:function(e,t,n){var r=n(18944),i=n(18790),o=n(40218),a=n(80072),s=n(3575);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},58170:function(e,t,n){var r=n(49849),i=n(71903),o=n(3825),a=n(30766),s=n(2154);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},6647:function(e,t,n){var r=n(31311)(n(58568),"Map");e.exports=r},98856:function(e,t,n){var r=n(58289),i=n(19581),o=n(61608),a=n(8901),s=n(12399);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},68443:function(e,t,n){var r=n(31311)(n(58568),"Promise");e.exports=r},97423:function(e,t,n){var r=n(31311)(n(58568),"Set");e.exports=r},30964:function(e,t,n){var r=n(58170),i=n(31816),o=n(86246),a=n(95499),s=n(17114),l=n(68677);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},80920:function(e,t,n){var r=n(58568);e.exports=r.Symbol},34601:function(e,t,n){var r=n(58568);e.exports=r.Uint8Array},67936:function(e,t,n){var r=n(31311)(n(58568),"WeakMap");e.exports=r},86932:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},41492:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},20703:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},48421:function(e,t,n){var r=n(24899),i=n(66776),o=n(47712),a=n(80354),s=n(66758),l=n(51156),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),d=!n&&!c&&a(e),h=!n&&!c&&!d&&l(e),f=n||c||d||h,p=f?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||f&&("length"==v||d&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},426:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},39008:function(e,t,n){var r=n(61216),i=n(870);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},25823:function(e,t,n){var r=n(61216),i=n(870),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},67477:function(e,t,n){var r=n(870);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},22369:function(e,t,n){var r=n(79399),i=n(48600);e.exports=function(e,t){return e&&r(t,i(t),e)}},96907:function(e,t,n){var r=n(79399),i=n(10752);e.exports=function(e,t){return e&&r(t,i(t),e)}},61216:function(e,t,n){var r=n(5327);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},26968:function(e,t,n){var r=n(30964),i=n(41492),o=n(25823),a=n(22369),s=n(96907),l=n(68340),u=n(49327),c=n(34280),d=n(3851),h=n(82249),f=n(49933),p=n(32234),m=n(81438),v=n(25353),g=n(94868),y=n(47712),b=n(80354),_=n(49333),C=n(17305),E=n(8274),T=n(48600),w=n(10752),O="[object Arguments]",x="[object Function]",I="[object Object]",M={};M[O]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[I]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[x]=M["[object WeakMap]"]=!1,e.exports=function e(t,n,S,V,A,D){var k,R=1&n,P=2&n,N=4&n;if(S&&(k=A?S(t,V,A,D):S(t)),void 0!==k)return k;if(!C(t))return t;var F=y(t);if(F){if(k=m(t),!R)return u(t,k)}else{var L=p(t),Z=L==x||"[object GeneratorFunction]"==L;if(b(t))return l(t,R);if(L==I||L==O||Z&&!A){if(k=P||Z?{}:g(t),!R)return P?d(t,s(k,t)):c(t,a(k,t))}else{if(!M[L])return A?t:{};k=v(t,L,R)}}D||(D=new r);var U=D.get(t);if(U)return U;D.set(t,k),E(t)?t.forEach(function(r){k.add(e(r,n,S,r,t,D))}):_(t)&&t.forEach(function(r,i){k.set(i,e(r,n,S,i,t,D))});var B=F?void 0:(N?P?f:h:P?w:T)(t);return i(B||t,function(r,i){B&&(r=t[i=r]),o(k,i,e(r,n,S,i,t,D))}),k}},56004:function(e,t,n){var r=n(17305),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},48486:function(e,t,n){var r=n(43999)();e.exports=r},53425:function(e,t,n){var r=n(426),i=n(47712);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},3219:function(e,t,n){var r=n(80920),i=n(55053),o=n(91059),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},80561:function(e,t,n){var r=n(3219),i=n(3902);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},75080:function(e,t,n){var r=n(32234),i=n(3902);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},96450:function(e,t,n){var r=n(70458),i=n(23744),o=n(17305),a=n(54568),s=/^\[object .+?Constructor\]$/,l=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?l:s).test(a(e))}},15104:function(e,t,n){var r=n(32234),i=n(3902);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},94154:function(e,t,n){var r=n(3219),i=n(93490),o=n(3902),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},97272:function(e,t,n){var r=n(4444),i=n(75427),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},40623:function(e,t,n){var r=n(17305),i=n(4444),o=n(3601),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},75705:function(e,t,n){var r=n(30964),i=n(39008),o=n(48486),a=n(76876),s=n(17305),l=n(10752),u=n(42342);e.exports=function e(t,n,c,d,h){t!==n&&o(n,function(o,l){if(h||(h=new r),s(o))a(t,n,l,c,e,d,h);else{var f=d?d(u(t,l),o,l+"",t,n,h):void 0;void 0===f&&(f=o),i(t,l,f)}},l)}},76876:function(e,t,n){var r=n(39008),i=n(68340),o=n(35596),a=n(49327),s=n(94868),l=n(66776),u=n(47712),c=n(56633),d=n(80354),h=n(70458),f=n(17305),p=n(7629),m=n(51156),v=n(42342),g=n(65208);e.exports=function(e,t,n,y,b,_,C){var E=v(e,n),T=v(t,n),w=C.get(T);if(w)r(e,n,w);else{var O=_?_(E,T,n+"",e,t,C):void 0,x=void 0===O;if(x){var I=u(T),M=!I&&d(T),S=!I&&!M&&m(T);O=T,I||M||S?u(E)?O=E:c(E)?O=a(E):M?(x=!1,O=i(T,!0)):S?(x=!1,O=o(T,!0)):O=[]:p(T)||l(T)?(O=E,l(E)?O=g(E):f(E)&&!h(E)||(O=s(T))):x=!1}x&&(C.set(T,O),b(O,T,y,_,C),C.delete(T)),r(e,n,O)}}},37165:function(e,t,n){var r=n(19903),i=n(90877),o=n(13382);e.exports=function(e,t){return o(i(e,t,r),e+"")}},89866:function(e,t,n){var r=n(60583),i=n(5327),o=n(19903);e.exports=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o},24899:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},97633:function(e){e.exports=function(e){return function(t){return e(t)}}},37162:function(e,t,n){var r=n(34601);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},68340:function(e,t,n){e=n.nmd(e);var r=n(58568),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},54849:function(e,t,n){var r=n(37162);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},1226:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},48366:function(e,t,n){var r=n(80920),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},35596:function(e,t,n){var r=n(37162);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},49327:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},79399:function(e,t,n){var r=n(25823),i=n(61216);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?i(n,u,c):r(n,u,c)}return n}},34280:function(e,t,n){var r=n(79399),i=n(18461);e.exports=function(e,t){return r(e,i(e),t)}},3851:function(e,t,n){var r=n(79399),i=n(59524);e.exports=function(e,t){return r(e,i(e),t)}},68685:function(e,t,n){var r=n(58568);e.exports=r["__core-js_shared__"]},57082:function(e,t,n){var r=n(37165),i=n(10139);e.exports=function(e){return r(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t})}},43999:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},5327:function(e,t,n){var r=n(31311),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},52127:function(e){var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},82249:function(e,t,n){var r=n(53425),i=n(18461),o=n(48600);e.exports=function(e){return r(e,o,i)}},49933:function(e,t,n){var r=n(53425),i=n(59524),o=n(10752);e.exports=function(e){return r(e,o,i)}},65810:function(e,t,n){var r=n(51117);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},31311:function(e,t,n){var r=n(96450),i=n(44458);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},45410:function(e,t,n){var r=n(11621)(Object.getPrototypeOf,Object);e.exports=r},55053:function(e,t,n){var r=n(80920),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},18461:function(e,t,n){var r=n(20703),i=n(20668),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;e.exports=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return o.call(e,t)}))}:i},59524:function(e,t,n){var r=n(426),i=n(45410),o=n(18461),a=n(20668);e.exports=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a},32234:function(e,t,n){var r=n(22550),i=n(6647),o=n(68443),a=n(97423),s=n(67936),l=n(3219),u=n(54568),c="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=u(r),v=u(i),g=u(o),y=u(a),b=u(s),_=l;(r&&_(new r(new ArrayBuffer(1)))!=p||i&&_(new i)!=c||o&&_(o.resolve())!=d||a&&_(new a)!=h||s&&_(new s)!=f)&&(_=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return p;case v:return c;case g:return d;case y:return h;case b:return f}return t}),e.exports=_},44458:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},18944:function(e,t,n){var r=n(54263);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},18790:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},40218:function(e,t,n){var r=n(54263),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},80072:function(e,t,n){var r=n(54263),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},3575:function(e,t,n){var r=n(54263);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},81438:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},25353:function(e,t,n){var r=n(37162),i=n(54849),o=n(1226),a=n(48366),s=n(35596);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Set]":return new l;case"[object Symbol]":return a(e)}}},94868:function(e,t,n){var r=n(56004),i=n(45410),o=n(4444);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},66758:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},10139:function(e,t,n){var r=n(870),i=n(9140),o=n(66758),a=n(17305);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},51117:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},23744:function(e,t,n){var r,i=n(68685),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},4444:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},49849:function(e){e.exports=function(){this.__data__=[],this.size=0}},71903:function(e,t,n){var r=n(67477),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},3825:function(e,t,n){var r=n(67477);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},30766:function(e,t,n){var r=n(67477);e.exports=function(e){return r(this.__data__,e)>-1}},2154:function(e,t,n){var r=n(67477);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},58289:function(e,t,n){var r=n(27868),i=n(58170),o=n(6647);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},19581:function(e,t,n){var r=n(65810);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},61608:function(e,t,n){var r=n(65810);e.exports=function(e){return r(this,e).get(e)}},8901:function(e,t,n){var r=n(65810);e.exports=function(e){return r(this,e).has(e)}},12399:function(e,t,n){var r=n(65810);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},54263:function(e,t,n){var r=n(31311)(Object,"create");e.exports=r},75427:function(e,t,n){var r=n(11621)(Object.keys,Object);e.exports=r},3601:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},80166:function(e,t,n){e=n.nmd(e);var r=n(52127),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},91059:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},11621:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},90877:function(e,t,n){var r=n(86932),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},58568:function(e,t,n){var r=n(52127),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},42342:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},13382:function(e,t,n){var r=n(89866),i=n(74001)(r);e.exports=i},74001:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},31816:function(e,t,n){var r=n(58170);e.exports=function(){this.__data__=new r,this.size=0}},86246:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},95499:function(e){e.exports=function(e){return this.__data__.get(e)}},17114:function(e){e.exports=function(e){return this.__data__.has(e)}},68677:function(e,t,n){var r=n(58170),i=n(6647),o=n(98856);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},54568:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},38961:function(e,t,n){var r=n(26968);e.exports=function(e){return r(e,5)}},60583:function(e){e.exports=function(e){return function(){return e}}},870:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},19903:function(e){e.exports=function(e){return e}},66776:function(e,t,n){var r=n(80561),i=n(3902),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},47712:function(e){e.exports=Array.isArray},9140:function(e,t,n){var r=n(70458),i=n(93490);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},56633:function(e,t,n){var r=n(9140),i=n(3902);e.exports=function(e){return i(e)&&r(e)}},80354:function(e,t,n){e=n.nmd(e);var r=n(58568),i=n(1950),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0;e.exports=(s?s.isBuffer:void 0)||i},70458:function(e,t,n){var r=n(3219),i=n(17305);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},93490:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},49333:function(e,t,n){var r=n(75080),i=n(97633),o=n(80166),a=o&&o.isMap,s=a?i(a):r;e.exports=s},17305:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3902:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},7629:function(e,t,n){var r=n(3219),i=n(45410),o=n(3902),a=Function.prototype.toString,s=Object.prototype.hasOwnProperty,l=a.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==l}},8274:function(e,t,n){var r=n(15104),i=n(97633),o=n(80166),a=o&&o.isSet,s=a?i(a):r;e.exports=s},51156:function(e,t,n){var r=n(94154),i=n(97633),o=n(80166),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},48600:function(e,t,n){var r=n(48421),i=n(97272),o=n(9140);e.exports=function(e){return o(e)?r(e):i(e)}},10752:function(e,t,n){var r=n(48421),i=n(40623),o=n(9140);e.exports=function(e){return o(e)?r(e,!0):i(e)}},81940:function(e,t,n){var r=n(75705),i=n(57082)(function(e,t,n){r(e,t,n)});e.exports=i},20668:function(e){e.exports=function(){return[]}},1950:function(e){e.exports=function(){return!1}},65208:function(e,t,n){var r=n(79399),i=n(10752);e.exports=function(e){return r(e,i(e))}},20895:function(e){e.exports=function(){"use strict";var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test,a=/\S/;var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,u=/\s+/,c=/\s*=/,d=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function f(e){this.string=e,this.tail=e,this.pos=0}function p(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function m(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},p.prototype.push=function(e){return new p(e,this)},p.prototype.lookup=function(e){var t,r,o=this.cache;if(o.hasOwnProperty(e))t=o[e];else{for(var a,s,l,u=this,c=!1;u;){if(e.indexOf(".")>0)for(a=u.view,s=e.split("."),l=0;null!=a&&l<s.length;)l===s.length-1&&(c=i(a,s[l])||null!=(r=a)&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(s[l])),a=a[s[l++]];else a=u.view[e],c=i(u.view,e);if(c){t=a;break}u=u.parent}o[e]=t}return n(t)&&(t=t.call(this.view)),t},m.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},m.prototype.parse=function(e,n){var i=this.templateCache,s=e+":"+(n||v.tags).join(":"),p=void 0!==i,m=p?i.get(s):void 0;return null==m&&(m=function(e,n){if(!e)return[];var i,s,p,m,g=!1,y=[],b=[],_=[],C=!1,E=!1,T="",w=0;function O(){if(C&&!E)for(;_.length;)delete b[_.pop()];else _=[];C=!1,E=!1}function x(e){if("string"==typeof e&&(e=e.split(u,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(r(e[0])+"\\s*"),s=new RegExp("\\s*"+r(e[1])),p=new RegExp("\\s*"+r("}"+e[1]))}x(n||v.tags);for(var I,M,S,V,A,D,k=new f(e);!k.eos();){if(I=k.pos,S=k.scanUntil(i))for(var R=0,P=S.length;R<P;++R)m=V=S.charAt(R),function(e,t){return o.call(e,t)}(a,m)?(E=!0,g=!0,T+=" "):(_.push(b.length),T+=V),b.push(["text",V,I,I+1]),I+=1,"\n"===V&&(O(),T="",w=0,g=!1);if(!k.scan(i))break;if(C=!0,M=k.scan(h)||"name",k.scan(l),"="===M?(S=k.scanUntil(c),k.scan(c),k.scanUntil(s)):"{"===M?(S=k.scanUntil(p),k.scan(d),k.scanUntil(s),M="&"):S=k.scanUntil(s),!k.scan(s))throw new Error("Unclosed tag at "+k.pos);if(A=">"==M?[M,S,I,k.pos,T,w,g]:[M,S,I,k.pos],w++,b.push(A),"#"===M||"^"===M)y.push(A);else if("/"===M){if(!(D=y.pop()))throw new Error('Unopened section "'+S+'" at '+I);if(D[1]!==S)throw new Error('Unclosed section "'+D[1]+'" at '+I)}else"name"===M||"{"===M||"&"===M?E=!0:"="===M&&x(S)}if(O(),D=y.pop())throw new Error('Unclosed section "'+D[1]+'" at '+k.pos);return function(e){for(var t,n=[],r=n,i=[],o=0,a=e.length;o<a;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(b))}(e,n),p&&i.set(s,m)),m},m.prototype.render=function(e,t,n,r){var i=this.getConfigTags(r),o=this.parse(e,i),a=t instanceof p?t:new p(t,void 0);return this.renderTokens(o,a,n,e,r)},m.prototype.renderTokens=function(e,t,n,r,i){for(var o,a,s,l="",u=0,c=e.length;u<c;++u)s=void 0,"#"===(a=(o=e[u])[0])?s=this.renderSection(o,t,n,r,i):"^"===a?s=this.renderInverted(o,t,n,r,i):">"===a?s=this.renderPartial(o,t,n,i):"&"===a?s=this.unescapedValue(o,t):"name"===a?s=this.escapedValue(o,t,i):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(l+=s);return l},m.prototype.renderSection=function(e,r,i,o,a){var s=this,l="",u=r.lookup(e[1]);if(u){if(t(u))for(var c=0,d=u.length;c<d;++c)l+=this.renderTokens(e[4],r.push(u[c]),i,o,a);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)l+=this.renderTokens(e[4],r.push(u),i,o,a);else if(n(u)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(r.view,o.slice(e[3],e[5]),function(e){return s.render(e,r,i,a)}))&&(l+=u)}else l+=this.renderTokens(e[4],r,i,o,a);return l}},m.prototype.renderInverted=function(e,n,r,i,o){var a=n.lookup(e[1]);if(!a||t(a)&&0===a.length)return this.renderTokens(e[4],n,r,i,o)},m.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),i=e.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},m.prototype.renderPartial=function(e,t,r,i){if(r){var o=this.getConfigTags(i),a=n(r)?r(e[1]):r[e[1]];if(null!=a){var s=e[4],l=a;0==e[5]&&s&&(l=this.indentPartial(a,s,e[6]));var u=this.parse(l,o);return this.renderTokens(u,t,r,l,i)}}},m.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},m.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||v.escape,i=t.lookup(e[1]);if(null!=i)return"number"==typeof i&&r===v.escape?String(i):r(i)},m.prototype.rawValue=function(e){return e[1]},m.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},m.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var v={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){g.templateCache=e},get templateCache(){return g.templateCache}},g=new m;return v.clearCache=function(){return g.clearCache()},v.parse=function(e,t){return g.parse(e,t)},v.render=function(e,n,r,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(t(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return g.render(e,n,r,i)},v.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return s[e]})},v.Scanner=f,v.Context=p,v.Writer=m,v}()},32859:function(e,t,n){"use strict";n.d(t,{ob:function(){return h},Su:function(){return f}});var r=n(98288),i=n(57285),o=n(35322),a=n(16073),s=n(61511);function l(e,t){if(1&e&&(o.TgZ(0,"label",2),o.TgZ(1,"span",3),o._uU(2),o.qZA(),o.TgZ(3,"span",4),o._uU(4),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(1),o.Udp("color",n.getColor("checkedTextColor")),o.uIk("aria-label",n.checkedLabel),o.xp6(1),o.Oqu(n.checkedLabel),o.xp6(1),o.Udp("color",n.getColor("uncheckedTextColor")),o.uIk("aria-label",n.uncheckedLabel),o.xp6(1),o.Oqu(n.uncheckedLabel)}}var u=["*"],c=new o.OlP("UI_SWITCH_OPTIONS"),d={provide:a.JU,useExisting:(0,o.Gpc)(function(){return h}),multi:!0},h=function(){var e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;(0,r.Z)(this,e),this.cdr=n,this.change=new o.vpe,this.changeEvent=new o.vpe,this.valueChange=new o.vpe,this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.size=t&&t.size||"medium",this.color=t&&t.color,this.switchOffColor=t&&t.switchOffColor,this.switchColor=t&&t.switchColor,this.defaultBgColor=t&&t.defaultBgColor,this.defaultBoColor=t&&t.defaultBoColor,this.checkedLabel=t&&t.checkedLabel,this.uncheckedLabel=t&&t.uncheckedLabel,this.checkedTextColor=t&&t.checkedTextColor,this.uncheckedTextColor=t&&t.uncheckedTextColor}return(0,i.Z)(e,[{key:"checked",get:function(){return this._checked},set:function(e){this._checked=!1!==e}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=!1!==e}},{key:"reverse",get:function(){return this._reverse},set:function(e){this._reverse=!1!==e}},{key:"loading",get:function(){return this._loading},set:function(e){this._loading=!1!==e}},{key:"getColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"borderColor"===e?this.defaultBoColor:"switchColor"===e?this.reverse?this.checked&&this.switchOffColor||this.switchColor:this.checked?this.switchColor:this.switchOffColor||this.switchColor:"checkedTextColor"===e?this.reverse?this.uncheckedTextColor:this.checkedTextColor:"uncheckedTextColor"===e?this.reverse?this.checkedTextColor:this.uncheckedTextColor:this.reverse?this.checked?this.defaultBgColor:this.color:this.checked?this.color:this.defaultBgColor}},{key:"onClick",value:function(e){this.disabled||(this.checked=!this.checked,this.change.emit(this.checked),this.valueChange.emit(this.checked),this.changeEvent.emit(e),this.onChangeCallback(this.checked),this.onTouchedCallback(this.checked),this.cdr.markForCheck())}},{key:"onToggle",value:function(e){var t=this;this.disabled||(this.beforeChange?this._beforeChange=this.beforeChange.subscribe(function(n){n&&t.onClick(e)}):this.onClick(e))}},{key:"writeValue",value:function(e){e!==this.checked&&(this.checked=!!e),this.onChangeCallback(this.checked),this.cdr&&this.cdr.markForCheck()}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"ngOnDestroy",value:function(){this._beforeChange&&this._beforeChange.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(c,8),o.Y36(o.sBO))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ui-switch"]],hostBindings:function(e,t){1&e&&o.NdJ("click",function(e){return t.onToggle(e)})},inputs:{size:"size",color:"color",switchOffColor:"switchOffColor",switchColor:"switchColor",defaultBgColor:"defaultBgColor",defaultBoColor:"defaultBoColor",checkedLabel:"checkedLabel",uncheckedLabel:"uncheckedLabel",checkedTextColor:"checkedTextColor",uncheckedTextColor:"uncheckedTextColor",checked:"checked",disabled:"disabled",reverse:"reverse",loading:"loading",beforeChange:"beforeChange"},outputs:{change:"change",changeEvent:"changeEvent",valueChange:"valueChange"},features:[o._Bn([d])],ngContentSelectors:u,decls:4,vars:20,consts:[["type","button","role","switch",1,"switch"],["class","switch-pane",4,"ngIf"],[1,"switch-pane"],[1,"switch-label-checked"],[1,"switch-label-unchecked"]],template:function(e,t){1&e&&(o.F$t(),o.TgZ(0,"button",0),o.YNc(1,l,5,8,"label",1),o.TgZ(2,"small"),o.Hsn(3),o.qZA(),o.qZA()),2&e&&(o.Udp("background-color",t.getColor())("border-color",t.getColor("borderColor")),o.ekj("checked",t.checked)("disabled",t.disabled)("loading",t.loading)("switch-large","large"===t.size)("switch-medium","medium"===t.size)("switch-small","small"===t.size),o.uIk("aria-checked",t.checked),o.xp6(1),o.Q6J("ngIf",t.checkedLabel||t.uncheckedLabel),o.xp6(1),o.Udp("background",t.getColor("switchColor")))},directives:[s.O5],encapsulation:2}),e}(),f=function(){var e=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:c,useValue:t||{}}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,a.u5],a.u5]}),e}()},97425:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(19162),i=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return(0,r.ZT)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e._value;if(e.hasError)throw e.thrownError;return this._throwIfClosed(),t},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(89666).x)},82391:function(e,t,n){"use strict";n.d(t,{y:function(){return c}});var r=n(39643),i=n(76042),o=n(13004),a=n(71879);function s(e){return 0===e.length?a.y:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var l=n(17296),u=n(17849),c=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var o,a=(o=e)&&o instanceof r.Lv||function(e){return e&&(0,u.m)(e.next)&&(0,u.m)(e.error)&&(0,u.m)(e.complete)}(o)&&(0,i.Nn)(o)?e:new r.Hp(e,t,n);if(l.v.useDeprecatedSynchronousErrorHandling)this._deprecatedSyncErrorSubscribe(a);else{var s=this.operator,c=this.source;a.add(s?s.call(a,c):c?this._subscribe(a):this._trySubscribe(a))}return a},e.prototype._deprecatedSyncErrorSubscribe=function(e){var t=e;t._syncErrorHack_isSubscribing=!0;var n=this.operator;if(n)e.add(n.call(e,this.source));else try{e.add(this._subscribe(e))}catch(i){t.__syncError=i}for(var r=t;r;){if("__syncError"in r)try{throw r.__syncError}finally{e.unsubscribe()}r=r.destination}t._syncErrorHack_isSubscribing=!1},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),null==i||i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[o.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?s(e)(this):this},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function d(e){var t;return null!==(t=null!=e?e:l.v.Promise)&&void 0!==t?t:Promise}},16407:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(19162),i=n(89666),o=n(85170),a=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=o.l);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return(0,r.ZT)(t,e),t.prototype.next=function(t){var n=this,r=n._buffer,i=n._infiniteTimeWindow,o=n._timestampProvider,a=n._windowTime;n.isStopped||(r.push(t),!i&&r.push(o.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){for(var a=n.now(),s=0,l=1;l<r.length&&r[l]<=a;l+=2)s=l;s&&r.splice(0,s+1)}},t}(i.x)},89666:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var r=n(19162),i=n(82391),o=n(76042),a=(0,n(39951).d)(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),s=n(68764),l=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.ZT)(t,e),t.prototype.lift=function(e){var t=new u(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new a},t.prototype.next=function(e){var t,n;if(this._throwIfClosed(),!this.isStopped){var i=this.observers.slice();try{for(var o=(0,r.XA)(i),a=o.next();!a.done;a=o.next())a.value.next(e)}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}},t.prototype.error=function(e){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;for(var t=this.observers;t.length;)t.shift().error(e)}},t.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var e=this.observers;e.length;)e.shift().complete()}},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=t.observers;return t.hasError||t.isStopped?o.Lc:(n.push(e),new o.w0(function(){return(0,s.P)(n,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.isStopped;t.hasError?e.error(t.thrownError):n&&e.complete()},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new u(e,t)},t}(i.y),u=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,r.ZT)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:o.Lc},t}(l)},39643:function(e,t,n){"use strict";n.d(t,{Hp:function(){return f},Lv:function(){return h}});var r=n(19162),i=n(17849),o=n(76042),a=n(17296),s=n(82765),l=n(35397),u=c("C",void 0,void 0);function c(e,t,n){return{kind:e,value:t,error:n}}var d=n(14490),h=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,o.Nn)(t)&&t.add(n)):n.destination=g,n}return(0,r.ZT)(t,e),t.create=function(e,t,n){return new f(e,t,n)},t.prototype.next=function(e){this.isStopped?v(function(e){return c("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?v(c("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?v(u,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(o.w0),f=function(e){function t(t,n,r){var o,s=e.call(this)||this;if((0,i.m)(t))o=t;else if(t){var u;o=t.next,n=t.error,r=t.complete,s&&a.v.useDeprecatedNextContext?(u=Object.create(t)).unsubscribe=function(){return s.unsubscribe()}:u=t,o=null==o?void 0:o.bind(u),n=null==n?void 0:n.bind(u),r=null==r?void 0:r.bind(u)}return s.destination={next:o?p(o,s):l.Z,error:p(null!=n?n:m,s),complete:r?p(r,s):l.Z},s}return(0,r.ZT)(t,e),t}(h);function p(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{e.apply(void 0,(0,r.ev)([],(0,r.CR)(n)))}catch(o){if(a.v.useDeprecatedSynchronousErrorHandling){if(!t._syncErrorHack_isSubscribing)throw o;t.__syncError=o}else(0,s.h)(o)}}}function m(e){throw e}function v(e,t){var n=a.v.onStoppedNotification;n&&d.z.setTimeout(function(){return n(e,t)})}var g={closed:!0,next:l.Z,error:m,complete:l.Z}},76042:function(e,t,n){"use strict";n.d(t,{Lc:function(){return l},w0:function(){return s},Nn:function(){return u}});var r=n(19162),i=n(17849),o=(0,n(39951).d)(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}),a=n(68764),s=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,a,s;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var u=(0,r.XA)(l),d=u.next();!d.done;d=u.next())d.value.remove(this)}catch(g){e={error:g}}finally{try{d&&!d.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else l.remove(this);var h=this.initialTeardown;if((0,i.m)(h))try{h()}catch(y){s=y instanceof o?y.errors:[y]}var f=this._teardowns;if(f){this._teardowns=null;try{for(var p=(0,r.XA)(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{c(v)}catch(b){s=null!=s?s:[],b instanceof o?s=(0,r.ev)((0,r.ev)([],(0,r.CR)(s)),(0,r.CR)(b.errors)):s.push(b)}}}catch(_){n={error:_}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}}if(s)throw new o(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)c(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,a.P)(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&(0,a.P)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),l=s.EMPTY;function u(e){return e instanceof s||e&&"closed"in e&&(0,i.m)(e.remove)&&(0,i.m)(e.add)&&(0,i.m)(e.unsubscribe)}function c(e){(0,i.m)(e)?e():e.unsubscribe()}},17296:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},79969:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=(0,n(39951).d)(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function i(e,t){var n="object"==typeof t;return new Promise(function(i,o){var a,s=!1;e.subscribe({next:function(e){a=e,s=!0},error:o,complete:function(){s?i(a):n?i(t.defaultValue):o(new r)}})})}},15868:function(e,t,n){"use strict";n.d(t,{a:function(){return d}});var r=n(82391),i=n(12846),o=n(51929),a=n(71879),s=n(68432),l=n(7070),u=n(29211),c=n(4659);function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,l.yG)(e),c=(0,l.jO)(e),d=(0,i.D)(e),f=d.args,p=d.keys;if(0===f.length)return(0,o.Dp)([],n);var m=new r.y(h(f,n,p?function(e){return(0,u.n)(p,e)}:a.y));return c?m.pipe((0,s.Z)(c)):m}function h(e,t,n){return void 0===n&&(n=a.y),function(r){f(t,function(){for(var i=e.length,a=new Array(i),s=i,l=i,u=function(i){f(t,function(){var u=(0,o.Dp)(e[i],t),d=!1;u.subscribe(new c.Q(r,function(e){a[i]=e,d||(d=!0,l--),l||r.next(n(a.slice()))},function(){--s||r.complete()}))},r)},d=0;d<i;d++)u(d)},r)}}function f(e,t,n){e?n.add(e.schedule(t)):t()}},15613:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var r=n(55813);function i(){return(0,r.J)(1)}var o=n(55622),a=n(7070);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i()((0,o.h)(e,(0,a.yG)(e)))}},14951:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var r=new(n(82391).y)(function(e){return e.complete()})},66891:function(e,t,n){"use strict";n.d(t,{D:function(){return c}});var r=n(82391),i=n(12846),o=n(51929),a=n(7070),s=n(4659),l=n(68432),u=n(29211);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.jO)(e),c=(0,i.D)(e),d=c.args,h=c.keys,f=new r.y(function(e){var t=d.length;if(t)for(var n=new Array(t),r=t,i=t,a=function(t){var a=!1;(0,o.Xf)(d[t]).subscribe(new s.Q(e,function(e){a||(a=!0,i--),n[t]=e},function(){--r&&a||(i||e.next(h?(0,u.n)(h,n):n),e.complete())}))},l=0;l<t;l++)a(l);else e.complete()});return n?f.pipe((0,l.Z)(n)):f}},51929:function(e,t,n){"use strict";n.d(t,{Dp:function(){return _},OO:function(){return E},Xf:function(){return C}});var r=n(19162),i=n(33345),o=n(17849);function a(e){return(0,o.m)(null==e?void 0:e.then)}var s=n(13004),l=n(82391),u=n(76042),c=n(38006),d="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function h(e,t){if(!e)throw new Error("Iterable cannot be null");return new l.y(function(n){var r=new u.w0;return r.add(t.schedule(function(){var i=e[Symbol.asyncIterator]();r.add(t.schedule(function(){var e=this;i.next().then(function(t){t.done?n.complete():(n.next(t.value),e.schedule())})}))})),r})}function f(e){return(0,o.m)(e[s.L])}function p(e){return(0,o.m)(null==e?void 0:e[d])}function m(e){return Symbol.asyncIterator&&(0,o.m)(null==e?void 0:e[Symbol.asyncIterator])}function v(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function g(e){return(0,r.FC)(this,arguments,function(){var t,n,i;return(0,r.Jh)(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,r.qq)(t.read())];case 3:return n=o.sent(),i=n.value,n.done?[4,(0,r.qq)(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,(0,r.qq)(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function y(e){return(0,o.m)(null==e?void 0:e.getReader)}var b=n(82765);function _(e,t){return t?function(e,t){if(null!=e){if(f(e))return function(e,t){return new l.y(function(n){var r=new u.w0;return r.add(t.schedule(function(){var i=e[s.L]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if((0,i.z)(e))return(0,c.r)(e,t);if(a(e))return function(e,t){return new l.y(function(n){return t.schedule(function(){return e.then(function(e){n.add(t.schedule(function(){n.next(e),n.add(t.schedule(function(){return n.complete()}))}))},function(e){n.add(t.schedule(function(){return n.error(e)}))})})})}(e,t);if(m(e))return h(e,t);if(p(e))return function(e,t){return new l.y(function(n){var r;return n.add(t.schedule(function(){r=e[d](),function(e,t,n,r){void 0===r&&(r=0);var i=t.schedule(function(){try{n.call(this)}catch(t){e.error(t)}},r);e.add(i)}(n,t,function(){var e=r.next(),t=e.value;e.done?n.complete():(n.next(t),this.schedule())})})),function(){return(0,o.m)(null==r?void 0:r.return)&&r.return()}})}(e,t);if(y(e))return function(e,t){return h(g(e),t)}(e,t)}throw v(e)}(e,t):C(e)}function C(e){if(e instanceof l.y)return e;if(null!=e){if(f(e))return u=e,new l.y(function(e){var t=u[s.L]();if((0,o.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if((0,i.z)(e))return E(e);if(a(e))return n=e,new l.y(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,b.h)});if(m(e))return T(e);if(p(e))return t=e,new l.y(function(e){var n,i;try{for(var o=(0,r.XA)(t),a=o.next();!a.done;a=o.next())if(e.next(a.value),e.closed)return}catch(s){n={error:s}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}e.complete()});if(y(e))return T(g(e))}var t,n,u;throw v(e)}function E(e){return new l.y(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function T(e){return new l.y(function(t){(function(e,t){var n,i,o,a;return(0,r.mG)(this,void 0,void 0,function(){var s;return(0,r.Jh)(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=(0,r.KL)(e),l.label=1;case 1:return[4,n.next()];case 2:if((i=l.sent()).done)return[3,4];if(t.next(i.value),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),o={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),i&&!i.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}},55622:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(38006),i=n(51929);function o(e,t){return t?(0,r.r)(e,t):(0,i.OO)(e)}},65960:function(e,t,n){"use strict";n.d(t,{R:function(){return f}});var r=n(19162),i=n(82391),o=n(47228),a=n(33345),s=n(17849),l=n(68432),u=n(55622),c=["addListener","removeListener"],d=["addEventListener","removeEventListener"],h=["on","off"];function f(e,t,n,m){if((0,s.m)(n)&&(m=n,n=void 0),m)return f(e,t,n).pipe((0,l.Z)(m));var v=(0,r.CR)(function(e){return(0,s.m)(e.addEventListener)&&(0,s.m)(e.removeEventListener)}(e)?d.map(function(r){return function(i){return e[r](t,i,n)}}):function(e){return(0,s.m)(e.addListener)&&(0,s.m)(e.removeListener)}(e)?c.map(p(e,t)):function(e){return(0,s.m)(e.on)&&(0,s.m)(e.off)}(e)?h.map(p(e,t)):[],2),g=v[0],y=v[1];if(!g&&(0,a.z)(e))return(0,o.z)(function(e){return f(e,t,n)})((0,u.h)(e));if(!g)throw new TypeError("Invalid event target");return new i.y(function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return g(t),function(){return y(t)}})}function p(e,t){return function(n){return function(r){return e[n](t,r)}}}},15446:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(55813),i=n(55622),o=n(51929),a=n(14951),s=n(7070);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,s.yG)(e),l=(0,s._6)(e,1/0),u=e;return u.length?1===u.length?(0,o.Xf)(u[0]):(0,r.J)(l)((0,i.h)(u,n)):a.E}},72226:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(82391),i=n(35397),o=new r.y(i.Z)},32041:function(e,t,n){"use strict";n.d(t,{of:function(){return a}});var r=n(55622),i=n(38006),o=n(7070);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,o.yG)(e);return n?(0,i.r)(e,n):(0,r.h)(e)}},44014:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var r=n(82391),i=n(51929),o=n(13172),a=n(4659);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=(0,o.k)(e)).length?(0,i.Xf)(e[0]):new r.y(l(e))}function l(e){return function(t){for(var n=[],r=function(r){n.push((0,i.Xf)(e[r]).subscribe(new a.Q(t,function(e){if(n){for(var i=0;i<n.length;i++)i!==r&&n[i].unsubscribe();n=null}t.next(e)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}},89647:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(82391),i=n(17849);function o(e,t){var n=(0,i.m)(e)?e:function(){return e},o=function(e){return e.error(n())};return new r.y(t?function(e){return t.schedule(o,0,e)}:o)}},49234:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r=n(82391),i=n(22948),o=n(51495);function a(e,t,n){void 0===e&&(e=0),void 0===n&&(n=i.P);var a=-1;return null!=t&&((0,o.K)(t)?n=t:a=t),new r.y(function(t){var r,i=(r=e)instanceof Date&&!isNaN(r)?+e-n.now():e;i<0&&(i=0);var o=0;return n.schedule(function(){t.closed||(t.next(o++),0<=a?this.schedule(void 0,a):t.complete())},i)})}},4659:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var r=n(19162),i=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.onFinalize=o,a._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,r.ZT)(t,e),t.prototype.unsubscribe=function(){var t,n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(n(39643).Lv)},51816:function(e,t,n){"use strict";n.d(t,{K:function(){return a}});var r=n(51929),i=n(4659),o=n(93386);function a(e){return(0,o.e)(function(t,n){var o,s=null,l=!1;s=t.subscribe(new i.Q(n,void 0,void 0,function(i){o=(0,r.Xf)(e(i,a(e)(t))),s?(s.unsubscribe(),s=null,o.subscribe(n)):l=!0})),l&&(s.unsubscribe(),s=null,o.subscribe(n))})}},88196:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(47228),i=n(17849);function o(e,t){return(0,i.m)(t)?(0,r.z)(e,t,1):(0,r.z)(e,1)}},5057:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(22948),i=n(93386),o=n(4659);function a(e,t){return void 0===t&&(t=r.z),(0,i.e)(function(n,r){var i=null,a=null,s=null,l=function(){if(i){i.unsubscribe(),i=null;var e=a;a=null,r.next(e)}};function u(){var n=s+e,r=t.now();r<n?i=this.schedule(void 0,n-r):l()}n.subscribe(new o.Q(r,function(n){a=n,s=t.now(),i||(i=t.schedule(u,e))},function(){l(),r.complete()},void 0,function(){a=i=null}))})}},20324:function(e,t,n){"use strict";n.d(t,{g:function(){return f}});var r=n(22948),i=n(15613),o=n(69056),a=n(93386),s=n(4659),l=n(35397),u=n(91681),c=n(47228);function d(e,t){return t?function(n){return(0,i.z)(t.pipe((0,o.q)(1),(0,a.e)(function(e,t){e.subscribe(new s.Q(t,l.Z))})),n.pipe(d(e)))}:(0,c.z)(function(t,n){return e(t,n).pipe((0,o.q)(1),function(e){return(0,u.U)(function(){return e})}(t))})}var h=n(49234);function f(e,t){void 0===t&&(t=r.z);var n=(0,h.H)(e,t);return d(function(){return n})}},76424:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var r=n(71879),i=n(93386),o=n(4659);function a(e,t){return void 0===t&&(t=r.y),e=null!=e?e:s,(0,i.e)(function(n,r){var i,a=!0;n.subscribe(new o.Q(r,function(n){var o=t(n);!a&&e(i,o)||(a=!1,i=o,r.next(n))}))})}function s(e,t){return e===t}},58868:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(93386),i=n(4659);function o(e,t){return(0,r.e)(function(n,r){var o=0;n.subscribe(new i.Q(r,function(n){return e.call(t,n,o++)&&r.next(n)}))})}},99597:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(93386);function i(e){return(0,r.e)(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}},91681:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(93386),i=n(4659);function o(e,t){return(0,r.e)(function(n,r){var o=0;n.subscribe(new i.Q(r,function(n){r.next(e.call(t,n,o++))}))})}},55813:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(47228),i=n(71879);function o(e){return void 0===e&&(e=1/0),(0,r.z)(i.y,e)}},47228:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(91681),i=n(51929),o=n(93386),a=n(4659),s=n(17849);function l(e,t,n){return void 0===n&&(n=1/0),(0,s.m)(t)?l(function(n,o){return(0,r.U)(function(e,r){return t(n,e,o,r)})((0,i.Xf)(e(n,o)))},n):("number"==typeof t&&(n=t),(0,o.e)(function(t,r){return function(e,t,n,r,o,s,l,u){var c=[],d=0,h=0,f=!1,p=function(){!f||c.length||d||t.complete()},m=function e(o){d++;var s=!1;(0,i.Xf)(n(o,h++)).subscribe(new a.Q(t,function(e){t.next(e)},function(){s=!0},void 0,function(){if(s)try{for(d--;c.length&&d<r;)void 0,n=c.shift(),e(n);p()}catch(i){t.error(i)}var n}))};return e.subscribe(new a.Q(t,function(e){return d<r?m(e):c.push(e)},function(){f=!0,p()})),function(){}}(t,r,e,n)}))}},58612:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(91681);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return(0,r.U)(function(t){for(var r=t,i=0;i<n;i++){var o=null==r?void 0:r[e[i]];if(void 0===o)return;r=o}return r})}},27839:function(e,t,n){"use strict";n.d(t,{B:function(){return u}});var r=n(19162),i=n(51929),o=n(69056),a=n(89666),s=n(39643),l=n(93386);function u(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new a.x}:t,r=e.resetOnError,o=void 0===r||r,u=e.resetOnComplete,d=void 0===u||u,h=e.resetOnRefCountZero,f=void 0===h||h;return function(e){var t=null,r=null,a=null,u=0,h=!1,p=!1,m=function(){null==r||r.unsubscribe(),r=null},v=function(){m(),t=a=null,h=p=!1},g=function(){var e=t;v(),null==e||e.unsubscribe()};return(0,l.e)(function(e,l){u++,p||h||m();var y=a=null!=a?a:n();l.add(function(){0!=--u||p||h||(r=c(g,f))}),y.subscribe(l),t||(t=new s.Hp({next:function(e){return y.next(e)},error:function(e){p=!0,m(),r=c(v,o,e),y.error(e)},complete:function(){h=!0,m(),r=c(v,d),y.complete()}}),(0,i.Dp)(e).subscribe(t))})(e)}}function c(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return!0===t?(e(),null):!1===t?null:t.apply(void 0,(0,r.ev)([],(0,r.CR)(n))).pipe((0,o.q)(1)).subscribe(function(){return e()})}},42607:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(16407),i=n(27839);function o(e,t,n){var o,a,s,l=!1;return e&&"object"==typeof e?(s=null!==(o=e.bufferSize)&&void 0!==o?o:1/0,t=null!==(a=e.windowTime)&&void 0!==a?a:1/0,l=!!e.refCount,n=e.scheduler):s=null!=e?e:1/0,(0,i.B)({connector:function(){return new r.t(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}},54444:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(58868);function i(e){return(0,r.h)(function(t,n){return e<=n})}},81258:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var r=n(15613),i=n(7070),o=n(93386);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,i.yG)(e);return(0,o.e)(function(t,i){(n?(0,r.z)(e,t,n):(0,r.z)(e,t)).subscribe(i)})}},14324:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(51929),i=n(93386),o=n(4659);function a(e,t){return(0,i.e)(function(n,i){var a=null,s=0,l=!1,u=function(){return l&&!a&&i.complete()};n.subscribe(new o.Q(i,function(n){null==a||a.unsubscribe();var l=0,c=s++;(0,r.Xf)(e(n,c)).subscribe(a=new o.Q(i,function(e){return i.next(t?t(n,e,c,l++):e)},function(){a=null,u()}))},function(){l=!0,u()}))})}},69056:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(14951),i=n(93386),o=n(4659);function a(e){return e<=0?function(){return r.E}:(0,i.e)(function(t,n){var r=0;t.subscribe(new o.Q(n,function(t){++r<=e&&(n.next(t),e<=r&&n.complete())}))})}},69568:function(e,t,n){"use strict";n.d(t,{R:function(){return s}});var r=n(93386),i=n(4659),o=n(51929),a=n(35397);function s(e){return(0,r.e)(function(t,n){(0,o.Xf)(e).subscribe(new i.Q(n,function(){return n.complete()},a.Z)),!n.closed&&t.subscribe(n)})}},90343:function(e,t,n){"use strict";n.d(t,{b:function(){return s}});var r=n(17849),i=n(93386),o=n(4659),a=n(71879);function s(e,t,n){var s=(0,r.m)(e)||t||n?{next:e,error:t,complete:n}:e;return s?(0,i.e)(function(e,t){e.subscribe(new o.Q(t,function(e){var n;null===(n=s.next)||void 0===n||n.call(s,e),t.next(e)},function(){var e;null===(e=s.complete)||void 0===e||e.call(s),t.complete()},function(e){var n;null===(n=s.error)||void 0===n||n.call(s,e),t.error(e)}))}):a.y}},38006:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var r=n(82391);function i(e,t){return new r.y(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}},6551:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var r=n(19162),i=function(e){function t(t,n){return e.call(this)||this}return(0,r.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(76042).w0),o={setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,(0,r.ev)([],(0,r.CR)(e)))}),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=o.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)}),delegate:void 0},a=n(68764),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,r.ZT)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),o.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;o.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,a.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i)},8106:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(19162),i=n(85170),o=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=i.l.now,e}(),a=function(e){function t(t,n){void 0===n&&(n=o.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return(0,r.ZT)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o)},22948:function(e,t,n){"use strict";n.d(t,{z:function(){return i},P:function(){return o}});var r=n(6551),i=new(n(8106).v)(r.o),o=i},85170:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},14490:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(19162),i={setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,(0,r.ev)([],(0,r.CR)(e)))}),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=i.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)}),delegate:void 0}},13004:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},7070:function(e,t,n){"use strict";n.d(t,{jO:function(){return a},yG:function(){return s},_6:function(){return l}});var r=n(17849),i=n(51495);function o(e){return e[e.length-1]}function a(e){return(0,r.m)(o(e))?e.pop():void 0}function s(e){return(0,i.K)(o(e))?e.pop():void 0}function l(e,t){return"number"==typeof o(e)?e.pop():t}},12846:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=Array.isArray,i=Object.getPrototypeOf,o=Object.prototype,a=Object.keys;function s(e){if(1===e.length){var t=e[0];if(r(t))return{args:t,keys:null};if((s=t)&&"object"==typeof s&&i(s)===o){var n=a(t);return{args:n.map(function(e){return t[e]}),keys:n}}}var s;return{args:e,keys:null}}},13172:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=Array.isArray;function i(e){return 1===e.length&&r(e[0])?e[0]:e}},68764:function(e,t,n){"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{P:function(){return r}})},39951:function(e,t,n){"use strict";function r(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{d:function(){return r}})},29211:function(e,t,n){"use strict";function r(e,t){return e.reduce(function(e,n,r){return e[n]=t[r],e},{})}n.d(t,{n:function(){return r}})},71879:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},33345:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},17849:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},51495:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(17849);function i(e){return e&&(0,r.m)(e.schedule)}},93386:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(17849);function i(e){return function(t){if(function(e){return(0,r.m)(null==e?void 0:e.lift)}(t))return t.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}},68432:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(19162),i=n(91681),o=Array.isArray;function a(e){return(0,i.U)(function(t){return function(e,t){return o(t)?e.apply(void 0,(0,r.ev)([],(0,r.CR)(t))):e(t)}(e,t)})}},35397:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},82765:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(17296),i=n(14490);function o(e){i.z.setTimeout(function(){var t=r.v.onUnhandledError;if(!t)throw e;t(e)})}},29468:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},88436:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},47673:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},98288:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},81198:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(21331),i=n(66460);function o(e,t,n){return(o=(0,i.Z)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&(0,r.Z)(o,n.prototype),o}).apply(null,arguments)}},57285:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:function(){return i}})},75328:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(64908);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}},88879:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(11708),i=n(66460);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=n(47673);function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?(0,a.Z)(e):t}function l(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}},77506:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},36797:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(11708);function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}},11708:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return r}})},92593:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(21331);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},66460:function(e,t,n){"use strict";function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},50809:function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},43939:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},21331:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})},58977:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(88436),i=n(64908),o=n(43939);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},81336:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(29468),i=n(50809),o=n(64908);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},64908:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(29468);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},87428:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(11708),i=n(21331),o=n(81198);function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,o.Z)(e,arguments,(0,r.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(n,e)})(e)}},19162:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},mG:function(){return o},Jh:function(){return a},XA:function(){return s},CR:function(){return l},ev:function(){return u},qq:function(){return c},FC:function(){return d},KL:function(){return h}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}function a(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function c(e){return this instanceof c?(this.v=e,this):new c(e)}function d(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof c?Promise.resolve(n.value.v).then(l,u):d(o[0][2],n)}catch(r){d(o[0][3],r)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function h(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=s(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}},64762:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return a},Jh:function(){return s},XA:function(){return l},CR:function(){return u},ev:function(){return c}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function l(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}}},function(e){"use strict";var t=e(e.s=36191);formRendererElement=t}]);